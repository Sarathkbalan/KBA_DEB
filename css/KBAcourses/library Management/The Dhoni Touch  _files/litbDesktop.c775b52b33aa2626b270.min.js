/*! For license information please see litbDesktop.c775b52b33aa2626b270.min.js.LICENSE.txt */
(function(){var __webpack_modules__={74860:function(e,t){"use strict";t.default={"ar-AE":"assets/i18n/8dee5d236cf8c50dba16d3bf76f40382.ar-AE.json","bn-IN":"assets/i18n/6f9ab848b240b4205726373cda38db9c.bn-IN.json","cs-CZ":"assets/i18n/b0dd9c206f6640e0214ddfbb27ccc0ad.cs-CZ.json","da-DK":"assets/i18n/b6ee2b9db45df8eec61533038d7508a0.da-DK.json","de-DE":"assets/i18n/f90a84d1b7d080726ab0c1a7daf00b53.de-DE.json","en-AE":"assets/i18n/f0295e105906c1070299b980e7b40684.en-AE.json","en-AU":"assets/i18n/5fe9282cae4ab39ff68c18c54ce98018.en-AU.json","en-CA":"assets/i18n/2e973ca98d09e39aee84ae998af29586.en-CA.json","en-GB":"assets/i18n/38814599c5736a21ec06a481053f33fd.en-GB.json","en-IE":"assets/i18n/442dee77148556d5857203034f10b423.en-IE.json","en-IN":"assets/i18n/aa238f2fff42b37fb24b1167389bc0be.en-IN.json","en-SG":"assets/i18n/a23840c695da80ac7cbc6a98269d231c.en-SG.json","en-US":"assets/i18n/36d79117f1780ad34c8a5299e39f1deb.en-US.json","en-ZA":"assets/i18n/97d87e02e08787c9eb6682c76c41d549.en-ZA.json","es-ES":"assets/i18n/b6c8138ba5a6e95d0cc01bd6b63dc9a4.es-ES.json","es-MX":"assets/i18n/565c761e7ec283cbe63a44d7e1f9726d.es-MX.json","es-US":"assets/i18n/0f1bd77216b74cc42f2683974d58c399.es-US.json","fr-BE":"assets/i18n/929db8ef29cbbd894c22fe18a94fc8ea.fr-BE.json","fr-CA":"assets/i18n/fdf9800d1efb1285cadbe74ceac5d1e0.fr-CA.json","fr-FR":"assets/i18n/5e58880ed77f50be990a4d4e9667310a.fr-FR.json","he-IL":"assets/i18n/ce185c2fad521409f90eff9001ee9411.he-IL.json","hi-IN":"assets/i18n/20952bab042a1600cb651e5bf2414c32.hi-IN.json","it-IT":"assets/i18n/0091e3ed39d2efa2a442aba07248dd9a.it-IT.json","ja-JP":"assets/i18n/406e86f81efc98fcae4fe7e2a957f5f6.ja-JP.json","kn-IN":"assets/i18n/0403465bae8384d8046c81c0dafdbc82.kn-IN.json","ko-KR":"assets/i18n/4af9c4e2cada86cdc06e7a8c3d5bc661.ko-KR.json","ml-IN":"assets/i18n/0fb1581e53dba988c047910da5090c93.ml-IN.json","mr-IN":"assets/i18n/c0ed3db0686322fe0a04dd3851323b48.mr-IN.json","nl-BE":"assets/i18n/463bb23da6161ac2f15d78725dd2e7e3.nl-BE.json","nl-NL":"assets/i18n/51b34918f2ecfb5fd495cd899ccb0f59.nl-NL.json","pl-PL":"assets/i18n/5780130231905fc9b57c5fb006a1335f.pl-PL.json","pt-BR":"assets/i18n/a50027cc0a3222d2944c62d4567c6d98.pt-BR.json","pt-PT":"assets/i18n/3aed4ea13af0f42762650be4505c8b6c.pt-PT.json","sv-SE":"assets/i18n/72f0f2dafbc54946fca10b64e6a8a28c.sv-SE.json","ta-IN":"assets/i18n/79bbb2bb407bd7dd896bf52f5672100a.ta-IN.json","te-IN":"assets/i18n/a4280d57b9951fe0778ca1d37c337182.te-IN.json","tr-TR":"assets/i18n/cd87d62976170e20a3bdd7279caf65be.tr-TR.json","zh-CN":"assets/i18n/0152e390f66b465f3891ae1106f7a9bf.zh-CN.json","zh-TW":"assets/i18n/d5a561e92b93ec8206f828b07656c465.zh-TW.json"}},97609:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.KatalMetricsDriverSushi=void 0;var r=i(n(60693)),o=i(n(34575)),s=i(n(93913)),a=i(n(78585)),c=i(n(29754)),u=i(n(81506)),l=i(n(2205)),h=i(n(59713)),d=i(n(44864)),f=i(n(22952)),p=i(n(14873)),g={test:"com.amazon.eel.katal.metrics.core.nexus.gamma",prod:"com.amazon.eel.katal.metrics.core.nexus"},v=function(e){function t(e){var n;(0,o.default)(this,t),n=(0,a.default)(this,(0,c.default)(t).call(this)),(0,h.default)((0,u.default)(n),"sushi",void 0),(0,h.default)((0,u.default)(n),"producerId",void 0),(0,h.default)((0,u.default)(n),"sourceGroupId",void 0),(0,h.default)((0,u.default)(n),"errorHandler",void 0),(0,h.default)((0,u.default)(n),"combinedErrorHandler",(function(e){if(n.errorHandler)try{return void n.errorHandler(e)}catch(e){console.error("Error handling error publishing metrics:"),console.error(e)}n.defaultErrorHandler(e)}));var i=e.domain,r=e.realm,s=e.errorHandler,l=e.sushiClient,d=e.sushiProducer,f=void 0===d?"katal":d,p=e.sushiClientOptions,v=e.sushiClientTransportOverride,m=e.sourceGroupId||g[i]||g.test;return n.sushi=l||n.buildSushiClient(i,r,m,p,v),n.errorHandler=s,n.producerId=f,n.sourceGroupId=m,n}return(0,l.default)(t,e),(0,s.default)(t,[{key:"beforeUnload",value:function(e){this.sushi.onSushiUnload(e)}},{key:"defaultErrorHandler",value:function(e){console.error("Error publishing metrics:"),console.error(e)}},{key:"withErrorHandling",value:function(e){try{return e()}catch(e){this.combinedErrorHandler(e)}}},{key:"buildSushiClient",value:function(e,n,i,r,o){if(!e||!n)throw new Error("KatalMetricsDriverSushi requires a domain and realm to build a sushi client.");return new p.default(t.getRealmName(n),i,this.combinedErrorHandler,r,o)}},{key:"publish",value:function(e,t,n){var i=this,o=arguments.length<3?arguments[1]:arguments[2];this.withErrorHandling((function(){if(f.default.List!==e.type){var t=i.mapObjectTypeToNexusSchema(e.type),n=(0,r.default)({},o.context,{metricKey:e.name,value:e.value});e.isMonitor&&(n.isMonitor=!0),i.sushi.reset(),i.sushi.event(n,i.producerId,t,{ssd:1})}else e.metricList.forEach((function(e){i.publish(e,o)}))}))}},{key:"mapObjectTypeToNexusSchema",value:function(e){switch(e){case f.default.String:return"katal.client.metrics.String.2";case f.default.Counter:return"katal.client.metrics.Counter.3";case f.default.Timer:return"katal.client.metrics.Timer.2";default:throw new Error("Unknown type ".concat(e," when publishing metric object."))}}}],[{key:"getRealmName",value:function(e){switch(e){case"NAAmazon":case"USAmazon":return p.default.REGIONS.NA;case"EUAmazon":return p.default.REGIONS.EU;case"FEAmazon":case"JPAmazon":return p.default.REGIONS.FE;case"CNAmazon":return p.default.REGIONS.CN;default:return e}}}]),t}(d.default);t.KatalMetricsDriverSushi=v,(0,h.default)(v,"Builder",function(){function e(){(0,o.default)(this,e),(0,h.default)(this,"context",{})}return(0,s.default)(e,[{key:"withSushiClient",value:function(e){return this.context.sushiClient=e,this}},{key:"withDomainRealm",value:function(e,t){return this.context.domain=e,this.context.realm=t,this}},{key:"withCustomProducer",value:function(e){return this.context.sushiProducer=e,this}},{key:"withCustomSourceGroup",value:function(e){return this.context.sourceGroupId=e,this}},{key:"withErrorHandler",value:function(e){return this.context.errorHandler=e,this}},{key:"withSushiClientOptions",value:function(e){return this.context.sushiClientOptions=e,this}},{key:"withSushiClientTransportOverride",value:function(e){return this.context.sushiClientTransportOverride=e,this}},{key:"build",value:function(){return new v(this.context)}}]),e}())},28277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(66470);var i=n(97609).KatalMetricsDriverSushi;t.default=i},37700:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=i(n(60693)),s=i(n(34575)),a=i(n(93913)),c=i(n(59713)),u=i(n(11051)),l=i(n(42721)),h=n(28184),d=n(1582),f=["site","serviceName","methodName"],p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),this.context=(0,o.default)({},t)}return(0,a.default)(e,[{key:"merge",value:function(t){if(!t)return this;if(t instanceof e.Builder)throw new Error("KatalMetricsContext.Builder object passed instead of KatalMetricsContext.  Try calling .build() method.");var n=t instanceof e?t.context:t;return new e((0,o.default)({},this.context,n,{relatedMetrics:(0,h.mergeLists)(this.context.relatedMetrics,n.relatedMetrics),relatedMetricsSingleAction:(0,h.mergeLists)(this.context.relatedMetricsSingleAction,n.relatedMetricsSingleAction)}))}},{key:"withoutRelatedMetricsSingleAction",value:function(){return new e((0,o.default)({},this.context,{relatedMetricsSingleAction:void 0}))}},{key:"driverContext",value:function(){var t=(0,o.default)({},this.context);return delete t.relatedMetrics,delete t.relatedMetricsSingleAction,delete t.requestId,this.context.requestId&&(t.actionId=(0,d.embedRequestId)(t.actionId,this.context.requestId)),new e(t)}},{key:"getFields",value:function(){return(0,o.default)({},this.context)}},{key:"validationError",value:function(){var e=this;return(0,l.default)(f,(function(t){if(null==e.context[t])return new Error("Field ".concat(t," is required, but it is ").concat(e.context[t]))}))||(0,l.default)(Object.keys(this.context),(function(t){return e.validateField(t)}))}},{key:"validateField",value:function(e){var t=this.context[e],n="field ".concat(e);switch(e){case"site":case"serviceName":if(t.indexOf("/")>-1)return new Error("Expected ".concat(n," to contain only valid characters, but it was ").concat(t,".  It cannot contain a slash."));case"methodName":case"actionId":return(0,u.default)(t,n)}}}]),e}();t.default=p,(0,c.default)(p,"Builder",(r=function(){function e(){(0,s.default)(this,e),(0,c.default)(this,"context",{})}return(0,a.default)(e,[{key:"withSite",value:function(e){return this.context.site=e,this}},{key:"withServiceName",value:function(e){return this.context.serviceName=e,this}},{key:"withMethodName",value:function(e){return this.context.methodName=e,this}},{key:"withActionId",value:function(e){return this.context.actionId=e,this}},{key:"withRequestId",value:function(e){return this.context.requestId=e,this}},{key:"withRelatedMetrics",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.context.relatedMetrics=t,this}},{key:"addRelatedMetrics",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.context.relatedMetrics=(0,h.mergeLists)(this.context.relatedMetrics,t),this}},{key:"withRelatedMetricsSingleAction",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.context.relatedMetricsSingleAction=t,this}},{key:"addRelatedMetricsSingleAction",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.context.relatedMetricsSingleAction=(0,h.mergeLists)(this.context.relatedMetricsSingleAction,t),this}},{key:"build",value:function(){return new p(this.context)}}]),e}(),r))},8142:function(e,t,n){"use strict";var i=n(20862),r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(34575)),s=r(n(93913)),a=r(n(59713)),c=r(n(71171)),u=r(n(37700)),l=r(n(78116)),h=i(n(95989)),d=r(n(92545)),f=n(28184),p=n(45742),g=n(1582),v=function(e){console.error("Error publishing metrics:"),console.error(e)},m=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new u.default;if((0,o.default)(this,e),(0,a.default)(this,"combinedErrorHandler",(function(e){try{n.errorHandler(e)}catch(t){console.error("Error handling error publishing metrics:"),console.error(t),v(e)}})),r instanceof u.default.Builder)throw new Error("KatalMetricsContext.Builder object passed instead of KatalMetricsContext.  Try calling .build() method.");this.driver=t,this.errorHandler=i,this.context=r instanceof u.default?r:new u.default(r)}return(0,s.default)(e,[{key:"withErrorHandling",value:function(e){try{return e()}catch(e){this.combinedErrorHandler(e)}}},{key:"getAdditionalRelatedMetrics",value:function(e){var t=e instanceof u.default?e.context:e,n=this.getBaseRelatedMetrics();return(0,f.mergeLists)(n,t.relatedMetrics)}},{key:"getBaseRelatedMetrics",value:function(){return(0,f.mergeLists)(this.context.context.relatedMetrics,this.context.context.relatedMetricsSingleAction)}},{key:"publish",value:function(e){var t=this;this.withErrorHandling((function(){if(!e)throw new Error("Cannot publish undefined/null metric object");if(l.default.Types.List===e.type)e.metricList.forEach((function(e){t.publish(e)}));else{var n=t.context.driverContext(),i=n.validationError();if(i)throw i;var r=e.validationError();if(r)throw r;(0,p.dispatchMetricEvent)(e,n),t.driver.publish(e,t.combinedErrorHandler,n)}}))}},{key:"newChildPublisher",value:function(t){return new e(this.driver,this.errorHandler,this.context.merge(t))}},{key:"newChildActionPublisher",value:function(t){var n=this._generateActionid(t),i=this.context.withoutRelatedMetricsSingleAction().merge({actionId:n}).merge(t),r=new e(this.driver,this.errorHandler,i),o=!t||t instanceof u.default.Builder?this.getBaseRelatedMetrics():this.getAdditionalRelatedMetrics(t);return o&&o.forEach((function(e){r.publish(e)})),r}},{key:"newChildActionPublisherChained",value:function(e){var t=this._generateActionid(e),n=(0,g.embedRequestId)(t,this.context.context.requestId),i=[new d.default("parentActionId",n)],r=new u.default({actionId:t,relatedMetricsSingleAction:i}).merge(e);return this.newChildActionPublisher(r)}},{key:"newChildActionPublisherChainedForMethod",value:function(e,t){return this.newChildActionPublisherChained(new u.default({methodName:e}).merge(t))}},{key:"newChildActionPublisherForMethod",value:function(e,t){return this.newChildActionPublisher(new u.default({methodName:e}).merge(t))}},{key:"newChildActionPublisherForInitialization",value:function(e){return this.newChildActionPublisherForMethod("Initialization",e)}},{key:"publishString",value:function(e,t){this.publish(new h.Metric.String(e,t))}},{key:"publishStringTruncate",value:function(e,t){var n=new h.Metric.String(e,t);n.truncate=!0,this.publish(n)}},{key:"publishCounter",value:function(e,t){this.publish(new h.Metric.Counter(e,t))}},{key:"publishTimer",value:function(e,t){this.publish(new h.Metric.Timer(e,t))}},{key:"publishCounterMonitor",value:function(e,t){this.publish(new h.Metric.Counter(e,t).withMonitor())}},{key:"publishTimerMonitor",value:function(e,t){this.publish(new h.Metric.Timer(e,t).withMonitor())}},{key:"_generateActionid",value:function(e){if(e){var t=function(e){return e.context?e.context:e}(e);if(t.actionId)return t.actionId}return(0,c.default)()}}]),e}();t.default=m},25274:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR_HANDLER=void 0,t.DEFAULT_ERROR_HANDLER=function(e){throw e}},44864:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(34575)),o=i(n(93913)),s=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"publish",value:function(e,t,n){throw new Error("KatalMetricsDriver is an abstract class, please choose a driver and use that instead")}}]),e}();t.default=s},42721:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=void 0;return e.some((function(e){return null!=(n=t(e))})),n}},90469:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Object.values?Object.values:function(e){return Object.keys(e).map((function(t){return e[t]}))};t.default=n},18059:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return"number"!=typeof e?new Error("Expected ".concat(t," to have type 'number', but it was type '").concat((0,r.default)(e),"'")):e<0?new Error("Expected ".concat(t," to be positive, but it was ").concat(e)):function(e){return isFinite(e)&&Math.floor(e)===e}(e)?void 0:new Error("Expected ".concat(t," to be an integer, but it was ").concat(e))};var r=i(n(50008))},11051:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return"string"!=typeof e?new Error("Expected ".concat(t," to be a string, but it was a ").concat((0,r.default)(e))):e.length>127?new Error("Expected ".concat(t," to be less than ").concat(127," characters, but it was ").concat(e.length," characters")):e.length<1?new Error("Expected ".concat(t," to be non-blank")):o.test(e)?void 0:new Error("Expected ".concat(t," to contain only valid characters, but it was ").concat(e,".  It can only contain letters, numbers, and these symbols: .:@_/-"))};var r=i(n(50008)),o=/^[A-Za-z0-9.:@_/-]+$/},1582:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.embedRequestId=function(e,t){return t?[t,e].join("::"):e}},28184:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.mergeLists=function(e,t){return e||t?[].concat((0,r.default)(e||[]),(0,r.default)(t||[])):void 0};var r=i(n(319))},45742:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchMetricEvent=function(e,t){"undefined"!=typeof window&&(function(e,t){if("function"==typeof CustomEvent){var n=new CustomEvent("katal.metrics.publish",{detail:{metric:e,context:t.getFields()}});window.dispatchEvent(n)}}(e,t),function(e,t){var n=window.__KATAL_METRICS_EXTENSION__;n&&n.publish(e,t.getFields())}(e,t))}},95989:function(e,t,n){"use strict";var i=n(95318),r=n(20862);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Publisher",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Context",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MetricsDriver",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"ErrorHandler",{enumerable:!0,get:function(){return u.ErrorHandler}}),t.Metric=void 0;var o=r(n(65607));t.Metric=o;var s=i(n(8142)),a=i(n(37700)),c=i(n(44864)),u=n(25274)},10199:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(34575)),o=i(n(93913)),s=i(n(78585)),a=i(n(29754)),c=i(n(16525)),u=i(n(2205)),l=i(n(78116)),h=i(n(18059)),d=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,r.default)(this,t),(n=(0,s.default)(this,(0,a.default)(t).call(this,e))).value=i,n}return(0,u.default)(t,e),(0,o.default)(t,[{key:"add",value:function(e){this.value+=e}},{key:"validationError",value:function(){return(0,c.default)((0,a.default)(t.prototype),"validationError",this).call(this)||(0,h.default)(this.value,"field value in Counter metrics object '".concat(this.name,"'"))}},{key:"value",get:function(){return this._value},set:function(e){this._value=Math.round(e)}},{key:"type",get:function(){return l.default.Types.Counter}},{key:"canMonitor",get:function(){return!0}}]),t}(l.default);t.default=d},16673:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(34575)),o=i(n(93913)),s=i(n(78585)),a=i(n(29754)),c=i(n(2205)),u=i(n(59713)),l=i(n(34053)),h=i(n(92545)),d=function(e){function t(e){return(0,r.default)(this,t),(0,s.default)(this,(0,a.default)(t).call(this,"".concat(t.HTTP_REQUEST_PREFIX,".").concat(e)))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"url",set:function(e){this.setOrDeleteNamedMetricValue(t.URL_SUFFIX,h.default,e)},get:function(){return this.getNamedMetricValue(t.URL_SUFFIX)}},{key:"urlMetric",get:function(){return this.getNamedMetric(t.URL_SUFFIX)}},{key:"statusCode",set:function(e){this.setOrDeleteNamedMetricValue(t.STATUS_CODE_SUFFIX,h.default,e)},get:function(){return this.getNamedMetricValue(t.STATUS_CODE_SUFFIX)}},{key:"statusCodeMetric",get:function(){return this.getNamedMetric(t.STATUS_CODE_SUFFIX)}},{key:"statusText",set:function(e){this.setOrDeleteNamedMetricValue(t.STATUS_TEXT_SUFFIX,h.default,e)},get:function(){return this.getNamedMetricValue(t.STATUS_TEXT_SUFFIX)}},{key:"statusTextMetric",get:function(){return this.getNamedMetric(t.STATUS_TEXT_SUFFIX)}}]),t}(l.default);t.default=d,(0,u.default)(d,"HTTP_REQUEST_PREFIX","HTTPRequest"),(0,u.default)(d,"URL_SUFFIX","URL"),(0,u.default)(d,"STATUS_CODE_SUFFIX","StatusCode"),(0,u.default)(d,"STATUS_TEXT_SUFFIX","StatusText")},40021:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(34575)),o=i(n(78585)),s=i(n(29754)),a=i(n(2205)),c=i(n(59713)),u=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).call(this,t.INITIALIZE_METRIC_NAME))}return(0,a.default)(t,e),t}(i(n(34053)).default);t.default=u,(0,c.default)(u,"INITIALIZE_METRIC_NAME","Initialization")},58981:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(34575)),o=i(n(93913)),s=i(n(78585)),a=i(n(29754)),c=i(n(2205)),u=i(n(20124)),l=i(n(90469)),h=function(e){function t(e){var n;return(0,r.default)(this,t),(n=(0,s.default)(this,(0,a.default)(t).call(this,e))).namedMetrics={},n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"setNamedMetric",value:function(e,t){var n=t(this.getNameForSubMetric(e));n.canMonitor&&(n.isMonitor=this.isMonitor),this.namedMetrics[e]=n}},{key:"setOrDeleteNamedMetricValue",value:function(e,t,n){null==n?this.deleteNamedMetric(e):this.getOrCreateNamedMetric(e,(function(e){return new t(e,n)})).value=n}},{key:"getOrCreateNamedMetric",value:function(e,t){return this.namedMetrics[e]||this.setNamedMetric(e,t),this.namedMetrics[e]}},{key:"getNamedMetric",value:function(e){return this.namedMetrics[e]}},{key:"deleteNamedMetric",value:function(e){delete this.namedMetrics[e]}},{key:"getNamedMetricValue",value:function(e){var t=this.getNamedMetric(e);if(t)return t.value}},{key:"getNameForSubMetric",value:function(e){return"".concat(this.name,".").concat(e)}},{key:"metricList",get:function(){return(0,l.default)(this.namedMetrics)}}]),t}(u.default);t.default=h},78116:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(50008)),o=i(n(34575)),s=i(n(93913)),a=i(n(59713)),c=i(n(11051)),u=i(n(22952)),l=function(){function e(t){(0,o.default)(this,e),this._name=t,this._isMonitor=!1}return(0,s.default)(e,[{key:"withMonitor",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.isMonitor=e,this}},{key:"validationError",value:function(){return void 0!==this.isMonitor&&"boolean"!=typeof this.isMonitor?new Error("Field isMonitor should be a boolean, but it was a ".concat((0,r.default)(this.isMonitor))):(0,c.default)(this.name,"field name")}},{key:"name",get:function(){return this._name}},{key:"metricKey",get:function(){return this._name}},{key:"isMonitor",set:function(e){this._isMonitor=!!e},get:function(){return this._isMonitor}},{key:"canMonitor",get:function(){throw new Error("Subclass of KatalMetricObject must implement canMonitor")}},{key:"type",get:function(){throw new Error("Subclass of KatalMetricObject must implement type getter")}}]),e}();t.default=l,(0,a.default)(l,"Types",u.default)},20124:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(34575)),o=i(n(93913)),s=i(n(78585)),a=i(n(16525)),c=i(n(29754)),u=i(n(2911)),l=i(n(2205)),h=i(n(78116)),d=i(n(42721)),f=function(e){function t(e){return(0,r.default)(this,t),(0,s.default)(this,(0,c.default)(t).call(this,e))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"validationError",value:function(){return(0,d.default)(this.metricList,(function(e){return e.validationError()}))}},{key:"metricList",get:function(){throw new Error("Subclass of KatalMetricObjectList must implement metricList getter")}},{key:"isMonitor",set:function(e){(0,u.default)((0,c.default)(t.prototype),"isMonitor",e,this,!0),this.metricList.forEach((function(t){t.canMonitor&&(t.isMonitor=e)}))},get:function(){return(0,a.default)((0,c.default)(t.prototype),"isMonitor",this)}},{key:"canMonitor",get:function(){return!0}},{key:"type",get:function(){return h.default.Types.List}}]),t}(h.default);t.default=f},92545:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(50008)),o=i(n(34575)),s=i(n(93913)),a=i(n(78585)),c=i(n(81506)),u=i(n(29754)),l=i(n(16525)),h=i(n(2205)),d=i(n(59713)),f=i(n(78116)),p=function(e){function t(e,n){var i;return(0,o.default)(this,t),i=(0,a.default)(this,(0,u.default)(t).call(this,e)),(0,d.default)((0,c.default)(i),"truncate",!1),i.value=n,i}return(0,h.default)(t,e),(0,s.default)(t,[{key:"validationError",value:function(){var e=(0,l.default)((0,u.default)(t.prototype),"validationError",this).call(this);if(e)return e;if("string"!=typeof this.value)return new Error("Expected field value in String metrics object '".concat(this.name,"' to be type string, but it was ").concat((0,r.default)(this.value)));if(this.value.length>t.MAX_SIZE){if(!this.truncate)return new Error("Expected field value in String metrics object '".concat(this.name,"' to be ").concat(t.MAX_SIZE," characters or less, but it was ").concat(this.value.length," characters."));this.value=this.value.substring(0,t.MAX_SIZE)}}},{key:"value",get:function(){return this._value},set:function(e){"number"!=typeof e&&"boolean"!=typeof e||(e=e.toString()),this._value=e}},{key:"type",get:function(){return f.default.Types.String}},{key:"canMonitor",get:function(){return!1}}]),t}(f.default);t.default=p,(0,d.default)(p,"MAX_SIZE",256)},34053:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(34575)),o=i(n(93913)),s=i(n(78585)),a=i(n(29754)),c=i(n(2205)),u=i(n(59713)),l=i(n(58981)),h=i(n(84392)),d=i(n(10199)),f=function(e){function t(e){var n;return(0,r.default)(this,t),(n=(0,s.default)(this,(0,a.default)(t).call(this,e))).setNamedMetric(t.LATENCY_SUFFIX,(function(e){return new h.default(e)})),n.setNamedMetric(t.FAILURE_SUFFIX,(function(e){return new d.default(e,1)})),n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"setFailure",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?1:0,n=this.failureMetric;n.value=t}},{key:"setSuccess",value:function(){this.setFailure(!1)}},{key:"setLatency",value:function(e){this.latencyMetric.value=e}},{key:"latencyMetric",get:function(){return this.getNamedMetric(t.LATENCY_SUFFIX)}},{key:"failureMetric",get:function(){return this.getNamedMetric(t.FAILURE_SUFFIX)}}]),t}(l.default);t.default=f,(0,u.default)(f,"LATENCY_SUFFIX","Latency"),(0,u.default)(f,"FAILURE_SUFFIX","Failure")},41741:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(34575)),o=i(n(93913)),s=i(n(78585)),a=i(n(29754)),c=i(n(16525)),u=i(n(2205)),l=i(n(78116)),h=i(n(18059)),d=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,s.default)(this,(0,a.default)(t).call(this,e))).value=n,i}return(0,u.default)(t,e),(0,o.default)(t,[{key:"validationError",value:function(){return(0,c.default)((0,a.default)(t.prototype),"validationError",this).call(this)||(0,h.default)(this.value,"field value in Timer metrics object '".concat(this.name,"'"))}},{key:"value",get:function(){return this._value},set:function(e){this._value=null!=e?Math.round(e):e}},{key:"type",get:function(){return l.default.Types.Timer}},{key:"canMonitor",get:function(){return!0}}]),t}(l.default);t.default=d},84392:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(34575)),o=i(n(93913)),s=i(n(78585)),a=i(n(2911)),c=i(n(29754)),u=i(n(16525)),l=i(n(2205)),h=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,s.default)(this,(0,c.default)(t).call(this,e,void 0))).start(n),i._value=void 0,i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"start",value:function(e){this._startTime=e||this.now()}},{key:"stop",value:function(e){return this._stopTime=e||this.now()}},{key:"now",value:function(){return performance.now()}},{key:"isStopped",get:function(){return void 0!==this._stopTime}},{key:"value",get:function(){return void 0===(0,u.default)((0,c.default)(t.prototype),"value",this)&&(this.isStopped||this.stop(),(0,a.default)((0,c.default)(t.prototype),"value",this.stopTime-this.startTime,this,!0)),(0,u.default)((0,c.default)(t.prototype),"value",this)},set:function(e){(0,a.default)((0,c.default)(t.prototype),"value",e,this,!0)}},{key:"startTime",get:function(){return this._startTime}},{key:"stopTime",get:function(){return this._stopTime}}]),t}(i(n(41741)).default);t.default=h},22952:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e){e.String="String",e.Counter="Counter",e.Timer="Timer",e.List="List"}(n||(n={}));var i=n;t.default=i},65607:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Object",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"String",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Counter",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Timer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"TimerStopwatch",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"TimedAttempt",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Initialization",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"HttpRequest",{enumerable:!0,get:function(){return h.default}});var r=i(n(78116)),o=i(n(92545)),s=i(n(10199)),a=i(n(41741)),c=i(n(84392)),u=i(n(34053)),l=i(n(40021)),h=i(n(16673))},14873:function(e,t,n){"use strict";var i=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(59713)),o=i(n(34575)),s=i(n(93913));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.REGIONS.NA,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;(0,o.default)(this,e);var a=e.createSushiUrl(t,n),c=e.createCsmUserContext(a,r);this.ue_csm=this.setupMockCSMObject(c),this.encapsulatedWindow=this.setupMockWindow(this.ue_csm),this.transportationClientCode(this.ue_csm,window),s&&(this.ue_csm.ue._sBcn={isSupported:!0,send:function(e,t){return s(e,t),!0}}),this.clientCode(this.ue_csm,this.encapsulatedWindow),this.errorHandler=i}return(0,s.default)(e,null,[{key:"createSushiUrl",value:function(t,n){if(!n)throw new Error("Sushi Driver was not provided with a source group.");var i;switch(t){case e.REGIONS.NA:i="unagi-na";break;case e.REGIONS.EU:i="unagi-eu";break;case e.REGIONS.FE:i="unagi-fe";break;case e.REGIONS.CN:i="unagi-cn";break;default:throw new Error("Unrecognized region '".concat(t,"' provided to SushiClient."))}return"https://".concat(i,".amazon.com/1/events/").concat(n)}},{key:"createCsmUserContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c({hiPriFlushInterval:1e3,lowPriFlushInterval:1e4,requestId:"1",errorChannel:"jserr",sessionStorageWrapper:void 0,errorHandlerFunction:console.log,sushiUrl:e},t)}},{key:"REGIONS",get:function(){return{NA:"NA",EU:"EU",FE:"FE",CN:"CN"}}}]),(0,s.default)(e,[{key:"event",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return r&&console.log("SushiClient wrapper publishing the following:",{data:e,producerId:t,schemaId:n,options:i}),this.ue_csm.ue.event(e,t,n,i)}},{key:"reset",value:function(){this.ue_csm.ue.event.reset()}},{key:"onSushiFlush",value:function(e){this.ue_csm.ue.onSushiFlush(e)}},{key:"onSushiUnload",value:function(e){this.ue_csm.ue.onSushiUnload(e)}},{key:"setupMockCSMObject",value:function(e){var t=this;return{ue_hpsi:e.hiPriFlushInterval,ue_lpsi:e.lowPriFlushInterval,ue:{ssw:e.sessionStorageWrapper,log:function(e,n){t.errorHandler?t.errorHandler(e):console.log("An error has occurred in SushiClient channel "+n,e)},exec:function(e,t){return e},event:function(e,t,n){console.warn("SushiClient CSM stub called in unsupported manner: event()")},attach:function(e,t,n){n=n||window,window.EventTarget&&window.EventTarget.prototype&&window.EventTarget.prototype.addEventListener?window.EventTarget.prototype.addEventListener.call(n,e,t,!!window.ue_clf):n.addEventListener?n.addEventListener(e,t,!!window.ue_clf):n.attachEvent&&n.attachEvent("on"+e,t)}},ueLogError:e.errorHandlerFunction,ue_surl:e.sushiUrl,ue_id:e.requestId,ue_err_chan:e.errorChannel}}},{key:"setupMockWindow",value:function(e){return{ue_csm:e,ueLogError:e.ueLogError,ue:e.ue,setTimeout:function(e,t){return window.setTimeout(e,t)}}}},{key:"clientCode",value:function(e,t){e.ue.exec((function(e,t){function n(){for(var e=0;e<arguments.length;e++){var n=arguments[e];try{if(!n.isSupported)throw dummyException;var i=O.buildPayload(k,b);return n.send(y,i)}catch(e){}}p({m:"All supported clients failed",attribution:"CSMSushiClient_TRANSPORTATION_FAIL",f:"sushi-client.js",logLevel:"ERROR"},t.ue_err_chan||"jserr")}function i(){if(b.length){for(var e=0;e<C.length;e++)C[e]();n(f._sBcn||{},f._ajx||{}),b=[],_={},k={},v=m=E=S=0}}function r(e){try{return JSON.stringify(e)}catch(e){}return null}function o(n,o,s,a){var c,d=!1;return a=a||{},++T==u&&p({m:"Max number of Sushi Logs exceeded",f:"sushi-client.js",logLevel:"ERROR",attribution:"CSMSushiClient_MAX_CALLS"},t.ue_err_chan||"jserr"),(c=!(T>=u))&&(c=n&&-1<n.constructor.toString().indexOf("Object")&&o&&-1<o.constructor.toString().indexOf("String")&&s&&-1<s.constructor.toString().indexOf("String")),c&&(f.count&&f.count("Event:"+s,1),n.producerId=n.producerId||o,n.schemaId=n.schemaId||s,n.timestamp=function(){var e=new Date,t=function(e){return 10>e?"0"+e:e};return Date.prototype.toISOString?e.toISOString():e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}(),o=Date.now?Date.now():+new Date,s=Math.random().toString().substring(2,12),n.messageId=e.ue_id+"-"+o+"-"+s,a&&!a.ssd&&(n.sessionId=n.sessionId||e.ue_sid,n.requestId=n.requestId||e.ue_id,n.obfuscatedMarketplaceId=n.obfuscatedMarketplaceId||e.ue_mid),(o=r(n))?(o=o.length,(b.length==l||E+o>h)&&i(),E+=o,n={data:O.compressEvent(n)},b.push(n),(a||{}).n?0===I?i():v||(v=t.setTimeout(i,I)):m||(m=t.setTimeout(i,R)),d=!0):d=!1),!d&&e.ue_int&&console.error("Invalid JS Nexus API call"),d}function s(){if(!x){for(var t=0;t<P.length;t++)P[t]();for(t=0;t<C.length;t++)C[t]();b.length&&(e.ue_sbuimp&&e.ue&&e.ue.ssw&&(t=r({dct:k,evt:b}),e.ue.ssw("eeldata",t),e.ue.ssw("eelsts","unk")),n(f._sBcn||{})),x=!0}}function a(e){P.push(e)}function c(e){C.push(e)}var u=1e3,l=499,h=524288,d=function(){},f=e.ue||{},p=f.log||d,g=e.uex||d;(e.uet||d)("bb","ue_sushi_v1",{wb:1});var v,m,y=e.ue_surl||"https://unagi-na.amazon.com/1/events/com.amazon.csm.nexusclient.gamma",w=["messageId","timestamp"],b=[],_={},k={},E=0,S=0,T=0,P=[],C=[],x=!1,I=void 0===e.ue_hpsi?1e3:e.ue_hpsi,R=void 0===e.ue_lpsi?1e4:e.ue_lpsi,O=function(){function e(e){return _[e]="#"+S++,k[_[e]]=e,_[e]}return{compressEvent:function t(n){if(!(n instanceof Function)){if(n instanceof Array){for(var i=[],r=n.length,o=0;o<r;o++)i[o]=t(n[o]);return i}if(n instanceof Object){for(r in i={},n)n.hasOwnProperty(r)&&(i[_[r]?_[r]:e(r)]=-1===w.indexOf(r)?t(n[r]):n[r]);return i}return"string"==typeof n&&(n.length>("#"+S).length||"#"===n.charAt(0))?_[n]?_[n]:e(n):n}},buildPayload:function(){return r({cs:{dct:k},events:b})}}}();!function(){if(f.event&&f.event.isStub){if(e.ue_sbuimp&&e.ue&&e.ue.ssw){var t=e.ue.ssw("eelsts").val;if(t&&"unk"===t&&(t=e.ue.ssw("eeldata").val)){var n;e:{try{n=JSON.parse(t);break e}catch(e){}n=null}n&&n.evt instanceof Array&&n.dct instanceof Object&&(b=n.evt,k=n.dct,b&&k&&(i(),e.ue.ssw("eeldata","{}"),e.ue.ssw("eelsts","scs")))}}f.event.replay((function(e){e[3]=e[3]||{},e[3].n=1,o.apply(this,e)})),f.onSushiUnload.replay((function(e){a(e[0])})),f.onSushiFlush.replay((function(e){c(e[0])}))}}(),f.attach("beforeunload",s),f.attach("pagehide",s),f._cmps=O,f.event=o,f.event.reset=function(){T=0},f.onSushiUnload=a,f.onSushiFlush=c;try{t.P&&t.P.register&&t.P.register("sushi-client",d)}catch(t){e.ueLogError(t,{logLevel:"WARN"})}g("ld","ue_sushi_v1",{wb:1})}),"Nxs-JS-Client")(e,t)}},{key:"transportationClientCode",value:function(e,t){e.ue.exec((function(e,t){var n=function(){},i={send:function(e,i){if(i&&e){var r;if(t.XDomainRequest)(r=new XDomainRequest).onerror=n,r.ontimeout=n,r.onprogress=n,r.onload=n,r.timeout=0;else if(t.XMLHttpRequest){if(!("withCredentials"in(r=new XMLHttpRequest)))throw""}else r=void 0;if(!r)throw"";r.open("POST",e,!0),r.setRequestHeader&&r.setRequestHeader("Content-type","text/plain"),r.send(i)}},isSupported:!0},r={send:function(t,n){if(t&&n){if(!navigator.sendBeacon(t,n))throw"";e.ue_sbuimp&&e.ue&&e.ue.ssw&&e.ue.ssw("eelsts","scs")}},isSupported:!(!navigator.sendBeacon||t.cordova&&t.cordova.platformId&&"ios"==t.cordova.platformId)};e.ue._ajx=i,e.ue._sBcn=r}),"Transportation-clients")(e,t)}}]),e}();t.default=u},3571:function(e,t,n){var i;self,i=(e,t,n,i,r,o)=>(()=>{var s={522:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});class i extends Error{}},863:()=>{},606:()=>{},800:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var i=n(522),r=n(389),o=n(567);class s{constructor(e){this.options=e}build(){var e;const t=s.formatToBookFormat(this.options.bookInformation.format);switch(s.FORMAT_RENDERER_MAP.get(t)){case r.g4.KARAMEL:return Promise.resolve().then(n.bind(n,818)).then((e=>{var t;return null===(t=this.options.rendererSettings.rendererMetricsService)||void 0===t||t.recordCountMetrics(`${o.P.KARAMEL_RENDERER}:${o.P.COUNT}`,1),new e.KaramelBookRenderer(this.options)}));case r.g4.STUCCO:return Promise.resolve().then(n.bind(n,945)).then((e=>{var t;return null===(t=this.options.rendererSettings.rendererMetricsService)||void 0===t||t.recordCountMetrics(`${o.P.STUCCO_RENDERER}:${o.P.COUNT}`,1),new e.StuccoBookRenderer(this.options)}));case r.g4.YJ_HTML:if(!this.options.bookInformation.revision)throw"Can't use YJ renderer because revisionId is missing.";return Promise.resolve().then(n.bind(n,548)).then((({YJHTMLRenderer:e})=>{var t;return null===(t=this.options.rendererSettings.rendererMetricsService)||void 0===t||t.recordCountMetrics(`${o.P.YJHTML_RENDERER}:${o.P.COUNT}`,1),new e(this.options)}));case r.g4.PRINT:return Promise.resolve().then(n.bind(n,191)).then((({PrintRenderer:e})=>{var t;return null===(t=this.options.rendererSettings.rendererMetricsService)||void 0===t||t.recordCountMetrics(`${o.P.PRINT_RENDERER}:${o.P.COUNT}`,1),new e(this.options)}));default:throw null===(e=this.options.rendererSettings.rendererMetricsService)||void 0===e||e.recordCountMetrics(`${o.P.NO_RENDERER}:${o.P.COUNT}`,1),new i.c(`No renderer found for the following format: ${t}`)}}static formatToBookFormat(e){if(e.toLowerCase().startsWith("mobi"))return"MOBI";if("YJ"===e||"YJ_HTML"===e||"IMAGE_JPG"===e)return e;throw new Error("Not Supported Format")}}s.FORMAT_RENDERER_MAP=new Map([["MOBI",r.g4.STUCCO],["YJ",r.g4.KARAMEL],["IMAGE_JPG",r.g4.PRINT],["YJ_HTML",r.g4.YJ_HTML]])},556:(e,t,n)=>{"use strict";var i;n.d(t,{U:()=>r,g:()=>i}),function(e){e.Location="Location",e.Page="Page"}(i||(i={}));class r extends Error{}},345:(e,t,n)=>{"use strict";n.d(t,{BC:()=>a,JC:()=>s,Lo:()=>r,Z0:()=>i});var i,r,o=n(389);!function(e){e.READY="ready",e.LOADING="loading",e.ERROR="error"}(i||(i={})),function(e){e.JUMP="jump",e.NAVIGATE="navigate"}(r||(r={}));const s=e=>{switch(e){case"reading":default:return o.Ch.READING;case"end":return o.Ch.END}},a=e=>{switch(e){case i.LOADING:return o.QS.STATUS_LOADING;case i.READY:return o.QS.STATUS_IDLE;case i.ERROR:default:return o.QS.STATUS_ERROR}}},620:(e,t,n)=>{"use strict";n.d(t,{L:()=>i,q:()=>r});const i={navigationModes:[],navigationDirections:[],marginTop:!1,marginRight:!1,marginBottom:!1,marginLeft:!1,viewportHeight:!1,viewportWidth:!1,viewportTopOffset:!1,colorThemes:[],fontFamilies:[],fontSize:!1,maxNumberColumns:!1,isRendererPropagatedZoom:!1,pageStyle:!1,zoomPercent:!1,localizedStrings:!1,animatePageTurn:!1,guidedViewSettings:!1,zoomViewSettings:!1,wordsOnScreen:!1};function r(e,t,n){return{navigationMode:n.navigationModes.includes(t.navigationMode)?t.navigationMode:e.navigationMode,navigationDirection:n.navigationDirections.includes(t.navigationDirection)?t.navigationDirection:e.navigationDirection,chevronStyle:n.chevronStyle&&t.chevronStyle?t.chevronStyle:e.chevronStyle,marginTop:n.marginTop&&void 0!==t.marginTop?t.marginTop:e.marginTop,marginRight:n.marginRight&&void 0!==t.marginRight?t.marginRight:e.marginRight,marginBottom:n.marginBottom&&void 0!==t.marginBottom?t.marginBottom:e.marginBottom,marginLeft:n.marginLeft&&void 0!==t.marginLeft?t.marginLeft:e.marginLeft,viewportHeight:n.viewportHeight&&void 0!==t.viewportHeight?t.viewportHeight:e.viewportHeight,viewportWidth:n.viewportWidth&&void 0!==t.viewportWidth?t.viewportWidth:e.viewportWidth,viewportTopOffset:n.viewportTopOffset&&void 0!==t.viewportTopOffset?t.viewportTopOffset:e.viewportTopOffset,colorTheme:n.colorThemes.includes(t.colorTheme)?t.colorTheme:e.colorTheme,fontFamily:n.fontFamilies.includes(t.fontFamily)?t.fontFamily:e.fontFamily,fontSize:n.fontSize&&void 0!==t.fontSize?t.fontSize:e.fontSize,maxNumberColumns:n.maxNumberColumns&&void 0!==t.maxNumberColumns?t.maxNumberColumns:e.maxNumberColumns,isRendererPropagatedZoom:n.isRendererPropagatedZoom&&void 0!==t.isRendererPropagatedZoom?t.isRendererPropagatedZoom:e.isRendererPropagatedZoom,pageStyle:n.pageStyle&&void 0!==t.pageStyle?t.pageStyle:e.pageStyle,zoomPercent:n.zoomPercent&&void 0!==t.zoomPercent&&!t.isRendererPropagatedZoom?t.zoomPercent:e.zoomPercent,localizedStrings:n.localizedStrings&&void 0!==t.localizedStrings?t.localizedStrings:e.localizedStrings,animatePageTurn:n.animatePageTurn&&void 0!==t.animatePageTurn?t.animatePageTurn:e.animatePageTurn,guidedViewSettings:n.guidedViewSettings&&void 0!==t.guidedViewSettings?t.guidedViewSettings:e.guidedViewSettings,zoomViewSettings:n.zoomViewSettings&&void 0!==t.zoomViewSettings?t.zoomViewSettings:e.zoomViewSettings,viewingMode:n.viewingMode&&void 0!==t.viewingMode?t.viewingMode:e.viewingMode}}},547:(e,t,n)=>{"use strict";var i,r;n.d(t,{J:()=>r,a:()=>i}),function(e){e.Create="create",e.Update="update",e.Delete="delete",e.Bulk="bulk"}(i||(i={})),function(e){e.Note="kindle.note",e.Highlight="kindle.highlight",e.Bookmark="kindle.bookmark",e.SearchResult="kindle.search",e.GraphicalHighlight="kindle.graphical_highlight"}(r||(r={}))},389:(e,t,n)=>{"use strict";var i,r,o,s;n.d(t,{Ch:()=>o,QS:()=>s,Wi:()=>r,g4:()=>i}),function(e){e.KARAMEL="karamel",e.STUCCO="stucco",e.PRINT="print",e.YJ_HTML="yj-html"}(i||(i={})),function(e){e[e.Reflowable=1]="Reflowable",e[e.Paginated=2]="Paginated",e[e.VerticalScrolling=4]="VerticalScrolling",e[e.FixedFormat=8]="FixedFormat",e[e.FitToWidth=16]="FitToWidth",e[e.GuidedView=32]="GuidedView",e[e.TwoPageMode=64]="TwoPageMode",e[e.PinchToZoom=128]="PinchToZoom",e[e.Search=256]="Search",e[e.ZoomableContent=512]="ZoomableContent"}(r||(r={})),function(e){e[e.READING=0]="READING",e[e.END=1]="END"}(o||(o={})),function(e){e[e.STATUS_LOADING=0]="STATUS_LOADING",e[e.STATUS_IDLE=1]="STATUS_IDLE",e[e.STATUS_ERROR=2]="STATUS_ERROR"}(s||(s={}))},462:()=>{},918:(e,t,n)=>{"use strict";n.d(t,{$z:()=>r,CK:()=>i,ZM:()=>s,nk:()=>o});class i extends Error{constructor(e,t){super(e),this.name=`${t}ContentUnsupported`,this.stack=(new Error).stack,Object.setPrototypeOf(this,i.prototype)}}class r extends Error{constructor(e,t){super(e),this.name=`${t}FailedToGetBookManifestError`,this.stack=(new Error).stack,Object.setPrototypeOf(this,r.prototype)}}class o extends Error{constructor(e,t){super(e),this.name=`${t}ContentNotAllowed`,this.stack=(new Error).stack,Object.setPrototypeOf(this,o.prototype)}}class s extends Error{constructor(e,t){super(e),this.name=`${t}GeoLocationNotAllowed`,this.stack=(new Error).stack,Object.setPrototypeOf(this,s.prototype)}}},80:()=>{},444:()=>{},241:()=>{},129:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});class i{constructor(){this.pageTokens={}}getToken(e){var t;return null!==(t=this.pageTokens[e])&&void 0!==t?t:null}setToken(e,t){this.pageTokens[e]=t}}},387:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,p:()=>r});const i={White:"#000",Night:"#ACACAC",Sepia:"#5D4232",Green:"#3B4B43",Dark:"#ACACAC",Grey:"#FFFFFF"},r={White:"rgb(255, 255, 255)",Night:"rgb(18, 18, 18)",Sepia:"rgb(231, 222, 199)",Green:"rgb(197, 231, 206)",Dark:"rgb(0, 0, 0)",Grey:"rgb(99, 99, 99)"}},492:(e,t,n)=>{"use strict";var i;function r(e){return["rtl","ltr","lrtb","tbrl"].includes(e)}n.d(t,{j:()=>r,l:()=>i}),function(e){e.VERTICAL_RTL="vertical-rl",e.VERTICAL_LTR="vertical-lr",e.HORIZONTAL_RTL="horizontal-rl",e.HORIZONTAL_LTR="horizontal-lr"}(i||(i={}))},456:()=>{},839:(e,t,n)=>{"use strict";n.d(t,{W5:()=>r,fR:()=>s,nl:()=>o});var i=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class r extends Error{constructor(e){super(e),this.name="TimeoutError"}}class o extends Error{constructor(e,t){super(e),this.statusCode=t,this.name="ServerError"}}class s{static fetchJson(e,t){return i(this,void 0,void 0,(function*(){return s.fetch(e,t).then((e=>e.json()))}))}static fetch(e,t){return i(this,void 0,void 0,(function*(){return fetch(e,t).then((e=>{if(e.ok)return e;{const t=[...e.headers];if(e.status===s.GATEWAY_TIMEOUT_STATUS_CODE)throw s.dispatchOfflineEvent(),new r(`[TimeoutError] Timeout occurred while calling the service. Response Headers = ${t}.`);throw new o(`[ServerError] Error occurred while calling the service. Response Headers = ${t}.`,e.status)}})).catch((e=>{throw navigator.onLine||s.dispatchOfflineEvent(),e}))}))}}s.GATEWAY_TIMEOUT_STATUS_CODE=504,s.dispatchOfflineEvent=()=>{window.dispatchEvent(new CustomEvent("customOffline"))}},514:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,r:()=>o});var i,r=n(87);!function(e){e.GET_BOOK_DATA="book-data",e.GO_TO_PAGE="go-to-page",e.GET_RANDOM_PAGE="random-page",e.GET_POSITION_DATA="position-data"}(i||(i={}));class o{}o.fetchBookData=e=>{const t={asin:e};return o.fetchFromSearchInside(i.GET_BOOK_DATA,t)},o.fetchPage=e=>o.fetchFromSearchInside(i.GO_TO_PAGE,e),o.fetchRandomPage=(e,t)=>{const n={asin:e,buyingAsin:t};return o.fetchFromSearchInside(i.GET_RANDOM_PAGE,n)},o.fetchSearchHighlights=(e,t,n,r)=>{return a=function*(){const s={asin:e,query:t,token:null!=r?r:null,page:n};return yield o.fetchFromSearchInside(i.GET_POSITION_DATA,s)},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{r(a.next(e))}catch(e){t(e)}}function i(e){try{r(a.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof s?r:new s((function(e){e(r)}))).then(n,i)}r((a=a.apply(void 0,[])).next())}));var s,a},o.fetchFromSearchInside=(e,t)=>{const n={credentials:"include",headers:new Headers({Accept:"application/json"})},i=o.constructQueryString(t),s=window.location.pathname.startsWith("/litb")?"/litb":"/sample";return(0,r.A_)(`${s}/print/${e}?${i}`,n).then((e=>e.json())).then((e=>e)).catch((e=>Promise.reject(e)))},o.constructQueryString=e=>Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&")},453:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var i=n(514),r=n(839),o=n(43),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class a{static karamelReading(e,t,n){return s(this,void 0,void 0,(function*(){const i=Object.assign(Object.assign({},e),{karamelVersion:e.version,kindleSessionId:t});delete i.version,delete i.encryptionId;const r=o.L().domain;return a.fetch(`https://${r}${a.SRS_AUTHENTICATED_ROOT_URL}karamelReading?${new URLSearchParams(i)}&clientVersion=${a.CLIENT_VERSION}`,n)}))}static renderBook(e,t){return s(this,void 0,void 0,(function*(){const n=Object.assign(Object.assign({},e),{token:t.token});delete n.encryptionId;const i=o.L().domain,r=yield a.fetch(`https://${i}${a.KARAMEL_SERVICE_ROOT_URL}render?${new URLSearchParams(n)}`),s=new Response(r.body,r);return s.headers.set("karamel-rendering-token",JSON.stringify(t)),s}))}static getFileUrl(e,t){return s(this,void 0,void 0,(function*(){const n=o.L().domain,i=t?a.SRS_AUTHENTICATED_ROOT_URL:a.SRS_UNAUTHENTICATED_ROOT_URL;return a.fetchJson(`https://${n}${i}getFileUrl?${new URLSearchParams(e)}`,t)}))}static getPrintPageUrl(e,t){var n;return s(this,void 0,void 0,(function*(){const r=void 0===e.page||e.token?e:Object.assign(Object.assign({},e),{token:null!==(n=null==t?void 0:t.getToken(e.page))&&void 0!==n?n:null});return i.r.fetchFromSearchInside(i.M.GO_TO_PAGE,r)}))}static fetchJson(e,t){return r.fR.fetchJson(e,a.constructHeaders(t))}static fetch(e,t){return r.fR.fetch(e,a.constructHeaders(t))}static constructHeaders(e){return e?{headers:{"X-ADP-Session-Token":e}}:void 0}}a.SRS_AUTHENTICATED_ROOT_URL="/service/mobile/reader/",a.SRS_UNAUTHENTICATED_ROOT_URL="/service/web/content/",a.KARAMEL_SERVICE_ROOT_URL="/renderer/",a.CLIENT_VERSION="20000100"},369:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});class i{constructor(e){this.metricsService=e,this.recordTimeMetrics=this.metricsService.recordTimeMetrics.bind(this.metricsService),this.recordCountMetrics=this.metricsService.recordCountMetrics.bind(this.metricsService)}asyncTimeExecution(e,t){return n=this,r=function*(){const n=Date.now();try{return yield t()}catch(t){throw this.recordErrorCountMetrics(e,1),t}finally{const t=Date.now();this.recordTimeMetrics(`${e}:ExecutionTime`,t-n)}},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{a(r.next(e))}catch(e){t(e)}}function s(e){try{a(r.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}a((r=r.apply(n,[])).next())}));var n,i,r}recordErrorCountMetrics(e,t,n){this.recordErrorMetrics("ErrorCount",e,t,n)}recordErrorMetrics(e,t,n,i){i?this.recordCountMetrics(`${t}:${e}:${i}`,n):this.recordCountMetrics(`${t}:${e}`,n)}}},498:(e,t,n)=>{"use strict";n.d(t,{aX:()=>c,cr:()=>u,kl:()=>h,qw:()=>a});var i=n(389),r=n(453),o=n(839),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class a extends Error{constructor(e){super(e),this.name=this.constructor.name}}class c extends Error{constructor(e){super(e),this.name=this.constructor.name}}class u extends Error{constructor(e){super(e),this.name=this.constructor.name}}class l{constructor(){this.locationMapIsLoaded=!1}getServiceFetch(){return(e,t)=>s(this,void 0,void 0,(function*(){switch(e){case i.g4.STUCCO:return r.D.getFileUrl(t,this.adpToken);case i.g4.KARAMEL:{const e=Object.assign(Object.assign({},t),{locationMap:`${!this.locationMapIsLoaded}`});if(!this.karamelTokenProvider){if(!this.adpToken||!this.sessionId)throw new c;return this.locationMapIsLoaded=!0,r.D.karamelReading(e,this.sessionId,this.adpToken)}return this.renderBookUsingToken(e,this.karamelTokenProvider)}case i.g4.PRINT:return r.D.getPrintPageUrl(t,this.printTokenProvider);default:throw new a}}))}renderBookUsingToken(e,t){return s(this,void 0,void 0,(function*(){try{return yield this.callRenderBook(e,t)}catch(n){if(n instanceof o.nl&&n.statusCode===l.KARAMEL_TOKEN_EXPIRED_STATUS_CODE)return this.karamelToken=void 0,this.callRenderBook(e,t);throw n}}))}callRenderBook(e,t){return s(this,void 0,void 0,(function*(){if(null==this.karamelToken||Date.now()+l.TOKEN_EXPIRED_THRESHOLD>this.karamelToken.expiresAt)try{this.karamelToken=yield t.getToken()}catch(e){throw new u(JSON.stringify(e))}if(!this.karamelToken)throw new c;return this.locationMapIsLoaded=!0,r.D.renderBook(e,this.karamelToken)}))}getCdnPrefetchInfo(){var e,t,n,i;return{cdn:null===(e=this.cdnPrefetchInfo)||void 0===e?void 0:e.cdn,resources:null===(t=this.cdnPrefetchInfo)||void 0===t?void 0:t.resources,karamelToken:null!==(i=null===(n=this.cdnPrefetchInfo)||void 0===n?void 0:n.karamelToken)&&void 0!==i?i:this.karamelToken}}setAdpToken(e){this.adpToken=e}setKaramelToken(e){this.karamelToken=e}setCdnPrefetchInfo(e){this.cdnPrefetchInfo=e}setSessionId(e){this.sessionId=e}setKaramelTokenProvider(e){this.karamelTokenProvider=e}setPrintTokenProvider(e){this.printTokenProvider=e}}l.TOKEN_EXPIRED_THRESHOLD=5e3,l.KARAMEL_TOKEN_EXPIRED_STATUS_CODE=419;class h{withADPToken(e){return this.adpToken=e,this}withSessionId(e){return this.sessionId=e,this}withKaramelTokenProvider(e){return this.karamelTokenProvider=e,this}withKaramelToken(e){return this.karamelToken=e,this}withCdnPrefetchInfo(e){return this.cdnPrefetchInfo=e,this}withPrintTokenProvider(e){return this.printTokenProvider=e,this}populate(e){e.setKaramelTokenProvider(this.karamelTokenProvider),e.setSessionId(this.sessionId),e.setAdpToken(this.adpToken),e.setKaramelToken(this.karamelToken),e.setCdnPrefetchInfo(this.cdnPrefetchInfo),e.setPrintTokenProvider(this.printTokenProvider)}build(){const e=new l;return this.populate(e),e}}},33:(e,t,n)=>{"use strict";function i(e,t,n){let i,r,o=0,s=e.length-1;for(;o<=s;)if(i=Math.floor((o+s)/2),r=n(e[i],t),r<0)o=i+1;else{if(!(r>0))return i;s=i-1}return s>=0?s:o}n.d(t,{r:()=>i})},553:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});const i="k.amazon.com"},479:(e,t,n)=>{"use strict";function i(e){return new Promise(((t,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{t(i.result)},i.onerror=()=>{n("Failed to read blob as data URL.")}}))}function r(e,t){return e/t*72}function o(e){return new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))}))}n.d(t,{_V:()=>s,fL:()=>i,oj:()=>r,tO:()=>o});const s=e=>{const t={};return e.forEach((({position:e,start:n,end:i,startY:r,endY:o})=>{var s;void 0!==n&&void 0!==i&&void 0!==r&&void 0!==o&&(t[e]=[...null!==(s=t[e])&&void 0!==s?s:[],[n,r,i-n,o-r]])})),t}},275:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});class i{constructor(){this.completed=!1,this.promise=new Promise(((e,t)=>{this.resolver=e,this.rejecter=t}))}resolve(e){if(this.completed)throw"Cannot resolve Deferred, it is already completed.";this.resolver(e),this.completed=!0}reject(e){if(this.completed)throw"Cannot reject Deferred, it is already completed.";this.rejecter(e),this.completed=!0}getPromise(){return this.promise}isCompleted(){return this.completed}}},713:(e,t,n)=>{"use strict";n.d(t,{DA:()=>O,Dt:()=>u,Gu:()=>y,Js:()=>b,LZ:()=>c,Nc:()=>I,Qz:()=>a,RG:()=>i,T8:()=>o,Tv:()=>m,V5:()=>f,YF:()=>k,Yr:()=>C,_1:()=>l,aQ:()=>s,fM:()=>S,fq:()=>_,gj:()=>x,gn:()=>d,gp:()=>E,iB:()=>R,jE:()=>P,nz:()=>p,sg:()=>h,si:()=>T,u4:()=>v,uA:()=>w,vU:()=>g});var i,r=n(824);!function(e){e[e.Android=0]="Android",e[e.iOS=1]="iOS",e[e.unknown=2]="unknown"}(i||(i={}));const o=()=>matchMedia("(orientation: portrait)").matches?"Portrait":matchMedia("(orientation: landscape)").matches?"Landscape":"Portrait",s=e=>{matchMedia("(orientation: landscape)").addListener((t=>{e(t.matches)}))},a=()=>window.innerWidth>768,c=e=>{switch(e){case"Landscape":return window.innerWidth>768;case"Portrait":return window.innerHeight>768}},u=()=>-1!==window.navigator.userAgent.indexOf("Android"),l=()=>-1!==window.navigator.userAgent.indexOf("iPad")||f()&&window.navigator.maxTouchPoints>2,h=()=>-1!==window.navigator.userAgent.indexOf("iPhone")||-1!==window.navigator.userAgent.indexOf("iPod"),d=()=>l()||h(),f=()=>-1!==window.navigator.userAgent.indexOf("Mac OS X"),p=()=>d()&&!/criOS|fxiOS/i.test(navigator.userAgent),g=()=>/Firefox|fxiOS/i.test(navigator.userAgent),v=()=>-1!==window.navigator.userAgent.indexOf("Silk"),m=()=>/Samsung/i.test(navigator.userAgent),y=()=>!!window.smash,w=()=>u()?i.Android:d()?i.iOS:i.unknown,b=()=>/msie\s|trident\/|edge\//i.test(window.navigator.userAgent),_=()=>/Trident\/[78]\.0/.test(window.navigator.userAgent),k=()=>{const e=navigator.userAgent,t=e.indexOf("Android"),n=parseFloat(e.slice(t+8));return t>=0&&n<3},E=()=>p()?Math.min(window.innerHeight,window.document.documentElement.clientHeight):document.documentElement.clientHeight,S=()=>document.documentElement.clientWidth,T=(e=!0)=>{if(d()&&!y()){const t=E(),n=document.getElementById("mainContainer"),i=document.documentElement.clientHeight-window.innerHeight;n&&(e&&window.scrollTo(window.scrollX,window.scrollY-i),n.style.height=`${t}px`,n.style.position="relative")}},P=()=>{if(d()&&!y()){const e=S(),t=document.getElementById("mainContainer");t&&(t.style.width=`${e}px`,t.style.position="relative")}},C=()=>{if(d()&&!y()){const e=S(),t=E(),n=document.documentElement.clientHeight-window.innerHeight,i=document.getElementById("mainContainer");i&&(window.scrollTo(window.scrollX,window.scrollY-n),i.style.width=`${e}px`,i.style.height=`${t}px`,i.style.position="relative")}},x=()=>{const e=S();return E()>=r.JB&&e>=r.QO},I=()=>S()>=r.Bl,R=()=>Math.round(E()*window.devicePixelRatio),O=()=>Math.round(S()*window.devicePixelRatio)},124:(e,t,n)=>{"use strict";n.d(t,{Jf:()=>s,WF:()=>o,ww:()=>i});var i,r=n(87);!function(e){e[e.STATUS_LOADING_FONT=0]="STATUS_LOADING_FONT",e[e.STATUS_LOADING_FONT_DONE=1]="STATUS_LOADING_FONT_DONE",e[e.STATUS_LOADING_FONT_ERROR=2]="STATUS_LOADING_FONT_ERROR"}(i||(i={}));const o=()=>/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?["woff"]:["woff2"];class s{constructor(){this.fontsBaseUrl="",this.fontIndex=null,this.fontFormats=o(),"undefined"!=typeof litbReaderFonts&&(this.fontIndex=this.initFontIndex()),this.fontsBaseUrl=(()=>{const e=document.getElementById("assetsCfUrl");return e?e.getAttribute("data-assets-cf-url")+"/assets/fonts":""})()}getFontIndex(){return this.fontIndex?Promise.resolve(this.fontIndex):(0,r.A_)(this.fontsBaseUrl+"/fonts.json",{}).then((e=>e.json())).then((e=>{for(const t of Object.keys(e))e[t].forEach((e=>{e.fontFiles&&e.fontFiles.forEach((e=>{e.url=this.fontsBaseUrl+"/"+e.fileName}))}));return Promise.resolve(e)}))}selectFontFormat(e){for(const t of e)if(-1!==this.fontFormats.indexOf(t.format))return t;throw new Error("Unable to find suitable font format")}initFontIndex(){const e={};for(const t of Object.keys(litbReaderFonts))e[t]=litbReaderFonts[t].map((e=>{const t=litbReaderFontsMap.find((t=>t.fontFamily===e.fontFamily&&t.fontWeight===e.fontWeight&&t.fontStyle===e.fontStyle&&t.fontStretch===e.fontStretch));if(!t)throw`Missing font face '${e.fontFamily}' for weight = ${e.fontWeight}, style = ${e.fontStyle}, stretch = ${e.fontStretch} in font face URL map`;return{fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontStretch:e.fontStretch,fontMetrics:e.fontMetrics,fontFiles:t.fontFiles}}));return e}}},597:(e,t,n)=>{"use strict";n.d(t,{g:()=>c,u:()=>a});var i=n(809);const r=["gu","hi","ml","mr","ta"],o=Object.freeze({en:{defaultFont:"Bookerly",fonts:["Bookerly","AmazonEmber","OpenDyslexic"]},ja:{defaultFont:"TBMincho",fonts:["TBMincho","TBGothic"]},zh:{defaultFont:"STSongSC",fonts:["STSongSC","STHeitiSC"]},"zh-hant":{defaultFont:"STHeitiTC",fonts:["STHeitiTC","STSongTC"]}}),s=e=>null!=e&&["en","ja","zh","zh-hant"].includes(e),a=(e,t)=>(0,i.w)(e,(e=>r.includes(e)?[]:s(e)?o[e].fonts:o.en.fonts)(t)),c=(e,t)=>{const n=s(e)?o[e]:o.en;return null!=t&&n.fonts.includes(t)?t:n.defaultFont}},809:(e,t,n)=>{"use strict";n.d(t,{q:()=>i,w:()=>r});const i=(e,t)=>{const n=Object.keys,r=typeof e;return e&&t&&"object"===r&&r===typeof t?n(e).length===n(t).length&&n(e).every((n=>i(e[n],t[n]))):e===t},r=(e,t)=>e.filter((e=>t.includes(e)))},902:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});class i{constructor(e){this.locations=e}positionToLocation(e){return Math.max(1,this.findLocationInMap(e))}locationToPosition(e){return this.locations[e-1]}findLocationInMap(e){const t=this.locations.length;if(0==t||this.locations[0]>=e)return 1;if(this.locations[t-1]<=e)return t;let n=0,i=t-1;for(;n<i-1;){const t=Math.floor((i+n)/2);this.locations[t]>e?i=t:n=t}return this.locations[i]<=e?i+1:n+1}}var r=n(556),o=n(33);class s{constructor(e){this.locationMap=e,this.labelsMap=new Map,this.pageLabelToNavUnitIndex=new Map,this.constructLabelsMap(),e.locations&&e.locations.length&&(this.locationsConverter=new i(e.locations))}convertPageToPosition(e){const t=this.labelsMap.get(e);return t?Promise.resolve(t):Promise.resolve(0)}convertPositionToPage(e){let t="";const n=this.locationMap.navigationUnit;return n&&e>=n[0].startPosition&&(t=n[(0,o.r)(n,e,s.compareTo)].label),Promise.resolve(t)}convertLocationToPosition(e){var t;const n=null===(t=this.locationsConverter)||void 0===t?void 0:t.locationToPosition(e);if(void 0!==n)return Promise.resolve(n);throw Error(`Location ${e} is invalid for this book`)}convertPositionToLocation(e){var t;const n=null===(t=this.locationsConverter)||void 0===t?void 0:t.positionToLocation(e);if(void 0!==n)return Promise.resolve(n);throw Error(`Position ${e} has no location on this book`)}getLastNavigationUnitStartPosition(){let e=0;const t=this.locationMap.navigationUnit;return t&&(e=t[t.length-1].startPosition),Promise.resolve(e)}getLastLocationPosition(){const e=this.locationMap.locations;return Promise.resolve(e[e.length-1])}getMaximumPageLabel(){const e=this.locationMap.navigationUnit;if(e){const t=[];for(const n of e){const e=Number(n.label);Number.isNaN(e)||t.push(e)}return 0===t.length?e[e.length-1].label:String(Math.max(...t))}return""}getTotalLocations(){return this.locationMap.locations.length}getTotalNavigationUnits(){return this.locationMap.navigationUnit?this.locationMap.navigationUnit.length:0}getNavigationUnitTypes(){var e;const t=[];return this.locationMap.locations&&this.locationMap.locations.length&&t.push(r.g.Location),(null===(e=this.locationMap.navigationUnit)||void 0===e?void 0:e.length)&&t.push(r.g.Page),t}getPageIndexInNavigationUnits(e){const t=this.pageLabelToNavUnitIndex.get(e);return void 0!==t?t:0}getNavigationUnitInitialPositionByIndex(e){const t=this.locationMap.navigationUnit;return t&&t[e]?t[e].startPosition:0}getNavigationUnitLabelByIndex(e){const t=this.locationMap.navigationUnit;if(t&&t[e])return t[e].label}validatePage(e){return this.labelsMap.has(e)}validateLocation(e){return e>0&&e<=this.locationMap.locations.length}static compareTo(e,t){return e.startPosition-t}constructLabelsMap(){const e=this.locationMap.navigationUnit;if(e)for(let t=0;t<e.length;t++)this.labelsMap.set(e[t].label,e[t].startPosition),this.pageLabelToNavUnitIndex.set(e[t].label,t)}}},43:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,a:()=>i});const i={LOCAL:{marketplace:"US",domain:"k.amazon.com",region:"us-east-1",storeLink:"www.amazon.com/dp/",thankYouLink:"www.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"ATVPDKIKX0DER"},US:{marketplace:"US",domain:"read.amazon.com",region:"us-east-1",storeLink:"www.amazon.com/dp/",thankYouLink:"www.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"ATVPDKIKX0DER"},JP:{marketplace:"JP",domain:"read.amazon.co.jp",region:"ap-northeast-1",storeLink:"www.amazon.co.jp/dp/",thankYouLink:"www.amazon.co.jp/kindle-dbs/thankYouPage",marketplaceId:"A1VC38T7YXB528"},CA:{marketplace:"CA",domain:"read.amazon.ca",region:"us-east-1",storeLink:"www.amazon.ca/dp/",thankYouLink:"www.amazon.ca/kindle-dbs/thankYouPage",marketplaceId:"A2EUQ1WTGCTBG2"},BR:{marketplace:"BR",domain:"ler.amazon.com.br",region:"eu-west-1",storeLink:"www.amazon.com.br/dp/",thankYouLink:"www.amazon.com.br/kindle-dbs/thankYouPage",marketplaceId:"A2Q3Y263D00KWC"},AU:{marketplace:"AU",domain:"read.amazon.com.au",region:"ap-northeast-1",storeLink:"www.amazon.com.au/dp/",thankYouLink:"www.amazon.com.au/kindle-dbs/thankYouPage",marketplaceId:"A39IBJ37TRP1C6"},MX:{marketplace:"MX",domain:"leer.amazon.com.mx",region:"us-east-1",storeLink:"www.amazon.com.mx/dp/",thankYouLink:"www.amazon.com.mx/kindle-dbs/thankYouPage",marketplaceId:"A1AM78C64UM0Y8"},UK:{marketplace:"GB",domain:"read.amazon.co.uk",region:"eu-west-1",storeLink:"www.amazon.co.uk/dp/",thankYouLink:"www.amazon.co.uk/kindle-dbs/thankYouPage",marketplaceId:"A1F83G8C2ARO7P"},DE:{marketplace:"DE",domain:"lesen.amazon.de",region:"eu-west-1",storeLink:"www.amazon.de/dp/",thankYouLink:"www.amazon.de/kindle-dbs/thankYouPage",marketplaceId:"A1PA6795UKMFR9"},FR:{marketplace:"FR",domain:"lire.amazon.fr",region:"eu-west-1",storeLink:"www.amazon.fr/dp/",thankYouLink:"www.amazon.fr/kindle-dbs/thankYouPage",marketplaceId:"A13V1IB3VIYZZH"},IT:{marketplace:"IT",domain:"leggi.amazon.it",region:"eu-west-1",storeLink:"www.amazon.it/dp/",thankYouLink:"www.amazon.it/kindle-dbs/thankYouPage",marketplaceId:"APJ6JRA9NG5V4"},ES:{marketplace:"ES",domain:"leer.amazon.es",region:"eu-west-1",storeLink:"www.amazon.es/dp/",thankYouLink:"www.amazon.es/kindle-dbs/thankYouPage",marketplaceId:"A1RKKUPIHCS9HS"},NL:{marketplace:"NL",domain:"lezen.amazon.nl",region:"eu-west-1",storeLink:"www.amazon.nl/dp/",thankYouLink:"www.amazon.nl/kindle-dbs/thankYouPage",marketplaceId:"A1805IZSGTT6HS"},IN:{marketplace:"IN",domain:"read.amazon.in",region:"eu-west-1",storeLink:"www.amazon.in/dp/",thankYouLink:"www.amazon.in/kindle-dbs/thankYouPage",marketplaceId:"A21TJRUUN4KGV"},CN:{marketplace:"CN",domain:"read.amazon.cn",region:"ap-northeast-1",storeLink:"www.amazon.cn/dp/",thankYouLink:"www.amazon.cn/kindle-dbs/thankYouPage",marketplaceId:"AAHKV2X7AFYLW"},USPreProd:{marketplace:"US",domain:"read-preprod.amazon.com",region:"us-east-1",storeLink:"pre-prod.amazon.com/dp/",thankYouLink:"pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"ATVPDKIKX0DER"},JPPreProd:{marketplace:"JP",domain:"read-pre-prod-jp.amazon.com",region:"ap-northeast-1",storeLink:"jp-pre-prod.amazon.com/dp/",thankYouLink:"jp-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1VC38T7YXB528"},CAPreProd:{marketplace:"CA",domain:"read-pre-prod-ca.amazon.com",region:"us-east-1",storeLink:"ca-pre-prod.amazon.com/dp/",thankYouLink:"ca-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A2EUQ1WTGCTBG2"},BRPreProd:{marketplace:"BR",domain:"read-pre-prod-br.amazon.com",region:"eu-west-1",storeLink:"br-pre-prod.amazon.com/dp/",thankYouLink:"br-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A2Q3Y263D00KWC"},AUPreProd:{marketplace:"AU",domain:"read-pre-prod-au.amazon.com",region:"ap-northeast-1",storeLink:"au-pre-prod.amazon.com/dp/",thankYouLink:"au-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A39IBJ37TRP1C6"},MXPreProd:{marketplace:"MX",domain:"read-pre-prod-mx.amazon.com",region:"us-east-1",storeLink:"mx-pre-prod.amazon.com/dp/",thankYouLink:"mx-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1AM78C64UM0Y8"},UKPreProd:{marketplace:"GB",domain:"read-pre-prod-uk.amazon.com",region:"eu-west-1",storeLink:"uk-pre-prod.amazon.com/dp/",thankYouLink:"uk-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1F83G8C2ARO7P"},DEPreProd:{marketplace:"DE",domain:"read-pre-prod-de.amazon.com",region:"eu-west-1",storeLink:"de-pre-prod.amazon.com/dp/",thankYouLink:"de-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1PA6795UKMFR9"},FRPreProd:{marketplace:"FR",domain:"read-pre-prod-fr.amazon.com",region:"eu-west-1",storeLink:"fr-pre-prod.amazon.com/dp/",thankYouLink:"fr-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A13V1IB3VIYZZH"},ITPreProd:{marketplace:"IT",domain:"read-pre-prod-it.amazon.com",region:"eu-west-1",storeLink:"it-pre-prod.amazon.com/dp/",thankYouLink:"it-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"APJ6JRA9NG5V4"},ESPreProd:{marketplace:"ES",domain:"read-pre-prod-es.amazon.com",region:"eu-west-1",storeLink:"es-pre-prod.amazon.com/dp/",thankYouLink:"es-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1RKKUPIHCS9HS"},NLPreProd:{marketplace:"NL",domain:"lezen-nl-preprod.dub.xcorp.amazon.com",region:"eu-west-1",storeLink:"nl-pre-prod.amazon.com/dp/",thankYouLink:"nl-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1805IZSGTT6HS"},INPreProd:{marketplace:"IN",domain:"read-pre-prod-in.amazon.com",region:"eu-west-1",storeLink:"in-pre-prod.amazon.com/dp/",thankYouLink:"in-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A21TJRUUN4KGV"},CNPreProd:{marketplace:"CN",domain:"read-pre-prod-cn.amazon.com",region:"ap-northeast-1",storeLink:"cn-pre-prod.amazon.com/dp/",thankYouLink:"cn-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"AAHKV2X7AFYLW"},USInteg:{marketplace:"US",domain:"read.integ.amazon.com",region:"us-east-1",storeLink:"development.amazon.com/dp/",thankYouLink:"development.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"ATVPDKIKX0DER"}},r=()=>{switch(window.location.hostname){case i.US.domain:return i.US;case i.JP.domain:return i.JP;case i.CA.domain:return i.CA;case i.BR.domain:return i.BR;case i.AU.domain:return i.AU;case i.MX.domain:return i.MX;case i.UK.domain:return i.UK;case i.DE.domain:return i.DE;case i.FR.domain:return i.FR;case i.IT.domain:return i.IT;case i.ES.domain:return i.ES;case i.NL.domain:return i.NL;case i.IN.domain:return i.IN;case i.CN.domain:return i.CN;case i.USPreProd.domain:return i.USPreProd;case i.JPPreProd.domain:return i.JPPreProd;case i.CAPreProd.domain:return i.CAPreProd;case i.BRPreProd.domain:return i.BRPreProd;case i.AUPreProd.domain:return i.AUPreProd;case i.MXPreProd.domain:return i.MXPreProd;case i.UKPreProd.domain:return i.UKPreProd;case i.DEPreProd.domain:return i.DEPreProd;case i.FRPreProd.domain:return i.FRPreProd;case i.ITPreProd.domain:return i.ITPreProd;case i.ESPreProd.domain:return i.ESPreProd;case i.NLPreProd.domain:return i.NLPreProd;case i.INPreProd.domain:return i.INPreProd;case i.CNPreProd.domain:return i.CNPreProd;case i.USInteg.domain:return i.USInteg;case i.LOCAL.domain:return Object.assign(Object.assign({},i.LOCAL),{domain:window.location.host});default:return i.US}}},567:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});class i{}i.EXECUTION_TIME="ExecutionTime",i.COUNT="Count",i.ERROR_COUNT="ErrorCount",i.SUCCESS="Success",i.ERROR="Error",i.STUCCO="Stucco",i.YJHTML="YjHTML",i.PRINT="Print",i.STUCCO_RENDERER="StuccoRenderer",i.KARAMEL_RENDERER="KaramelRenderer",i.YJHTML_RENDERER="YjHtmlRenderer",i.PRINT_RENDERER="PrintRenderer",i.NO_RENDERER="NoRenderer",i.LOADED_FONTS="LoadedFonts",i.RENDERER_INITIALIZED="RendererInitialized",i.ZOOMABLE_CONTENT_ERROR="ZoomableContentError",i.ZOOMABLE_ENTER="ZoomableEnter",i.ZOOMABLE_EXIT="ZoomableExit",i.ZOOMABLE_NEXT="ZoomableNext",i.ZOOMABLE_PREVIOUS="ZoomablePrevious",i.SURPRISE_ME="SurpriseMeClick"},906:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var i=n(567);class r{constructor(e,t="",n=""){this.metricsService=e,this.prefix=t,this.separator=n}recordCountMetrics(e,t=1){this.metricsService.recordCountMetrics(this.prefix+this.separator+e,t)}loadedFonts(e){this.recordCountMetrics(i.P.LOADED_FONTS+this.separator+i.P.SUCCESS,e?1:0),e||this.recordCountMetrics(i.P.LOADED_FONTS+this.separator+i.P.ERROR,1)}rendererInitialized(e){this.recordCountMetrics(i.P.RENDERER_INITIALIZED+this.separator+i.P.SUCCESS,e?1:0),e||this.recordCountMetrics(i.P.RENDERER_INITIALIZED+this.separator+i.P.ERROR,1)}}},87:(e,t,n)=>{"use strict";n.d(t,{A_:()=>s,WY:()=>r,j0:()=>a});const i=e=>{if(!e.ok||e.status>=400){const t={type:"generic",response:e};return Promise.reject(t)}return Promise.resolve(e)},r=(e,t)=>{const n=Object.assign({mode:"cors",credentials:"same-origin"},t);return fetch(e,n).catch((e=>{if(navigator.onLine){const t={type:"connection",error:e};return Promise.reject(t)}const t={type:"offline",error:e};return Promise.reject(t)})).then(i)},o=(e,t,n=0)=>r(e,t).catch((i=>3===n?Promise.reject(i):new Promise(((i,r)=>{setTimeout((()=>{o(e,t,n+1).then(i).catch(r)}),3e3)})))),s=(e,t={})=>o(e,t),a=(e,t,n={})=>{const i=new Headers(n.headers);i.set("Content-Type","application/json");const r={headers:i,method:"POST"};return r.body=JSON.stringify(t),s(e,r)}},824:(e,t,n)=>{"use strict";n.d(t,{Bl:()=>r,JB:()=>s,QO:()=>i,oz:()=>o});const i=768,r=999,o=992,s=512},191:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PrintRenderer:()=>x});var i=n(323),r=n(620),o=n(389),s=n(345),a=n(233),c=n.n(a),u=n(803),l=n.n(u),h=n(514),d=n(492),f=n(918),p=n(129),g=n(567);class v extends Error{constructor(e,t){super(e),this.nextPageToTry=t}}class m{constructor(e,t,n,i,r){this.asin=e,this.serviceFetch=t,this.onAddAnnotationsRange=n,this.localizedStrings=i,this.metricsUtils=r,this.printTokenProvider=new p.x,this.pageToRequestMap={}}getMetadata(){return this.getBookManifest().then((e=>this.constructBookMetadata(e)))}getTableOfContents(){return this.getBookManifest().then((e=>{var t,n;if(e.tableOfContents.length>0){const r=e.tableOfContents.slice();return"print"===e.type&&r.push({label:null!==(n=null===(t=this.localizedStrings)||void 0===t?void 0:t.surpriseMeLabel)&&void 0!==n?n:"Surprise Me!",position:i.SURPRISE_ME_POSITION,disabled:!1}),r}return[]}))}getPageProgressionDirection(e){return(0,d.j)(e)?e:"lrtb"}getBookManifest(){return this.bookManifestPromise||(this.bookManifestPromise=this.getManifest()),this.bookManifestPromise}getManifest(){return this.bookManifestPromise||(this.bookManifestPromise=h.r.fetchBookData(this.asin).then((e=>(this.bookManifest=w(e),this.bookManifest))).catch((e=>{throw new f.$z(`Failed to get manifest for print asin: [${this.asin}], ${e}`,g.P.PRINT)}))),this.bookManifestPromise}getManifestIfAvailable(){return this.bookManifest}getPage(e,t){if(t in this.pageToRequestMap)return this.pageToRequestMap[t];const n=this.printTokenProvider.getToken(t);return this.pageToRequestMap[t]=this.fetchPage(e,e,t,n).then((e=>(delete this.pageToRequestMap[t],e))),this.pageToRequestMap[t]}fetchPage(e,t,n,i){const r={asin:e,buyingAsin:t,page:n,token:i};return this.serviceFetch?this.serviceFetch(o.g4.PRINT,r):h.r.fetchPage(r)}getRandomPage(){return e=this,n=function*(){const e=yield h.r.fetchRandomPage(this.asin,this.asin);return this.printTokenProvider.setToken(e.pageNumber,e.token),e},new((t=void 0)||(t=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}a((n=n.apply(e,[])).next())}));var e,t,n}getPageUrls(e){return this.getPage(this.asin,e).then((({jumboImageUrls:e,nextPageToTry:t,error:n})=>{var i;if(!n)return e;if("PAGE_NOT_AVAILABLE_TITLE"===(null===(i=n.title)||void 0===i?void 0:i.key))throw new v(n.text.key,t)}))}requestPageHighlights(e){this.onAddAnnotationsRange&&this.onAddAnnotationsRange(e,e)}constructBookMetadata(e){const t=this.getPageProgressionDirection(e.progressionDirection);return{asin:this.asin,bookmarks:e.bookmarks,numberOfPages:e.numberOfPages,language:"",coverUrl:"",pageProgressionDirection:t,navigationDirection:t,hasKindleEdition:e.hasKindleEdition,pageLabelSet:e.pageLabelSet,searchable:e.searchable,srl:-1,zoomable:e.zoomable}}}const y=e=>{let t;return e&&e.split("),(").forEach((e=>{const[n,r,o]=e.replace(")","").replace("(","").split(",");r===i.PageLabel.A&&(t={firstPageIdx:parseInt(n,10),pageLabel:r,actualPageNumber:parseInt(o,10)})})),t},w=e=>{if(e.error&&e.error.text)throw new Error(e.error.text.key);const t=_(e.xPages),n=b(e.bookmarks,t);return{bookmarks:e.bookmarks,imageUrls:e.jumboImageUrls,title:e.title,pages:e.litbPages||[1],numberOfPages:e.numPages,tableOfContents:n,progressionDirection:e.orientation,isFPS:!!e.isFPS,type:e.type,embargoedPages:t,pageLabelSet:e.pageLabelSet,firstPageInfo:y(e.pageLabelSet),searchable:e.searchable,zoomable:e.zoomable,hasKindleEdition:e.hasKindleEdition}},b=(e,t)=>e.map((e=>{const[n,i]=e;return{label:n,position:i,disabled:-1!==t.indexOf(i)}})),_=e=>{if(e){const t=e.split(",").filter((e=>e&&e.length>0));return c()(t,(e=>{if(e&&e.indexOf("-")>-1){const[t,n]=e.split("-").map((e=>parseInt(e,10)));return l()(t,n+1)}return[parseInt(e,10)]}))}return[]};var k=n(479),E=n(906),S=n(141),T=n.n(S),P=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const C={navigationMode:"Scroll",navigationDirection:"Vertical",marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,isRendererPropagatedZoom:!1,pageStyle:"margin-bottom: 6px; box-shadow: 0 0 4px 0 rgba(0,0,0,0.5)",zoomPercent:100};class x{constructor(e){var t,n,i,a,c,u,l,h,d;this.status=o.QS.STATUS_LOADING,this.cachedAnnotationPages=new Set,this.emitSurpriseMeMetric=T()((()=>{var e;null===(e=this.metricsUtils)||void 0===e||e.recordCountMetrics(g.P.SURPRISE_ME)}));const f=e.rendererSettings.rendererMetricsService;this.metricsUtils=f&&new E.J(f,g.P.PRINT);const p=null!==(n=null===(t=e.rendererSettings.renderingService)||void 0===t?void 0:t.getServiceFetch())&&void 0!==n?n:e.rendererSettings.serviceFetch;this.bookService=new m(e.bookInformation.asin,p,null===(i=e.rendererSettings.rendererCallBacks)||void 0===i?void 0:i.onAddAnnotationsRange,e.renderSettings.localizedStrings,this.metricsUtils);const v=null===(a=e.rendererSettings.rendererCallBacks)||void 0===a?void 0:a.onEndOfBook,y=null!==(c=e.rendererSettings.scrollContainer)&&void 0!==c?c:e.rendererSettings.container;this.viewerConfig={onReadingStatusChanged:v?e=>{v((0,s.JC)(e))}:void 0,onZoom:t=>{var n,i;return null===(i=null===(n=e.rendererSettings.rendererCallBacks)||void 0===n?void 0:n.onZoom)||void 0===i?void 0:i.call(n,t)},viewerRoot:e.rendererSettings.container,scrollContainer:e.rendererSettings.scrollContainer,onClick:null===(u=e.rendererSettings.rendererCallBacks)||void 0===u?void 0:u.onClick,onDoubleClick:null===(l=e.rendererSettings.rendererCallBacks)||void 0===l?void 0:l.onDoubleClick},this.renderSettings=(0,r.q)(C,e.renderSettings,this.getSupportedSettings()),this.onPositionChange=null===(h=e.rendererSettings.rendererCallBacks)||void 0===h?void 0:h.onPositionChange,this.onInitialization=null===(d=e.rendererSettings.rendererCallBacks)||void 0===d?void 0:d.onInitialization,y.addEventListener("scroll",(()=>{var t,n;return null===(n=null===(t=e.rendererSettings.rendererCallBacks)||void 0===t?void 0:t.onScroll)||void 0===n?void 0:n.call(t)}))}render(){return P(this,void 0,void 0,(function*(){if(this.initializationPromise)return this.initializationPromise;yield this.getMetadata();let e=!1;return this.initializationPromise=new Promise(((t,n)=>{this.viewerConfig.onRenderStatusChanged=(i,r)=>{var a,c;this.status=(0,s.BC)(i),e||(i===s.Z0.READY?(this.onInitialization&&this.onInitialization(o.QS.STATUS_IDLE),e=!0,null===(a=this.metricsUtils)||void 0===a||a.rendererInitialized(!0),t()):i===s.Z0.ERROR&&(this.onInitialization&&this.onInitialization(o.QS.STATUS_ERROR),e=!0,null===(c=this.metricsUtils)||void 0===c||c.rendererInitialized(!1),n(new Error(`Failed to initialize the print renderer. ${r}`))))},this.bookViewerPrint=new i.BookViewerPrint(this.viewerConfig,this.bookService,this.renderSettings)})),this.initializationPromise}))}goToPosition(e){var t,n;return P(this,void 0,void 0,(function*(){yield this.render(),yield null===(t=this.bookViewerPrint)||void 0===t?void 0:t.goToPosition(e),null===(n=this.onPositionChange)||void 0===n||n.call(this,e,e),e===i.SURPRISE_ME_POSITION&&this.emitSurpriseMeMetric()}))}getSettings(){return Object.assign({},this.renderSettings)}updateSettings(e){return P(this,void 0,void 0,(function*(){this.renderSettings=(0,r.q)(this.renderSettings,e,this.getSupportedSettings()),this.bookViewerPrint&&this.bookViewerPrint.applyRenderSettings(this.renderSettings)}))}getMetadata(){return this.bookService.getMetadata()}getTableOfContents(){return this.bookService.getTableOfContents()}getSupportedSettings(){return{navigationModes:["Paginated"],navigationDirections:["Horizontal"],marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,viewportHeight:!0,viewportWidth:!0,viewportTopOffset:!0,colorThemes:[],fontFamilies:[],fontSize:!1,maxNumberColumns:!1,isRendererPropagatedZoom:!0,pageStyle:!0,zoomPercent:!0,localizedStrings:!0,animatePageTurn:!1,guidedViewSettings:!1,zoomViewSettings:!1,viewingMode:!1,wordsOnScreen:!1}}getStatus(){return this.status}getReadingLocation(){return Promise.resolve(void 0)}canChangeUserSettings(){return!1}canAnnotate(){return!0}setAnnotations(e){var t,n;e.length||(null===(t=this.bookViewerPrint)||void 0===t||t.clearHighlights(),this.cachedAnnotationPages=new Set);const i=e.filter((e=>{var t;return!(null===(t=this.cachedAnnotationPages)||void 0===t?void 0:t.has(e.position))})),r=(0,k._V)(i);null===(n=this.bookViewerPrint)||void 0===n||n.addHighlights(r),i.forEach((e=>this.cachedAnnotationPages.add(e.position)))}canSearch(){var e,t;return null!==(t=null===(e=this.bookService.getManifestIfAvailable())||void 0===e?void 0:e.searchable)&&void 0!==t&&t}}},818:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KaramelBookRenderer:()=>y,MINIMUM_SIDE_MARGIN:()=>m});var i=n(762),r=n(389),o=n(620);class s extends Error{constructor(...e){super(...e)}}class a{static convertToC(e){const t=[];return e.entries&&e.entries.forEach((e=>{t.push(this.convertToC(e))})),{position:e.tocPositionId,label:e.label,disabled:!1,subitems:t}}static fontChoiceToFontFamily(e){return"AmazonEmber"===e?"Amazon Ember":e}static getKaramelContentType(e){switch(e){case"EBOK":return"FullBook";case"EBSP":return"Sample";default:throw new s("Content Type not supported in Karamel")}}static getKaramelTheme(e){var t;return null!==(t=a.THEME_MAP.get(e))&&void 0!==t?t:"default"}static mapNavigationMode(e){return a.NAVIGATION_MODE_MAP[e]}static mapNavigationDirection(e){return a.NAVIGATION_DIRECTION_MAP[e]}}a.THEME_MAP=new Map([["White","default"],["Night","night"],["Sepia","sepia"],["Green","green"],["Dark","dark"],["Grey","grey"]]),a.NAVIGATION_MODE_MAP={Paginated:0,Scroll:1},a.NAVIGATION_DIRECTION_MAP={Horizontal:"Horizontal",Vertical:"Vertical"};var c=n(479),u=n(547),l=n(902);const h={navigationModes:["Paginated","Scroll"],navigationDirections:["Horizontal","Vertical"],chevronStyle:!0,marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,viewportHeight:!0,viewportWidth:!0,viewportTopOffset:!1,colorThemes:["White","Night","Dark","Green","Sepia","Grey"],fontFamilies:["Bookerly","AmazonEmber","OpenDyslexic","TBMincho","TBGothic","STHeitiSC","STSongSC","STHeitiTC","STSongTC"],fontSize:!0,maxNumberColumns:!0,isRendererPropagatedZoom:!1,pageStyle:!1,zoomPercent:!1,animatePageTurn:!0,guidedViewSettings:!0,zoomViewSettings:!0,viewingMode:!0,wordsOnScreen:!0},d={fontFamilies:[],fontSize:!1,wordsOnScreen:!1},f={navigationMode:"Paginated",navigationDirection:"Horizontal",marginTop:20,marginRight:20,marginBottom:20,marginLeft:20,viewportHeight:400,viewportWidth:600,colorTheme:"White",fontFamily:"Bookerly",fontSize:11,maxNumberColumns:2,viewingMode:"FullPage",guidedViewSettings:{isEnabled:!0}};var p=n(597),g=n(166),v=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const m=20;class y{constructor(e){this.renderSettings=f,this.renderSettings=(0,o.q)(f,e.renderSettings,h),this.container=e.rendererSettings.container,this.setMargins(this.renderSettings),this.options=this.constructClientOptions(Object.assign(Object.assign({},e),{renderSettings:Object.assign(Object.assign({},this.renderSettings),{marginRight:m,marginLeft:m,viewportWidth:this.renderSettings.viewportWidth-this.renderSettings.marginLeft-this.renderSettings.marginRight})})),this.client=i.DefaultKaramelClientFactory.build(this.options),this.client&&e.rendererSettings.rendererCallBacks&&this.wireCallbacksToClientEvents(this.client,e.rendererSettings.rendererCallBacks),"EBSP"===e.bookInformation.contentType&&(this.tocPromise=g.Xi.getToC(e.bookInformation.asin,e.bookInformation.revision))}goToPosition(e){return v(this,void 0,void 0,(function*(){yield this.client.goToPositionId(e)}))}render(){return v(this,void 0,void 0,(function*(){return this.client.goToPositionId()}))}getSettings(){return Object.assign({},this.renderSettings)}setMargins(e){this.container.style.left=e.marginLeft+"px",this.container.style.width=e.viewportWidth-e.marginLeft-e.marginRight+"px",this.container.style.top=e.marginTop+"px",this.container.style.height=e.viewportHeight-e.marginTop-e.marginBottom+"px"}updateSettings(e){return v(this,void 0,void 0,(function*(){const t=this.renderSettings.marginLeft!==e.marginLeft||this.renderSettings.marginRight!==e.marginRight||this.renderSettings.marginTop!==e.marginTop||this.renderSettings.marginBottom!==e.marginBottom,n=this.renderSettings.viewportWidth!==e.viewportWidth||this.renderSettings.viewportHeight!==e.viewportHeight;this.renderSettings=(0,o.q)(this.renderSettings,e,this.getSupportedSettings()),(t||n)&&this.setMargins(this.renderSettings);const i=Object.assign(Object.assign({},this.options.bookRenderOptions),{marginTop:0,marginRight:(0,c.oj)(m,y.DEFAULT_DPI),marginBottom:0,marginLeft:(0,c.oj)(m,y.DEFAULT_DPI),pageWidth:this.renderSettings.viewportWidth-this.renderSettings.marginLeft-this.renderSettings.marginRight,pageHeight:this.renderSettings.viewportHeight-this.renderSettings.marginTop-this.renderSettings.marginBottom,fontFamily:a.fontChoiceToFontFamily(this.renderSettings.fontFamily),fontSize:(0,c.oj)(this.renderSettings.fontSize,y.DEFAULT_DPI),theme:a.getKaramelTheme(this.renderSettings.colorTheme),maxNumberColumns:this.renderSettings.maxNumberColumns,viewingMode:this.renderSettings.viewingMode}),r=Object.assign(Object.assign({},this.options.guidedViewOptions),{isEnabled:this.renderSettings.guidedViewSettings.isEnabled,animationDuration:this.renderSettings.guidedViewSettings.animationDuration,letterboxingColor:this.renderSettings.guidedViewSettings.letterboxingColor,showFullPageOnEnter:this.renderSettings.guidedViewSettings.showFullPageOnEnter,showFullPageOnExit:this.renderSettings.guidedViewSettings.showFullPageOnExit}),s=this.renderSettings.zoomViewSettings?Object.assign(Object.assign({},this.options.zoomViewOptions),{animationDuration:this.renderSettings.zoomViewSettings.animationDuration,maxZoomRatio:this.renderSettings.zoomViewSettings.maxZoomRatio,initialZoomRatio:this.renderSettings.zoomViewSettings.initialZoomRatio,doubleClickZoomRatio:this.renderSettings.zoomViewSettings.doubleClickZoomRatio}):void 0;this.options=Object.assign(Object.assign({},this.options),{navigationMode:a.mapNavigationMode(this.renderSettings.navigationMode),navigationDirection:a.mapNavigationDirection(this.renderSettings.navigationDirection),animatePageTurn:this.renderSettings.animatePageTurn,bookRenderOptions:i,guidedViewOptions:r,zoomViewOptions:s}),yield this.client.updateRenderOptions({bookRenderOptions:this.options.bookRenderOptions,navigationOptions:{navigationMode:this.options.navigationMode,navigationDirection:this.options.navigationDirection,animatePageTurn:this.options.animatePageTurn},guidedViewOptions:this.options.guidedViewOptions,zoomViewOptions:this.options.zoomViewOptions})}))}getSupportedSettings(){var e,t;return"FixedFormat"===(null===(e=this.metadata)||void 0===e?void 0:e.bookType)?Object.assign(Object.assign({},h),d):null!=(null===(t=this.metadata)||void 0===t?void 0:t.language)?Object.assign(Object.assign({},h),{fontFamilies:(0,p.u)(h.fontFamilies,this.metadata.language)}):h}clearSelection(){return v(this,void 0,void 0,(function*(){yield this.client.clearSelection()}))}setAnnotations(e){const t=e.map((e=>class{static convertAnnotationToDecoration(e){return{startPositionId:e.start,endPositionId:e.end,type:this.getDecorationType(e.type),highlightColor:e.highlightColor}}static getDecorationType(e){switch(e){case u.J.Bookmark:return"bookmark";case u.J.Highlight:return"highlight";case u.J.Note:return"note";case u.J.SearchResult:return"search";default:throw new Error(`Annotation type ${e} not supported`)}}}.convertAnnotationToDecoration(e)));this.client.setDecorations(t)}getMetadata(){return v(this,void 0,void 0,(function*(){const e=yield this.client.getMetadata(),t=yield this.client.getManifest(),n="rtl"===e.progressionDirection?"rtl":"ltr",i={language:e.lang,asin:this.options.asin,srl:e.srl,pageProgressionDirection:n,navigationDirection:n,bookType:t.bookType,acr:t.acr,firstPosition:e.firstPositionId,endPosition:e.lastPositionId,publisherPanel:t.publisherPanel};return this.metadata=i,i}))}getTableOfContents(){return v(this,void 0,void 0,(function*(){if(this.tocPromise)try{return yield this.tocPromise}catch(e){this.tocPromise=void 0}return this.client.getTableOfContents().map((e=>a.convertToC(e)))}))}wireCallbacksToClientEvents(e,t){e.on("onPageChange",(e=>{t&&t.onPositionChange&&t.onPositionChange(e.startPositionId,e.endPositionId,e.wordsInPage)})),e.on("onClick",(e=>{(null==t?void 0:t.onClick)&&t.onClick(e)})),e.on("onDoubleClick",(e=>{(null==t?void 0:t.onDoubleClick)&&t.onDoubleClick(e)})),e.on("onSwipeLeft",(e=>{(null==t?void 0:t.onSwipeLeft)&&t.onSwipeLeft(e)})),e.on("onSwipeRight",(e=>{(null==t?void 0:t.onSwipeRight)&&t.onSwipeRight(e)})),e.on("onSwipeUp",(e=>{(null==t?void 0:t.onSwipeUp)&&t.onSwipeUp(e)})),e.on("onSwipeDown",(e=>{(null==t?void 0:t.onSwipeDown)&&t.onSwipeDown(e)})),e.on("onScroll",(()=>{(null==t?void 0:t.onScroll)&&t.onScroll()})),e.on("onHighlightClick",(e=>{(null==t?void 0:t.onHighlightClick)&&t.onHighlightClick(e.highlightStartPosition,e.highlightEndPosition,e.highlightRangeClass)})),e.on("onNoteClick",(e=>{(null==t?void 0:t.onNoteClick)&&t.onNoteClick(e)})),e.on("onSelectionEnded",(e=>{t&&t.onSelectionEnded&&t.onSelectionEnded(e.tokens,e.container,e.selectionClass)})),e.on("onInBookLinkClick",(e=>{t&&t.onInternalLinkClick&&t.onInternalLinkClick(e)})),e.on("onPositionOutOfRange",(e=>{t&&t.onPositionOutOfRange&&t.onPositionOutOfRange(e)})),e.on("onViewingModeChange",(e=>{t&&t.onViewingModeChange&&t.onViewingModeChange(e)})),e.on("onExceedingBoundsChanged",(e=>{t&&t.onExceedingBoundsChanged&&t.onExceedingBoundsChanged(e.exceeding)}))}constructClientOptions(e){var t,n,o;const s=e.bookInformation,u=e.renderSettings,l=e.rendererSettings,h=null!==(n=null===(t=l.renderingService)||void 0===t?void 0:t.getServiceFetch())&&void 0!==n?n:l.serviceFetch,d=new i.ServiceBookProviderFactory(a.getKaramelContentType(s.contentType),(e=>{if(h)return h(r.g4.KARAMEL,e);throw new Error("Missing Service Fetch")}),l.rendererMetricsService,null===(o=l.renderingService)||void 0===o?void 0:o.getCdnPrefetchInfo());let f="2.0";l.imageSecurityEnabled&&(f="2.5"),l.requireGuidedViewMetadata&&(f="3.0");const p=this.renderSettings.zoomViewSettings?{animationDuration:this.renderSettings.zoomViewSettings.animationDuration,maxZoomRatio:this.renderSettings.zoomViewSettings.maxZoomRatio,initialZoomRatio:this.renderSettings.zoomViewSettings.initialZoomRatio,doubleClickZoomRatio:this.renderSettings.zoomViewSettings.doubleClickZoomRatio}:void 0;return{asin:s.asin,revision:s.revision,container:l.container,fullPage:l.fullPage,interactionLayer:l.interactionLayer,navigationMode:a.mapNavigationMode(u.navigationMode),navigationDirection:a.mapNavigationDirection(u.navigationDirection),bookProviderFactory:d,animatePageTurn:u.animatePageTurn,enableInteractivity:l.enableInteractivity,enablePinchHandler:l.enablePinchHandler,metricsService:l.rendererMetricsService,requireHighResolutionImages:l.requireHighResolutionImages,renderBatchSize:l.renderBatchSize,bundleImages:l.bundleImages,mountPageCanvas:l.mountPageCanvas,canvasPoolSize:l.canvasPoolSize,canvasPixelRatio:l.canvasPixelRatio,enablePagePanning:l.enablePagePanning,bookRenderOptions:{version:f,dpi:y.DEFAULT_DPI,fontSize:(0,c.oj)(u.fontSize,y.DEFAULT_DPI),fontFamily:a.fontChoiceToFontFamily(u.fontFamily),lineHeight:1.4,marginTop:0,marginBottom:0,marginLeft:(0,c.oj)(u.marginLeft,y.DEFAULT_DPI),marginRight:(0,c.oj)(u.marginRight,y.DEFAULT_DPI),pageWidth:u.viewportWidth,pageHeight:u.viewportHeight-u.marginTop-u.marginBottom,includeLocationMap:!0,maxNumberColumns:u.maxNumberColumns,theme:a.getKaramelTheme(u.colorTheme)},skipNavigationToInternalLink:e.skipNavigationToInternalLink,guidedViewOptions:{isEnabled:this.renderSettings.guidedViewSettings.isEnabled,animationDuration:this.renderSettings.guidedViewSettings.animationDuration,letterboxingColor:this.renderSettings.guidedViewSettings.letterboxingColor,showFullPageOnEnter:this.renderSettings.guidedViewSettings.showFullPageOnEnter,showFullPageOnExit:this.renderSettings.guidedViewSettings.showFullPageOnExit},zoomViewOptions:p}}getPagePositionRange(){var e,t;return{startPosition:Number(null===(e=this.client.getCurrentPage())||void 0===e?void 0:e.startPositionId),endPosition:Number(null===(t=this.client.getCurrentPage())||void 0===t?void 0:t.endPositionId)}}canAnnotate(){return!0}getPositionMapper(){return new l.w(this.client.getLocationMap())}goToNextPage(){return this.client.nextPage()}goToPreviousPage(){return this.client.previousPage()}hasNextPage(){return this.client.hasNextPage()}hasPreviousPage(){return this.client.hasPreviousPage()}canSearch(){var e;return"FixedFormat"!==(null===(e=this.metadata)||void 0===e?void 0:e.bookType)}isReady(){return this.client.isReady()}disablePinchHandler(){return this.client.disablePinchHandler()}enablePinchHandler(){return this.client.enablePinchHandler()}}y.DEFAULT_DPI=160},945:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StuccoBookRenderer:()=>L});var i,r,o,s=n(616),a=n.n(s);!function(e){e[e.STATUS_ERROR=0]="STATUS_ERROR",e[e.STATUS_LOADING=1]="STATUS_LOADING",e[e.STATUS_PAGINATING=2]="STATUS_PAGINATING",e[e.STATUS_PAGINATED=3]="STATUS_PAGINATED",e[e.STATUS_DONE=4]="STATUS_DONE"}(i||(i={})),function(e){e[e.ERROR_LOAD_FAILURE=0]="ERROR_LOAD_FAILURE",e[e.ERROR_CONTAINER_NOT_FOUND=1]="ERROR_CONTAINER_NOT_FOUND",e[e.ERROR_UNABLE_TO_GET_BOOK_CONTENT=2]="ERROR_UNABLE_TO_GET_BOOK_CONTENT",e[e.ERROR_UNABLE_TO_GET_WORD_RECTS=3]="ERROR_UNABLE_TO_GET_WORD_RECTS",e[e.ERROR_TIMEOUT_WHILE_LOADING_BOOK_CONTENT=4]="ERROR_TIMEOUT_WHILE_LOADING_BOOK_CONTENT",e[e.ERROR_UNKNOWN=5]="ERROR_UNKNOWN"}(r||(r={})),function(e){e.PAGE_LOAD_INCOMPLETE_FLAG_NAME="PageLoadIncomplete"}(o||(o={}));var c=n(124),u=n(87);class l extends c.Jf{getFontFaces(e){return this.getFontIndex().then((t=>Promise.all(t[e].map((t=>{const n=this.selectFontFormat(t.fontFiles),i=new URL(n.url);i.searchParams.set("f","2");const r=n.url?i.href:n.fileName?n.fileName:"";return(0,u.A_)(r,{}).then((e=>e.blob())).then((n=>({fontFamily:e,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontStretch:t.fontStretch,fontData:n,fontMetrics:t.fontMetrics})))})))))}}var h=n(620),d=n(389),f=n(387),p=n(492),g=n(713),v=n(597),m=n(479),y=n(556);class w{constructor(e,t){this.locationConverter=e,this.totalNavigationUnits=t}convertLocationToPosition(e){return(0,m.tO)(this.locationConverter.positionFromLocation(e))}convertPositionToLocation(e){return(0,m.tO)(this.locationConverter.locationFromPosition(e))}convertPageToPosition(e){return Promise.resolve(0)}convertPositionToPage(e){return Promise.resolve("")}getPageIndexInNavigationUnits(e){return 0}getNavigationUnitInitialPositionByIndex(e){return 0}getNavigationUnitLabelByIndex(e){}getLastNavigationUnitStartPosition(){return this.convertLocationToPosition(this.totalNavigationUnits)}getLastLocationPosition(){return this.convertLocationToPosition(this.totalNavigationUnits)}getMaximumPageLabel(){return""}getTotalLocations(){return this.totalNavigationUnits}getTotalNavigationUnits(){return this.totalNavigationUnits}getNavigationUnitTypes(){return[y.g.Location]}validatePage(e){return!1}validateLocation(e){return e>0&&e<=this.totalNavigationUnits}}var b=n(275);const _={navigationModes:["Paginated"],navigationDirections:["Horizontal"],marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,viewportHeight:!0,viewportWidth:!0,viewportTopOffset:!1,colorThemes:["White"],fontFamilies:[],fontSize:!1,maxNumberColumns:!0,isRendererPropagatedZoom:!1,pageStyle:!1,zoomPercent:!1,animatePageTurn:!1,guidedViewSettings:!1,zoomViewSettings:!1,viewingMode:!1,wordsOnScreen:!1},k=["Bookerly","AmazonEmber","TBMincho","TBGothic","STHeitiSC","STSongSC","STHeitiTC","STSongTC"];var E=n(567),S=n(906),T=n(918),P=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const C=[6,9,12,14,16,18,20],x={columns:{num:2,gap:30},backgroundColor:"white",textColor:"black"},I="next",R="prev",O={navigationMode:"Paginated",navigationDirection:"Horizontal",colorTheme:"White",fontFamily:void 0,fontSize:17.6,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,maxNumberColumns:2},A=e=>{const t=[];for(const n of C){const i=parseFloat((e*n/14).toFixed(1));t.push(i)}return{fontSizes:t,fontSizeUnits:"px"}},$=e=>"data:application/font-woff2;base64"+e.substring(e.indexOf(","));class L{constructor(e){var t,n,r,o,s;this.renderSettings=O,this.requestedSettings=O,this.supportedSettings=_,this.stuccoInitialized=!1,this.stuccoStatus=i.STATUS_LOADING,this.fontStatus=c.ww.STATUS_LOADING_FONT_DONE,this.refreshForced=!1,this.pagePositionRange=void 0,this.zoomableList=null,this.currentZoomableIndex=0,this.zoomedState=!1,this.zoomableDirection=null,this.pendingOperations=[],this.bookInformation=e.bookInformation,this.factoryOptions=e,this.stucco=KindleRenderer;const a=this.factoryOptions.rendererSettings.rendererMetricsService;this.metricsUtils=a&&new S.J(a,E.P.STUCCO),this.endOfBookCallback=null===(t=e.rendererSettings.rendererCallBacks)||void 0===t?void 0:t.onEndOfBook,this.onPositionChange=null===(n=e.rendererSettings.rendererCallBacks)||void 0===n?void 0:n.onPositionChange,this.onRendererStatusChanged=null===(r=e.rendererSettings.rendererCallBacks)||void 0===r?void 0:r.onRendererStatusChanged,this.onInitialization=null===(o=e.rendererSettings.rendererCallBacks)||void 0===o?void 0:o.onInitialization,this.onFontLoadingStatusChanged=null===(s=e.rendererSettings.rendererCallBacks)||void 0===s?void 0:s.onFontLoadingStatusChanged,this.renderId=e.rendererSettings.container.id,this.container=e.rendererSettings.container,this.fontLoader=new l,this.requestedSettings=e.renderSettings,this.renderSettings=(0,h.q)(this.renderSettings,e.renderSettings,this.getSupportedSettings()),this.updateMargins(this.renderSettings)}getMetadata(){return this.getStuccoMetadata().then((e=>{var t,n,i,r,o,s,a,c,u,l,h;const d="comic"===(null===(n=null===(t=e.headerMetadata)||void 0===t?void 0:t.bookType)||void 0===n?void 0:n.toLowerCase())||"children"===(null===(r=null===(i=e.headerMetadata)||void 0===i?void 0:i.bookType)||void 0===r?void 0:r.toLowerCase()),f=L.getPageProgressionDirection(e);return{asin:e.asin,comicBook:"comic"===(null===(s=null===(o=e.headerMetadata)||void 0===o?void 0:o.bookType)||void 0===s?void 0:s.toLowerCase()),childrenBook:"children"===(null===(c=null===(a=e.headerMetadata)||void 0===a?void 0:a.bookType)||void 0===c?void 0:c.toLowerCase()),coverPosition:e.positions.cover,coverUrl:e.cover,endPosition:e.endPosition,language:L.getLanguage(e),pageProgressionDirection:f,navigationDirection:f,srl:(null===(l=null===(u=this.bookInformation)||void 0===u?void 0:u.stuccoBookInformation)||void 0===l?void 0:l.startReadingPosition)||e.positions.srl,startPosition:e.startPosition,regionMagnification:"true"===(null===(h=e.headerMetadata)||void 0===h?void 0:h.regionMagnification),bookType:d?"FixedFormat":"Reflowable"}}))}getCapabilities(){return this.getStuccoMetadata().then((e=>{var t,n;if("true"===(null===(t=e.headerMetadata)||void 0===t?void 0:t.fixedLayout)){let t=d.Wi.FixedFormat|d.Wi.Paginated;return"true"===(null===(n=e.headerMetadata)||void 0===n?void 0:n.regionMagnification)&&(t|=d.Wi.ZoomableContent),t}return d.Wi.Reflowable|d.Wi.Paginated|d.Wi.TwoPageMode}))}getTableOfContents(){return this.getStuccoBookInfoProviderFactory().then((e=>{let t=[];return e.getManifest((n=>{if(n.ncxResource){const i=n.resourceManifest[n.ncxResource.toString()].name;let r={};e.getResourceUrls((e=>{r=e}),(()=>{throw new Error("Failed to get resource URLs.")}),[i]),t=this.getTocItems(r[i])}}),(()=>{throw new T.$z("Failed to get book manifest.",E.P.STUCCO)})),t}))}render(){return P(this,void 0,void 0,(function*(){yield this.initializeStuccoData();let e=!1;return new Promise(((t,n)=>{var r,o;this.renderSettings.fontFamily||(this.renderSettings.fontFamily=(e=>{var t;const n=null===(t=null==e?void 0:e.headerMetadata)||void 0===t?void 0:t.app_contentLanguageTag;return v.g(n||null,null)})(this.stuccoMetadata));const s=this.bookInformation,a=this.bookInfoProviderFactory,c=jQuery.Deferred().resolve(null===(r=s.stuccoBookInformation)||void 0===r?void 0:r.startReadingPosition),u={version:"99.0",bookInfo:a,containerId:this.renderId,startingPositionDfd:c.promise()},l={statusCallback:r=>P(this,void 0,void 0,(function*(){var o,s,a,c;this.setStuccoStatus(r.status),this.zoomedState&&r.status===i.STATUS_DONE&&this.activateZoomableOnPageTurn(),e||r.status!==i.STATUS_DONE&&r.status!==i.STATUS_ERROR||(r.status===i.STATUS_DONE?(this.onInitialization&&this.onInitialization(d.QS.STATUS_IDLE),this.handlePositionChanges(),null===(o=this.metricsUtils)||void 0===o||o.rendererInitialized(!0),t(),yield this.getFontFamilySettings(this.renderSettings.fontFamily)):(this.onInitialization&&this.onInitialization(d.QS.STATUS_ERROR),null===(s=this.metricsUtils)||void 0===s||s.rendererInitialized(!1),n(new Error(`Failed to initialize Stucco renderer. Stucco error id: ${null!==(a=r.errorCode)&&void 0!==a?a:"unknown"}. Stucco error msg: ${JSON.stringify(null!==(c=r.errorMsg)&&void 0!==c?c:"unknown")}.`))),this.zoomableList=this.stucco.getZoomableList(),e=!0),r.status===i.STATUS_DONE&&this.handlePositionChanges()})),contentInterfaceCallbacks:{gotoPosition:e=>P(this,void 0,void 0,(function*(){return yield this.goToPosition(e),e}))}},h=Object.assign(Object.assign(Object.assign({},x),A(this.renderSettings.fontSize)),{fontFamily:this.renderSettings.fontFamily,columns:{num:L.getNumberOfColumns(null!==(o=this.renderSettings.maxNumberColumns)&&void 0!==o?o:2,this.renderSettings.viewportWidth,this.renderSettings.viewportHeight),gap:30}});this.stucco.initialize(u,h,l,null)}))}))}redraw(){return new Promise((e=>{this.stucco.onWindowResize(),e()}))}clear(){this.stucco&&this.stucco.shutdown()}goToPosition(e){return P(this,void 0,void 0,(function*(){this.stuccoInitialized||(yield this.render()),this.stucco.gotoPosition(e)}))}goToNextPage(){let e=!0;if(this.zoomedState&&this.zoomableList?e=this.goToNextZoomable():this.isRendererReady()&&!this.hasNextPage()?this.endOfBookCallback&&this.endOfBookCallback(d.Ch.END):(e=this.stucco.nextScreen(),this.clearZoomables()),this.hasNextPage()||this.getStatus()===d.QS.STATUS_LOADING){if(e)return Promise.resolve();{const e=new b.B;return this.pendingOperations.push(e),e.getPromise()}}return Promise.reject()}goToPreviousPage(){let e=!0;if(this.zoomedState&&this.zoomableList?e=this.goToPrevZoomable():(this.endOfBookCallback&&this.endOfBookCallback(d.Ch.READING),e=this.stucco.previousScreen(),this.clearZoomables()),this.hasPreviousPage()||this.getStatus()===d.QS.STATUS_LOADING){if(e)return Promise.resolve();{const e=new b.B;return this.pendingOperations.push(e),e.getPromise()}}return Promise.reject()}hasNextPage(){return this.zoomedState&&this.zoomableList&&this.zoomableList.length>0&&this.currentZoomableIndex<this.zoomableList.length-1||this.stucco.hasNextScreen()}hasPreviousPage(){return this.zoomedState&&this.zoomableList&&this.zoomableList.length>0&&this.currentZoomableIndex>0||this.stucco.hasPreviousScreen()}updateSettings(e){var t;return P(this,void 0,void 0,(function*(){this.requestedSettings=Object.assign(Object.assign({},this.requestedSettings),e);const n=(0,h.q)(this.renderSettings,e,this.getSupportedSettings());n.fontFamily&&n.fontSize&&(yield this.setFont(n.fontFamily,n.fontSize));const i=n.colorTheme||"White",r={columns:{num:L.getNumberOfColumns(null!==(t=n.maxNumberColumns)&&void 0!==t?t:2,n.viewportWidth,n.viewportHeight),gap:30},backgroundColor:f.p[i],textColor:f.X[i]},o=this.renderSettings.marginTop!==n.marginTop||this.renderSettings.marginBottom!==n.marginBottom||this.renderSettings.marginLeft!==n.marginLeft||this.renderSettings.marginRight!==n.marginRight;o&&this.updateMargins(n),(o||this.renderSettings.viewportWidth!==n.viewportWidth||this.renderSettings.viewportHeight!==n.viewportHeight)&&this.stucco.onWindowResize(),this.renderSettings=n,this.stucco.updateSettings(r)}))}updateMargins(e){this.container.style.top=e.marginTop+"px",this.container.style.paddingBottom=e.marginTop+e.marginBottom+"px",this.container.style.left=e.marginLeft+"px",this.container.style.paddingRight=e.marginLeft+e.marginRight+"px"}setFont(e,t){return P(this,void 0,void 0,(function*(){e===this.renderSettings.fontFamily&&t===this.renderSettings.fontSize||(this.renderSettings.fontFamily=e,this.renderSettings.fontSize=t,this.setFontLoadingStatus(c.ww.STATUS_LOADING_FONT),yield this.getFontFamilySettings(e).then((e=>{this.setFontLoadingStatus(c.ww.STATUS_LOADING_FONT_DONE),this.stucco.updateSettings(Object.assign(Object.assign({},e),A(t)))})))}))}getSettings(){return Object.assign({},this.renderSettings)}getSupportedSettings(){return this.supportedSettings}updateSupportedSettings(e){this.supportedSettings=e,this.updateSettings(this.requestedSettings)}updateSupportedSettingsFromMetadata(){var e;return P(this,void 0,void 0,(function*(){const t=yield this.getStuccoMetadata(),n="true"===(null===(e=t.headerMetadata)||void 0===e?void 0:e.fixedLayout);this.updateSupportedSettings(Object.assign(Object.assign(Object.assign({},this.supportedSettings),n?{}:(e=>{const t=(0,v.u)(k,e);return t.length>0?{fontFamilies:t,fontSize:!0}:{}})(L.getLanguage(t))),{maxNumberColumns:n}))}))}handleClick(e,t){return this.stucco.handleClick(e,t)}handleDoubleClick(e,t){this.clickZoomableContent(e,t)}hasZoomableContent(){return!!this.zoomableList&&this.zoomableList.length>0}isZoomed(){return this.zoomedState}getStatus(){return L.convertRendererStatus(this.stuccoStatus,this.fontStatus)}retryStuccoIntialization(e,t=5,n=1e3){return new Promise(((i,r)=>{e().then(i).catch((o=>{setTimeout((()=>{1!==t?this.retryStuccoIntialization(e,t-1,n).then(i,r):r(o)}),n)}))}))}getManifestCallback(e){return P(this,void 0,void 0,(function*(){return new Promise(((t,n)=>e.getMetadata((i=>P(this,void 0,void 0,(function*(){var r,o,s,a,c,u;i?(this.stuccoMetadata=i,this.locationConverter=e.getLocationConverter(),this.stuccoMetadata.endLocation=null!==(u=null!==(o=null===(r=this.stuccoMetadata.locationsInfo)||void 0===r?void 0:r.numOfLocations)&&void 0!==o?o:yield null===(s=this.locationConverter)||void 0===s?void 0:s.locationFromPosition(null!==(c=null===(a=this.stuccoMetadata)||void 0===a?void 0:a.endPosition)&&void 0!==c?c:0))&&void 0!==u?u:0,this.updateSupportedSettingsFromMetadata(),t()):n(new Error("Failed to get stucco metadata: metadata object is undefined."))}))),(()=>{n(new Error("Failed to get stucco metadata."))}))))}))}initializeStuccoData(){return this.stuccoDataPromise||(this.stuccoDataPromise=new Promise(((e,t)=>{var n,i;const r=this.factoryOptions,o=null!==(i=null===(n=r.rendererSettings.renderingService)||void 0===n?void 0:n.getServiceFetch())&&void 0!==i?i:r.rendererSettings.serviceFetch,s=e=>{if(o)return o(d.g4.STUCCO,e);throw new Error("Missing Service Fetch")};this.bookInformation.asin||t(new Error("asin cannot be empty"));const a=KindleReaderBookInfoProviderFactory(),c=this.bookInformation,{stuccoBookInformation:u}=c,l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(c,["stuccoBookInformation"]);this.retryStuccoIntialization((()=>a.initialize(Object.assign(Object.assign(Object.assign({},l),u),{srl:null==u?void 0:u.startReadingPosition}),s))).then((()=>{this.bookInfoProviderFactory=a,this.getManifestCallback(a).then(e).catch(t)})).catch((e=>t(new Error("Failed to initialize stucco book info provider factory. "+JSON.stringify(e)))))}))),this.stuccoDataPromise}getStuccoMetadata(){return this.stuccoMetadata?Promise.resolve(this.stuccoMetadata):this.initializeStuccoData().then((()=>this.stuccoMetadata))}getStuccoBookInfoProviderFactory(){return this.bookInfoProviderFactory?Promise.resolve(this.bookInfoProviderFactory):this.initializeStuccoData().then((()=>this.bookInfoProviderFactory))}getTocItems(e){const t=[];return(new DOMParser).parseFromString(e,"text/xml").querySelectorAll("navPoint").forEach((e=>{const n=e.querySelector(":scope > navLabel > text"),i=e.querySelector(":scope > content");if(n&&i&&i.hasAttribute("src")){const e=n.textContent,r=parseInt(i.getAttribute("src"),10);e&&a()(r)&&t.push({label:e,position:r,disabled:!1})}})),t}clickZoomableContent(e,t){var n,i,r,o;const s=this.stucco.getZoomableAt(e,t);this.zoomedState&&(this.zoomableList&&this.zoomableList.length&&this.zoomableList[this.currentZoomableIndex]&&this.handleZoomableDeactivate(this.zoomableList[this.currentZoomableIndex]),this.currentZoomableIndex=-1,this.zoomedState=!1,null===(n=this.metricsUtils)||void 0===n||n.recordCountMetrics(E.P.ZOOMABLE_EXIT)),s&&s.activate?(this.zoomableList&&this.zoomableList.length||this.prepareZoomables(),this.zoomableList&&this.zoomableList.length&&(this.currentZoomableIndex=this.zoomableList.findIndex((e=>e.isSame(s))),this.zoomableList[this.currentZoomableIndex]&&(this.handleZoomableActivate(this.zoomableList[this.currentZoomableIndex]),this.zoomedState=!0,null===(i=document.getElementById(this.renderId))||void 0===i||i.setAttribute("zoomed","1"),null===(r=this.metricsUtils)||void 0===r||r.recordCountMetrics(E.P.ZOOMABLE_ENTER,1)),this.endOfBookCallback&&this.endOfBookCallback(d.Ch.READING))):null===(o=document.getElementById(this.renderId))||void 0===o||o.setAttribute("zoomed","0")}handleZoomableActivate(e){var t;try{e.activate()}catch(e){null===(t=this.metricsUtils)||void 0===t||t.recordCountMetrics(E.P.ZOOMABLE_CONTENT_ERROR),console.error("Failed to activate zoomable",e)}}handleZoomableDeactivate(e){var t;try{e.deactivate()}catch(e){null===(t=this.metricsUtils)||void 0===t||t.recordCountMetrics(E.P.ZOOMABLE_CONTENT_ERROR),console.error("Failed to deactivate zoomable",e)}}goToNextZoomable(){var e;return!!this.zoomableList&&(null===(e=this.metricsUtils)||void 0===e||e.recordCountMetrics(E.P.ZOOMABLE_NEXT),0===this.zoomableList.length?this.goToFirstZoomableOnNextPage():(this.handleZoomableDeactivate(this.zoomableList[this.currentZoomableIndex]),this.endOfBookCallback&&this.endOfBookCallback(d.Ch.READING),this.currentZoomableIndex<this.zoomableList.length-1?(this.handleZoomableActivate(this.zoomableList[++this.currentZoomableIndex]),!0):this.goToFirstZoomableOnNextPage()))}goToPrevZoomable(){var e;return!!this.zoomableList&&(null===(e=this.metricsUtils)||void 0===e||e.recordCountMetrics(E.P.ZOOMABLE_PREVIOUS),0===this.zoomableList.length?this.goToLastZoomableOnPrevPage():(this.handleZoomableDeactivate(this.zoomableList[this.currentZoomableIndex]),this.endOfBookCallback&&this.endOfBookCallback(d.Ch.READING),this.currentZoomableIndex>0?(this.handleZoomableActivate(this.zoomableList[--this.currentZoomableIndex]),!0):this.goToLastZoomableOnPrevPage()))}goToFirstZoomableOnNextPage(){if(this.clearZoomables(),this.stucco.hasNextScreen()){this.zoomableDirection=I;const e=this.stucco.nextScreen();return e&&this.activateZoomableOnPageTurn(),e}return this.endOfBookCallback&&(this.zoomedState=!1,this.endOfBookCallback(d.Ch.END)),!1}goToLastZoomableOnPrevPage(){if(this.clearZoomables(),this.hasPreviousPage()){this.zoomableDirection=R;const e=this.stucco.previousScreen();return e&&this.activateZoomableOnPageTurn(),e}return!1}clearZoomables(){this.zoomableList=null}prepareZoomables(){this.zoomableList=this.stucco.getZoomableList(),this.zoomedState=this.zoomedState&&!!this.zoomableList}activateZoomableOnPageTurn(){this.prepareZoomables(),this.zoomableList&&this.zoomableList.length>0&&(this.zoomableDirection===R?(this.currentZoomableIndex=this.zoomableList.length-1,this.handleZoomableActivate(this.zoomableList[this.currentZoomableIndex])):this.zoomableDirection===I&&(this.currentZoomableIndex=0,this.handleZoomableActivate(this.zoomableList[this.currentZoomableIndex])),this.zoomableDirection=null)}isRendererReady(){return this.stuccoStatus===i.STATUS_PAGINATED||this.stuccoStatus===i.STATUS_DONE}loadFontFaces(e){return this.fontLoader.getFontFaces(e).then((t=>Promise.all(t.map((t=>m.fL(t.fontData).then((n=>({fontFamily:e,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontStretch:t.fontStretch,fontDataUrl:$(n)})))))))).then((e=>{var t;return null===(t=this.metricsUtils)||void 0===t||t.loadedFonts(!0),this.onFontLoadingStatusChanged&&this.onFontLoadingStatusChanged(c.ww.STATUS_LOADING_FONT_DONE),e})).catch((()=>{var e;throw null===(e=this.metricsUtils)||void 0===e||e.loadedFonts(!1),this.onFontLoadingStatusChanged&&this.onFontLoadingStatusChanged(c.ww.STATUS_LOADING_FONT_ERROR),new Error("Failed to load fonts.")}))}getFontFamilySettings(e){return"TBGothic"!==e&&"TBMincho"!==e||!g.gn()&&!g.V5()?this.loadFontFaces(e).then((t=>({fontFamily:e,fontFaces:t}))):Promise.resolve({fontFamily:"TBGothic"===e?"Hiragino Sans":"Hiragino Mincho ProN",fontFaces:[]})}setFontLoadingStatus(e){this.fontStatus=e,this.resolveRendererStatus(this.stuccoStatus,this.fontStatus)}setStuccoStatus(e){if(this.stuccoStatus=e,this.stuccoStatus!==i.STATUS_DONE&&this.stuccoStatus!==i.STATUS_PAGINATED&&this.stuccoStatus!==i.STATUS_ERROR||(this.pendingOperations.forEach((e=>e.resolve())),this.pendingOperations.length=0),this.stuccoStatus===i.STATUS_ERROR){if(!this.stuccoInitialized&&!this.refreshForced)return this.refreshForced=!0,this.stucco.onWindowResize(),void this.resolveRendererStatus(this.stuccoStatus,this.fontStatus);const e=`pageFailedRendering: Stucco Error ${i.STATUS_ERROR}`;throw new Error(e)}this.stuccoStatus!==i.STATUS_DONE&&this.stuccoStatus!==i.STATUS_PAGINATED||(this.stuccoInitialized=!0),this.resolveRendererStatus(this.stuccoStatus,this.fontStatus)}resolveRendererStatus(e,t){const n=L.convertRendererStatus(e,t);this.onRendererStatusChanged&&this.onRendererStatusChanged(n)}static convertRendererStatus(e,t){let n;return n=e===i.STATUS_LOADING||e===i.STATUS_PAGINATING?d.QS.STATUS_LOADING:d.QS.STATUS_IDLE,n}static getPageProgressionDirection(e){var t,n;return(null===(t=e.headerMetadata)||void 0===t?void 0:t.app_PrimaryWritingMode)===p.l.VERTICAL_RTL||(null===(n=e.headerMetadata)||void 0===n?void 0:n.app_PrimaryWritingMode)===p.l.HORIZONTAL_RTL?"rtl":"ltr"}static getLanguage(e){var t;return(null===(t=e.headerMetadata)||void 0===t?void 0:t.app_contentLanguageTag)?e.headerMetadata.app_contentLanguageTag:e.language?e.language:(console.error("Language is not defined"),"")}handlePositionChanges(){var e,t;const n=this.getPagePositionRange(),i=(null==n?void 0:n.endPosition)!==(null===(e=this.pagePositionRange)||void 0===e?void 0:e.endPosition)||(null==n?void 0:n.startPosition)!==(null===(t=this.pagePositionRange)||void 0===t?void 0:t.startPosition);this.onPositionChange&&i&&(this.pagePositionRange=this.getPagePositionRange(),this.onPositionChange(this.pagePositionRange.startPosition,this.pagePositionRange.endPosition))}getPagePositionRange(){var e,t;return{startPosition:null===(e=this.stucco.getPagePositionRange())||void 0===e?void 0:e.currentTopOfPage,endPosition:null===(t=this.stucco.getPagePositionRange())||void 0===t?void 0:t.currentBottomOfPage}}canChangeUserSettings(){return!1}canAnnotate(){return!1}getPositionMapper(){var e;if(this.locationConverter&&this.stuccoMetadata)return new w(this.locationConverter,null!==(e=this.stuccoMetadata.endLocation)&&void 0!==e?e:0);throw new Error("Location converter and stucco metadata must be defined first")}static getNumberOfColumns(e,t,n){return t<n?1:e}canSearch(){return!1}}},166:(e,t,n)=>{"use strict";n.d(t,{Xi:()=>f});var i=n(87),r=n(43),o=n(492),s=n(918),a=n(567);const c="styles.css",u="fonts.json",l="toc.json",h=new Map;h.set("us-east-1","d374oxlv7wyffd"),h.set("eu-west-1","d2i0w0hu6hvxgc"),h.set("ap-northeast-1","d2574jtht5dtd0");const d=(e,t)=>{const n=r.L().region,i=h.get(n)||h.get("us-east-1");return new URL(e+"/"+t,"https://"+i+".cloudfront.net/").toString()};class f{constructor(e,t){this.asin=e,this.revisionId=t,this.bookDirUrl=d(e,t)}getMetadata(){return this.getManifest().then((e=>{const t=new URL(e.coverImage,d(this.asin,this.revisionId)+"/").toString(),n=(0,o.j)(e.progressionDirection)?e.progressionDirection:"ltr";return{asin:this.asin,coverUrl:t,language:e.language,srl:e.srl,pageProgressionDirection:n,navigationDirection:n}}))}getTableOfContents(){return this.getManifest().then((e=>e.resources.some((e=>e.name===l))?this.getResourceAsObject(l).then((e=>e.map((e=>f.mapTocItem(e))))):[]))}static getToC(e,t){return n=this,o=function*(){const n=d(e,t)+"/"+l,r=yield(0,i.WY)(n,{});return(yield r.json()).map((e=>f.mapTocItem(e)))},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{a(o.next(e))}catch(e){t(e)}}function s(e){try{a(o.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,s)}a((o=o.apply(n,[])).next())}));var n,r,o}static mapTocItem(e){return{position:e.pid,label:e.label,disabled:!e.inSample,subitems:e.subitems?e.subitems.map((e=>f.mapTocItem(e))):void 0}}getContent(){if(this.contentPromise)return this.contentPromise;const e=new URL(this.bookDirUrl+"/content.json");return this.contentPromise=(0,i.A_)(e.toString(),{}).then((e=>e.json())),this.contentPromise}getManifest(){return this.getContent().then((e=>0===Object.keys(e).length?Promise.reject("Manifest is empty"):{language:e.language,writingMode:e.writingMode,progressionDirection:e.progressionDirection,srl:e.srl,coverImage:e.coverImage,sections:e.sections.map((e=>({startPosition:e.startPosition,endPosition:e.endPosition}))),resources:g(e)})).catch((e=>{throw new s.$z(`Failed to get book manifest for YJ book with asin: [${this.asin}]. ${e}`,a.P.YJHTML)}))}getSectionContent(e){return this.getContent().then((t=>t.sections[e].content))}getAllContent(){return this.getContent().then((e=>e.sections.map((e=>e.content))))}getResourceUrl(e){const t=this.bookDirUrl+"/"+e;return Promise.resolve(t)}getResourceAsString(e){if(e===c)return this.getContent().then((e=>e.stylesheet));if(e===u)return Promise.reject("cannot fetch "+e+" as string");{const t=new URL(this.bookDirUrl+"/"+e);return(0,i.A_)(t.toString(),{}).then((e=>e.text()))}}getResourceAsBlob(e){if(e===c||e===u)return Promise.reject("cannot fetch "+e+" as blob");{const t=new URL(this.bookDirUrl+"/"+e);return(0,i.A_)(t.toString(),{}).then((e=>e.blob()))}}getResourceAsObject(e){if(e===c)return Promise.reject("cannot fetch "+e+" as object");if(e===u)return this.getContent().then((e=>p(e)?e.fonts:[]));{const t=new URL(this.bookDirUrl+"/"+e);return(0,i.A_)(t.toString(),{}).then((e=>e.json()))}}}const p=e=>!!(e.fonts.length&&e.fonts.length>0),g=e=>{const t=[];t.push({assetType:"stylesheet",name:c,mimeType:"text/css"});for(const n of e.images)t.push({assetType:"image",name:n.name,mimeType:n.mimeType,imageWidth:n.width,imageHeight:n.height});if(p(e)){t.push({assetType:"font_index",name:u,mimeType:"application/json"});for(const n of e.fonts)for(const e of n.fontFiles)t.push({assetType:"font",name:e.fileName,mimeType:"font/"+e.format})}return t.push({assetType:"toc",name:l,mimeType:"application/json"}),t}},548:(e,t,n)=>{"use strict";n.r(t),n.d(t,{YJHTMLRenderer:()=>y});var i=n(323),r=n(124),o=n(389),s=n(345),a=n(620),c=n(166),u=n(556);const l="Position mapper operation unsupported in YJ HTML Renderer";class h{constructor(e,t){this.renderer=e,this.maximumLocation=t}convertLocationToPosition(e){return Promise.resolve(this.renderer.pixelToPid(e))}convertPositionToLocation(e){return Promise.resolve(this.renderer.pidToPixel(e))}convertPageToPosition(e){throw new u.U(l)}convertPositionToPage(e){throw new u.U(l)}getPageIndexInNavigationUnits(e){throw new u.U(l)}getNavigationUnitInitialPositionByIndex(e){throw new u.U(l)}getNavigationUnitLabelByIndex(e){throw new u.U(l)}getLastNavigationUnitStartPosition(){throw new u.U(l)}getLastLocationPosition(){return Promise.resolve(this.maximumLocation)}getMaximumPageLabel(){throw new u.U(l)}getTotalLocations(){throw new u.U(l)}getTotalNavigationUnits(){throw new u.U(l)}getNavigationUnitTypes(){return[u.g.Location]}validatePage(e){throw new u.U(l)}validateLocation(e){throw new u.U(l)}}var d=n(567),f=n(906),p=n(597);const g={navigationModes:["Scroll"],navigationDirections:["Vertical"],marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,viewportHeight:!0,viewportWidth:!0,viewportTopOffset:!1,colorThemes:["White","Night","Green","Sepia"],fontFamilies:["Bookerly","AmazonEmber"],fontSize:!0,maxNumberColumns:!1,isRendererPropagatedZoom:!1,pageStyle:!1,zoomPercent:!1,animatePageTurn:!1,guidedViewSettings:!1,zoomViewSettings:!1,viewingMode:!1,wordsOnScreen:!1};var v=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const m={navigationMode:"Scroll",navigationDirection:"Vertical",colorTheme:"White",fontFamily:"Bookerly",fontSize:17.6,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0};class y{constructor(e){var t,n,i,u,l,h,p,v,y;this.renderSettings=m,this.requestedSettings=m,this.supportedSettings=g,this.status=o.QS.STATUS_LOADING,this.bookViewer=null,this.bookViewerPromise=void 0,this.positionMapper=void 0,this.bookInformation=e.bookInformation;const{asin:b,revision:_}=this.bookInformation,k=e.rendererSettings.rendererMetricsService;this.metricsUtils=k&&new f.J(k,d.P.YJHTML),this.requestedSettings=e.renderSettings,this.renderSettings=(0,a.q)(m,e.renderSettings,this.getSupportedSettings()),this.bookProvider=new c.Xi(b,_),this.fontLoader=new r.Jf,this.endOfBookCallback=null===(t=e.rendererSettings.rendererCallBacks)||void 0===t?void 0:t.onEndOfBook,this.onPositionChange=null===(n=e.rendererSettings.rendererCallBacks)||void 0===n?void 0:n.onPositionChange,this.onRendererStatusChanged=null===(i=e.rendererSettings.rendererCallBacks)||void 0===i?void 0:i.onRendererStatusChanged,this.onInitialization=null===(u=e.rendererSettings.rendererCallBacks)||void 0===u?void 0:u.onInitialization,this.onFontLoadingStatusChanged=null===(l=e.rendererSettings.rendererCallBacks)||void 0===l?void 0:l.onFontLoadingStatusChanged,this.onScroll=null===(h=e.rendererSettings.rendererCallBacks)||void 0===h?void 0:h.onScroll;const E=e.rendererSettings.container,S=null!==(p=e.rendererSettings.scrollContainer)&&void 0!==p?p:E;this.viewerConfig={supportedFontFormats:(0,r.WF)(),onLinkClicked:w,onReadingStatusChanged:this.endOfBookCallback?e=>{var t;null===(t=this.endOfBookCallback)||void 0===t||t.call(this,(0,s.JC)(e))}:void 0,onRenderStatusChanged:e=>{var t;return null===(t=this.onRendererStatusChanged)||void 0===t?void 0:t.call(this,(0,s.BC)(e))},viewerRoot:E,scrollContainer:S,onClick:null===(v=e.rendererSettings.rendererCallBacks)||void 0===v?void 0:v.onClick,onDoubleClick:null===(y=e.rendererSettings.rendererCallBacks)||void 0===y?void 0:y.onDoubleClick},S.addEventListener("scroll",(()=>{var e;null===(e=this.onScroll)||void 0===e||e.call(this),this.handlePositionChanges()}))}render(){if(this.bookViewerPromise)return this.bookViewerPromise;let e=!1;return this.bookViewerPromise=new Promise(((t,n)=>{this.fontLoader.getFontIndex().then((a=>{var c;this.viewerConfig.readerFonts=a,null===(c=this.metricsUtils)||void 0===c||c.loadedFonts(!0),this.onFontLoadingStatusChanged&&this.onFontLoadingStatusChanged(r.ww.STATUS_LOADING_FONT_DONE),this.viewerConfig.onRenderStatusChanged=(i,r)=>{var a;this.status=(0,s.BC)(i),e||(i===s.Z0.READY?(this.onInitialization&&this.onInitialization(o.QS.STATUS_IDLE),e=!0,this.onInitialized(),t()):i===s.Z0.ERROR&&(this.onInitialization&&this.onInitialization(o.QS.STATUS_ERROR),e=!0,null===(a=this.metricsUtils)||void 0===a||a.rendererInitialized(!1),n(new Error(`Failed to load renderer. ${r}`))))},this.bookViewer=new i.BookViewerReflowable(this.viewerConfig,this.bookProvider,E(this.renderSettings))})).catch((e=>{var t;this.onFontLoadingStatusChanged&&(null===(t=this.metricsUtils)||void 0===t||t.loadedFonts(!1),this.onFontLoadingStatusChanged(r.ww.STATUS_LOADING_FONT_ERROR)),n(e)}))})),this.bookViewerPromise}clear(){this.bookViewer&&this.bookViewer.clear()}redraw(e,t){return this.bookViewer?this.status===o.QS.STATUS_ERROR?Promise.reject("Renderer failed to initialize."):(e&&(this.renderSettings=Object.assign({},e)),this.viewerConfig.scrollContainer=t,this.bookViewer.clear(),this.bookViewer=new i.BookViewerReflowable(this.viewerConfig,this.bookProvider,E(this.renderSettings)),Promise.resolve()):Promise.reject("Renderer not initialized yet.")}highlightSearchResult(e){this.bookViewer&&this.bookViewer.highlightSearchResult(e)}clearSearchHighlights(){this.bookViewer&&this.bookViewer.clearSearchHighlights()}getReadingLocation(){return this.bookViewer?Promise.resolve(b(this.bookViewer.getCurrentReadingLocationData())):Promise.reject()}getStatus(){return this.status}handlePositionChanges(){var e,t,n;if(!this.bookViewer)return;const i=b(this.bookViewer.getCurrentReadingLocationData());(null==i?void 0:i.currentPositionRange)&&(null===(e=this.onPositionChange)||void 0===e||e.call(this,null===(t=i.currentPositionRange)||void 0===t?void 0:t.currentTopOfPage,null===(n=i.currentPositionRange)||void 0===n?void 0:n.currentBottomOfPage))}goToPosition(e,t){return v(this,void 0,void 0,(function*(){if(!this.bookViewer)throw"Renderer not initialized.";this.bookViewer.goToPosition(e,null==t?void 0:t.focus)}))}onInitialized(){var e,t;this.updateSupportedSettingsFromMetadata(),null===(e=this.bookViewer)||void 0===e||e.applyRenderSettings(E(this.renderSettings)),this.createPositionMapper(),null===(t=this.metricsUtils)||void 0===t||t.rendererInitialized(!0)}updateSupportedSettings(e){this.supportedSettings=e,this.updateSettings(this.requestedSettings)}updateSupportedSettingsFromMetadata(){return v(this,void 0,void 0,(function*(){const e=yield this.getMetadata();var t;this.updateSupportedSettings(Object.assign(Object.assign({},this.supportedSettings),{fontFamilies:(t=e.language,null==t?[]:(0,p.u)(g.fontFamilies,t))}))}))}createPositionMapper(){return v(this,void 0,void 0,(function*(){const e=yield this.getReadingLocation();e.maximumPosition&&this.bookViewer&&(this.positionMapper=new h(this.bookViewer,e.maximumPosition),this.handlePositionChanges())}))}getPositionMapper(){if(this.positionMapper)return this.positionMapper;throw new Error("Renderer must be initialized before requesting the position mapper")}updateSettings(e){return v(this,void 0,void 0,(function*(){this.requestedSettings=Object.assign(Object.assign({},this.requestedSettings),e),this.renderSettings=(0,a.q)(this.renderSettings,e,this.getSupportedSettings()),yield this.applySettings()}))}getSettings(){return Object.assign({},this.renderSettings)}getSupportedSettings(){return this.supportedSettings}applySettings(){var e;return v(this,void 0,void 0,(function*(){return yield this.render(),null===(e=this.bookViewer)||void 0===e?void 0:e.applyRenderSettings(E(this.renderSettings))}))}getTableOfContents(){return v(this,void 0,void 0,(function*(){return this.bookProvider.getTableOfContents()}))}canChangeUserSettings(){return!1}canAnnotate(){return!1}canSearch(){return!1}getMetadata(){return this.bookProvider.getMetadata()}}const w=e=>{window.open(e)},b=e=>{const t={currentPositionRange:void 0,minimumPosition:e.minimumPosition,maximumPosition:e.maximumPosition};return void 0!==e.currentPositionRange.firstVisiblePid&&(t.currentPositionRange={currentTopOfPage:e.currentPositionRange.firstVisiblePid,currentBottomOfPage:e.currentPositionRange.firstVisiblePid}),t};var _;!function(e){e[e.Default=0]="Default",e[e.Night=1]="Night",e[e.Sepia=2]="Sepia",e[e.Green=3]="Green"}(_||(_={}));const k=new Map([["White",_.Default],["Night",_.Night],["Sepia",_.Sepia],["Green",_.Green],["Dark",_.Night]]),E=e=>({colorTheme:k.get(e.colorTheme||"White")||_.Default,font:e.fontFamily||"Bookerly",fontSize:e.fontSize,marginTop:e.marginTop||0,marginRight:e.marginRight||0,marginBottom:e.marginBottom||0,marginLeft:e.marginLeft||0,viewportHeight:e.viewportHeight,viewportWidth:e.viewportWidth,viewportTopOffset:e.viewportTopOffset||0})},323:e=>{"use strict";e.exports=t},762:t=>{"use strict";t.exports=e},233:e=>{"use strict";e.exports=i},616:e=>{"use strict";e.exports=o},141:e=>{"use strict";e.exports=n},803:e=>{"use strict";e.exports=r}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return s[e](n,n.exports,c),n.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return(()=>{"use strict";c.r(u),c.d(u,{Action:()=>l.a,AnnotationType:()=>l.J,BACKGROUND_THEME_MAP:()=>y.p,COLOR_THEME_MAP:()=>y.X,Capabilities:()=>h.Wi,ContentNotAllowed:()=>f.nk,ContentUnSupported:()=>f.CK,DEV_HOST_NAME:()=>C.I,DefaultBookRendererFactory:()=>r.Q,Deferred:()=>I.B,FailedToGetBookManifestError:()=>f.$z,FontLoader:()=>O.Jf,FontLoadingStatus:()=>O.ww,GeoLocationNotAllowed:()=>f.ZM,HtmlRenderStatusEnums:()=>s.Z0,KaramelPositionMapper:()=>L.w,KaramelTokenProviderError:()=>T.cr,LARGE_WIDTH:()=>F.oz,LITB_PRINT_METHOD:()=>k.M,MEDIUM_HEIGHT:()=>F.JB,MEDIUM_LARGE_WIDTH:()=>F.Bl,MEDIUM_WIDTH:()=>F.QO,MetricsConstants:()=>j.P,MetricsUtils:()=>D.J,MobileOS:()=>R.RG,NO_SUPPORTED_SETTINGS:()=>a.L,NavigationAction:()=>s.Lo,NavigationUnitType:()=>o.g,NetworkFetch:()=>_.fR,PrintRendererClient:()=>k.r,PrintTokenProvider:()=>m.x,ReadingStatus:()=>h.Ch,RendererClient:()=>E.D,RendererMetricsServiceWrapper:()=>S.f,RendererNotFoundError:()=>e.c,RendererServiceFetchNotFoundError:()=>T.qw,RendererStatus:()=>h.QS,RendererType:()=>h.g4,RenderingServiceBuilder:()=>T.kl,RenderingServiceMissingArgsError:()=>T.aX,ServerError:()=>_.nl,TimeoutError:()=>_.W5,UnavailablePositionMappingError:()=>o.U,WritingMode:()=>w.l,adjustHeight:()=>R.si,adjustViewPort:()=>R.Yr,adjustWidth:()=>R.jE,annotationsToPrintHighlights:()=>x._V,binarySearch:()=>P.r,blobToDataUrl:()=>x.fL,calculateNewRenderingSettings:()=>a.q,convertReadingStatus:()=>s.JC,convertRenderStatus:()=>s.BC,deepEquals:()=>$.q,deferredToPromise:()=>x.tO,filterFontFamiliesByLanguage:()=>A.u,getMarketplace:()=>M.L,getMobileOS:()=>R.uA,getOrientation:()=>R.T8,getPhysicalWindowHeight:()=>R.iB,getPhysicalWindowWidth:()=>R.DA,getRequest:()=>N.A_,getSupportedFontFormats:()=>O.WF,getWindowHeight:()=>R.gp,getWindowWidth:()=>R.fM,intersect:()=>$.w,isAndroid:()=>R.Dt,isFirefox:()=>R.vU,isIE11:()=>R.fq,isIOS:()=>R.gn,isIOSSafari:()=>R.nz,isInternetExplorerOrEdge:()=>R.Js,isLandscapeWideEnoughForTwoPage:()=>R.LZ,isLargeOrLargerScreen:()=>R.Nc,isMShop:()=>R.Gu,isMac:()=>R.V5,isMediumOrLargerScreen:()=>R.gj,isOldAndroid:()=>R.YF,isPageProgressionDirection:()=>w.j,isSamsungInternet:()=>R.Tv,isSilk:()=>R.u4,isWidthEnoughForTwoPage:()=>R.Qz,isiPad:()=>R._1,isiPhone:()=>R.sg,marketplaceInfo:()=>M.a,onOrientationChange:()=>R.aQ,pixelToPoints:()=>x.oj,postRequest:()=>N.j0,request:()=>N.WY,resolveFont:()=>A.g});var e=c(522),t=c(863),n={};for(const e in t)["default","RendererNotFoundError"].indexOf(e)<0&&(n[e]=()=>t[e]);c.d(u,n);var i=c(606);n={};for(const e in i)["default","RendererNotFoundError"].indexOf(e)<0&&(n[e]=()=>i[e]);c.d(u,n);var r=c(800),o=c(556),s=c(345),a=c(620),l=c(547),h=c(389),d=c(462);n={};for(const e in d)["default","RendererNotFoundError","DefaultBookRendererFactory","NavigationUnitType","UnavailablePositionMappingError","HtmlRenderStatusEnums","NavigationAction","convertReadingStatus","convertRenderStatus","NO_SUPPORTED_SETTINGS","calculateNewRenderingSettings","Action","AnnotationType","Capabilities","ReadingStatus","RendererStatus","RendererType"].indexOf(e)<0&&(n[e]=()=>d[e]);c.d(u,n);var f=c(918),p=c(80);n={};for(const e in p)["default","RendererNotFoundError","DefaultBookRendererFactory","NavigationUnitType","UnavailablePositionMappingError","HtmlRenderStatusEnums","NavigationAction","convertReadingStatus","convertRenderStatus","NO_SUPPORTED_SETTINGS","calculateNewRenderingSettings","Action","AnnotationType","Capabilities","ReadingStatus","RendererStatus","RendererType","ContentNotAllowed","ContentUnSupported","FailedToGetBookManifestError","GeoLocationNotAllowed"].indexOf(e)<0&&(n[e]=()=>p[e]);c.d(u,n);var g=c(444);n={};for(const e in g)["default","RendererNotFoundError","DefaultBookRendererFactory","NavigationUnitType","UnavailablePositionMappingError","HtmlRenderStatusEnums","NavigationAction","convertReadingStatus","convertRenderStatus","NO_SUPPORTED_SETTINGS","calculateNewRenderingSettings","Action","AnnotationType","Capabilities","ReadingStatus","RendererStatus","RendererType","ContentNotAllowed","ContentUnSupported","FailedToGetBookManifestError","GeoLocationNotAllowed"].indexOf(e)<0&&(n[e]=()=>g[e]);c.d(u,n);var v=c(241);n={};for(const e in v)["default","RendererNotFoundError","DefaultBookRendererFactory","NavigationUnitType","UnavailablePositionMappingError","HtmlRenderStatusEnums","NavigationAction","convertReadingStatus","convertRenderStatus","NO_SUPPORTED_SETTINGS","calculateNewRenderingSettings","Action","AnnotationType","Capabilities","ReadingStatus","RendererStatus","RendererType","ContentNotAllowed","ContentUnSupported","FailedToGetBookManifestError","GeoLocationNotAllowed"].indexOf(e)<0&&(n[e]=()=>v[e]);c.d(u,n);var m=c(129),y=c(387),w=c(492),b=c(456);n={};for(const e in b)["default","RendererNotFoundError","DefaultBookRendererFactory","NavigationUnitType","UnavailablePositionMappingError","HtmlRenderStatusEnums","NavigationAction","convertReadingStatus","convertRenderStatus","NO_SUPPORTED_SETTINGS","calculateNewRenderingSettings","Action","AnnotationType","Capabilities","ReadingStatus","RendererStatus","RendererType","ContentNotAllowed","ContentUnSupported","FailedToGetBookManifestError","GeoLocationNotAllowed","PrintTokenProvider","BACKGROUND_THEME_MAP","COLOR_THEME_MAP","WritingMode","isPageProgressionDirection"].indexOf(e)<0&&(n[e]=()=>b[e]);c.d(u,n);var _=c(839),k=c(514),E=c(453),S=c(369),T=c(498),P=c(33),C=c(553),x=c(479),I=c(275),R=c(713),O=c(124),A=c(597),$=c(809),L=c(902),M=c(43),j=c(567),D=c(906),N=c(87),F=c(824)})(),u})(),e.exports=i(n(87814),n(16990),n(88306),n(94654),n(96026),n(93754))},16990:function(e){var t;self,t=()=>{return e={310:e=>{"use strict";function t(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,n,i){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");i||(i={}),"object"==typeof n&&(i=n,n=void 0),null!=n&&(i.code=n);try{return t(e,i)}catch(n){i.message=e.message,i.stack=e.stack;const r=function(){};return r.prototype=Object.create(Object.getPrototypeOf(e)),t(new r,i)}}},168:(e,t,n)=>{var i;!function(r,o,s,a){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h=Math.round,d=Math.abs,f=Date.now;function p(e,t,n){return setTimeout(_(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==a)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function m(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var y=m((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===a)&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),w=m((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function b(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&c(i,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function k(e,t){return"function"==typeof e?e.apply(t&&t[0]||a,t):e}function E(e,t){return e===a?t:e}function S(e,t,n){v(x(t),(function(t){e.addEventListener(t,n,!1)}))}function T(e,t,n){v(x(t),(function(t){e.removeEventListener(t,n,!1)}))}function P(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function I(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function R(e){return Array.prototype.slice.call(e,0)}function O(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];I(r,s)<0&&i.push(e[o]),r[o]=s,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function A(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:t)in e)return i;o++}return a}var $=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var M="ontouchstart"in r,j=A(r,"PointerEvent")!==a,D=M&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N=["x","y"],F=["clientX","clientY"];function B(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){k(e.options.enable,[e])&&n.handler(t)},this.init()}function U(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,s=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=z(t)),r>1&&!n.firstMultiple?n.firstMultiple=z(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,c=s?s.center:o.center,u=t.center=H(i);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=q(c,u),t.distance=W(c,u),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=G(t.deltaX,t.deltaY);var l,h,p=V(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=p.x,t.overallVelocityY=p.y,t.overallVelocity=d(p.x)>d(p.y)?p.x:p.y,t.scale=s?(l=s.pointers,W((h=i)[0],h[1],F)/W(l[0],l[1],F)):1,t.rotation=s?function(e,t){return q(t[1],t[0],F)+q(e[1],e[0],F)}(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,s=e.lastInterval||t,c=t.timeStamp-s.timeStamp;if(8!=t.eventType&&(c>25||s.velocity===a)){var u=t.deltaX-s.deltaX,l=t.deltaY-s.deltaY,h=V(c,u,l);i=h.x,r=h.y,n=d(h.x)>d(h.y)?h.x:h.y,o=G(u,l),e.lastInterval=t}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var g=e.element;P(t.srcEvent.target,g)&&(g=t.srcEvent.target),t.target=g}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function z(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:H(t),deltaX:e.deltaX,deltaY:e.deltaY}}function H(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:h(n/t),y:h(i/t)}}function V(e,t,n){return{x:t/e||0,y:n/e||0}}function G(e,t){return e===t?1:d(e)>=d(t)?e<0?2:4:t<0?8:16}function W(e,t,n){n||(n=N);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function q(e,t,n){n||(n=N);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(L(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4},K="mousedown",X="mousemove mouseup";function Z(){this.evEl=K,this.evWin=X,this.pressed=!1,B.apply(this,arguments)}b(Z,B,{handler:function(e){var t=Y[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var J={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q={2:"touch",3:"pen",4:"mouse",5:"kinect"},ee="pointerdown",te="pointermove pointerup pointercancel";function ne(){this.evEl=ee,this.evWin=te,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ee="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),b(ne,B,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=J[i],o=Q[e.pointerType]||e.pointerType,s="touch"==o,a=I(t,e.pointerId,"pointerId");1&r&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):12&r&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))}});var ie={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function re(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function oe(e,t){var n=R(e.touches),i=R(e.changedTouches);return 12&t&&(n=O(n.concat(i),"identifier",!0)),[n,i]}b(re,B,{handler:function(e){var t=ie[e.type];if(1===t&&(this.started=!0),this.started){var n=oe.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var se={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ae="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=ae,this.targetIds={},B.apply(this,arguments)}function ue(e,t){var n=R(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=R(e.changedTouches),a=[],c=this.target;if(o=n.filter((function(e){return P(e.target,c)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),12&t&&delete i[s[r].identifier],r++;return a.length?[O(o.concat(a),"identifier",!0),a]:void 0}function le(){B.apply(this,arguments);var e=_(this.handler,this);this.touch=new ce(this.manager,e),this.mouse=new Z(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function he(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,de.call(this,t)):12&e&&de.call(this,t)}function de(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function fe(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}b(ce,B,{handler:function(e){var t=se[e.type],n=ue.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}),b(le,B,{handler:function(e,t,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)he.call(this,t,n);else if(r&&fe.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var pe=A(l.style,"touchAction"),ge=pe!==a,ve=function(){if(!ge)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function me(e,t){this.manager=e,this.set(t)}function ye(e){this.options=c({},this.defaults,e||{}),this.id=$++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function we(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function be(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function _e(e,t){var n=t.manager;return n?n.get(e):e}function ke(){ye.apply(this,arguments)}function Ee(){ke.apply(this,arguments),this.pX=null,this.pY=null}function Se(){ke.apply(this,arguments)}function Te(){ye.apply(this,arguments),this._timer=null,this._input=null}function Pe(){ke.apply(this,arguments)}function Ce(){ke.apply(this,arguments)}function xe(){ye.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ie(e,t){return(t=t||{}).recognizers=E(t.recognizers,Ie.defaults.preset),new Re(e,t)}function Re(e,t){this.options=c({},Ie.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(j?ne:D?ce:M?le:Z))(this,U),this.touchAction=new me(this,this.options.touchAction),Oe(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Oe(e,t){var n,i=e.element;i.style&&(v(e.options.cssProps,(function(r,o){n=A(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}me.prototype={set:function(e){"compute"==e&&(e=this.compute()),ge&&this.manager.element.style&&ve[e]&&(this.manager.element.style[pe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){k(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(C(e,"none"))return"none";var t=C(e,"pan-x"),n=C(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":C(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=C(i,"none")&&!ve.none,o=C(i,"pan-y")&&!ve["pan-y"],s=C(i,"pan-x")&&!ve["pan-x"];if(r){var a=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(a&&c&&u)return}if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},ye.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=_e(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=_e(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===I(t,e=_e(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=_e(e,this);var t=I(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+we(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+we(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!k(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b(ke,ye,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32}}),b(Ee,ke,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===s?1:s<0?8:16,n=s!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return ke.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=be(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(Se,ke,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),b(Te,ye,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(Pe,ke,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(Ce,ke,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ee.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=be(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(xe,ye,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||W(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ie.VERSION="2.0.7",Ie.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Pe,{enable:!1}],[Se,{enable:!1},["rotate"]],[Ce,{direction:6}],[Ee,{direction:6},["swipe"]],[xe],[xe,{event:"doubletap",taps:2},["tap"]],[Te]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Re.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof ye)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=I(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==a&&t!==a){var n=this.handlers;return v(x(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==a){var n=this.handlers;return v(x(e),(function(e){t?n[e]&&n[e].splice(I(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&Oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Ie,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Re,Input:B,TouchAction:me,TouchInput:ce,MouseInput:Z,PointerEventInput:ne,TouchMouseInput:le,SingleTouchInput:re,Recognizer:ye,AttrRecognizer:ke,Tap:xe,Pan:Ee,Swipe:Ce,Pinch:Se,Rotate:Pe,Press:Te,on:S,off:T,each:v,merge:w,extend:y,assign:c,inherit:b,bindFn:_,prefixed:A}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Ie,(i=function(){return Ie}.call(t,n,t,e))===a||(e.exports=i)}(window,document)},369:(e,t,n)=>{"use strict";var i=n(310),r=n(617),o=Object.prototype.hasOwnProperty;function s(e){return e&&"EPROMISERETRY"===e.code&&o.call(e,"retried")}e.exports=function(e,t){var n,o;return"object"==typeof e&&"function"==typeof t&&(n=t,t=e,e=n),o=r.operation(t),new Promise((function(t,n){o.attempt((function(r){Promise.resolve().then((function(){return e((function(e){throw s(e)&&(e=e.retried),i(new Error("Retrying"),"EPROMISERETRY",{retried:e})}),r)})).then(t,(function(e){s(e)&&(e=e.retried,o.retry(e||new Error))||n(e)}))}))}))}},617:(e,t,n)=>{e.exports=n(303)},303:(e,t,n)=>{var i=n(961);t.operation=function(e){var n=t.timeouts(e);return new i(n,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],r=0;r<t.retries;r++)i.push(this.createTimeout(r,t));return e&&e.forever&&!i.length&&i.push(this.createTimeout(r,t)),i.sort((function(e,t){return e-t})),i},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,i=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return Math.min(i,t.maxTimeout)},t.wrap=function(e,n,i){if(n instanceof Array&&(i=n,n=null),!i)for(var r in i=[],e)"function"==typeof e[r]&&i.push(r);for(var o=0;o<i.length;o++){var s=i[o],a=e[s];e[s]=function(i){var r=t.operation(n),o=Array.prototype.slice.call(arguments,1),s=o.pop();o.push((function(e){r.retry(e)||(e&&(arguments[0]=r.mainError()),s.apply(this,arguments))})),r.attempt((function(){i.apply(e,o)}))}.bind(e,a),e[s].options=n}}},961:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),n=this._timeouts.shift()}var i=this,r=setTimeout((function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout((function(){i._operationTimeoutCb(i._attempts)}),i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)}),n);return this._options.unref&&r.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){this.attempt(e)},t.prototype.start=function(e){this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,i=0;i<this._errors.length;i++){var r=this._errors[i],o=r.message,s=(e[o]||0)+1;e[o]=s,s>=n&&(t=r,n=s)}return t}},178:(e,t,n)=>{var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickHandler=t.DOUBLE_CLICK_TIMEOUT=void 0,t.DOUBLE_CLICK_TIMEOUT=300,t.ClickHandler=function(){var e=this;this.clickCount=0,this.handleClickEvent=function(n,i,r,o){if(i){var s=e.getCoordinates(i,n);e.clickCount++,2===e.clickCount?(null==o||o({x:s.x,y:s.y}),clearTimeout(e.clickTimer),e.clickCount=0):e.clickTimer=window.setTimeout((function(){null==r||r({x:s.x,y:s.y}),e.clickCount=0}),t.DOUBLE_CLICK_TIMEOUT)}},this.getCoordinates=function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}}}.apply(t,[n,t]),void 0===i||(e.exports=i)},14:(e,t,n)=>{var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollModel=void 0;var n=function(){function e(e){this.extraEventListeners=[],this.scrollModelConfig=e,this.scrollContainer=e.scrollContainer}return e.prototype.clear=function(){this.scrollEventListener&&this.getContainer().removeEventListener("scroll",this.scrollEventListener),this.touchStartEventListener&&(this.getContainer().removeEventListener("touchstart",this.touchStartEventListener),this.removeTouchStartedEventListeners())},e.prototype.disableScroll=function(){this.scrollContainer&&(this.scrollContainer.style.overflow="hidden")},e.prototype.enableScroll=function(){this.scrollContainer&&(this.scrollContainer.style.overflow="")},e.prototype.addEventListener=function(e,t){this.getContainer().addEventListener(e,t),this.extraEventListeners.push([e,t])},e.prototype.attachEventListeners=function(){this.attachScrollEventListener(),this.attachTouchEventListener()},e.prototype.getScrollX=function(){return this.scrollContainer?this.scrollContainer.scrollLeft:window.scrollX},e.prototype.getScrollY=function(){return this.scrollContainer?this.scrollContainer.scrollTop:window.pageYOffset},e.prototype.getLeftOffset=function(){return this.scrollContainer?this.scrollContainer.getBoundingClientRect().left:0},e.prototype.getTopOffset=function(){return this.scrollContainer?this.scrollContainer.getBoundingClientRect().top:0},e.prototype.getContainerWidth=function(){return this.scrollContainer?this.scrollContainer.clientWidth:window.innerWidth},e.prototype.setScrollY=function(e){this.scrollTo(0,e)},e.prototype.scrollTo=function(e,t){this.scrollContainer?(this.scrollContainer.scrollLeft=e,this.scrollContainer.scrollTop=t):this.getContainer().scrollTo(e,t)},e.prototype.isAtEndOfBook=function(){return Math.floor(this.getContainerScrollHeight()-(this.getScrollY()+this.getContainerHeight()))<=0},e.prototype.removeTouchStartedEventListeners=function(){var e=this;this.getContainer().removeEventListener("touchmove",this.touchMoveEventListener),this.getContainer().removeEventListener("touchend",this.touchEndEventListener),this.getContainer().removeEventListener("touchcancel",this.touchEndEventListener),this.extraEventListeners.forEach((function(t){var n=t[0],i=t[1];e.getContainer().removeEventListener(n,i)}))},e.prototype.attachTouchEventListener=function(){var e=this,t=!1,n=0;this.touchStartEventListener=function(t){if(e.isAtEndOfBook()){var i=t.changedTouches[0];n=i.clientY,e.getContainer().addEventListener("touchmove",e.touchMoveEventListener),e.getContainer().addEventListener("touchend",e.touchEndEventListener),e.getContainer().addEventListener("touchcancel",e.touchCancelEventListener)}},this.touchMoveEventListener=function(e){var i=e.changedTouches[0];10<=n-i.clientY&&(t=!0)},this.touchEndEventListener=function(n){t&&e.scrollModelConfig.scrollCallback(),t=!1,e.removeTouchStartedEventListeners()},this.touchCancelEventListener=function(){t=!1,e.removeTouchStartedEventListeners()},this.getContainer().addEventListener("touchstart",this.touchStartEventListener)},e.prototype.attachScrollEventListener=function(){var e=this,t=!1;this.scrollEventListener=function(n){e.scrollModelConfig.scrollCallback(),t||(t=!0,setTimeout((function(){e.scrollModelConfig.throttledScrollCallback&&e.scrollModelConfig.throttledScrollCallback(),t=!1}),250))},this.getContainer().addEventListener("scroll",this.scrollEventListener)},e.prototype.getContainerScrollHeight=function(){return this.scrollContainer?this.scrollContainer.scrollHeight:document.documentElement.scrollHeight},e.prototype.getContainerHeight=function(){return this.scrollContainer?this.scrollContainer.clientHeight:window.innerHeight},e.prototype.getContainer=function(){return this.scrollContainer?this.scrollContainer:window},e}();t.ScrollModel=n}.apply(t,[n,t]),void 0===i||(e.exports=i)},586:(e,t,n)=>{var i,r;i=[n,t,n(98),n(977)],r=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearSearchHighlights=t.highlightSearchResult=void 0;var r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"],o=function(){function e(e){this.closeTags=[],this.descendantInfoIdx=0,this.htmlPieces=[],this.rootNode=e,this.rootString=this.rootNode.outerHTML}return e.prototype.transformString=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent},e.prototype.getDescendants=function(){for(var e=this.rootNode.querySelectorAll("*"),t=[],n=0;n<e.length;n++){var i=a(e[n]);t.push({descendant:e[n],idx:n,tag:i})}return t},e.prototype.nextIndex=function(e,t){var n=this.rootString.length-1;this.descendantInfoIdx<e.length&&(n=this.rootString.indexOf(e[this.descendantInfoIdx].tag.open,t));var i=this.closeTags[this.closeTags.length-1],r=this.rootString.indexOf(i,t),o=t;if(n<r){var s=this.rootString.substring(t,n);this.htmlPieces.push(this.transformString(s)),this.htmlPieces.push(e[this.descendantInfoIdx].tag.open),e[this.descendantInfoIdx].tag.close&&this.closeTags.push(e[this.descendantInfoIdx].tag.close),o=n+e[this.descendantInfoIdx].tag.open.length-1,this.descendantInfoIdx++}else n>r&&(s=this.rootString.substring(t,r),this.htmlPieces.push(this.transformString(s)),this.htmlPieces.push(i),o=r+i.length-1,this.closeTags.length&&this.closeTags.pop());return o},e.prototype.findHtmlPieces=function(){var e=this.getDescendants(),t=a(this.rootNode);t.close&&this.closeTags.push(t.close),this.htmlPieces.push(t.open);for(var n=t.open.length;n<this.rootString.length;n++)n=this.nextIndex(e,n);return t.close&&this.htmlPieces.push(t.close),this.htmlPieces},e}(),s=function(){function e(e,t){this.appearanceIndex=e.appearancesInPid,this.htmlPieces=t,this.keyword=e.keyword.toLowerCase(),this.keywordPositions=[],this.keywordStartPositionCandidates=[],this.tempKeywordInfo={keyword:"",appearanceIndex:0},this.visitedHtmlPieceIdx=[]}return e.prototype.updateStartPositionCandidates=function(e,t){var n={htmlPieceIdx:t,characterIdx:e};this.keywordStartPositionCandidates.some((function(e){return e===n}))||this.keywordStartPositionCandidates.push(n)},e.prototype.getKeywordStatus=function(e){return this.tempKeywordInfo.keyword+=e,this.tempKeywordInfo.keyword===this.keyword?(this.tempKeywordInfo.appearanceIndex++,this.tempKeywordInfo.appearanceIndex===this.appearanceIndex?i.KeywordStatus.FOUND:i.KeywordStatus.IMPOSSIBLE):0===this.keyword.indexOf(this.tempKeywordInfo.keyword)?i.KeywordStatus.POSSIBLE:i.KeywordStatus.IMPOSSIBLE},e.prototype.nextKeywordStartPosition=function(e){var t=this.keywordStartPositionCandidates.shift();return this.visitedHtmlPieceIdx=this.visitedHtmlPieceIdx.slice(0,e+1),t},e.prototype.newKeywordPositionInfo=function(e,t,n){for(var r=e;r<t.length;r++){var o=t[r];o===this.keyword[0]&&this.tempKeywordInfo.keyword.length&&this.updateStartPositionCandidates(r,n),this.keywordPositions.push({htmlPieceIdx:n,characterIdx:r});var s=this.getKeywordStatus(o);if(s===i.KeywordStatus.FOUND)return{status:s,nextKeywordStartPosition:null};if(s===i.KeywordStatus.IMPOSSIBLE&&(this.tempKeywordInfo.keyword="",this.keywordPositions=[],this.keywordStartPositionCandidates.length))return{status:s,nextKeywordStartPosition:this.nextKeywordStartPosition(n)}}return{status:i.KeywordStatus.POSSIBLE,nextKeywordStartPosition:null}},e.prototype.findKeywordPositions=function(){for(var e=0,t=1,n=null;t!==this.htmlPieces.length-1;)if(this.htmlPieces[t].length){var r=this.htmlPieces[t].toLowerCase();if(this.visitedHtmlPieceIdx.some((function(e){return e===t}))||(e=0,this.visitedHtmlPieceIdx.push(t)),(n=this.newKeywordPositionInfo(e,r,t)).status===i.KeywordStatus.FOUND)return this.keywordPositions;var o=n.nextKeywordStartPosition;o?(t=o.htmlPieceIdx,e=o.characterIdx):t+=2}else t+=2;return this.keywordPositions},e}(),a=function(e){var t=e.tagName,n=e.outerHTML,i=e.innerHTML;if(r.some((function(e){return e===t.toLowerCase()})))return{open:n,close:null};var o="</".concat(t.toLowerCase(),">");return{open:n.substring(0,n.length-(i+o).length),close:o}},c=function(e,t,n){var i=e.slice(0,t),r=e.slice(t+1,e.length);return i+n.outerHTML+r},u=function(e,t){var i=document.createElement("span"),r=n.COLOR_THEMES_STYLE[n.ColorTheme[t]].searchHighlightStyle;return i.className="search-tag",i.innerHTML=e,i.style.textDecoration=r.textDecoration,i.style.backgroundColor=r.backgroundColor,i};t.highlightSearchResult=function(e,t){var n='[data-pid="'.concat(e.pidIndex,'"]'),i=document.querySelector(n),r=new o(i).findHtmlPieces(),a=new s(e,r).findKeywordPositions();i.outerHTML=function(e,t,n){for(var i=e.length-1;i>=0;i--){var r=e[i].htmlPieceIdx,o=t[r],s=e[i].characterIdx,a=u(o[s],n);t[r]=c(o,s,a)}return t.join("")}(a,r,t)},t.clearSearchHighlights=function(){var e=document.getElementsByClassName("search-tag");if(e.length>0)for(var t=e.length-1;t>=0;t--){var n=a(e[t]),i=e[t],r=i.parentElement,o=r.innerHTML,s=o.indexOf(e[t].outerHTML),c=s+n.open.length,u=s+n.open.length+n.close.length+i.innerHTML.length;r.innerHTML=o.substring(0,s)+o[c]+o.substring(u,o.length)}}}.apply(t,i),void 0===r||(e.exports=r)},977:(e,t,n)=>{var i;i=function(e,t){"use strict";var n,i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.DisclaimerType=t.KeywordStatus=t.PageLabel=void 0,(r=t.PageLabel||(t.PageLabel={})).A="a",r.R="r",r.I="i",(i=t.KeywordStatus||(t.KeywordStatus={}))[i.FOUND=0]="FOUND",i[i.IMPOSSIBLE=1]="IMPOSSIBLE",i[i.POSSIBLE=2]="POSSIBLE",(n=t.DisclaimerType||(t.DisclaimerType={}))[n.GENERIC=0]="GENERIC",n[n.SPECIFIC_PAGES_MISSING=1]="SPECIFIC_PAGES_MISSING"}.apply(t,[n,t]),void 0===i||(e.exports=i)},709:(e,t,n)=>{var i,r;i=[n,t,n(369)],r=function(e,t,n){"use strict";function i(e){return 11.93*e}Object.defineProperty(t,"__esModule",{value:!0}),t.attemptWithRetries=t.isMouseEvent=t.clamp=t.mapYJFontWeight=t.isBlockImage=t.getLargeFontSizeFactor=t.getAlphabetWidth=t.getFirstElementChild=t.binarySearch=void 0,t.binarySearch=function(e,t,n){for(var i,r=0,o=e.length-1;r<=o;){var s=t(e[i=Math.floor(r+(o-r)/2)]);if(s===n)return i;n<s?o=i-1:r=i+1}return Math.min(r,e.length-1)},t.getFirstElementChild=function(e){for(var t=e.childNodes,n=0;n<t.length;n++){var i=t[n];if(i.nodeType===Node.ELEMENT_NODE)return i}return null},t.getAlphabetWidth=i,t.getLargeFontSizeFactor=function(e,t,n){var r=0,o=i(e),s=t/o,a=1.2*n/o,c=Math.min(s,a);return c<1.3&&(r=1.3-c),r<=0?1:r<=.35?1-1.5*r:r<=.55?.5-1*(r-.35):Math.max(0,.3-1.5*(r-.55))},t.isBlockImage=function(e){return"DIV"===e.parentElement.tagName&&1===e.parentElement.childNodes.length};var r={thin:"100",ultra_light:"200",light:"300",book:"normal",normal:"normal",medium:"500",semi_bold:"600",bold:"bold",ultra_bold:"800",heavy:"900",ultra_heavy:"1000"};t.mapYJFontWeight=function(e){return r[e]||"normal"},t.clamp=function(e,t,n){return Math.max(t,Math.min(e,n))},t.isMouseEvent=function(e){return"x"in e},t.attemptWithRetries=function(e,t){var i=0;return n(e,(function(e,n){return i=n,t().catch(e)})).catch((function(e){return Promise.reject(new Error("Failed ".concat(i," attempts: ").concat(e)))}))}}.apply(t,i),void 0===r||(e.exports=r)},41:(e,t,n)=>{var i;i=function(e,t){"use strict";var n,i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.isEqualRenderSettings=t.showContent=t.callReadingStatusChanged=t.callRenderStatusChanged=t.PageLoadStatus=t.ReadStatus=t.Status=void 0,(r=t.Status||(t.Status={})).READY="ready",r.LOADING="loading",r.ERROR="error",(i=t.ReadStatus||(t.ReadStatus={})).END="end",i.READING="reading",(n=t.PageLoadStatus||(t.PageLoadStatus={})).UNLOADED="unloaded",n.LOADING="loading",n.LOADED="loaded",t.callRenderStatusChanged=function(e,t,n){if(e.onRenderStatusChanged)return e.onRenderStatusChanged(t,n)},t.callReadingStatusChanged=function(e,t){if(e.onReadingStatusChanged)return e.onReadingStatusChanged(t)},t.showContent=function(e,t){e.style.visibility=t?"visible":"hidden"},t.isEqualRenderSettings=function(e,t){for(var n in e)if(e[n]!==t[n])return!1;return!0}}.apply(t,[n,t]),void 0===i||(e.exports=i)},144:function(e,t,n){var i,r,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};i=[n,t,n(14),n(977),n(41),n(455),n(178)],r=function(e,t,n,i,r,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BookViewerPrint=t.SURPRISE_ME_POSITION=void 0,t.SURPRISE_ME_POSITION=-999;var c=function(e){return!e||"Embargoed Page"===e},u=function(e,t){if(e.pageLabel===i.PageLabel.A)return t-e.firstPageIdx+e.actualPageNumber},l=function(){function e(e,t,i){var r=this;this.searchHighlights=[],this.bookProvider=t,this.viewerConfig=e,this.viewerRoot=e.viewerRoot,this.renderSettings=i,this.pages=[],this.defaultWidth=this.viewerRoot.clientWidth,this.scrollModel=new n.ScrollModel({scrollCallback:function(){return r.callReadingStatusChangedOnScroll()},scrollContainer:this.viewerConfig.scrollContainer}),this.gestureHandler=new s.GestureHandlerScale(this.viewerRoot,this.scrollModel,this.onPageZoom.bind(this)),this.intersectionObserver=new IntersectionObserver((function(e){return r.loadMorePages(e)}),{threshold:.1}),this.clickHandler=new a.ClickHandler,this.applyRenderSettings(this.renderSettings),this.displayBook()}return e.prototype.setDefaultWidth=function(e){var t,n,i=e;if(this.coverAspectRatio){var r=this.coverAspectRatio*this.scrollModel.getContainerHeight()+(null!==(t=this.renderSettings.marginRight)&&void 0!==t?t:0)+(null!==(n=this.renderSettings.marginLeft)&&void 0!==n?n:0);i=Math.min(i,r)}this.defaultWidth=i,this.gestureHandler.setInitialWidth(i)},e.prototype.goToPosition=function(e,n){var i=this,r=this.getPageContainer(e);if(r){this.requestPageHighlights(e);var o=this.viewerRoot.clientWidth-this.scrollModel.getContainerWidth();this.scrollModel.scrollTo(o/2,r.offsetTop)}else"Embargoed Page"!==this.pages[e]&&(e===t.SURPRISE_ME_POSITION?this.bookProvider.getRandomPage().then((function(e){i.setPages(e.jumboImageUrls),i.goToPosition(e.pageNumber)})):e>=0&&(this.pages[e]=this.pages[e]||"Loading Page",this.fetchPage(e).then((function(){i.fetchNeighborPages(e,!0)}))))},e.prototype.applyRenderSettings=function(e){var t=this;e.localizedStrings!==this.renderSettings.localizedStrings&&this.setLocalizedStrings(e.localizedStrings),this.renderSettings=o(o({},this.renderSettings),e),this.viewerRoot.style.paddingRight="".concat(this.renderSettings.marginRight,"px"),this.viewerRoot.style.paddingLeft="".concat(this.renderSettings.marginLeft,"px"),this.renderSettings.viewportWidth!==this.defaultWidth&&(this.setDefaultWidth(this.renderSettings.viewportWidth),this.displayBook()),e.isRendererPropagatedZoom||new Promise((function(e){t.gestureHandler.zoom(t.getScaleFromZoomPercent()),e()}))},e.prototype.clear=function(){this.viewerRoot.innerHTML="",this.scrollModel.clear(),this.gestureHandler.disconnect()},e.prototype.setSearchInfo=function(e){},e.prototype.clearSearchHighlights=function(){},e.prototype.clearHighlights=function(){document.querySelectorAll(".search-highlight").forEach((function(e){return e.remove()})),this.searchHighlights=[]},e.prototype.setLocalizedStrings=function(e){this.renderSettings.localizedStrings=e,this.resetSampleDisclaimers()},e.prototype.callRenderStatusReady=function(){this.pageLoaded&&this.rendererInitialized&&(this.onInitialized(),(0,r.callRenderStatusChanged)(this.viewerConfig,r.Status.READY))},e.prototype.onInitialized=function(){var e=this;setTimeout((function(){return e.setDefaultWidth(e.viewerRoot.clientWidth)}),0)},e.prototype.displayBook=function(){var e=this;(0,r.callRenderStatusChanged)(this.viewerConfig,r.Status.LOADING),this.bookProvider.getManifest().then((function(t){return e.manifest=t,e.initializePages(t.pages,t.embargoedPages,t.imageUrls)})).then((function(){e.appendPages(),e.appendSampleDisclaimers(),e.attachClickEventHandling(),e.scrollModel.attachEventListeners(),e.rendererInitialized||(e.rendererInitialized=!0,e.callRenderStatusReady())})).catch((function(t){(0,r.callRenderStatusChanged)(e.viewerConfig,r.Status.ERROR,t)}))},e.prototype.initializePages=function(e,t,n){var i=this;return new Promise((function(r){if(n){for(var o in e.forEach((function(e){i.pages[e]="Loading Page"})),t.forEach((function(e){i.pages[e]="Embargoed Page"})),n)i.isPendingPage(parseInt(o,10))&&(i.pages[o]=n[o]);r()}else i.fetchPage(e[0]).then((function(){r()}))}))},e.prototype.appendPages=function(){var e=this;this.viewerRoot.innerHTML="",this.pages.forEach((function(t,n){var i=e.createPageContainer(n);if(!c(t)){if(function(e){return"Loading Page"===e}(t))i.insertAdjacentHTML("beforeend",e.getSpinner(n));else{var r=e.getPageImage(n,t),o=n===e.manifest.pages[0],s=function(){e.coverAspectRatio=r.naturalWidth/r.naturalHeight,e.setDefaultWidth(e.renderSettings.viewportWidth)};r.onload=function(){o&&s(),e.hideSpinner(n),e.pageLoaded||(e.pageLoaded=!0,e.callRenderStatusReady())},o&&new ResizeObserver((function(e,t){r.naturalWidth&&r.naturalHeight&&(t.disconnect(),s())})).observe(r),i.appendChild(r),i.insertAdjacentHTML("beforeend",e.getSpinner(n)),e.gestureHandler.observe(i,e.getGestureOptions())}e.viewerRoot.insertAdjacentElement("beforeend",i),e.intersectionObserver.observe(i)}}))},e.prototype.appendSampleDisclaimers=function(){for(var e,t,n=1;n<=this.manifest.numberOfPages;n++){var r=this.pages[n];if(c(r))e||(e=n),t=n;else if(e&&t){var o;o=this.manifest.firstPageInfo&&e>this.manifest.firstPageInfo.firstPageIdx?this.createDisclaimer(this.getSampleDisclaimerText(i.DisclaimerType.SPECIFIC_PAGES_MISSING,{startMissingPageIdx:e,endMissingPageIdx:t,firstPageInfo:this.manifest.firstPageInfo})):this.createDisclaimer(this.getSampleDisclaimerText(i.DisclaimerType.GENERIC));var s=this.getPageContainer(n);this.viewerRoot.insertBefore(o,s),e=null,t=null}}},e.prototype.stylePageContainer=function(e){e.setAttribute("style","margin-bottom: 10px; box-shadow: 0 0 4px 0 rgba(0,0,0,0.50); overflow: hidden; position: relative;")},e.prototype.getPageImage=function(e,t){var n=document.createElement("img");return n.alt="Page ".concat(e),n.src=t,n.draggable=!1,n.style.display="block",n.style.height="100%",n.style.width="100%",n.style.objectFit="contain",n},e.prototype.loadMorePages=function(e){var t=this;e.forEach((function(e){if(e.isIntersecting){var n=e.target.dataset.page;if(n){var i=parseInt(n,10);t.fetchNeighborPages(i),t.fetchNeighborHighlights(i)}}}))},e.prototype.fetchNeighborPages=function(e,t){var n=this;this.fetchPage(e-1).then((function(){return n.navigateToPage(e,t)})),this.fetchPage(e).then((function(){return n.navigateToPage(e,t)})),this.fetchPage(e+1).then((function(){return n.navigateToPage(e,t)}))},e.prototype.fetchNeighborHighlights=function(e){this.requestPageHighlights(e-1),this.requestPageHighlights(e),this.requestPageHighlights(e+1)},e.prototype.isPendingPage=function(e){return!this.pages[e]||"Loading Page"===this.pages[e]},e.prototype.isValidPage=function(e,t){return t?e>0&&e<=t:this.manifest.pages.indexOf(e)>-1},e.prototype.fetchPage=function(e,t){var n=this;return void 0===t&&(t=5),this.isPendingPage(e)&&this.isValidPage(e,this.manifest.numberOfPages)?this.bookProvider.getPageUrls(e).then((function(e){e&&n.setPages(e)})).catch((function(e){var i=e.nextPageToTry;if((null!=i?i:-1)>=0&&t>0)return n.fetchPage(i,t-1)})):Promise.resolve()},e.prototype.requestPageHighlights=function(e){var t,n;return c(e.toString())||null===(n=(t=this.bookProvider).requestPageHighlights)||void 0===n||n.call(t,e),Promise.resolve()},e.prototype.addHighlights=function(e){var t=this,n=function(n){var r=i.getPageContainer(parseInt(n,10));if(!r)return"continue";r.querySelectorAll(".search-highlight").forEach((function(e){return e.remove()})),i.searchHighlights[n]=e[n],i.searchHighlights[n].forEach((function(e){var n=100/1024;r.appendChild(t.createHighlight({left:"".concat(e[0]*n,"%"),top:"".concat(e[1]*n,"%"),width:"".concat(e[2]*n,"%"),height:"".concat(e[3]*n,"%")}))}))},i=this;for(var r in e)n(r)},e.prototype.setPages=function(e){for(var t in e){var n=parseInt(t,10);this.isPendingPage(n)&&this.setPage(n,e[n])}},e.prototype.setPage=function(e,t){var n=this;this.pages[e]=t;var i=this.getPageImage(e,t);i.onload=function(){n.hideSpinner(e),n.pageLoaded||(n.pageLoaded=!0,n.callRenderStatusReady())};var r=this.getPageContainer(e);if(!r){var o=this.getLastRenderedPageNumber();r=this.createPageContainer(e),o<e?this.viewerRoot.appendChild(r):this.viewerRoot.insertBefore(r,this.getNextAvailablePage(e)),this.intersectionObserver.observe(r)}var s=r.querySelectorAll(".search-highlight");r.innerHTML="",r.appendChild(i),r.insertAdjacentHTML("beforeend",this.getSpinner(e)),s.forEach((function(e){r.appendChild(e)})),this.gestureHandler.observe(r,this.getGestureOptions()),this.resetSampleDisclaimers()},e.prototype.clearSamplePageDisclaimers=function(){document.querySelectorAll(".sample-page-disclaimer").forEach((function(e){e.remove()}))},e.prototype.callReadingStatusChangedOnScroll=function(){this.scrollModel.isAtEndOfBook()?(0,r.callReadingStatusChanged)(this.viewerConfig,r.ReadStatus.END):(0,r.callReadingStatusChanged)(this.viewerConfig,r.ReadStatus.READING)},e.prototype.createPageContainer=function(e){var t=document.createElement("div");return t.dataset.page=e.toString(),this.stylePageContainer(t),t},e.prototype.createHighlight=function(e){var t=document.createElement("div");return t.className="search-highlight",t.style.position="absolute",t.style.background="rgba(0,0,0,0.20)",t.style.borderBottom="2px solid #000000",t.style.left=e.left,t.style.top=e.top,t.style.width=e.width,t.style.height=e.height,t},e.prototype.createDisclaimer=function(e){var t=document.createElement("div");return t.innerHTML=e,t.style.backgroundColor="#CDE6E0",t.style.textAlign="center",t.style.fontSize="14px",t.style.paddingTop="7px",t.style.paddingBottom="7px",t.style.marginBottom="10px",t.className="sample-page-disclaimer",t},e.prototype.getNextAvailablePage=function(e){for(var t=e+1;c(this.pages[t])&&t<this.pages.length;)t++;return this.getPageContainer(t)},e.prototype.getLastRenderedPageNumber=function(){for(var e=this.pages.length-1;e>=0;e--)if(!c(this.pages[e])&&this.getPageContainer(e))return e;return 0},e.prototype.navigateToPage=function(e,t){t&&this.goToPosition(e)},e.prototype.getScaleFromZoomPercent=function(){return this.renderSettings.zoomPercent/100},e.prototype.getGestureOptions=function(){return{defaultWidth:this.defaultWidth,viewportTopOffset:this.renderSettings.viewportTopOffset}},e.prototype.getPageContainer=function(e){return document.querySelector('[data-page="'.concat(e,'"]'))},e.prototype.getSampleDisclaimerText=function(e,t){if(!this.renderSettings.localizedStrings)return"";switch(e){case i.DisclaimerType.SPECIFIC_PAGES_MISSING:if(!t||!this.renderSettings.localizedStrings.getMissingPageMessage||!this.renderSettings.localizedStrings.getMissingPagesMessage)return"";var n=u(t.firstPageInfo,t.startMissingPageIdx);if(t.startMissingPageIdx===t.endMissingPageIdx)return this.renderSettings.localizedStrings.getMissingPageMessage(n);var r=u(t.firstPageInfo,t.endMissingPageIdx);return this.renderSettings.localizedStrings.getMissingPagesMessage(n,r);case i.DisclaimerType.GENERIC:default:return this.renderSettings.localizedStrings.genericSampleMessage||""}},e.prototype.onPageZoom=function(e,t){this.viewerConfig.onZoom(100*e),this.viewerConfig.isManga||this.gestureHandler.zoom(e,t)},e.prototype.getSpinner=function(e){return'\n            <div id="'.concat(this.getSpinnerId(e),'" style="position: absolute; left: 0; right: 0; bottom: 0; top: 0; height: 40px; width: 40px; margin: auto; animation: spin 1s linear infinite;">\n                <svg version="1.1" id="Layer_1" x="0px" y="0px"\n                    viewBox="0 0 80 80" enable-background="new 0 0 80 80" xml:space="preserve">\n                    <path id="spinner-').concat(e,'" fill="#B8B8B8" d="M40,72C22.4,72,8,57.6,8,40C8,22.4,22.4,8,40,8c17.6,0,32,14.4,32,32c0,1.1-0.9,2-2,2s-2-0.9-2-2c0-15.4-12.6-28-28-28S12,24.6,12,40s12.6,28,28,28c1.1,0,2,0.9,2,2S41.1,72,40,72z"/>\n                </svg>\n            </div>\n        ')},e.prototype.getSpinnerId=function(e){return"PrintSpinner".concat(e)},e.prototype.hideSpinner=function(e){document.getElementById(this.getSpinnerId(e)).style.display="none"},e.prototype.resetSampleDisclaimers=function(){this.clearSamplePageDisclaimers(),this.appendSampleDisclaimers()},e.prototype.attachClickEventHandling=function(){var e=this;this.viewerRoot.addEventListener("click",(function(t){e.clickHandler.handleClickEvent(t,e.viewerConfig.scrollContainer,e.viewerConfig.onClick,e.viewerConfig.onDoubleClick)}))},e}();t.BookViewerPrint=l}.apply(t,i),void 0===r||(e.exports=r)},455:(e,t,n)=>{var i,r;i=[n,t,n(168),n(709)],r=function(e,t,n,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GestureHandlerScale=void 0,function(e){e.PINCH="pinch",e.PINCH_CANCEL="pinchcancel",e.PINCH_END="pinchend",e.PINCH_MOVE="pinchmove"}(r||(r={}));var o="".concat(r.PINCH," ").concat(r.PINCH_MOVE),s=function(){function e(e,t,n){this.displayImageScale=1,this.pinchStartEventListener=this.onPinchStart.bind(this),this.touchPadPinchEventListener=this.onTouchPadPinchZoom.bind(this),this.panStartEventListener=this.onPanStart.bind(this),this.panMoveEventListener=this.onPanMove.bind(this),this.panEndEventListener=this.onPanEnd.bind(this),this.doubleTapEventListener=this.onDoubleTap.bind(this),this.panning=!1,this.viewerRoot=e,this.observedElements=[],this.onZoom=n,this.scrollModel=t,this.initialize(),this.attachEventListeners()}return e.prototype.observe=function(e,t){this.observedElements.push(e),this.initialWidth||(this.initialWidth=t.defaultWidth)},e.prototype.setInitialWidth=function(e){this.initialWidth=e,this.viewerRoot.parentElement.style.width="".concat(e*this.getScale(),"px")},e.prototype.disconnect=function(){this.removeEventListeners(),this.observedElements=[]},e.prototype.zoom=function(e,t,n,r){var o=this;if((0,i.clamp)(e,1,2)!==this.displayImageScale){var s=t;if(!s||s===this.getViewerRoot()){var a=this.observedElements.filter((function(e){return o.elementIsInViewport(e)})),c=a.map(this.getElementHeightInViewport.bind(this)),u=0;a.forEach((function(e,t){c[t]>u&&(u=c[t],s=e)}))}var l=this.getScrollModel().getLeftOffset()-s.getBoundingClientRect().left,h=this.getScrollModel().getTopOffset()-s.getBoundingClientRect().top,d=this.getScale();this.setScale(e),this.getViewerRoot().parentElement.style.width="".concat(this.initialWidth*this.getScale(),"px");var f=this.getZoomedScrollX(s,l,d,n),p=this.getZoomedScrollY(s,h,d,r);this.centerPage(f,p)}},e.prototype.getScrollModel=function(){return this.scrollModel},e.prototype.getViewerRoot=function(){return this.viewerRoot},e.prototype.getScale=function(){return this.displayImageScale},e.prototype.setScale=function(e){this.displayImageScale=(0,i.clamp)(e,1,2),1===this.displayImageScale?this.getViewerRoot().style.cursor="auto":this.getViewerRoot().style.cursor="pointer"},e.prototype.centerPage=function(e,t){var n=this.getScrollModel(),i=this.getViewerRoot().clientWidth-n.getContainerWidth();n.scrollTo(e||i/2,t||n.getScrollY())},e.prototype.initialize=function(){this.manager=new n.Manager(this.getViewerRoot(),{touchAction:"pan-x pan-y"}),this.manager.add(new n.Pinch({enable:!0})),this.manager.add(new n.Tap({event:"doubletap",taps:2}))},e.prototype.attachEventListeners=function(){this.manager.on(o,this.pinchStartEventListener),this.manager.on("doubletap",this.doubleTapEventListener),this.getViewerRoot().addEventListener("gesturechange",this.pinchStartEventListener),this.getViewerRoot().addEventListener("wheel",this.touchPadPinchEventListener),this.getViewerRoot().addEventListener("mousedown",this.panStartEventListener),this.getViewerRoot().addEventListener("mousemove",this.panMoveEventListener),this.getViewerRoot().addEventListener("mouseup",this.panEndEventListener),this.getViewerRoot().addEventListener("mouseleave",this.panEndEventListener)},e.prototype.removeEventListeners=function(){this.manager.off(o,this.pinchStartEventListener),this.manager.off("doubletap",this.doubleTapEventListener),this.getViewerRoot().removeEventListener("gesturechange",this.pinchStartEventListener),this.getViewerRoot().removeEventListener("wheel",this.touchPadPinchEventListener),this.getViewerRoot().removeEventListener("mousedown",this.panStartEventListener),this.getViewerRoot().removeEventListener("mousemove",this.panMoveEventListener),this.getViewerRoot().removeEventListener("mouseup",this.panEndEventListener),this.getViewerRoot().removeEventListener("mouseleave",this.panEndEventListener)},e.prototype.onDoubleTap=function(e){e.preventDefault();var t=this.getScrollingElement(e.target);this.getScale()<2?this.zoom(2,t,e.center.x,e.center.y):this.zoom(1,t,e.center.x,e.center.y),this.onZoom&&this.onZoom(this.displayImageScale,t)},e.prototype.onPinchStart=function(e){e.preventDefault();var t=e.scale>1?1:-1;this.setScale(.01*t+this.getScale()),this.getViewerRoot().parentElement.style.width="".concat(this.initialWidth*this.getScale(),"px");var n=this.getViewerRoot().clientWidth-this.getScrollModel().getContainerWidth();this.getScrollModel().scrollTo(n/2,this.getScrollModel().getScrollY())},e.prototype.onTouchPadPinchZoom=function(e){e.ctrlKey&&(e.preventDefault(),this.handlePinchZoom(this.getScale()-.01*e.deltaY,e.target,e.clientX,e.clientY))},e.prototype.handlePinchZoom=function(e,t,n,i){if(t){var r=this.getScrollingElement(t);this.zoom(e,r,n,i),this.onZoom&&this.onZoom(this.displayImageScale,r)}},e.prototype.onPanStart=function(e){this.panning=((0,i.isMouseEvent)(e)||1===e.touches.length)&&this.getScale()>1,this.setPointerPosition(e)},e.prototype.onPanMove=function(e){if(this.panning){e.preventDefault();var t=this.getScrollModel(),n=this.pointerPosition.x-a(e),i=this.pointerPosition.y-c(e);t.scrollTo(t.getScrollX()+n,t.getScrollY()+i),this.setPointerPosition(e)}},e.prototype.onPanEnd=function(){this.panning=!1},e.prototype.setPointerPosition=function(e){(0,i.isMouseEvent)(e)?this.pointerPosition={x:e.x,y:e.y}:this.pointerPosition={x:e.touches[0].clientX,y:e.touches[0].clientY}},e.prototype.getScrollingElement=function(e){var t=e;return t&&"IMG"===t.nodeName&&(t=t.parentElement),t},e.prototype.getZoomedScrollX=function(e,t,n,i){var r=i?i-this.getScrollModel().getLeftOffset()+parseInt(this.getViewerRoot().style.paddingLeft):.5*this.initialWidth,o=(t+r)/n*this.getScale()-r;return e.offsetLeft+o},e.prototype.getZoomedScrollY=function(e,t,n,i){var r=i?i-this.getScrollModel().getTopOffset():.5*this.getScrollModel().getContainerHeight(),o=this.viewerRoot.getBoundingClientRect().top-this.getScrollModel().getTopOffset()+this.getScrollModel().getScrollY(),s=(t+r)/n*this.getScale()-r+o;return e.offsetTop+s},e.prototype.elementIsInViewport=function(e){var t=this.getElementPositionsRelativeToScrollContainer(e);return t.top>=-e.offsetHeight&&t.bottom<=this.getScrollModel().getContainerHeight()+e.offsetHeight},e.prototype.getElementPositionsRelativeToScrollContainer=function(e){var t=e.getBoundingClientRect();return{top:t.top-this.getScrollModel().getTopOffset(),bottom:t.bottom-this.getScrollModel().getTopOffset()}},e.prototype.getElementHeightInViewport=function(e){var t=this.getElementPositionsRelativeToScrollContainer(e),n=e.offsetHeight;t.top<0&&(n+=t.top);var i=this.getScrollModel().getContainerHeight();return t.bottom>i&&(n+=i-t.bottom),n},e}();t.GestureHandlerScale=s;var a=function(e){return(0,i.isMouseEvent)(e)?e.x:e.touches[0].clientX},c=function(e){return(0,i.isMouseEvent)(e)?e.y:e.touches[0].clientY}}.apply(t,i),void 0===r||(e.exports=r)},156:(e,t,n)=>{var i,r;i=[n,t,n(144),n(452),n(977),n(41)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SURPRISE_ME_POSITION=t.BookViewerReflowable=t.BookViewerPrint=t.Status=t.PageLoadStatus=t.ReadStatus=t.PageLabel=void 0,Object.defineProperty(t,"BookViewerPrint",{enumerable:!0,get:function(){return n.BookViewerPrint}}),Object.defineProperty(t,"SURPRISE_ME_POSITION",{enumerable:!0,get:function(){return n.SURPRISE_ME_POSITION}}),Object.defineProperty(t,"BookViewerReflowable",{enumerable:!0,get:function(){return i.BookViewerReflowable}}),Object.defineProperty(t,"PageLabel",{enumerable:!0,get:function(){return r.PageLabel}}),Object.defineProperty(t,"ReadStatus",{enumerable:!0,get:function(){return o.ReadStatus}}),Object.defineProperty(t,"PageLoadStatus",{enumerable:!0,get:function(){return o.PageLoadStatus}}),Object.defineProperty(t,"Status",{enumerable:!0,get:function(){return o.Status}})}.apply(t,i),void 0===r||(e.exports=r)},452:function(e,t,n){var i,r,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};i=[n,t,n(178),n(98),n(336),n(14),n(709),n(586),n(722),n(323),n(403),n(41)],r=function(e,t,n,i,r,s,a,c,u,l,h,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BookViewerReflowable=t.DefaultRenderSettings=void 0,t.DefaultRenderSettings={font:"Bookerly",fontSize:16,lineHeightFactor:1.3525,leftAlign:!1,marginTop:20,marginRight:14.67,marginBottom:13.33,marginLeft:14.67,colorTheme:i.ColorTheme.Default,viewportHeight:0,viewportWidth:0,viewportTopOffset:0,linkStyle:"color: #0066c0; text-decoration: underline;",disabledLinkStyle:"color: gray; text-decoration: underline;",searchResultItem:null};var f={supportedFontFormats:["woff2"]},p=function(){function e(e,i,a){var c=this;this.viewerRoot=e.viewerRoot,this.bookProvider=i,this.sectionLoader=new r.SectionLoader(i),this.viewerConfig=o(o({},f),e),this.renderSettings=o(o({},t.DefaultRenderSettings),a);var u={scrollCallback:function(){return c.callReadingStatusChangedOnScroll()},throttledScrollCallback:function(){return c.setFirstVisibleElementPid()},scrollContainer:this.viewerConfig.scrollContainer};this.scrollModel=new s.ScrollModel(u),this.clickHandler=new n.ClickHandler,this.displayBook()}return e.prototype.clear=function(){for(var e=this.viewerRoot.firstChild;e;)this.viewerRoot.removeChild(e),e=this.viewerRoot.firstChild;document.getElementById("book-stylesheet").remove(),document.getElementById("reader-link-stylesheet").remove(),this.scrollModel.clear(),this.firstVisibleElementPid=0},e.prototype.clearStyleSheets=function(){document.contains(document.getElementById("book-stylesheet"))&&document.getElementById("book-stylesheet").remove(),document.contains(document.getElementById("reader-link-stylesheet"))&&document.getElementById("reader-link-stylesheet").remove()},e.prototype.goToPosition=function(e,t){if(this.pidSortedInfoList){var n=a.binarySearch(this.pidSortedInfoList,(function(e){return e.pid}),e),i=this.pidSortedInfoList[n],r=document.querySelector('[data-pid="'+i.pid+'"]');r?(this.scrollModel.setScrollY(i.pixelPositions.topMargin),t&&r.focus()):console.warn("PID element not found: "+i.pid)}},e.prototype.getCurrentReadingLocationData=function(){var e=this.getFirstVisibleElement();return{currentPositionRange:{firstVisiblePid:e.pid,topOfFirstVisiblePid:e.pixelPositions.top,bottomOfFirstVisiblePid:e.pixelPositions.bottom},minimumPosition:0,maximumPosition:this.bookManifest.sections[this.bookManifest.sections.length-1].endPosition}},e.prototype.displayBook=function(){var e=this;(0,d.callRenderStatusChanged)(this.viewerConfig,d.Status.LOADING),this.setupReaderFonts(),Promise.all([this.bookProvider.getManifest(),this.bookProvider.getResourceAsString("styles.css"),this.sectionLoader.getAllSections(),this.sectionLoader.getCoverImage(),this.ensureReaderFontLoaded(this.renderSettings.font),this.loadEmbeddedFonts()]).then((function(t){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[5];return e.bookManifest=n,e.embeddedFonts=s,(0,d.showContent)(e.viewerRoot,!1),e.clearStyleSheets(),document.head.appendChild(e.createBookStylesheetHTML(i)),document.head.appendChild(e.createReaderLinkStylesheetHTML()),e.viewerRoot.style.fontFamily="DefaultFont",e.attachClickEventHandling(),e.changeReaderFont(null,e.renderSettings.font),e.applyColorTheme(),e.appendCoverImage(o),e.appendSections(r),e.addAccessibilityTabIndexAttribute(),e.loadImages(),e.changeBackgroundImageUrls(),e.attachAnchorEventHandling(n.sections),e.fixUpLinkStyles(),e.applyLinkStyles(),e.applyHyphenation(n.language),e.applyRenderSettingsInternal(e.renderSettings).then((function(){e.scrollModel.attachEventListeners(),e.goToPosition(n.srl),(0,d.showContent)(e.viewerRoot,!0),e.setFirstVisibleElementPid(),(0,d.callRenderStatusChanged)(e.viewerConfig,d.Status.READY)}))})).catch((function(t){(0,d.callRenderStatusChanged)(e.viewerConfig,d.Status.ERROR,t)}))},e.prototype.highlightSearchResult=function(e){this.clearSearchHighlights(),this.renderSettings.searchResultItem=e,c.highlightSearchResult(e,this.renderSettings.colorTheme)},e.prototype.clearSearchHighlights=function(){c.clearSearchHighlights(),this.renderSettings.searchResultItem=null},e.prototype.attachAnchorEventHandling=function(e){for(var t=this,n=this.viewerRoot.getElementsByTagName("a"),i=function(i){var r=n[i];r.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation();var i=r.href.match(/^book:(\d+)$/);if(i){var o=parseInt(i[1],10);o>=e[e.length-1].endPosition?t.callOutOfBoundsAnchor():t.goToPosition(o)}else t.callLinkClicked(r.href)}))},r=0;r<n.length;r++)i(r)},e.prototype.addAccessibilityTabIndexAttribute=function(){for(var e=this.viewerRoot.querySelectorAll("[data-pid]"),t=0;t<e.length;t++)e[t].setAttribute("tabindex",(1e3+t).toString())},e.prototype.fixUpLinkStyles=function(){for(var e=this.viewerRoot.getElementsByTagName("a"),t=0;t<e.length;t++)e[t].classList.add("book-content-link");var n=this.viewerRoot.getElementsByTagName("span");for(t=0;t<n.length;t++){var i=n[t];"text-decoration: underline"===i.getAttribute("style")&&(i.removeAttribute("style"),i.classList.add("book-content-disabled-link"))}},e.prototype.buildPidPixelMaps=function(){for(var e=[],t=this.viewerRoot.querySelectorAll("[data-pid]"),n=0;n<t.length;n++){var i=t[n],r=parseInt(i.dataset.pid,10),o=!!i.dataset.imageName,s=getComputedStyle(i),a=i.getBoundingClientRect(),c=this.viewerRoot.getBoundingClientRect().top+this.renderSettings.viewportTopOffset,u=a.top-c,l=a.bottom-c,h={topMargin:u-parseFloat(s.marginTop),bottom:l,top:u};e.push({pid:r,pixelPositions:h,isImage:o})}this.pidSortedInfoList=e.sort((function(e,t){return e.pid-t.pid})),this.pixelSortedInfoList=e.sort((function(e,t){return e.pixelPositions.top-t.pixelPositions.top}))},e.prototype.determineImageSnapElement=function(e){var t=e,n=this.pixelSortedInfoList[t-1];if(n.isImage){var i=this.scrollModel.getScrollY();i<n.pixelPositions.bottom&&i>n.pixelPositions.top&&(t-=1)}return t},e.prototype.getFirstVisibleElement=function(){var e=a.binarySearch(this.pixelSortedInfoList,(function(e){return e.pixelPositions.top}),this.scrollModel.getScrollY());return(e=Math.min(e,this.pixelSortedInfoList.length-1))>=1&&(e=this.determineImageSnapElement(e)),this.pixelSortedInfoList[e]},e.prototype.pidToPixel=function(e){var t=a.binarySearch(this.pidSortedInfoList,(function(e){return e.pid}),e);return this.pidSortedInfoList[t].pixelPositions.top},e.prototype.pixelToPid=function(e){var t=a.binarySearch(this.pixelSortedInfoList,(function(e){return e.pixelPositions.top}),e);return this.pixelSortedInfoList[t].pid},e.prototype.getFirstVisibleElementPid=function(){return this.getFirstVisibleElement().pid},e.prototype.applyRenderSettingsInternal=function(e){var n=this;if(e.viewportHeight<=0||e.viewportWidth<=0)throw new Error("Viewport height and/or viewport width is missing.");var i=o(o({},t.DefaultRenderSettings),e),r=this.renderSettings.font,s=r!==i.font,a=this.isReaderFontLoaded(i.font),c=this.renderSettings.colorTheme!==i.colorTheme,u=this.renderSettings.linkStyle,l=this.renderSettings.disabledLinkStyle,h=u!==i.linkStyle||l!==i.disabledLinkStyle;return this.renderSettings=o(o({},this.renderSettings),i),s&&!a&&(0,d.callRenderStatusChanged)(this.viewerConfig,d.Status.LOADING),this.ensureReaderFontLoaded(i.font).then((function(){(0,d.isEqualRenderSettings)(n.renderSettings,i)&&(s&&n.changeReaderFont(r,i.font),c&&(n.applyColorTheme(),i.searchResultItem&&n.highlightSearchResult(i.searchResultItem)),n.applyFontSize(i.fontSize),n.applyLineHeight(i.lineHeightFactor),n.resizeIndents(i),n.updateDropcaps(i),n.applyMargins(),n.applyAlignment(),n.fixImageDimensions(n.bookManifest.resources),n.fixTableCells(),n.addOverflowXAroundTable(),h&&n.applyLinkStyles(),n.buildPidPixelMaps(),s&&!a&&(0,d.callRenderStatusChanged)(n.viewerConfig,d.Status.READY))}))},e.prototype.applyRenderSettings=function(e){var t=this;return this.applyRenderSettingsInternal(e).then((function(){t.goToPosition(t.firstVisibleElementPid)}))},e.prototype.applyHyphenation=function(e){this.viewerRoot.lang=e,this.viewerRoot.style.hyphens="auto",this.viewerRoot.style["-webkit-hyphens"]="auto",this.viewerRoot.style["-ms-hyphens"]="auto",this.viewerRoot.style["overflow-wrap"]="break-word",this.viewerRoot.style["word-wrap"]="break-word"},e.prototype.applyFontSize=function(e){document.documentElement.style.fontSize=e+"px"},e.prototype.applyLinkStyles=function(){var e=document.getElementById("reader-link-stylesheet");e&&e.remove(),document.head.appendChild(this.createReaderLinkStylesheetHTML())},e.prototype.applyLineHeight=function(e){for(var t=this.viewerRoot.querySelectorAll("div"),n=0;n<t.length;n++){var i=t[n];if(i.dataset.lh){var r=parseFloat(i.dataset.lh);i.style.lineHeight=(e*r).toString()}}},e.prototype.resizeIndents=function(e){this.viewerRoot.querySelectorAll("[data-resize-indent]").forEach((function(t){if(!("initIndent"in t.dataset)){var n=getComputedStyle(t),i=parseFloat(n.textIndent)/parseFloat(n.fontSize);t.dataset.initIndent=i+"em"}var r=a.getLargeFontSizeFactor(e.fontSize,e.viewportWidth,e.viewportHeight)*parseFloat(t.dataset.initIndent);t.style.textIndent=r+"em"}))},e.prototype.applyMargins=function(){this.sectionsContainer.style.margin=this.renderSettings.marginTop+"px "+this.renderSettings.marginRight+"px "+this.renderSettings.marginBottom+"px "+this.renderSettings.marginLeft+"px"},e.prototype.applyAlignment=function(){for(var e=this.viewerRoot.querySelectorAll("[data-is-justified]"),t=(this.renderSettings.viewportWidth-this.renderSettings.marginLeft-this.renderSettings.marginRight)/a.getAlphabetWidth(this.renderSettings.fontSize)>1.321,n=0;n<e.length;n++){var i=e[n];t&&!this.renderSettings.leftAlign?i.style.textAlign="justify":i.style.textAlign="left"}},e.prototype.updateDropcaps=function(e){u.applyDropcaps(this.viewerRoot,e,this.viewerConfig.readerFonts,this.embeddedFonts)},e.prototype.applyColorTheme=function(){var e=i.COLOR_THEMES_STYLE[i.ColorTheme[this.renderSettings.colorTheme]];this.viewerRoot.style.color=e.textColor,this.viewerRoot.style.background=e.backgroundColor},e.prototype.appendCoverImage=function(e){if(e){var t='<img alt="Book cover"data-pid="1" data-is-cover-image = "true"data-image-name="'+e+'"'+'style="width: 100%; height: 100%; object-fit: contain;\n                    padding-left: '.concat(this.renderSettings.marginLeft,"px;\n                    padding-right: ").concat(this.renderSettings.marginLeft,'px;\n                ">');this.viewerRoot.insertAdjacentHTML("beforeend",t)}},e.prototype.appendSections=function(e){this.sectionsContainer=document.createElement("div");for(var t=0;t<e.length;t++){var n='<div style="clear: both; margin-bottom: '+(t===e.length-1?0:"5em")+'">'+e[t]+"</div>";this.sectionsContainer.insertAdjacentHTML("beforeend",n)}this.viewerRoot.insertAdjacentElement("beforeend",this.sectionsContainer)},e.prototype.loadImages=function(){var e=this;this.viewerRoot.querySelectorAll("[data-image-name]").forEach((function(t){a.isBlockImage(t)&&(t.parentElement.style.width="100%",t.style.height&&(t.parentElement.style.minHeight=t.style.height)),e.bookProvider.getResourceUrl(t.dataset.imageName).then((function(e){t.src=e,t.hasAttribute("alt")&&!t.alt.match(/^\s*$/)||(t.alt=" ")}))}))},e.prototype.changeBackgroundImageUrls=function(){var e=this;this.viewerRoot.querySelectorAll("[data-background-image-name]").forEach((function(t){e.bookProvider.getResourceUrl(t.dataset.backgroundImageName).then((function(e){t.style.backgroundImage="url("+e+")"}))}))},e.prototype.fixImageDimensions=function(e){var t=this.viewerRoot.querySelector("[data-is-cover-image]");t&&(t.style.height=this.renderSettings.viewportHeight+"px",t.style.width=this.renderSettings.viewportWidth+"px");for(var n=this.sectionsContainer.getElementsByTagName("img"),i=function(t){var i=n[t];if("true"===i.dataset.imageHasTableParent)return"continue";i.style.removeProperty("width"),i.style.removeProperty("height");var o=e.filter((function(e){if(e.name===i.dataset.imageName)return e})),s=o[0].imageWidth,c=o[0].imageHeight;"false"===i.dataset.imageHasWidth&&(i.style.width="100%"),i.style.maxWidth="100%";var u=c/s*i.clientWidth;u>r.renderSettings.viewportHeight?(i.style.height=.9*r.renderSettings.viewportHeight+"px",i.style.width=s/c*r.renderSettings.viewportHeight*.9+"px"):(i.style.height=u+"px",i.style.width=i.clientWidth+"px"),a.isBlockImage(i)&&(i.parentElement.style.width="unset",i.parentElement.style.minHeight=u+"px")},r=this,o=0;o<n.length;o++)i(o)},e.prototype.fixTableCells=function(){l.fixTableCells(this.viewerRoot)},e.prototype.addOverflowXAroundTable=function(){h.addOverflowXAroundTable(this.viewerRoot)},e.prototype.createBookStylesheetHTML=function(e){var t=document.createElement("style");return t.id="book-stylesheet",t.type="text/css",t.appendChild(document.createTextNode(e)),t},e.prototype.createReaderLinkStylesheetHTML=function(){var e=document.createElement("style");e.id="reader-link-stylesheet",e.type="text/css";var t="a.book-content-link {"+this.renderSettings.linkStyle+"}span.book-content-disabled-link {"+this.renderSettings.disabledLinkStyle+"}";return e.appendChild(document.createTextNode(t)),e},e.prototype.selectFontFormat=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(-1!==this.viewerConfig.supportedFontFormats.indexOf(i.format))return i}throw new Error("Can't find suitable font format")},e.prototype.setupReaderFonts=function(){for(var e in this.readerFontFaces={},this.viewerConfig.readerFonts){var t=[];if(window.FontFace)for(var n=0,i=this.viewerConfig.readerFonts[e];n<i.length;n++){var r=i[n],o=this.selectFontFormat(r.fontFiles),s=new FontFace("DefaultFont","url("+o.url+")",{style:r.fontStyle,weight:r.fontWeight,stretch:r.fontStretch});t.push(s)}this.readerFontFaces[e]=t}},e.prototype.isReaderFontLoaded=function(e){for(var t=0,n=this.readerFontFaces[e];t<n.length;t++)if("loaded"!==n[t].status)return!1;return!0},e.prototype.ensureReaderFontLoaded=function(e){var t=this;return Promise.all(this.readerFontFaces[e].map((function(e){return t.loadFontFace(e)}))).then()},e.prototype.changeReaderFont=function(e,t){if(e)for(var n=0,i=this.readerFontFaces[e];n<i.length;n++){var r=i[n];document.fonts.delete(r)}for(var o=0,s=this.readerFontFaces[t];o<s.length;o++)r=s[o],document.fonts.add(r)},e.prototype.loadEmbeddedFonts=function(){var e=this;return this.bookProvider.getResourceAsObject("fonts.json").then((function(t){return Promise.all(t.map((function(t){var n=e.selectFontFormat(t.fontFiles);return e.bookProvider.getResourceUrl(n.fileName).then((function(e){var n=a.mapYJFontWeight(t.fontWeight),i=new FontFace(t.fontFamily,"url("+e+")",{style:t.fontStyle,weight:n,stretch:t.fontStretch});return document.fonts.add(i),i.load()})).catch((function(e){console.warn(e)}))}))).then((function(){return t}))}))},e.prototype.callLinkClicked=function(e){if(this.viewerConfig.onLinkClicked)return this.viewerConfig.onLinkClicked(e)},e.prototype.callOutOfBoundsAnchor=function(){if(this.viewerConfig.onOutOfBoundsAnchor)return this.viewerConfig.onOutOfBoundsAnchor()},e.prototype.callReadingStatusChangedOnScroll=function(){this.scrollModel.isAtEndOfBook()?(0,d.callReadingStatusChanged)(this.viewerConfig,d.ReadStatus.END):(0,d.callReadingStatusChanged)(this.viewerConfig,d.ReadStatus.READING)},e.prototype.setFirstVisibleElementPid=function(){this.firstVisibleElementPid=this.getFirstVisibleElementPid()},e.prototype.loadFontFace=function(e){var t=this;return a.attemptWithRetries({retries:3},(function(){return e.load()})).catch((function(n){var i,r=null!==(i=Object.keys(t.readerFontFaces).find((function(n){return-1!==t.readerFontFaces[n].indexOf(e)})))&&void 0!==i?i:e.family,o=t.selectFontFormat(t.viewerConfig.readerFonts[r].find((function(t){return t.fontStyle===e.style&&t.fontStretch===e.stretch&&t.fontWeight===e.weight})).fontFiles);return Promise.reject("Failed to load font ".concat(r,": ").concat(n,"                 style:").concat(e.style," weight:").concat(e.weight," stretch:").concat(e.stretch,"                 format:").concat(o?o.format:"unavailable"," url:").concat(o?o.url:"unavailable"))}))},e.prototype.attachClickEventHandling=function(){var e=this;this.viewerRoot.addEventListener("click",(function(t){e.clickHandler.handleClickEvent(t,e.viewerConfig.scrollContainer,e.viewerConfig.onClick,e.viewerConfig.onDoubleClick)}))},e}();t.BookViewerReflowable=p}.apply(t,i),void 0===r||(e.exports=r)},98:(e,t,n)=>{var i;i=function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.COLOR_THEMES_STYLE=t.ColorTheme=void 0,function(e){e[e.Default=0]="Default",e[e.Night=1]="Night",e[e.Sepia=2]="Sepia",e[e.Green=3]="Green"}(n=t.ColorTheme||(t.ColorTheme={})),t.COLOR_THEMES_STYLE={},t.COLOR_THEMES_STYLE[n[n.Default]]={textColor:"#000000",backgroundColor:"#ffffff",searchHighlightStyle:{backgroundColor:"#cacaca",textDecoration:"underline #000000"}},t.COLOR_THEMES_STYLE[n[n.Night]]={textColor:"#acacac",backgroundColor:"#121212",searchHighlightStyle:{backgroundColor:"#cacaca",textDecoration:"underline #000000"}},t.COLOR_THEMES_STYLE[n[n.Sepia]]={textColor:"#5d4232",backgroundColor:"#e7dec7",searchHighlightStyle:{backgroundColor:"#cacaca",textDecoration:"underline #000000"}},t.COLOR_THEMES_STYLE[n[n.Green]]={textColor:"#3a4b43",backgroundColor:"#c5e7ce",searchHighlightStyle:{backgroundColor:"#cacaca",textDecoration:"underline #000000"}}}.apply(t,[n,t]),void 0===i||(e.exports=i)},722:(e,t,n)=>{var i,r;i=[n,t,n(709)],r=function(e,t,n){"use strict";function i(e,t,n,i,r){for(var o=0,s=e;o<s.length;o++){var a=s[o];if(a.fontFamily===t&&(a.fontWeight===n||!a.fontWeight&&"normal"===n)&&(a.fontStyle===i||!a.fontStyle&&"normal"===i)&&(a.fontStretch===r||!a.fontStretch&&"normal"===r))return a.fontMetrics}return null}function r(e,t){for(var n=0,i=t.glyphMetrics;n<i.length;n++){var r=i[n];if(r.glyph===e)return r}}function o(e,t,n,i,r,o){s(e,t,n,i,r);for(var a=r;e.offsetWidth>.6*o&&a>1;)s(e,t,n,i,--a)}function s(e,t,n,i,o){if(1===o||!i||!n)return e.style.fontFamily="unset",e.style.cssFloat="unset",e.style.fontSize="unset",e.style.lineHeight="unset",void(e.style.marginTop="unset");for(var s=n.ascent/n.unitsPerEm,a=-n.descent/n.unitsPerEm,c=n.capHeight/n.unitsPerEm,u=i.capHeight/i.unitsPerEm,l=i.ascent/i.unitsPerEm,h=-i.descent/i.unitsPerEm,d=null,f=null,p=0,g=0,v=e.innerHTML;g<v.length;g++){var m=r(v[g],n);if(null==m){d=null,f=null,p=null;break}var y=m.yMax/n.unitsPerEm,w=-m.yMin/n.unitsPerEm;y>d&&(d=y),w>f&&(f=w),p+=(m.xMax-m.xMin)/n.unitsPerEm}var b=(o-1)*t+u,_=b/c,k=0;null!=f&&f*_>h&&(_=(b+h)/(c+f),k+=f);var E=s-a-(o*t-(t-(l+h))/2-h)/_+k;e.style.cssFloat="left",e.style.fontSize=_+"em",e.style.lineHeight=(s-a).toString(),e.style.marginTop=-E+"em",e.style.height=b/_+E+"em",p>0&&(e.style.width=p+"em"),e.style.marginRight=.6*(t-u)/_+"em"}function a(e,t,n){var i=getComputedStyle(e),r=parseFloat(i.lineHeight);r>0&&1===Math.round(e.clientHeight/r)?e.dataset.dcKnockout=t.offsetWidth+"px":delete e.dataset.dcKnockout;var o=e.previousElementSibling;if(o){var s=parseFloat(o.dataset.dcKnockout);s&&s+t.offsetWidth<=.6*n?t.style.marginLeft=s+"px":t.style.marginLeft="unset"}}Object.defineProperty(t,"__esModule",{value:!0}),t.applyDropcaps=void 0,t.applyDropcaps=function(e,t,r,s){for(var c=e.querySelectorAll("div"),u=0;u<c.length;u++){var l=c[u];if(l.dataset.dropcapFontFamily&&l.dataset.dropcapLines&&l.dataset.dropcapChars){var h=n.getFirstElementChild(l);if(h&&"SPAN"===h.tagName){var d=l.dataset.dropcapFontFamily,f=parseInt(l.dataset.dropcapLines),p=l.dataset.dropcapFontWeight||"normal",g=l.dataset.dropcapFontStyle||"normal",v=l.dataset.dropcapFontStretch||"normal",m=parseFloat(l.dataset.lh)*t.lineHeightFactor,y=i(r[t.font],t.font,p,g,v),w=y;"default"!==d&&(w=i(s,d,p,g,v)),null!=w&&(o(h,m,w,y,f,t.viewportWidth),a(l,h,t.viewportWidth))}}}}}.apply(t,i),void 0===r||(e.exports=r)},336:(e,t,n)=>{var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SectionLoader=void 0;var n=function(){function e(e){this.bookProvider=e,this.manifest=e.getManifest()}return e.prototype.getSectionIndexByPosition=function(e){return this.manifest.then((function(t){for(var n=0;n<t.sections.length;n++){var i=t.sections[n];if(e>=i.startPosition&&e<=i.endPosition)return n}return null}))},e.prototype.getSectionMetadata=function(e){return this.manifest.then((function(t){return t.sections[e]}))},e.prototype.isLastSection=function(e){return this.manifest.then((function(t){return t.sections.length===e+1}))},e.prototype.getSectionDataByIndex=function(e){return this.bookProvider.getSectionContent(e)},e.prototype.getSectionDataByPosition=function(e){var t=this;return this.getSectionIndexByPosition(e).then((function(e){return t.getSectionDataByIndex(e)}))},e.prototype.getAllSections=function(){var e=this;return this.bookProvider.getManifest().then((function(t){return Promise.all(t.sections.map((function(t,n){return e.bookProvider.getSectionContent(n)})))}))},e.prototype.getCoverImage=function(){return this.manifest.then((function(e){return e.coverImage}))},e}();t.SectionLoader=n}.apply(t,[n,t]),void 0===i||(e.exports=i)},323:(e,t,n)=>{var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fixTableCells=void 0,t.fixTableCells=function(e){!function(e){e.querySelectorAll("[data-has-padding-as-percentage]").forEach((function(e){var t=getComputedStyle(e);e.style.paddingLeft=t.paddingLeft,e.style.paddingRight=t.paddingRight}))}(e),function(e){e.querySelectorAll("[data-has-margin-as-percentage]").forEach((function(e){var t=getComputedStyle(e);e.style.marginLeft=t.marginLeft,e.style.marginRight=t.marginRight}))}(e)}}.apply(t,[n,t]),void 0===i||(e.exports=i)},403:(e,t,n)=>{var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addOverflowXAroundTable=void 0,t.addOverflowXAroundTable=function(e){e.querySelectorAll("table").forEach((function(e){var t=document.createElement("div");t.style.overflowX="auto",e.parentNode.insertBefore(t,e),t.appendChild(e)}))}}.apply(t,[n,t]),void 0===i||(e.exports=i)}},t={},function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}(156);var e,t},e.exports=t()},87814:function(e,t,n){var i;"undefined"!=typeof self&&self,i=(e,t,n)=>(()=>{var i={3501:(e,t,n)=>{"use strict";n.d(t,{J:()=>y,T:()=>m});var i=n(9611),r=n(9779),o=n(27),s=n(373),a=n(7801),c=n(9108),u=n(2775),l=n(5162),h=n(4953),d=n(6942),f=n(3969),p=n(8334),g=n(7614),v=n(1900);const m=6;class y{static build(e){var t,n,y,w,b,_,k,E,S,T,P,C;const x=null!==(t=e.canvasService)&&void 0!==t?t:this.buildCanvasService(e.requireHighResolutionImages,e.canvasPixelRatio),I=null!==(n=e.bookRenderOptions.theme)&&void 0!==n?n:"default",R="custom"===I?e.themeData:u.M[I];if(!R)throw new Error('Theme was set to "custom" but no "themeData" were specified');const O=Object.assign(Object.assign(Object.assign({},e),e.bookRenderOptions),{pixelRatio:x.pixelRatio}),A=null!==(y=e.metricsService)&&void 0!==y?y:new r.ConsoleMetricsService,$=r.PageRendererFactory.build(O,new r.MetricsUtil(A)),L=Object.assign(Object.assign(Object.assign({},e),e.bookRenderOptions),{scale:null!==(w=e.scale)&&void 0!==w?w:1,pageRenderer:$,canvasService:x,enableWebWorker:!1,mountPageCanvas:null===(b=e.mountPageCanvas)||void 0===b||b}),M=new r.PageImageRenderer(L),j=null!==(_=e.bookProviderFactory)&&void 0!==_?_:new r.DevBookProviderFactory,D=new h.v,N=null!==(k=e.decorationRenderer)&&void 0!==k?k:new p.G({[o.g.ANNOTATION_TYPE_NOTE]:new a.j,[o.g.ANNOTATION_TYPE_HIGHLIGHT]:new c.y,[o.g.ANNOTATION_TYPE_SEARCH]:new v.v}),F=new s.b({bookRenderOptions:Object.assign({},e.bookRenderOptions),navigationOptions:{navigationDirection:e.navigationDirection,navigationMode:e.navigationMode,animatePageTurn:e.animatePageTurn},themeData:R,guidedViewOptions:e.guidedViewOptions,zoomViewOptions:e.zoomViewOptions}),B=null!==(E=e.decorationProvider)&&void 0!==E?E:new g.i,U=new l.B(e.asin,e.revision,{readAheadPageCount:null!==(S=e.renderBatchSize)&&void 0!==S?S:m,bundleImages:null!==(T=e.bundleImages)&&void 0!==T&&T,bookProviderFactory:j,pageImageRenderer:M,eventEmitter:D,clientRenderOptionsFactory:F,metricsService:A}),z=0==e.enableInteractivity?void 0:new f._V({container:e.container,interactionLayer:e.interactionLayer,fullPage:e.fullPage,decorationProvider:B,decorationRenderer:N,eventEmitter:D,canvasService:x,clientRenderOptionsFactory:F}),H=Object.assign(Object.assign({},e),{clientRenderOptionsFactory:F,scale:null!==(P=e.scale)&&void 0!==P?P:1,rendererController:U,eventEmitter:D,metricsService:A,decorationProvider:B,interactivityLayer:z,bookProviderFactory:j,selectionRenderer:null!==(C=e.selectionShapesRenderer)&&void 0!==C?C:new d.G({clientRenderOptionsFactory:F}),enableInteractivity:void 0===e.enableInteractivity||e.enableInteractivity});return new i.y(H)}static buildCanvasService(e=!1,t){const n=null!=t&&t>0?t:this.MINIMUM_FIXED_FORMAT_PIXEL_RATIO;return e&&window.devicePixelRatio<=n?r.DefaultCanvasService.withPixelRatio(n):r.DefaultCanvasService.fromDocument()}}y.MINIMUM_FIXED_FORMAT_PIXEL_RATIO=2},9611:(e,t,n)=>{"use strict";n.d(t,{y:()=>v});var i=n(27),r=n(4650),o=n(4289),s=n(2775),a=n(9779),c=n(3501),u=n(5988),l=n(4155),h=n(9665),d=n(4910),f=n(9343),p=n(2226),g=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class v{constructor(e){var t,n;this.busyDeferred=new d.B,this.onViewingModeChange=e=>g(this,void 0,void 0,(function*(){const t=this.options.clientRenderOptionsFactory.get();this.options.clientRenderOptionsFactory.set(Object.assign(Object.assign({},t),{bookRenderOptions:Object.assign(Object.assign({},t.bookRenderOptions),{viewingMode:e.viewingMode})})),yield this.updateClientServices(!1),this.options.eventEmitter.emit("onViewingModeChangeEnded",{viewingMode:e.viewingMode})})),this.options=e,this.navigationService=this.options.navigationService,this.interactionControllerFactory=this.options.interactionControllerFactory,this.bookMetadataProvider=this.options.bookMetadataProvider,this.metricsUtil=new a.MetricsUtil(e.metricsService),this.metricsService=e.metricsService;const o=e.clientRenderOptionsFactory.get();this.options.container.className+=` ${i.g.ROOT_ELEMENT_CLASS} ${i.g.ROOT_THEME_CLASS[null!==(t=o.bookRenderOptions.theme)&&void 0!==t?t:"custom"]}`,this.options.eventEmitter.on("onViewingModeChange",this.onViewingModeChange),this.nextPageThrottler=r.d.throttler((()=>this.doNextPage()),100),this.previousPageThrottler=r.d.throttler((()=>this.doPreviousPage()),100),this.options.eventEmitter.on("onInBookLinkClick",(e=>g(this,void 0,void 0,(function*(){const t=this.getLocationMap().locations,n=t[t.length-1],i=e.startPositionId>=n;this.options.eventEmitter.emit("onPositionOutOfRange",{outOfRange:i}),!i&&!this.options.skipNavigationToInternalLink&&(yield this.goToPositionId(e.startPositionId))})))),this.isPinchHandlerEnabled=null===(n=this.options.enablePinchHandler)||void 0===n||n}isReady(){return this.busyDeferred.isCompleted}on(e,t){this.options.eventEmitter.on(e,t)}emitFixedFormatPaginationMetric(e,t){var n,i,r;try{null===(n=this.options.metricsService)||void 0===n||n.recordCountMetrics(`${t}Page:FixedFormatPages`,e.fixedFormatPageCount())}catch(e){e instanceof p.s?null===(i=this.options.metricsService)||void 0===i||i.recordCountMetrics(`${t}Page:FixedFormatPages:${e.type}`,1):null===(r=this.options.metricsService)||void 0===r||r.recordCountMetrics(`${t}Page:FixedFormatPages:UnkownError`,1)}}hasPreviousPage(){var e;const t=null===(e=this.navigationService)||void 0===e?void 0:e.getCurrentView();return(0,a.assertIsDefined)(t,"hasPreviousPage can only be called after navigation"),!t.isFirst()}previousPage(){return g(this,void 0,void 0,(function*(){return this.metricsUtil.asyncExecuteMetrics(a.MetricsConstants.PREVIOUS_PAGE,(()=>{(0,a.assertIsDefined)(this.navigationService,"previousPage can only be called after navigation"),(0,a.assertIsDefined)(this.bookMetadata,"metadata should be defined before navigation"),this.checkIfClientIsBusy();const e=this.previousPageThrottler();return e.invoked?(!this.supportsGuidedView(this.bookMetadata)||this.navigationService instanceof l.q||this.options.metricsService.recordCountMetrics("GuidedView:Off:Page:Previous",1),e.result):Promise.reject(new f.yy)}))}))}doPreviousPage(){return g(this,void 0,void 0,(function*(){this.checkCallbackInProgress(),yield this.performBusyTask((()=>g(this,void 0,void 0,(function*(){var e,t;const n=this.getCurrentPage(),i=yield null===(e=this.navigationService)||void 0===e?void 0:e.goToPrevious();return"FixedFormat"===(null===(t=this.bookMetadata)||void 0===t?void 0:t.manifest.bookType)&&i&&(this.emitFixedFormatPaginationMetric(i,"Previous"),this.emitMetricForFalseBackwardPaginationBug(i.getRenderedPage().page,n)),i}))))}))}emitMetricForFalseBackwardPaginationBug(e,t){var n,i,r,o,s,a,c,u,l;1===(null===(n=e.children)||void 0===n?void 0:n.length)&&1===(null===(i=t.children)||void 0===i?void 0:i.length)&&(null===(o=null===(r=e.children)||void 0===r?void 0:r[0])||void 0===o?void 0:o.imageReference)&&(null===(a=null===(s=e.children)||void 0===s?void 0:s[0])||void 0===a?void 0:a.imageReference)===(null===(u=null===(c=t.children)||void 0===c?void 0:c[0])||void 0===u?void 0:u.imageReference)&&(null===(l=this.options.metricsService)||void 0===l||l.recordCountMetrics("FixedFormatFalseBackwardPaginationBug",1))}hasNextPage(){var e;const t=null===(e=this.navigationService)||void 0===e?void 0:e.getCurrentView();return(0,a.assertIsDefined)(t,"hasNextPage can only be called after navigation"),!t.isLast()}nextPage(){return g(this,void 0,void 0,(function*(){return this.metricsUtil.asyncExecuteMetrics(a.MetricsConstants.NEXT_PAGE,(()=>{(0,a.assertIsDefined)(this.navigationService,"nextPage can only be called after navigation"),(0,a.assertIsDefined)(this.bookMetadata,"metadata should be defined before navigation"),this.checkIfClientIsBusy();const e=this.nextPageThrottler();return e.invoked?(!this.supportsGuidedView(this.bookMetadata)||this.navigationService instanceof l.q||this.options.metricsService.recordCountMetrics("GuidedView:Off:Page:Next",1),e.result):Promise.reject(new f.yy)}))}))}doNextPage(){return g(this,void 0,void 0,(function*(){this.checkCallbackInProgress(),yield this.performBusyTask((()=>g(this,void 0,void 0,(function*(){var e,t,n;const i=null===(e=this.navigationService)||void 0===e?void 0:e.getCurrentView();return"FixedFormat"===(null===(t=this.bookMetadata)||void 0===t?void 0:t.manifest.bookType)&&i&&this.emitFixedFormatPaginationMetric(i,"Next"),null===(n=this.navigationService)||void 0===n?void 0:n.goToNext()}))))}))}getTableOfContents(){return this.metricsUtil.syncExecuteMetrics(a.MetricsConstants.GET_TABLE_OF_CONTENTS,(()=>this.getBookMetadata().tableOfContent))}getBookMetadata(){return(0,a.assertIsDefined)(this.bookMetadata,"Metadata is not available before rendering"),this.bookMetadata}getMetadata(){return this.metricsUtil.syncExecuteMetrics(a.MetricsConstants.GET_METADATA,(()=>this.getBookMetadata().metadata))}getManifest(){return this.metricsUtil.syncExecuteMetrics(a.MetricsConstants.GET_MANIFEST,(()=>this.getBookMetadata().manifest))}getCurrentPage(){var e;const t=null===(e=this.navigationService)||void 0===e?void 0:e.getCurrentView();return(0,a.assertIsDefined)(t,"getCurrentPage can only be called after navigation"),t.getRenderedPage().page}getLocationMap(){return this.metricsUtil.syncExecuteMetrics(a.MetricsConstants.GET_LOCATION_MAP,(()=>this.getBookMetadata().locationMap))}setDecorations(e){this.options.decorationProvider.setDecorations&&this.options.decorationProvider.setDecorations(e)}checkCallbackInProgress(){if(this.options.eventEmitter.isCallbackInProgress)throw new Error("An operation has been invoked on the client from a callback. This can affect performance and it is not allowed")}didBookRenderOptionsChange(e,t){return[...new Set([...Object.keys(e),...Object.keys(t)])].filter((e=>"viewingMode"!==e)).some((n=>e[n]!==t[n]))}updateRenderOptions(e){return g(this,void 0,void 0,(function*(){yield this.metricsUtil.asyncExecuteMetrics(a.MetricsConstants.UPDATE_RENDER_OPTIONS,(()=>g(this,void 0,void 0,(function*(){var t,n,r,o;this.checkCallbackInProgress();const c=this.options.clientRenderOptionsFactory.get(),u=null===(t=this.navigationService)||void 0===t?void 0:t.getCurrentPositionId(),l=null!==(n=c.bookRenderOptions.viewingMode)&&void 0!==n?n:v.DEFAULT_VIEWING_MODE,h=e.bookRenderOptions.viewingMode,d=null!==(r=c.bookRenderOptions.theme)&&void 0!==r?r:"default",f=null!==(o=e.bookRenderOptions.theme)&&void 0!==o?o:"default",p=d!==f,g=c.navigationOptions.navigationMode!==e.navigationOptions.navigationMode,m=c.navigationOptions.navigationDirection!==e.navigationOptions.navigationDirection,y=this.didBookRenderOptionsChange(c.bookRenderOptions,e.bookRenderOptions);if(p){const e=document.getElementsByClassName(i.g.ROOT_ELEMENT_CLASS).item(0);null==e||e.classList.remove(i.g.ROOT_THEME_CLASS[d]),null==e||e.classList.add(i.g.ROOT_THEME_CLASS[f])}const w="custom"===f?e.themeData:s.M[f];(0,a.assertIsDefined)(w,'Theme was set to "custom" but no "themeData" were specified'),this.options.clientRenderOptionsFactory.set(Object.assign(Object.assign(Object.assign({},c),e),{themeData:w})),p||g||y?g?yield this.updateClientServices(!0):yield this.goToPositionId(u):null!=h&&l!==h?this.options.eventEmitter.emit("onViewingModeChange",{viewingMode:h}):m&&(yield this.updateClientServices(!1))}))))}))}goToPositionId(e){return g(this,void 0,void 0,(function*(){yield this.metricsUtil.asyncExecuteMetrics(a.MetricsConstants.GO_TO_POSITION,(()=>g(this,void 0,void 0,(function*(){yield this.performBusyTask((()=>g(this,void 0,void 0,(function*(){this.navigationService||(this.bookMetadata||(this.bookMetadata=yield this.loadBookMetadata(e)),this.navigationService=yield this.buildNavigationService(this.bookMetadata),this.options.enableInteractivity&&this.initializeInteractionController(this.bookMetadata,this.navigationService)),yield this.navigationService.goToPositionId(e)}))))}))))}))}updateClientServices(e){return g(this,void 0,void 0,(function*(){let t,n;this.navigationService&&(n=this.navigationService.getCurrentIndex(),t=this.navigationService.getCurrentPositionId()),yield this.updateNavigationService(),(0,a.assertIsDefined)(this.navigationService,"navigation service must be defined"),yield this.updateInteractionControllerIfNecessary(this.navigationService),e?yield this.goToPositionId(t):(null==n&&(n=this.navigationService.getCurrentIndex()),yield this.navigationService.goToRelativePage(n,"Absolute"))}))}buildNavigationService(e){var t;const n=this.options.clientRenderOptionsFactory.get(),i=void 0!==n.zoomViewOptions&&"FixedFormat"===e.manifest.bookType,r={asin:this.options.asin,container:this.options.container,navigationDirection:n.navigationOptions.navigationDirection,progressionDirection:e.metadata.progressionDirection,eventEmitter:this.options.eventEmitter,layerFactories:[...null!==(t=this.options.layerFactories)&&void 0!==t?t:[]],rendererController:this.options.rendererController,clientRenderOptionsFactory:this.options.clientRenderOptionsFactory,metricsService:this.options.metricsService,fullPage:this.options.fullPage,animatePageTurn:n.navigationOptions.animatePageTurn,isZoomableContent:i,usePanningPaginationService:this.options.enablePagePanning};return u.p.build(n.navigationOptions.navigationMode,e.manifest,r)}updateNavigationService(){var e;return g(this,void 0,void 0,(function*(){null==this.bookMetadata&&(this.bookMetadata=yield this.loadBookMetadata()),yield null===(e=this.navigationService)||void 0===e?void 0:e.destroy(),this.navigationService=this.buildNavigationService(this.bookMetadata)}))}updateInteractionControllerIfNecessary(e){var t,n;return g(this,void 0,void 0,(function*(){(0,a.assertIsDefined)(this.interactionControllerFactory,"updateInteractionController can only be called after having an existing interactionControllerFactory.");const i=this.interactionControllerFactory.determineInteractionControllerType(this.options);(null===(t=this.interactionController)||void 0===t?void 0:t.constructor.prototype)===i?this.interactionController.updateNavigationService(e):(null===(n=this.interactionController)||void 0===n||n.destroy(),this.interactionController=this.interactionControllerFactory.buildWithType(this.options,e,i,this.isPinchHandlerEnabled))}))}loadBookMetadata(e){var t,n;return g(this,void 0,void 0,(function*(){return this.bookMetadataProvider||(this.bookMetadataProvider=new o.i({asin:this.options.asin,revision:this.options.revision,startReadingPosition:e,readAheadPageCount:null!==(t=this.options.renderBatchSize)&&void 0!==t?t:c.T,bookProviderFactory:this.options.bookProviderFactory,bookRenderOptions:this.options.clientRenderOptionsFactory.get().bookRenderOptions,bundleImages:null!==(n=this.options.bundleImages)&&void 0!==n&&n})),yield this.bookMetadataProvider.get()}))}clearSelection(){return g(this,void 0,void 0,(function*(){yield this.metricsUtil.asyncExecuteMetrics(a.MetricsConstants.CLEAR_TEXT_SELECTION,(()=>g(this,void 0,void 0,(function*(){var e,t;yield null===(t=null===(e=this.interactionController)||void 0===e?void 0:e.clearSelection)||void 0===t?void 0:t.call(e)}))))}))}supportsGuidedView(e){return"FixedFormat"===e.manifest.bookType&&e.manifest.publisherPanel}initializeInteractionController(e,t){this.interactionControllerFactory||(this.interactionControllerFactory=new h.y(e,this.metricsService)),this.interactionController=this.interactionControllerFactory.build(this.options,t,this.isPinchHandlerEnabled)}checkIfClientIsBusy(){if(!this.busyDeferred.isCompleted)throw new f.Tg}disablePinchHandler(){var e;this.isPinchHandlerEnabled=!1,null===(e=this.interactionController)||void 0===e||e.disablePinchHandler()}enablePinchHandler(){var e;this.isPinchHandlerEnabled=!0,null===(e=this.interactionController)||void 0===e||e.enablePinchHandler()}performBusyTask(e){this.busyDeferred=new d.B;const t=e();return t.catch((e=>this.metricsService.recordCountMetrics(`Karamel:Client:Error:${e.name}`,1))).finally((()=>this.busyDeferred.resolve())),t}}v.DEFAULT_VIEWING_MODE="FullPage"},3253:()=>{},9434:()=>{},1598:()=>{},9343:(e,t,n)=>{"use strict";n.d(t,{Lf:()=>a,Tg:()=>o,w8:()=>s,yy:()=>r});var i=n(9779);class r extends i.InformativeError{constructor(){super("The operation failed because of throttling."),this.name="ThrottlingException"}}class o extends i.InformativeError{constructor(){super("The operation failed because the client is busy."),this.name="BusyException"}}class s extends i.InformativeError{constructor(){super("Render result is no longer valid because the settings changed."),this.name="RenderSettingsChangedException"}}class a extends i.InformativeError{constructor(){super("View is no longer valid."),this.name="ViewNoLongerValidException"}}},5889:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});class i{constructor(e){this.options=e,this.loadingPromise=this.load()}get(){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return this.bookMetadata=yield this.loadingPromise,this.bookMetadata}))}}},4289:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var i=n(9779),r=n(5889);class o extends r._{constructor(e){super(e),this.options=e}load(){var e;return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const t=(yield this.options.bookProviderFactory.get(this.options.asin,this.options.revision,this.getNavigationOptions(this.options.startReadingPosition),this.options.bookRenderOptions))[0];return{locationMap:null!==(e=yield t.getLocationMap())&&void 0!==e?e:{locations:[],navigationUnit:[]},manifest:yield t.getManifest(),metadata:yield t.getMetadata(),tableOfContent:yield t.getTableOfContent()}}))}getNavigationOptions(e){return{direction:i.Direction.Absolute,pageCount:this.options.readAheadPageCount,skipPageCount:0,startPositionId:e,type:i.NavigationType.Position,bundleImages:this.options.bundleImages}}}},2817:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var i=n(9779),r=n(7253),o=n(9205),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class a{constructor(e,t){this.metricsUtil=e,this.imageDecipher=t,this.cache=new r.y}getImage(e){return s(this,void 0,void 0,(function*(){return this.cache.get(e)}))}addImages(e,t,n){this.cache.evict();for(const i of t)if(i&&!this.cache.has(i.url)){const t=this.metricsUtil.asyncExecuteMetrics("RequestImageFromCdnWithRetry"+(e.isEncrypted?":Encrypted":""),(()=>(0,o.J)((()=>this.requestImageFromCDN(i,e,n)))));this.cache.put(i.url,t),t.catch((()=>{this.cache.remove(i.url)}))}}recordNetworkSpeed(e,t,n){this.metricsUtil.recordCountMetrics("CDN:Encrypted:Count",n?1:0),this.metricsUtil.recordCountMetrics("DownloadImageSizeInBytes"+(n?":Encrypted":""),e),this.metricsUtil.recordTimeMetrics("DownloadImageTimeElapsedInMs"+(n?":Encrypted":""),t),this.metricsUtil.recordCountMetrics("DownloadImageNetworkSpeedInKBpS"+(n?":Encrypted":""),e/1024/(t/1e3))}requestImageFromCDN(e,t,n){var r;return s(this,void 0,void 0,(function*(){const o=null===(r=t.isEncrypted)||void 0===r||r;return this.metricsUtil.asyncExecuteMetrics("DownloadImageFromCDN"+(o?":Encrypted":""),(()=>s(this,void 0,void 0,(function*(){let r,s=Date.now();const a=o?t.authParameter:e.authParameter;(0,i.assertIsDefined)(a,"authParameter cannot be undefined.");let c=[t.baseUrl,e.url].join("/")+"?"+a;if(null!=n&&o){const e=n.token,t=encodeURIComponent(e),i=n.expiresAt;c=[c,`token=${t}`,`expiration=${i}`].join("&")}const u=yield this.metricsUtil.asyncExecuteMetrics("RequestImageFromCDN"+(o?":Encrypted":""),(()=>fetch(c)));let l;if(o){const e=yield this.metricsUtil.asyncExecuteMetrics("GetImageFromCDN:Encrypted",(()=>u.arrayBuffer()));s=Date.now()-s,r=e.byteLength;const t=yield this.metricsUtil.asyncExecuteMetrics("DecryptImageFromCDN",(()=>this.imageDecipher.decrypt(e,n)));l=new Blob([t])}else l=yield this.metricsUtil.asyncExecuteMetrics("GetImageFromCDN",(()=>u.blob())),s=Date.now()-s,r=l.size;return this.recordNetworkSpeed(r,s,o),l}))))}))}}},7253:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});class i{constructor(){this.MAX_SIZE=100,this.images=new Map,this.fifo=new Array}has(e){return this.images.has(e)}get(e){return this.images.get(e)}put(e,t){this.images.has(e)||(this.fifo.unshift(e),this.images.set(e,t))}remove(e){const t=this.fifo.indexOf(e);t>-1&&(this.fifo.splice(t,1),this.images.delete(e))}evict(){for(const e of this.fifo.splice(this.MAX_SIZE))this.images.delete(e)}}},5078:()=>{},5922:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});class i{constructor(e,t){this.serviceDataLoader=t,this.pageIndex=e}getLayoutPage(){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return this.serviceDataLoader.getLayoutPage(this.pageIndex)}))}getImage(e){return this.serviceDataLoader.getImage(e)}getMetadata(){return this.serviceDataLoader.getMetadata()}getManifest(){return this.serviceDataLoader.getManifest()}getPage(){return this.serviceDataLoader.getPage(this.pageIndex)}getTableOfContent(){return this.serviceDataLoader.getTableOfContent()}getTokens(){return this.serviceDataLoader.getTokens(this.pageIndex)}getPanels(){return this.serviceDataLoader.getPanels(this.pageIndex)}getFonts(){return this.serviceDataLoader.getFonts()}getLocationMap(){return this.serviceDataLoader.getLocationMap()}}},180:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var i=n(9779),r=n(5502),o=n(6270),s=n.n(o),a=n(8298),c=n(5941),u=n(2817);class l{constructor(e,t,n,r){this.contentType=e,this.serviceFetch=t,this.FIVE_SECONDS=5e3,this.imageDecipher=new a.N(new c.L),this.metricsUtil=new i.MetricsUtil(null!=n?n:new i.ConsoleMetricsService),this.memoizedServiceFetch=s()(this.serviceFetch,{normalizer:function(e){return JSON.stringify(e[0])},max:3}),this.cdnDataLoader=new u.d(this.metricsUtil,this.imageDecipher),r&&r.cdn&&r.resources&&(r.karamelToken||!r.cdn.isEncrypted)?r.cdn.expirationDate>Date.now()+this.FIVE_SECONDS?(this.cdnDataLoader.addImages(r.cdn,r.resources,r.karamelToken),this.metricsUtil.recordCountMetrics("CdnPrefetch",1)):(this.metricsUtil.recordCountMetrics("CdnPrefetch:Expired",1),this.metricsUtil.recordCountMetrics("CdnPrefetch",0)):this.metricsUtil.recordCountMetrics("CdnPrefetch",0)}get(e,t,n,i){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const o={asin:e,revision:t,contentType:this.contentType,settings:i,navigation:n,imageDecipher:this.imageDecipher},s=new r.h(o,this.memoizedServiceFetch,"TAR",this.metricsUtil,this.cdnDataLoader);return yield s.load()}))}}},5502:(e,t,n)=>{"use strict";n.d(t,{h:()=>c});var i=n(9779),r=n(5922),o=n(27),s=n(6565),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c{constructor(e,t,n,i,r){this.options=e,this.fetch=t,this.packageType=n,this.metricsUtil=i,this.cdnDataLoader=r}load(){var e,t;return a(this,void 0,void 0,(function*(){const n=this.options,a=n.settings,c={version:null!==(e=a.version)&&void 0!==e?e:o.g.VERSION,asin:n.asin,contentType:n.contentType,revision:n.revision,fontFamily:a.fontFamily,fontSize:String(a.fontSize),lineHeight:String(a.lineHeight),dpi:String(a.dpi),height:String(a.pageHeight),width:String(a.pageWidth),marginBottom:String(a.marginBottom),marginLeft:String(a.marginLeft),marginRight:String(a.marginRight),marginTop:String(a.marginTop),maxNumberColumns:a.maxNumberColumns?String(a.maxNumberColumns):o.g.DEFAULT_MAX_COLUMN,theme:String(null!==(t=a.theme)&&void 0!==t?t:"custom").toLowerCase(),locationMap:String(a.includeLocationMap),packageType:this.packageType,encryptionVersion:"NONE"};if(n.navigation.type===i.NavigationType.Position){const e=n.navigation,t=e.direction==i.Direction.Backward?String(-1*e.pageCount):String(e.pageCount);c.numPage=t,c.skipPageCount=String(e.skipPageCount),void 0!==e.startPositionId&&(c.startingPosition=String(e.startPositionId)),c.bundleImages=String(e.bundleImages)}else{const e=n.navigation;c.startingPage=String(e.pageIndex)}const u=yield this.metricsUtil.asyncExecuteMetrics("RequestKaramelData",(()=>this.fetch(c))),l=yield this.metricsUtil.asyncExecuteMetrics("GetKaramelData",(()=>u.clone().arrayBuffer())),h=u.headers.get("karamel-rendering-token"),d=null!=h?JSON.parse(h):void 0;if("TAR"!==this.packageType)throw new Error(`Unknown package type ${this.packageType}`);this.packageDataLoader=new s.t(l,this.metricsUtil,this.options.imageDecipher,d);const f=yield this.packageDataLoader.getManifest();f.cdn&&f.cdnResources&&this.cdnDataLoader.addImages(f.cdn,f.cdnResources,d);const p=yield this.packageDataLoader.getPageCount(),g=new Array;for(let e=0;e<p;e++){const t=new r.m(e,this);g.push(t)}return g}))}getDataLoader(){return a(this,void 0,void 0,(function*(){return this.packageDataLoader||(yield this.load()),this.packageDataLoader}))}getImageFromZip(e){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getImage(e)}))}getImageFromCdn(e){return a(this,void 0,void 0,(function*(){return this.cdnDataLoader.getImage(e)}))}getImage(e){var t;return a(this,void 0,void 0,(function*(){const n=null!==(t=yield this.getImageFromZip(e))&&void 0!==t?t:yield this.getImageFromCdn(e);return(0,i.assertIsDefined)(n),n}))}getPage(e){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getPage(e)}))}getLocationMap(){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getLocationMap()}))}getTableOfContent(){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getTableOfContent()}))}getTokens(e){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getTokens(e)}))}getPanels(e){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getPanels(e)}))}getMetadata(){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getMetadata()}))}getManifest(){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getManifest()}))}getFonts(){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getFonts()}))}getLayoutPage(e){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getLayoutPage(e)}))}}},6565:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var i=n(9779),r=n(7976),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e,t,n,i){this.metricsUtil=t,this.imageDecipher=n,this.karamelToken=i,this.pages=new Map,this.layoutPages=new Map,this.images=new Map,this.tokens=new Map,this.panels=new Map,this.reader=new r.J(e),this.loadingPromise=new Promise(((e,t)=>{try{this.reader.init();const n=new Array;this.reader.getEntries().forEach((e=>{const t=e.name;t.startsWith("img_")||t.startsWith(s.ASSETS_DIR)||t.startsWith("rsrc")||t.endsWith(".png")?n.push(this.addImage(e)):t.startsWith("page_")?n.push(this.addPage(e)):t.startsWith("layout_data_")?n.push(this.addLayoutPage(e)):t.startsWith("tokens_")?n.push(this.addTokens(e)):t.startsWith("panels_")?n.push(this.addPanels(e)):"glyphs.json"===t?n.push(this.addGlyphs(e)):"toc.json"===t?n.push(this.addTableOfContent(e)):"metadata.json"===t?n.push(this.addMetadata(e)):"manifest.json"===t?n.push(this.addManifest(e)):"location_map.json"===t&&n.push(this.addLocationMap(e))})),Promise.all(n).then(e).catch((e=>t(e)))}catch(e){t(e)}}))}getType(){return"TAR"}addLocationMap(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{this.locationMap=JSON.parse(e)}))}))}getLocationMap(){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>this.locationMap))}))}getPageCount(){return o(this,void 0,void 0,(function*(){return yield this.loadingPromise,this.pages.size}))}getImage(e){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>this.images.has(e)?this.images.get(e):void 0))}))}getPage(e){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>{const t=this.pages.get(e);return(0,i.assertIsDefined)(t),t}))}))}getLayoutPage(e){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>{const t=this.layoutPages.get(e);return(0,i.assertIsDefined)(t),t}))}))}getTableOfContent(){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>((0,i.assertIsDefined)(this.tableOfContent),this.tableOfContent)))}))}getTokens(e){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>{const t=this.tokens.get(e);return(0,i.assertIsDefined)(t),t}))}))}getPanels(e){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>this.panels.get(e)))}))}getMetadata(){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>((0,i.assertIsDefined)(this.metadata),this.metadata)))}))}getManifest(){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>((0,i.assertIsDefined)(this.manifest),this.manifest)))}))}getFonts(){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>((0,i.assertIsDefined)(this.fonts),this.fonts)))}))}addManifest(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{this.manifest=JSON.parse(e)}))}))}addImage(e){return o(this,void 0,void 0,(function*(){let t=yield this.reader.getBlob(e.name);if(null!=this.karamelToken){const e=yield t.arrayBuffer(),n=yield this.metricsUtil.asyncExecuteMetrics("DecryptImageFromTar",(()=>this.imageDecipher.decrypt(e,this.karamelToken)));t=new Blob([n])}let n=e.name;e.name.startsWith(s.ASSETS_DIR)?n=e.name.substr(s.ASSETS_DIR.length):e.name.startsWith("rsrc")&&(n="resource/"+e.name),this.images.set(n,t)}))}addPage(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{JSON.parse(e).forEach((e=>{this.pages.set(e.pageIndex,e)}))}))}))}addLayoutPage(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{JSON.parse(e).forEach((e=>{this.layoutPages.set(e.pageIndex,e)}))}))}))}addTokens(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{JSON.parse(e).forEach((e=>{this.tokens.set(e.pageIndex,e)}))}))}))}addPanels(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{JSON.parse(e).forEach((e=>{this.panels.set(e.pageIndex,e)}))}))}))}addGlyphs(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{this.fonts=JSON.parse(e)}))}))}addTableOfContent(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{this.tableOfContent=JSON.parse(e)}))}))}addMetadata(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{this.metadata=JSON.parse(e)}))}))}}s.ASSETS_DIR="assets/"},7976:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var i=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const r=512;class o{constructor(e){this.entries=new Map,this.view=new Uint8Array(e),this.buffer=e}init(){let e=0,t=0,n="",i=null;for(;e<this.view.byteLength-512&&(n=this.readFileName(e),0!=n.length);){i=this.readFileType(e),t=this.readFileSize(e);let o={name:n,type:i,size:t,headerOffset:e};this.entries.set(n,o),e+=r+r*Math.trunc(t/r),t%r&&(e+=r)}}getEntries(){return this.entries}readString(e,t){let n=0,i="";for(;0!=this.view[e+n]&&n<t;)i+=String.fromCharCode(this.view[e+n]),n++;return i}readFileName(e){return this.readString(e+0,100)}readFileType(e){let t=String.fromCharCode(this.view[e+156]);return"0"===t?"file":"5"===t?"directory":t}readFileSize(e){let t="";for(let n=0;n<12;n++)t+=String.fromCharCode(this.view[e+124+n]);return parseInt(t,8)}readFileBlob(e,t){let n=new Uint8Array(this.buffer,e,t);return new Blob([n])}readTextFile(e,t){let n=this.buffer.slice(e,e+t);return(new TextDecoder).decode(n)}getText(e){return i(this,void 0,void 0,(function*(){const t=this.entries.get(e);if(t)return this.readTextFile(t.headerOffset+512,t.size);throw Error(`Unable to find entry ${e}`)}))}getBlob(e){return i(this,void 0,void 0,(function*(){const t=this.entries.get(e);if(t)return this.readFileBlob(t.headerOffset+512,t.size);throw Error(`Unable to find entry ${e}`)}))}}},7754:()=>{},7614:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});class i{constructor(){this.decorations=new Array,this.listeners=new Set}addDecorationChangeEventListener(e){this.listeners.add(e)}getDecorations(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return{decorations:this.decorations}}))}removeDecorationChangeEventListener(e){this.listeners.delete(e)}setDecorations(e){this.decorations=e,this.listeners.forEach((e=>{var t;return null===(t=e.onDecorationsChange)||void 0===t?void 0:t.call(e,{})}))}}},8334:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});class i{constructor(e){this.renderers=e}render(e,t){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let n=new Array;for(const i of e.decorationTokens){const e=this.renderers[i.type];if(e){const r=yield e.render({decorationTokens:[i]},t);r&&(n=n.concat(r))}}return n}))}}},9108:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var i=n(27),r=n(9429);class o{render(e,t){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let n=new Array;return e.decorationTokens.forEach((e=>{this.getHighlightedTokens(e).forEach((r=>{(r=r.sort(((e,t)=>e.endPositionId-t.endPositionId))).forEach((r=>{var o;let s=this.renderHighlightedToken(r,e.startPositionId,e.endPositionId,null!==(o=e.highlightColor)&&void 0!==o?o:i.g.DEFAULT_HIGHLIGHT_COLOR,t);n=n.concat(s)}))}))})),n}))}renderHighlightedToken(e,t,n,o,s){const a=`${t}/${n}`,c=e=>{var r;const c=document.createElement("div");c.classList.add(i.g.HIGHLIGHT_ELEMENT_CLASS),c.classList.add(null!==(r=i.g.HIGHLIGHT_COLOR_CLASS[o])&&void 0!==r?r:i.g.HIGHLIGHT_COLOR_CLASS.yellow),c.classList.add(a),c.dataset.startPositionId=String(e.startPositionId),c.dataset.endPositionId=String(e.endPositionId);const u=c.style;return u.width=`${e.width}px`,u.height=`${e.height}px`,u.position="absolute",u.left=e.x+"px",u.top=e.y+"px",c.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),null==s||s.emit("onHighlightClick",{highlightStartPosition:t,highlightEndPosition:n,highlightRangeClass:a})})),c},u=new Array;if(void 0!==e.pieces&&e.pieces.length)for(const t of e.pieces){let n=c(r.g.calculatePieceToken(t,e));n.classList.add(i.g.WORD_PIECE_CSS_CLASS),u.push(n)}else u.push(c(e));return u}getHighlightedTokens(e){const t=new Array;return t.push(r.g.fillTokensGaps(e.tokens)),t}}},7801:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var i=n(27);class r{render(e,t){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const n=new Array;return e.decorationTokens.forEach((e=>{const r=e.tokens,o=r[r.length-1],s=document.createElement("div");s.classList.add(i.g.NOTE_ELEMENT_CLASS);const a=s.style;a.position="absolute",a.left=o.x+o.width-16+"px",a.top=o.y-15-4+"px",n.push(s),s.addEventListener("click",(n=>{n.stopPropagation(),n.preventDefault(),null==t||t.emit("onNoteClick",{startPositionId:e.startPositionId,endPositionId:e.endPositionId})}))})),n}))}}},1900:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var i=n(27),r=n(9429);class o{render(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let t=new Array;return e.decorationTokens.forEach((e=>{this.getHighlightedTokens(e).forEach((e=>{(e=e.sort(((e,t)=>e.endPositionId-t.endPositionId))).forEach((e=>{const n=this.renderHighlightedToken(e);t=t.concat(n)}))}))})),t}))}renderHighlightedToken(e){const t=e=>{const t=document.createElement("div");t.classList.add(i.g.SEARCH_RESULT_ELEMENT_CLASS),t.dataset.startPositionId=String(e.startPositionId),t.dataset.endPositionId=String(e.endPositionId);const n=t.style;return n.width=`${e.width}px`,n.height=`${e.height}px`,n.position="absolute",n.left=e.x+"px",n.top=e.y+"px",t},n=new Array;if(void 0!==e.pieces&&e.pieces.length)for(const o of e.pieces){const s=t(r.g.calculatePieceToken(o,e));s.classList.add(i.g.WORD_PIECE_CSS_CLASS),n.push(s)}else n.push(t(e));return n}getHighlightedTokens(e){const t=new Array;return t.push(r.g.fillTokensGaps(e.tokens)),t}}},8972:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var i=n(9148),r=n(4953),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e,t){this.eventEmitter=new r.v,this.gesture=i.d.None,this.wheelGestureData={lastAccelerationTimestamp:0,history:[]},this.startX=-1,this.startY=-1,this.clickCounter=0,this.onDown=e=>o(this,void 0,void 0,(function*(){this.startX=e.clientX,this.startY=e.clientY,this.targetElement.addEventListener("mousemove",this.onMove),this.targetElement.addEventListener("mouseup",this.onUp),this.gestureTimer=setTimeout((()=>o(this,void 0,void 0,(function*(){this.startDrag(e)}))),i.z.PRESS_THRESHOLD_MS)})),this.onTouch=e=>{this.cancel()},this.onMove=e=>o(this,void 0,void 0,(function*(){e.buttons<=0||(this.gesture===i.d.Drag?(i.z.consume(e),this.eventEmitter.emit("onDrag",{x:e.clientX,y:e.clientY})):Math.pow(e.clientX-this.startX,2)+Math.pow(e.clientY-this.startY,2)>=i.z.DRAG_THRESHOLD_PX_SQUARED&&(i.z.consume(e),this.clearTimer(),this.startDrag(e)))})),this.onUp=e=>o(this,void 0,void 0,(function*(){this.gesture===i.d.Drag?this.eventEmitter.emit("onDragEnd",{x:e.clientX,y:e.clientY}):(this.clickCounter++,2===this.clickCounter?(clearTimeout(this.clickTimer),this.eventEmitter.emit("onDoubleTap",{x:e.clientX,y:e.clientY}),this.clickCounter=0):this.clickTimer=setTimeout((()=>{this.eventEmitter.emit("onTap",{x:e.clientX,y:e.clientY}),this.clickCounter=0}),i.z.DOUBLE_CLICK_TIMEOUT)),this.cancel()})),this.onDoubleClick=e=>o(this,void 0,void 0,(function*(){i.z.consume(e)})),this.onWheel=e=>{if(e.ctrlKey)return;if(i.z.consume(e),clearTimeout(this.gestureTimer),this.gestureTimer=setTimeout((()=>{this.gesture=i.d.None,this.wheelGestureData={lastAccelerationTimestamp:0,history:[]}}),s.WHEEL_COOLDOWN_MS),![i.d.None,i.d.Swipe].includes(this.gesture))return;this.gesture=i.d.Swipe;const t=this.getWheelSwipeEvent(-e.deltaX,-e.deltaY,e.timeStamp,this.wheelGestureData);t&&this.eventEmitter.emit(t,{x:0,y:0})},this.targetElement=e,e.addEventListener("mousedown",this.onDown),e.addEventListener("dblclick",this.onDoubleClick),(null==t?void 0:t.captureMouseWheel)&&e.addEventListener("wheel",this.onWheel),e.addEventListener("touchstart",this.onTouch)}on(e,t){this.eventEmitter.on(e,t)}startDrag(e){this.eventEmitter.emit("onDragStart",{x:this.startX,y:this.startY}),this.eventEmitter.emit("onDrag",{x:e.clientX,y:e.clientY}),this.gesture=i.d.Drag}getWheelSwipeEvent(e,t,n,r){var o;r.axis=null!==(o=r.axis)&&void 0!==o?o:i.z.getSwipeAxis(e,t);const a=r.axis;if(a){const o=n>r.lastAccelerationTimestamp+s.WHEEL_COOLDOWN_MS,c="x"===a?e:t;r.history=r.history.slice(-s.WHEEL_HISTORY_SIZE);const u=this.changedWheelEventDirection(c,r.history),l=i.z.areValuesProgressivelyLarger(r.history);if(r.history.push(c),(l||u)&&(r.lastAccelerationTimestamp=n,o)){const[e,t]="x"===a?[c,0]:[0,c];return i.z.getSwipeEvent(e,t)}}}changedWheelEventDirection(e,t){var n;const i=null!==(n=t[t.length-1])&&void 0!==n?n:0;return Math.sign(e)!==Math.sign(i)}cancel(){this.targetElement.removeEventListener("mousemove",this.onMove),this.targetElement.removeEventListener("mouseup",this.onUp),this.clearTimer(),this.gesture=i.d.None,this.startX=-1,this.startY=-1}clearTimer(){this.gestureTimer&&(clearTimeout(this.gestureTimer),this.gestureTimer=void 0)}destroy(){this.targetElement.removeEventListener("mousedown",this.onDown),this.targetElement.removeEventListener("dblclick",this.onDoubleClick),this.targetElement.removeEventListener("mousemove",this.onMove),this.targetElement.removeEventListener("mouseup",this.onUp),this.targetElement.removeEventListener("wheel",this.onWheel),this.targetElement.removeEventListener("touchstart",this.onTouch)}}s.WHEEL_HISTORY_SIZE=3,s.WHEEL_COOLDOWN_MS=150},2307:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var i=n(9148),r=n(4953),o=n(9250),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class a{constructor(e){this.eventEmitter=new r.v,this.navigationMetrics=new o.p,this.gesture=i.d.None,this.touchIdentifier=-1,this.clickCounter=0,this.ignoreSwipe=!1,this.onCancel=e=>s(this,void 0,void 0,(function*(){i.z.consume(e),this.cancel(),this.eventEmitter.emit("onDragCancel",{})})),this.onDown=e=>s(this,void 0,void 0,(function*(){if(this.startX&&this.startY)return;const t=e.touches.item(0);this.startX=t.clientX,this.startY=t.clientY,this.touchIdentifier=t.identifier,this.gestureTimer=setTimeout((()=>s(this,void 0,void 0,(function*(){this.startDrag(t)}))),i.z.PRESS_THRESHOLD_MS)})),this.onMove=e=>s(this,void 0,void 0,(function*(){const t=this.findMatchingTouch(e);t&&this.gesture!==i.d.Swipe&&(this.gesture===i.d.Drag?(i.z.consume(e),this.eventEmitter.emit("onDrag",{x:t.clientX,y:t.clientY})):Math.pow(t.clientX-this.startX,2)+Math.pow(t.clientY-this.startY,2)>i.z.DRAG_THRESHOLD_PX_SQUARED&&(this.ignoreSwipe?(i.z.consume(e),this.clearTimer(),this.startDrag(t)):this.gesture=i.d.Swipe))})),this.onUp=e=>s(this,void 0,void 0,(function*(){const t=this.findMatchingTouch(e);t&&(e.preventDefault(),this.gesture===i.d.Swipe?this.processSwipe(t):this.gesture===i.d.Drag?this.eventEmitter.emit("onDragEnd",{x:t.clientX,y:t.clientY}):(this.clickCounter++,2===this.clickCounter?(clearTimeout(this.clickTimer),this.eventEmitter.emit("onDoubleTap",{x:t.clientX,y:t.clientY}),this.clickCounter=0):this.clickTimer=setTimeout((()=>{this.eventEmitter.emit("onTap",{x:t.clientX,y:t.clientY}),this.clickCounter=0}),i.z.DOUBLE_CLICK_TIMEOUT)),this.cancel())})),this.targetElement=e,e.addEventListener("touchstart",this.onDown,{passive:!1}),e.addEventListener("touchmove",this.onMove,{passive:!1}),e.addEventListener("touchend",this.onUp,{passive:!1}),e.addEventListener("touchcancel",this.onCancel,{passive:!1})}on(e,t){this.eventEmitter.on(e,t)}setIgnoreSwipe(e){this.ignoreSwipe=e}startDrag(e){this.eventEmitter.emit("onDragStart",{x:this.startX,y:this.startY}),this.eventEmitter.emit("onDrag",{x:e.clientX,y:e.clientY}),this.gesture=i.d.Drag}processSwipe(e){const t=e.clientX,n=e.clientY,r=t-this.startX,o=n-this.startY,s=i.z.getSwipeEvent(r,o,i.z.SWIPE_THRESHOLD_PX);s&&(this.navigationMetrics.recordCountMetrics(s,1),this.eventEmitter.emit(s,{x:this.startX,y:this.startY}))}findMatchingTouch(e){for(const t of e.changedTouches)if(t.identifier===this.touchIdentifier)return t}cancel(){this.clearTimer(),this.gesture=i.d.None,this.startX=void 0,this.startY=void 0,this.touchIdentifier=-1}clearTimer(){this.gestureTimer&&(clearTimeout(this.gestureTimer),this.gestureTimer=void 0)}destroy(){this.targetElement.removeEventListener("touchstart",this.onDown),this.targetElement.removeEventListener("touchmove",this.onMove),this.targetElement.removeEventListener("touchend",this.onUp),this.targetElement.removeEventListener("touchcancel",this.onCancel)}}},9148:(e,t,n)=>{"use strict";var i;n.d(t,{d:()=>i,z:()=>r}),function(e){e.None="none",e.Click="click",e.Drag="drag",e.Swipe="swipe"}(i||(i={}));class r{static consume(e){e.stopPropagation(),e.preventDefault()}static getRelativeLocation(e,t,n){const i=n.getBoundingClientRect();return{x:e-i.x+n.scrollLeft,y:t-i.y+n.scrollTop}}static getSwipeAxis(e,t,n=0){const i=Math.abs(t/e),r=Math.abs(e/t);return i<=this.SWIPE_ANGLE_LIMIT&&Math.abs(e)>n?"x":r<=this.SWIPE_ANGLE_LIMIT&&Math.abs(t)>n?"y":void 0}static getSwipeEvent(e,t,n=0){const i=this.getSwipeAxis(e,t,n);return"x"===i?e>0?"onSwipeRight":"onSwipeLeft":"y"===i?t>0?"onSwipeDown":"onSwipeUp":void 0}static areValuesProgressivelyLarger(e){const t=e.map(Math.abs);return t.every(((e,n)=>{var i;return e>(null!==(i=t[n-1])&&void 0!==i?i:0)}))}}r.DOUBLE_CLICK_TIMEOUT=300,r.DRAG_THRESHOLD_PX_SQUARED=Math.pow(5,2),r.SWIPE_THRESHOLD_PX=20,r.PRESS_THRESHOLD_MS=500,r.SWIPE_ANGLE_LIMIT=Math.tan(.25*Math.PI)},2168:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var i=n(5745),r=n(4229);class o extends i.y{constructor(e){super(e),this.options=e,this.onDoubleTap=e=>{var t,n;const i=this.viewsTracker.getViewAtPoint(e.x,e.y);if(i instanceof r.k){if(i.hasMoveLockAll())return;this.clickEvent=void 0,this.options.eventEmitter.emit("onViewingModeChange",{viewingMode:"FullPage"}),null===(t=this.metricsService)||void 0===t||t.recordCountMetrics("GuidedViewController:DoubleTap:ExitGuidedView",1)}else this.clickEvent=e,this.options.eventEmitter.emit("onViewingModeChange",{viewingMode:"GuidedView"}),null===(n=this.metricsService)||void 0===n||n.recordCountMetrics("GuidedViewController:DoubleTap:EnterGuidedView",1);this.options.eventEmitter.emit("onDoubleClick",e)},this.onViewingModeChangeEnded=e=>function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if("GuidedView"!==e.viewingMode)return;let t,n;void 0===this.clickEvent?n=this.viewsTracker.getViews()[0]:(n=this.viewsTracker.getViewAtPoint(this.clickEvent.x,this.clickEvent.y),t=this.viewsTracker.getPanelOrdinalAtPoint(this.clickEvent.x,this.clickEvent.y)),setTimeout((()=>{n instanceof r.k&&(n.acquireMoveLockAll(),n.guidedViewMove(t),n.hasPanels()&&n.isAnimationEnabled()?n.getRoot().addEventListener("transitionend",(e=>{n instanceof r.k&&"transform"===e.propertyName&&n.releaseMoveLock()})):n.releaseMoveLock())}),0),this.clickEvent=void 0})),e.enablePinchHandler&&super.enablePinchHandler(),super.attachHandlers(),this.metricsService=this.options.metricsService,this.options.eventEmitter.on("onViewingModeChangeEnded",this.onViewingModeChangeEnded)}destroy(){super.destroy(),this.options.eventEmitter.off("onViewingModeChangeEnded",this.onViewingModeChangeEnded)}}},9665:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var i=n(6854),r=n(5745),o=n(9367),s=n(6786),a=n(2168);class c{constructor(e,t){this.bookMetadata=e,this.metricsService=t}determineInteractionControllerType(e){var t;const n=this.bookMetadata.manifest,c=e.clientRenderOptionsFactory.get(),u=n.publisherPanel&&c.guidedViewOptions.isEnabled,l="Zoom"===c.bookRenderOptions.viewingMode,h="FixedFormat"===n.bookType,d=null===(t=(0,i.f)())||void 0===t?void 0:t.isSelectionEnabled,f=0===c.navigationOptions.navigationMode;return h&&f&&(!u||l)?s.Q.prototype:h&&f&&u&&!l?a.C.prototype:!h&&d?o.x.prototype:r.q.prototype}build(e,t,n){const i=this.determineInteractionControllerType(e);return this.buildWithType(e,t,i,n)}buildWithType(e,t,n,i){const c={eventEmitter:e.eventEmitter,container:e.container,bookMetadata:this.bookMetadata,interactionLayer:e.interactionLayer,navigationService:t,fullPage:e.fullPage,isPaginated:0===e.clientRenderOptionsFactory.get().navigationOptions.navigationMode,metricsService:this.metricsService,enablePagePanning:e.enablePagePanning,enablePinchHandler:(!e.nativePinchZoom||n===s.Q.prototype)&&i};switch(n){case s.Q.prototype:return new s.Q(c);case a.C.prototype:return new a.C(c);case o.x.prototype:return new o.x(Object.assign(Object.assign({},c),{selectionRenderer:e.selectionRenderer}));default:return new r.q(c)}}}},5745:(e,t,n)=>{"use strict";n.d(t,{q:()=>l,y:()=>u});var i=n(2797),r=n(2307),o=n(8972),s=n(2683),a=n(4650),c=n(6854);class u{constructor(e){var t,n;this.options=e,this.shiftingLayout=!1,this.scrolling=!1,this.onTapInternal=e=>{this.scrolling?this.scrolling=!1:this.onTap(e)},this.onGestureStartInternal=e=>{this.scrolling||this.onGestureStart(e)},this.onTap=e=>{this.options.eventEmitter.emit("onClick",e)},this.onDoubleTap=e=>{this.options.eventEmitter.emit("onDoubleClick",e)},this.onSwipeLeft=e=>{this.options.eventEmitter.emit("onSwipeLeft",e)},this.onSwipeRight=e=>{this.options.eventEmitter.emit("onSwipeRight",e)},this.onSwipeUp=e=>{this.options.eventEmitter.emit("onSwipeUp",e)},this.onSwipeDown=e=>{this.options.eventEmitter.emit("onSwipeDown",e)},this.container=e.container,this.interactionLayer=null!==(t=e.interactionLayer)&&void 0!==t?t:e.container,this.navigationService=e.navigationService,this.viewsTracker=new i.B(this.container,e.eventEmitter),this.touchHandler=new r.Q(this.interactionLayer),this.mouseHandler=new o.s(this.interactionLayer,{captureMouseWheel:e.isPaginated&&!(null===(n=(0,c.f)())||void 0===n?void 0:n.isScrollPaginationGestureDisabled)}),this.options.eventEmitter.on("onLayoutShift",(e=>this.shiftingLayout=e.shiftingLayout));const s=a.d.debouncer((()=>this.scrolling=!1),u.SCROLL_STOPPED_DELAY,!1);(e.fullPage?window:this.container).addEventListener("scroll",(e=>{this.shiftingLayout||(this.scrolling||(this.scrolling=!0,this.options.eventEmitter.emit("onScroll",e)),s())}))}attachHandlers(){this.touchHandler.on("onDragStart",this.onGestureStartInternal),this.touchHandler.on("onDrag",this.onGestureMove),this.touchHandler.on("onDragEnd",this.onGestureEnd),this.touchHandler.on("onDragCancel",this.onGestureCancel),this.touchHandler.on("onTap",this.onTapInternal),this.touchHandler.on("onDoubleTap",this.onDoubleTap),this.mouseHandler.on("onDragStart",this.onGestureStartInternal),this.mouseHandler.on("onDrag",this.onGestureMove),this.mouseHandler.on("onDragEnd",this.onGestureEnd),this.mouseHandler.on("onTap",this.onTapInternal),this.mouseHandler.on("onDoubleTap",this.onDoubleTap),this.options.isPaginated&&(this.touchHandler.on("onSwipeLeft",this.onSwipeLeft),this.touchHandler.on("onSwipeRight",this.onSwipeRight),this.touchHandler.on("onSwipeUp",this.onSwipeUp),this.touchHandler.on("onSwipeDown",this.onSwipeDown),this.mouseHandler.on("onSwipeLeft",this.onSwipeLeft),this.mouseHandler.on("onSwipeRight",this.onSwipeRight),this.mouseHandler.on("onSwipeUp",this.onSwipeUp),this.mouseHandler.on("onSwipeDown",this.onSwipeDown))}onGestureStart(e){}onGestureCancel(){}onGestureMove(e){}onGestureEnd(e){}onPinchStart(e){}onPinch(e){}onPinchEnd(e){}updateNavigationService(e){this.reset(),this.navigationService=e}reset(){this.viewsTracker.resetViews()}disablePinchHandler(){var e;null===(e=this.hammerManager)||void 0===e||e.destroy(),this.hammerManager=void 0}enablePinchHandler(){this.hammerManager&&this.disablePinchHandler(),this.hammerManager=this.createHammerManager(),this.hammerManager.add(new s.Pinch),this.hammerManager.on("pinch",this.onPinch),this.hammerManager.on("pinchstart",this.onPinchStart),this.hammerManager.on("pinchend pinchcancel",this.onPinchEnd)}createHammerManager(){return new s.Manager(this.interactionLayer,{touchAction:"pan-y"})}destroy(){var e;this.reset(),this.touchHandler.destroy(),this.mouseHandler.destroy(),null===(e=this.hammerManager)||void 0===e||e.destroy(),this.hammerManager=void 0}}u.SCROLL_STOPPED_DELAY=300;class l extends u{constructor(e){super(e),e.enablePinchHandler&&super.enablePinchHandler(),super.attachHandlers()}}},3969:(e,t,n)=>{"use strict";n.d(t,{I6:()=>s,_V:()=>l,c8:()=>c,gy:()=>o,tj:()=>u,uJ:()=>a});var i=n(27),r=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const o=100,s=o+10,a=s+10,c=a+10,u="kg-decoration";class l{constructor(e){var t;this.views=new Set,this.startPositionId=Number.MAX_SAFE_INTEGER,this.endPositionId=Number.MIN_SAFE_INTEGER,this.links=[],this.onViewsAdded=e=>r(this,void 0,void 0,(function*(){for(const t of e.views)this.views.add(t),yield this.populateNavigationLayer(t),yield this.renderDecorations(t);yield this.updatePositionIds()})),this.onViewsRemoved=e=>r(this,void 0,void 0,(function*(){for(const t of e.views)this.views.delete(t);yield this.updatePositionIds()})),this.options=e,this.options.container.style.userSelect="none",this.options.eventEmitter.on("onViewsAdded",this.onViewsAdded),this.options.eventEmitter.on("onViewsRemoved",this.onViewsRemoved),null===(t=e.decorationProvider)||void 0===t||t.addDecorationChangeEventListener(this)}updatePositionIds(){return r(this,void 0,void 0,(function*(){this.startPositionId=Number.MAX_SAFE_INTEGER,this.endPositionId=Number.MIN_SAFE_INTEGER;for(const e of this.views){const t=(yield e.getRenderedPage()).page;this.startPositionId=Math.min(this.startPositionId,t.startPositionId),this.endPositionId=Math.max(this.endPositionId,t.endPositionId)}}))}renderDecorations(e){return r(this,void 0,void 0,(function*(){const t=this.options.decorationProvider,n=this.options.decorationRenderer;if(t&&n){const r=yield t.getDecorations({startPositionId:this.startPositionId,endPositionId:this.endPositionId});if(r.decorations.length>0){const t=yield this.getTokensByDecoration(e,r);if(t.length){const r=yield n.render({decorationTokens:t},this.options.eventEmitter);if(r){const t=e.getRoot();for(const n of r){n.classList.add(u);const r=n.classList.contains(i.g.NOTE_ELEMENT_CLASS),o=n.classList.contains(i.g.HIGHLIGHT_ELEMENT_CLASS);(r||o)&&(n.style.zIndex=String(r?c:s),e.addInteractiveElement(n,!0)),t.append(n)}}}}}}))}getTokensByDecoration(e,t){return r(this,void 0,void 0,(function*(){const n=new Map,i=e.getTokenMap();for(const[e,r]of i)for(const e of r)for(const i of t.decorations)if(i.startPositionId<=e.startPositionId&&i.endPositionId>=e.startPositionId||i.startPositionId>=e.startPositionId&&i.endPositionId<=e.endPositionId){let t=n.get(i);t||(t=[],n.set(i,t)),t.push(e)}const r=new Array;return n.forEach(((e,t)=>{r.push(Object.assign(Object.assign({},t),{tokens:e}))})),r}))}onDecorationsChange(e){return r(this,void 0,void 0,(function*(){const e=this.options.container.getElementsByClassName(u);if(e){let t=e.length;for(;t--;)e[t].remove();for(const e of this.views)e.resetInteractiveDecorationElements()}for(const e of this.views)yield this.renderDecorations(e)}))}destroy(){return r(this,void 0,void 0,(function*(){this.options.decorationProvider&&this.options.decorationProvider.removeDecorationChangeEventListener(this),this.options.eventEmitter.on("onViewsAdded",this.onViewsAdded),this.options.eventEmitter.on("onViewsRemoved",this.onViewsRemoved)}))}populateNavigationLayer(e){return r(this,void 0,void 0,(function*(){const t=(yield e.getRenderedPage()).tokens.children,n=e.getRoot();for(const i of t)if(i.containsLinks)for(const t of i.words)if(t.linkPositionId||0===t.linkPositionId){const i=this.createInternalLink(t);n.append(i),e.addInteractiveElement(i)}else if(t.externalLink){const i=this.createExternalLink(t);n.append(i),e.addInteractiveElement(i)}}))}createExternalLink(e){const t=l.createLinkHTMLElement(e);return t.href=e.externalLink,t.target=i.g.EXTERNAL_LINK_TARGET_VALUE,t}createInternalLink(e){const t=l.createLinkHTMLElement(e);return t.addEventListener("click",(t=>{t.stopPropagation(),this.options.eventEmitter.emit("onInBookLinkClick",{startPositionId:e.linkPositionId})})),t}static createLinkHTMLElement(e){const t=document.createElement("a"),n=t.style;return n.width=e.width+"px",n.height=e.height+"px",n.position="absolute",n.left=e.x+"px",n.top=e.y+"px",n.cursor="pointer",n.zIndex=String(a),t}}},9367:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var i=n(5745),r=n(756),o=n(9148),s=n(27);class a extends i.y{constructor(e){super(e),this.options=e,this.isTouchScreen=!1,this.redrawIsPending=!1,this.selectionStarted=!1,this.selectionInProgress=!1,this.onGestureStart=e=>{if(this.selectionInProgress)return;this.selectionStarted=!0,this.lastGestureStartEvent=e,this.lastGestureMoveEvent=void 0,this.hideHandlers(),this.clearSelection();const t=e.x,n=e.y,i=this.viewsTracker.getViewAtPoint(t,n);i&&(this.dragSource={location:o.z.getRelativeLocation(t,n,i.getRoot()),view:i})},this.onGestureCancel=()=>{this.selectionInProgress||(this.cancelScrolling(),this.selectionStarted=!1,this.lastGestureStartEvent=void 0,this.lastGestureMoveEvent=void 0,this.hideHandlers(),this.clearSelection())},this.onTap=e=>{if(!this.selectionInProgress){const t=this.viewsTracker.getInteractiveElementAtPoint(e.x,e.y);t?t.click():this.options.eventEmitter.emit("onClick",e),this.onGestureCancel()}},this.onDoubleTap=e=>{this.selectionInProgress||this.options.eventEmitter.emit("onDoubleClick",e),this.onGestureAtSameLocation(e)},this.onGestureAtSameLocation=e=>{const t=e.x,n=e.y,i=this.viewsTracker.getViewAtPoint(t,n);i&&(this.dragSource={location:o.z.getRelativeLocation(t,n,i.getRoot()),view:i},this.dragTarget=this.dragSource,this.scheduleSelectionRepaint()),this.reinitializeSelection(),this.notifySelectionEndedListener()},this.onGestureMove=e=>{var t,n;if(!this.selectionStarted)return;this.selectionInProgress=!0,this.lastGestureMoveEvent=e;const i=e.x,r=e.y,s=this.viewsTracker.getViewAtPoint(i,r);if(s){const e=o.z.getRelativeLocation(i,r,s.getRoot());this.dragTarget={location:e,view:s};const c=this.interactionLayer.getBoundingClientRect();let u=!1;const l=r-(null!==(n=null===(t=this.lastGestureStartEvent)||void 0===t?void 0:t.y)&&void 0!==n?n:0);l<0&&r<c.top+a.DRAG_ZONE_HEIGHT&&(this.scroll(-a.SCROLL_HEIGHT),u=!0),l>0&&r>c.bottom-a.DRAG_ZONE_HEIGHT&&(this.scroll(a.SCROLL_HEIGHT),u=!0),!u&&this.scrollingInterval&&this.cancelScrolling(),this.scheduleSelectionRepaint()}},this.onGestureEnd=()=>{this.cancelScrolling(),this.selectionStarted=!1,this.lastGestureStartEvent=void 0,this.lastGestureMoveEvent=void 0,this.notifySelectionEndedListener(),setTimeout((()=>this.selectionInProgress=!1),a.SELECTION_IN_PROGRESS_TIMEOUT)},this.cancelScrolling=()=>{this.scrollingInterval&&(window.clearInterval(this.scrollingInterval),this.scrollingInterval=void 0)},this.selection=new r.Y(this.options.bookMetadata.metadata,this.dragSource,this.dragTarget,this.viewsTracker,this.options.container),this.firstHandler=e.selectionRenderer.renderFirstHandler();const t=this.firstHandler.style;t.position="absolute",t.visibility="hidden",this.container.appendChild(this.firstHandler),this.secondHandler=e.selectionRenderer.renderSecondHandler();const n=this.secondHandler.style;n.position="absolute",n.visibility="hidden",this.container.appendChild(this.secondHandler),e.enablePinchHandler&&super.enablePinchHandler(),super.attachHandlers(),window.addEventListener("mouseup",this.cancelScrolling),window.addEventListener("touchend",this.cancelScrolling)}scroll(e){this.scrollingInterval||(this.scrollingInterval=setInterval((()=>{this.lastGestureMoveEvent&&((this.options.fullPage?document.documentElement:this.container).scrollBy(0,e),this.onGestureMove(this.lastGestureMoveEvent))}),a.SCROLL_INTERVAL_MS))}scheduleSelectionRepaint(){this.redrawIsPending||(this.redrawIsPending=!0,setTimeout((()=>{this.calculateAndPaintSelection()})))}notifySelectionEndedListener(){if(this.selection&&!this.selection.isEmpty()){const e=this.selection.getAdjustedSelectedTokens();e.length>0&&this.options.eventEmitter.emit("onSelectionEnded",{tokens:e,container:this.options.container,selectionClass:s.g.SELECTION_ELEMENT_CLASS})}}calculateAndPaintSelection(){var e,t;if(this.dragSource&&this.dragTarget){this.selection.adjust(this.dragSource,this.dragTarget);const n=this.selection.getSelectedTokensByView();if(0===n.size)this.removeAllTokenNodes();else{const i=null!==(t=null===(e=this.selection)||void 0===e?void 0:e.getElementKeys())&&void 0!==t?t:new Set,r=this.getTextDirection(),o=this.getWritingMode();n.forEach(((e,t)=>{const n=this.options.selectionRenderer.renderSelection({tokens:e,direction:r,writingMode:o});for(const e of n)if(i.has(e.key))i.delete(e.key);else{const n=e.element;this.selection.addElement(e),n.className+=` ${s.g.SELECTION_ELEMENT_CLASS} `,n.style.userSelect="none",t.getRoot().append(n)}}));for(const e of i){const t=this.selection.getElement(e);this.selection.removeElement(e),t.element.remove(),this.isTouchScreen&&this.showHandlers()}}}this.redrawIsPending=!1}reinitializeSelection(){this.selection=new r.Y(this.options.bookMetadata.metadata,this.dragSource,this.dragTarget,this.viewsTracker,this.options.container)}removeAllTokenNodes(){var e,t;const n=null===(t=null===(e=this.selection)||void 0===e?void 0:e.isEmpty())||void 0===t||t;if(this.selection)for(const e of this.selection.getElementKeys()){const t=this.selection.getElement(e);this.selection.removeElement(e),t.element.remove()}return this.hideHandlers(),!n}clearSelection(){this.dragSource=void 0,this.dragTarget=void 0,this.removeAllTokenNodes(),this.reinitializeSelection()}showHandlers(){}hideHandlers(){this.firstHandler.style.visibility="hidden",this.secondHandler.style.visibility="hidden"}adjustHandlersOrientation(){}getHandlersTipLocations(){return{firstHandlerLocation:{x:0,y:0},secondHandlerLocation:{x:0,y:0}}}getTextDirection(){return this.options.bookMetadata.metadata.direction}getWritingMode(){return this.options.bookMetadata.metadata.writingMode}}a.DEFAULT_MAGNIFIER_SCALE=1.5,a.DRAG_ZONE_HEIGHT=20,a.SCROLL_HEIGHT=30,a.SCROLL_INTERVAL_MS=60,a.SELECTION_IN_PROGRESS_TIMEOUT=250},6942:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,I:()=>o});var i=n(9429),r=n(27);class o{constructor(e,t,n){this.element=e,this.tokens=t,this.key=`${t[0].startPositionId}/${t[t.length-1].endPositionId}`,null!=n&&(this.key+=`/${n}`)}}class s{constructor(e){var t,n,i,r,o,s,a;this.handlerWidth=null!==(t=e.handlerWidth)&&void 0!==t?t:50,this.handlerHeight=null!==(n=e.handlerHeight)&&void 0!==n?n:100,this.handlerHitStrokeWidth=null!==(i=e.handlerHitStrokeWidth)&&void 0!==i?i:40,this.firstHandlerFill=null!==(r=e.firstHandlerFill)&&void 0!==r?r:"green",this.secondHandlerFill=null!==(o=e.secondHandlerFill)&&void 0!==o?o:"blue",this.magnifierWidth=null!==(s=e.magnifierWidth)&&void 0!==s?s:50,this.magnifierHeight=null!==(a=e.magnifierHeight)&&void 0!==a?a:25,this.clientRenderOptionsFactory=e.clientRenderOptionsFactory}renderSelection(e){const t=[],n=i.g.fillTokensGaps(e.tokens);for(const e of n)if(e.pieces)for(let n=0;n<e.pieces.length;n++){const s=i.g.calculatePieceToken(e.pieces[n],e);let a=this.createSelectedElement(s);a.classList.add(r.g.WORD_PIECE_CSS_CLASS),t.push(new o(a,[e],n))}else t.push(new o(this.createSelectedElement(e),[e]));return t}createSelectedElement(e){const t=this.clientRenderOptionsFactory.get().themeData.selection.background.fill,n=document.createElement("div");n.dataset.startPositionId=String(e.startPositionId),n.dataset.endPositionId=String(e.endPositionId);const i=n.style;return i.width=e.width+"px",i.height=e.height+"px",i.backgroundColor=t,i.position="absolute",i.left=e.x+"px",i.top=e.y+"px",i.userSelect="none",n}renderFirstHandler(){const e=document.createElement("div"),t=e.style;return t.width="20px",t.height="40px",t.backgroundColor="green",e}renderSecondHandler(){const e=document.createElement("div"),t=e.style;return t.width="20px",t.height="40px",t.backgroundColor="blue",e}}},756:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var i=n(560),r=n(9429);class o{constructor(e,t,n,i,r){this.elements=new Map,this.tokens=new Map,this.metadata=e,this.source=t,this.target=n,this.container=r,this.viewsTracker=i,this.source&&this.target&&(this.tokens=this.getTokensInRange(this.source,this.target))}isLocationAfterTokenInReadingOrder(e,t){let n,i=!1;if(e.pieces)for(const o of e.pieces){const e=r.g.createTokenRectFromTokenPiece(o);if(n=r.g.distanceFromToken(e,t),i=this.isForwardInReadingOrder(n),i)return!0}else n=r.g.distanceFromToken(e,t),i=this.isForwardInReadingOrder(n);return i}isForwardInReadingOrder(e){const t=e.x,n=e.y;switch(this.metadata.writingMode){case"vertical_rl":return t<0||0===t&&n>0;case"vertical_lr":return t>0||0===t&&n>0;case"horizontal_tb":switch(this.metadata.direction){case"unknown":case"ltr":return n>0||0===n&&t>0;case"rtl":return n>0||0===n&&t<0}}return!1}getTokensInRange(e,t){var n;const o=this.getViewsRange(e,t),s=new Map;let a,c,u=0;const l=new Map;for(const n of o){const o=n.getTokenMap(),s=n.getColumnsInReadingOrder();if(0===s.length)n===t.view&&(c={x:t.location.x,y:u+t.location.y}),u+=n.getRoot().getBoundingClientRect().height;else for(let h=0;h<s.length;h++){const d=s[h],f=o.get(d);if(f&&f.length>0){const o=d.rect;e.view===n&&i.S.isInRect(o,e.location)&&(a={x:e.location.x,y:u+e.location.y}),t.view===n&&i.S.isInRect(o,t.location)&&(c={x:t.location.x,y:u+t.location.y});for(const e of f){const t=r.g.createVirtualToken(e,u);l.set(e,t)}u+=o.bottom-o.top}}}if(c&&a){for(const e of o){const t=e.getColumnsInReadingOrder(),i=e.getTokenMap(),o=new Array;s.set(e,o);for(let e=0;e<t.length;e++){const s=t[e],u=i.get(s);if(u)for(const e of u){const t=null!==(n=l.get(e))&&void 0!==n?n:e,i=r.g.isTokenUnderLocation(t,a),s=r.g.isTokenUnderLocation(t,c);if(i&&s){o.push(e);break}if(i){a=r.g.getTokenLocation(t),o.push(e);continue}if(s){c=r.g.getTokenLocation(t),o.push(e);continue}const u=!this.isLocationAfterTokenInReadingOrder(t,a),h=!this.isLocationAfterTokenInReadingOrder(t,c);(u&&!h||!u&&h)&&o.push(e)}}}return s}return this.tokens}getViewsRange(e,t){const n=this.viewsTracker.getViews(),i=new Array;let r=!1;for(let o=0;o<n.length;o++){let s=n[o];if(s===e.view){if(i.push(s),r)return i;r=!0}else if(s===t.view){if(i.push(s),r)return i;r=!0}else r&&i.push(s)}return i}adjust(e,t){this.source=e,this.target=t,this.tokens=this.getTokensInRange(this.source,this.target)}isEmpty(){return 0===this.tokens.size}addElement(e){this.elements.set(e.key,e)}getElement(e){return this.elements.get(e)}removeElement(e){this.elements.delete(e)}getElementKeys(){return new Set(this.elements.keys())}getSelectedTokens(){const e=new Array;for(const t of this.tokens.values())e.push(...t);return e}getAdjustedSelectedTokens(){const e=new Array;for(const t of this.tokens.keys()){const n=t.getRoot().getBoundingClientRect();for(const i of this.tokens.get(t))e.push(r.g.getRelativeTokenPosition(i,n))}return e.sort(((e,t)=>e.endPositionId-t.endPositionId))}getSelectedTokensByView(){return this.tokens}}},2797:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var i=n(27),r=n(9148),o=n(560),s=n(9429),a=n(4229);class c{constructor(e,t){this.views=new Array,this.onViewsAdded=e=>{const t=new Map,n=this.container.getElementsByClassName(i.g.VIEW_ELEMENT_CLASS);let r=0;for(const e of n){const n=e;t.set(n,r++)}this.views.push(...e.views),this.views.sort(((e,n)=>t.get(e.getRoot())<t.get(n.getRoot())?-1:1))},this.onViewsRemoved=e=>{const t=new Set(e.views);this.views=this.views.filter((e=>!t.has(e)))},this.emitter=t,this.emitter.on("onViewsAdded",this.onViewsAdded),this.emitter.on("onViewsRemoved",this.onViewsRemoved),this.container=e}getViewAtPoint(e,t){for(const n of this.views){const i=n.getRoot().getBoundingClientRect();if(i.left<e&&e<i.right&&i.top<t&&t<i.bottom)return n}}getTokenAtPoint(e,t){const n=this.getViewAtPoint(e,t);if(n){const i=r.z.getRelativeLocation(e,t,n.getRoot()),a=n.getTokenMap();for(const[e,t]of a)if(o.S.isInRect(e.rect,i))for(const e of t)if(s.g.isTokenUnderLocation(e,i))return e;return null}return null}getInteractiveElementAtPoint(e,t){const n=this.getViewAtPoint(e,t);if(n){const i=r.z.getRelativeLocation(e,t,n.getRoot()),s=n.getInteractiveElements();s.sort(((e,t)=>t.style.zIndex.localeCompare(e.style.zIndex)));for(const e of s){const t={top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,right:e.offsetLeft+e.offsetWidth,left:e.offsetLeft};if(o.S.isInRect(t,i))return e}return null}return null}getViews(){return this.views}resetViews(){for(const e of this.views)e.getRoot().remove();this.views=[]}getPanelOrdinalAtPoint(e,t){var n;const i=this.getViewAtPoint(e,t);if(i){const o=null===(n=i.getRenderedPage().panels)||void 0===n?void 0:n.children;if(o){const n=r.z.getRelativeLocation(e,t,i.getRoot());let s=0,c=Number.MAX_VALUE,u=Number.MAX_VALUE;a.k.resolvePanels(o);for(const e of o){const t=this.squaredDistanceBetweenPointAndPanel(n.x,n.y,e);if(t<=Number.EPSILON){const t=this.getAvgDistToPointWithinRect(n.x,n.y,e);t<u&&(s=e.ordinal,u=t),c=Number.MIN_VALUE}else t<c&&(s=e.ordinal,c=t)}return s}}return 0}squaredDistanceBetweenPointAndPanel(e,t,n){const i=n.y,r=n.x,o=n.y+n.height,s=n.x+n.width,a=e>=r&&e<=s;return(t>=i&&t<=o?0:Math.pow(Math.min(t-i,o-t),2))+(a?0:Math.pow(Math.min(e-r,s-e),2))}getAvgDistToPointWithinRect(e,t,n){return(Math.abs(e-n.x)+Math.abs(e-(n.x+n.width))+Math.abs(t-n.y)+Math.abs(t-(n.y+n.height)))/4}}},6786:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var i=n(5745),r=n(3942),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s extends i.y{constructor(e){super(e),this.options=e,this.isPanningInProgress=!1,this.isPinchInProgress=!1,this.prevPan={x:0,y:0},this.pinchStartCoordinates={x:0,y:0},this.initialScale=1,this.onGestureStart=e=>{this.isPinchInProgress||(this.prevPan={x:e.x,y:e.y},this.isPanningInProgress=!0,this.options.enablePagePanning&&this.navigationService.panStart())},this.onGestureMove=e=>o(this,void 0,void 0,(function*(){if(this.isPanningInProgress){let t=e.x-this.prevPan.x,n=e.y-this.prevPan.y;if(this.prevPan={x:e.x,y:e.y},this.options.enablePagePanning&&this.navigationService.isPanned()){const e=this.navigationService.pan(t,n);t-=e.x,n-=e.y}const i=this.viewsTracker.getViewAtPoint(e.x,e.y);if(i instanceof r.h&&i.inZoomedState()){const e=i.pan(t,n);t-=e.x,n-=e.y}!this.options.enablePagePanning||0===t&&0===n||this.navigationService.pan(t,n)}})),this.onGestureEnd=e=>o(this,void 0,void 0,(function*(){var e;this.isPanningInProgress&&(this.options.enablePagePanning&&this.navigationService.panEnd(),this.isPanningInProgress=!1,null===(e=this.metricsService)||void 0===e||e.recordCountMetrics("ZoomableViewController:Pan",1))})),this.onPinchStart=e=>o(this,void 0,void 0,(function*(){if(!this.isPanningInProgress){const t=this.viewsTracker.getViewAtPoint(e.center.x,e.center.y);t instanceof r.h&&(this.pinchStartCoordinates={x:e.center.x,y:e.center.y},this.initialScale=t.getZoomState().scale,this.isPinchInProgress=!0,this.touchHandler.setIgnoreSwipe(!0))}})),this.onPinch=e=>o(this,void 0,void 0,(function*(){if(this.isPinchInProgress){const t=this.viewsTracker.getViewAtPoint(this.pinchStartCoordinates.x,this.pinchStartCoordinates.y);if(t instanceof r.h){const n=t.getZoomState().scale,i=this.initialScale*e.scale/n;t.pinchZoom(this.pinchStartCoordinates.x,this.pinchStartCoordinates.y,i)}}})),this.onPinchEnd=e=>o(this,void 0,void 0,(function*(){var e;if(this.isPinchInProgress){if(!this.options.enablePagePanning){const e=this.viewsTracker.getViewAtPoint(this.pinchStartCoordinates.x,this.pinchStartCoordinates.y);e instanceof r.h&&this.touchHandler.setIgnoreSwipe(e.inZoomedState())}this.isPinchInProgress=!1,null===(e=this.metricsService)||void 0===e||e.recordCountMetrics("ZoomableViewController:PinchZoom",1)}})),this.onDoubleTap=e=>o(this,void 0,void 0,(function*(){var t,n;const i=this.viewsTracker.getViewAtPoint(e.x,e.y);i instanceof r.h&&(i.inZoomedState()?(i.exitZoom(),this.options.eventEmitter.emit("onViewingModeChange",{viewingMode:"FullPage"}),null===(t=this.metricsService)||void 0===t||t.recordCountMetrics("ZoomableViewController:DoubleTap:ExitZoom",1)):(i.doubleTapZoom(e.x,e.y),null===(n=this.metricsService)||void 0===n||n.recordCountMetrics("ZoomableViewController:DoubleTap:EnterZoom",1)),this.options.enablePagePanning||this.touchHandler.setIgnoreSwipe(i.inZoomedState())),this.options.eventEmitter.emit("onDoubleClick",e)})),this.onZoomViewsAdded=e=>o(this,void 0,void 0,(function*(){for(const t of e.views)t instanceof r.h&&t.initializeZoomHandler()})),this.onPageChange=()=>{this.touchHandler.setIgnoreSwipe(!1)},this.options.eventEmitter.on("onViewsAdded",this.onZoomViewsAdded),this.options.enablePagePanning?this.touchHandler.setIgnoreSwipe(!0):this.options.eventEmitter.on("onPageChange",this.onPageChange),super.attachHandlers(),this.metricsService=this.options.metricsService,e.enablePinchHandler&&super.enablePinchHandler()}destroy(){super.destroy(),this.options.eventEmitter.off("onViewsAdded",this.onZoomViewsAdded),this.options.eventEmitter.off("onPageChange",this.onPageChange)}}},9040:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var i=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class r{render(e,t){return i(this,void 0,void 0,(function*(){return this.rootElement=e,this.pageElement=t.renderResult.pageElement,this.pageElement.style.pointerEvents="none",this.rootElement.append(this.pageElement),Promise.resolve(void 0)}))}destroy(){return i(this,void 0,void 0,(function*(){if(this.rootElement&&this.pageElement)try{this.rootElement.removeChild(this.pageElement)}catch(e){}this.rootElement=void 0,this.pageElement=void 0}))}clearSelection(){return i(this,void 0,void 0,(function*(){}))}}},6042:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});class i{constructor(e){this.options=e}compose(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const t=document.createElement("div");t.style.position="relative";const n=new Array;for(const i of this.options.layers){const r=document.createElement("div");r.style.display="flex",t.append(r);const o=i.render(r,e);n.push(o)}return Promise.all(n).then((()=>t))}))}}},1822:()=>{},8724:(e,t,n)=>{"use strict";n.d(t,{I:()=>c});var i=n(4910),r=n(9779),o=n(9083),s=n(9343),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c{constructor(e){this.options=e,this.currentIndex=0}createSpinnerElement(){const e=document.createElement("div"),t=document.createElement("div");return e.classList.add("kg-spinner"),e.style.position="absolute",e.append(t),e}fillView(e,t){return a(this,void 0,void 0,(function*(){if(e.isEmpty()){const n=new i.B,r=n.getPromise();r.catch((()=>{})),this.options.eventEmitter.emit("onRendering",{renderingPromise:r});try{yield e.fill(t),n.resolve()}catch(e){throw n.reject(e),e}}yield t}))}reset(){return a(this,void 0,void 0,(function*(){yield this.options.rendererController.reset(),yield this.resetViews()}))}goToPage(e){return a(this,void 0,void 0,(function*(){yield this.reset();const t=this.options.rendererController.goToPageIndex(e);return this.renderView(t,0,"Absolute")}))}goToPositionId(e){return a(this,void 0,void 0,(function*(){yield this.reset(),this.currentPositionId=e;const t=this.options.rendererController.goToPositionId(e);return this.renderView(t,0,"Absolute")}))}goToPrevious(){var e;return a(this,void 0,void 0,(function*(){return null===(e=this.options.metricsService)||void 0===e||e.recordCountMetrics("PreviousPage",1),this.move("PreviousPage")}))}goToNext(){var e;return a(this,void 0,void 0,(function*(){return null===(e=this.options.metricsService)||void 0===e||e.recordCountMetrics("NextPage",1),this.move("NextPage")}))}goToRelativePage(e,t){return a(this,void 0,void 0,(function*(){let n;switch(t){case"Absolute":n=r.Direction.Absolute;break;case"NextPage":n=r.Direction.Forward;break;case"PreviousPage":n=r.Direction.Backward}const i=this.options.rendererController.getPageByRelativeIndex(e,n);return this.renderView(i,e,t)}))}move(e){return a(this,void 0,void 0,(function*(){const t="NextPage"===e?this.currentIndex+1:this.currentIndex-1;return this.goToRelativePage(t,e)}))}renderView(e,t,n){return a(this,void 0,void 0,(function*(){const i=this.options.rendererController.getRenderingProcessId(),r=this.createView(t);if(yield this.fillView(r,e),i!==this.options.rendererController.getRenderingProcessId())throw new s.Lf;return yield this.showView(r,n),r}))}resetViews(){this.currentView=void 0,this.currentPositionId=void 0}createView(e){return new o.w({index:e,bookRenderOptions:this.options.clientRenderOptionsFactory.get().bookRenderOptions,layerFactories:this.options.layerFactories})}removeView(e){return a(this,void 0,void 0,(function*(){yield e.destroy()}))}getCurrentView(){return this.currentView}getCurrentIndex(){return this.currentIndex}getCurrentPositionId(){return this.currentPositionId}notifyPageChange(e){var t;const n=e.getRenderedPage().page;this.currentPositionId=n.startPositionId,this.currentView=e,this.currentIndex=e.getIndex(),this.options.eventEmitter.emit("onPageChange",{startPositionId:n.startPositionId,endPositionId:n.endPositionId,wordsInPage:n.wordsInPage}),null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("PageChange",1)}panStart(){}pan(e,t){return{x:0,y:0}}panEnd(){}isPanned(){return!1}}},2226:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,s:()=>i});class i extends Error{constructor(e){super("Unexpected number of images found in Fixed Format page"),this.type=e}}class r{constructor(e){this.empty=!0,this.index=0,this.tokenMap=new Map,this.columnsInReadingOrder=new Array,this.options=e,this.root=document.createElement("div"),this.root.style.minHeight=`${this.options.bookRenderOptions.pageHeight}px`,this.root.style.minWidth=`${this.options.bookRenderOptions.pageWidth}px`,this.interactiveElements=[],this.interactiveDecorationElements=[],this.offset={x:0,y:0}}getTrimBounds(){return this.renderedPage.renderResult.rect}isFirst(){return this.renderedPage.isFirst}isLast(){return this.renderedPage.isLast}isEmpty(){return this.empty}getRoot(){return this.root}getIndex(){return this.options.index}scrollIntoView(e=!0){this.root.scrollIntoView({behavior:e?"smooth":"auto"})}destroy(){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(this.layers)for(const e of this.layers)yield e.destroy();this.root.remove()}))}getRenderedPage(){return this.renderedPage}getTokenMap(){return this.tokenMap}getColumnsInReadingOrder(){return this.columnsInReadingOrder}addInteractiveElement(e,t=!1){t?this.interactiveDecorationElements.push(e):this.interactiveElements.push(e)}resetInteractiveDecorationElements(){this.interactiveDecorationElements=[]}getInteractiveElements(){return[...this.interactiveElements,...this.interactiveDecorationElements]}getOffset(){return this.offset}setOffset(e,t){this.offset={x:e,y:t},this.root.style.left=`${e}px`,this.root.style.top=`${t}px`}addOffset(e,t){this.setOffset(this.offset.x+e,this.offset.y+t)}fixedFormatPageCount(){let e=0;const t=["children","backDecoration"],n=r=>{if(e+="image"===r.type?1:0,e>=3)throw new i("TooManyImages");t.forEach((e=>{var t;return null===(t=null==r?void 0:r[e])||void 0===t?void 0:t.forEach(n)}))};if(n(this.getRenderedPage().page),!e)throw new i("NoImagesFound");return e}}},9083:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});var i=n(9779),r=n(9040),o=n(6042),s=n(27),a=n(560),c=n(9429),u=n(2226);class l extends u.C{fill(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){(0,i.assert)(this.empty,"A view can only be filled once");const t=yield e;this.renderedPage=t,this.buildColumnTokenMap(t);const n=new r.d;this.layers=[n,...this.options.layerFactories.flatMap((e=>e.get()))];const a=new o.Y({height:this.options.bookRenderOptions.pageHeight,width:this.options.bookRenderOptions.pageWidth,layers:this.layers}),c=yield a.compose(t);return this.root.replaceWith(c),this.root=c,this.root.className+=` ${s.g.VIEW_ELEMENT_CLASS} `,this.empty=!1,t}))}buildColumnTokenMap(e){const t=e.layoutPage;let n=e.tokens.children.map((e=>e.words)).reduce(((e,t)=>e.concat(t)),[]);n=c.g.adjustTokenHeights(n,this.options.bookRenderOptions.fontFamily),this.mapRecursively(t.children,new Set(n))}mapRecursively(e,t){var n;for(let i=0;i<e.length;i++){const r=e[i];this.columnsInReadingOrder.push(r);const o=null===(n=r.children)||void 0===n?void 0:n.filter((e=>"column"===e.type));void 0!==o&&o.length>0&&this.mapRecursively(o,t);const s=new Array,c=r.rect;for(const e of t)a.S.isInRect(c,{x:e.x+e.width/2,y:e.y+e.height/2})&&(s.push(e),t.delete(e));this.tokenMap.set(r,s)}}}},4229:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var i=n(2226),r=n(9779),o=n(9040),s=n(6042),a=n(27);class c extends i.C{constructor(e){var t;super(e),this.currentPanel=0,this.gvMoveLock="None",this.animationDuration=null!=(null===(t=e.guidedViewOptions)||void 0===t?void 0:t.animationDuration)?e.guidedViewOptions.animationDuration:a.g.DEFAULT_ANIMATION_DURATION,this.root.style.transitionDuration=`${this.animationDuration}ms`,this.root.style.transitionTimingFunction=c.DEFAULT_TRANSITION_FORMULA,this.root.style.opacity="1"}isFirst(){return this.isFirstPanel()&&this.renderedPage.isFirst}isLast(){return this.isLastPanel()&&this.renderedPage.isLast}fill(e){var t;return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){(0,r.assert)(this.empty,"A view can only be filled once");const n=yield e;this.renderedPage=n,this.panelsOnCurrentPage=null===(t=n.panels)||void 0===t?void 0:t.children,c.resolvePanels(this.panelsOnCurrentPage);const i=new o.d;this.layers=[i,...this.options.layerFactories.flatMap((e=>e.get()))];const a=new s.Y({height:this.options.bookRenderOptions.pageHeight,width:this.options.bookRenderOptions.pageWidth,layers:this.layers}),u=yield a.compose(n);return this.replaceRoot(u),this.empty=!1,n}))}replaceRoot(e){const t=this.root.style.transitionDuration,n=this.root.style.transitionTimingFunction,i=this.root.style.opacity;this.root.replaceWith(e),this.root=e,this.root.className+=` ${a.g.VIEW_ELEMENT_CLASS} `,this.setView(this.currentPanel),this.root.style.transitionDuration=t,this.root.style.transitionTimingFunction=n,this.root.style.opacity=i}guidedViewMove(e=1){this.setView(e)}guidedViewStop(){this.reset()}fadeIn(e=.5){const t=this.root.style.transitionDuration;this.root.style.transitionDuration=this.getTransitionDurationNumber()*e+"ms",this.setView(this.currentPanel,1),setTimeout((()=>this.root.style.transitionDuration=t),0)}fadeOut(e=.5){const t=this.root.style.transitionDuration;this.root.style.transitionDuration=this.getTransitionDurationNumber()*e+"ms",this.setView(this.currentPanel,0),setTimeout((()=>this.root.style.transitionDuration=t),0)}acquireMoveLockPage(){this.gvMoveLock="Page"}acquireMoveLockAll(){this.gvMoveLock="All"}releaseMoveLock(){this.gvMoveLock="None"}hasMoveLockPage(){return"Page"===this.gvMoveLock||"All"===this.gvMoveLock}hasMoveLockAll(){return"All"===this.gvMoveLock}getPanels(){return this.panelsOnCurrentPage}getPanelNumber(){var e;return null!==(e=this.currentPanel)&&void 0!==e?e:0}setPanelNumber(e){this.currentPanel=e}isFirstPanel(){return 1===this.currentPanel||!this.hasPanels()}isLastPanel(){var e;return this.currentPanel===(null===(e=this.panelsOnCurrentPage)||void 0===e?void 0:e.length)||!this.hasPanels()}isAnimationEnabled(){return this.animationDuration>0}hasPanels(){var e;return!!(null===(e=this.panelsOnCurrentPage)||void 0===e?void 0:e.length)}setView(e,t=1){var n,i;this.root.style.opacity=`${t}`;const r=null===(i=null===(n=this.renderedPage)||void 0===n?void 0:n.panels)||void 0===i?void 0:i.children;if(0==e||void 0===r||e>r.length)return this.currentPanel=0,void this.guidedViewStop();this.currentPanel=e;const o=r[e-1],s=o.x,a=o.x+o.width,c=o.y,u=o.y+o.height,[l,h]=this.getTranslate(e),d=this.getZoom(e);this.root.style.clipPath=`polygon(${s}px ${c}px, ${a}px ${c}px, ${a}px ${u}px, ${s}px ${u}px)`,this.root.style.transform=`translate(${l*d}px, ${h*d}px) scale(${d})`}reset(){this.root.style.clipPath=c.DEFAULT_FULL_PAGE_CLIPPATH,this.root.style.transform=c.DEFAULT_FULL_PAGE_TRANSFORM}getZoom(e){if(void 0===this.panelsOnCurrentPage)return 1;const t=this.panelsOnCurrentPage[e-1],n=this.options.bookRenderOptions.pageWidth/t.width,i=this.options.bookRenderOptions.pageHeight/t.height;return n<i?n:i}getTranslate(e){if(void 0===this.panelsOnCurrentPage)return[0,0];const t=this.panelsOnCurrentPage[e-1],n=this.options.bookRenderOptions.pageWidth,i=this.options.bookRenderOptions.pageHeight;return[-t.x-(t.width-n)/2,-t.y-(t.height-i)/2]}updateAnimationDuration(e){e!==this.animationDuration&&(this.animationDuration=e,this.root.style.transitionDuration=`${this.animationDuration}ms`)}getTransitionDurationNumber(){const e=parseInt(this.root.style.transitionDuration);return isNaN(e)?a.g.DEFAULT_ANIMATION_DURATION:e}static resolvePanels(e){if(e&&e.length>0){let t=0;e.forEach(((e,n)=>{n>e.ordinal-1?e.ordinal=t+e.ordinal:t=e.ordinal}))}}}c.DEFAULT_TRANSITION_FORMULA="cubic-bezier(0.455, 0.03, 0.515, 0.955)",c.DEFAULT_FULL_PAGE_CLIPPATH="polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",c.DEFAULT_FULL_PAGE_TRANSFORM="translate(0px, 0px) scale(1)"},4155:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var i=n(4910),r=n(8724),o=n(4229),s=n(27),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c extends r.I{constructor(e){super(e),this.pageChange=!1}goToPositionId(e){const t=Object.create(null,{goToPositionId:{get:()=>super.goToPositionId}});return a(this,void 0,void 0,(function*(){const n=yield t.goToPositionId.call(this,e);return this.assertIsGuidedContentView(n),n.guidedViewMove(1),n.releaseMoveLock(),n}))}goToPrevious(){return a(this,void 0,void 0,(function*(){return this.move("PreviousPage"),Promise.resolve({})}))}goToNext(){return a(this,void 0,void 0,(function*(){return this.move("NextPage"),Promise.resolve({})}))}move(e){var t,n,r,o,a;const c=this.getCurrentGuidedContentView(),u=this.options.clientRenderOptionsFactory.get().guidedViewOptions.animationDuration;let l;if(c.updateAnimationDuration(null!=u?u:s.g.DEFAULT_ANIMATION_DURATION),this.nextPanel=new i.B,this.isPageChange(e)||"Absolute"===e){if(c.hasMoveLockPage())return this.nextPanel.getPromise();const i="NextPage"===e?this.getCurrentIndex()+1:this.getCurrentIndex()-1;switch(l="NextPage"===e?this.options.rendererController.nextPage():this.options.rendererController.previousPage(),this.pageChange=!0,c.acquireMoveLockAll(),c.fadeOut(),c.hasPanels()&&c.isAnimationEnabled()?c.getRoot().addEventListener("transitionend",(t=>{"opacity"===t.propertyName&&this.resolveNextPanel(l,i,e)})):this.resolveNextPanel(l,i,e),e){case"Absolute":null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("GuidedView:On:Page:Absolute",1);break;case"NextPage":null===(n=this.options.metricsService)||void 0===n||n.recordCountMetrics("GuidedView:On:Page:Next",1);break;case"PreviousPage":null===(r=this.options.metricsService)||void 0===r||r.recordCountMetrics("GuidedView:On:Page:Previous",1)}return this.nextPanel.getPromise()}{if(c.hasMoveLockAll())return this.nextPanel.getPromise();l=this.options.rendererController.currentPage();const t=c.getPanelNumber(),n="NextPage"===e?t+1:t-1;switch(c.acquireMoveLockPage(),c.guidedViewMove(n),c.hasPanels()&&c.isAnimationEnabled()?c.getRoot().addEventListener("transitionend",(t=>{"transform"===t.propertyName&&(this.resolveNextPanel(l,this.getCurrentIndex(),e),c.releaseMoveLock())})):(this.resolveNextPanel(l,this.getCurrentIndex(),e),c.releaseMoveLock()),e){case"NextPage":null===(o=this.options.metricsService)||void 0===o||o.recordCountMetrics("GuidedView:On:Panel:Next",1);break;case"PreviousPage":null===(a=this.options.metricsService)||void 0===a||a.recordCountMetrics("GuidedView:On:Panel:Previous",1)}return this.nextPanel.getPromise()}}isPageChange(e){const t=this.getCurrentGuidedContentView();return t&&(t.isFirstPanel()&&"PreviousPage"===e||t.isLastPanel()&&"NextPage"===e)}createView(e){return new o.k({index:e,bookRenderOptions:this.options.clientRenderOptionsFactory.get().bookRenderOptions,layerFactories:this.options.layerFactories,guidedViewOptions:this.options.clientRenderOptionsFactory.get().guidedViewOptions})}showView(e,t){var n;return a(this,void 0,void 0,(function*(){const i=this.getCurrentView();if(yield e.getRenderedPage(),i)if(this.assertIsGuidedContentView(i),i.getRoot().remove(),this.options.eventEmitter.emit("onViewsRemoved",{views:[i]}),this.pageChange)e.acquireMoveLockAll(),e.fadeOut(),"PreviousPage"===t?e.guidedViewMove(e.hasPanels()?null===(n=e.getPanels())||void 0===n?void 0:n.length:1):e.guidedViewMove(1),setTimeout((()=>e.fadeIn()),0),e.releaseMoveLock(),this.pageChange=!1;else{const t=i.getPanelNumber();e.guidedViewMove(t)}const r=e.getRoot();this.notifyPageChange(e),this.options.container.append(r),this.options.eventEmitter.emit("onViewsAdded",{views:[e]})}))}resolveNextPanel(e,t,n){var i;return a(this,void 0,void 0,(function*(){this.getCurrentGuidedContentView().getRoot().remove();const r=yield this.renderView(e,t,n);this.assertIsGuidedContentView(r),null===(i=this.nextPanel)||void 0===i||i.resolve(r)}))}getCurrentGuidedContentView(){const e=this.getCurrentView();return this.assertIsGuidedContentView(e),e}assertIsGuidedContentView(e,t){if(null==e||!(e instanceof o.k))throw new Error(null!=t?t:`Expected 'val' to be defined GuidedContentView, but received ${e}`)}notifyPageChange(e){var t;super.notifyPageChange(e),null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("PageChange:GuidedView",1)}resetViews(){const e=Object.create(null,{resetViews:{get:()=>super.resetViews}});return a(this,void 0,void 0,(function*(){const t=this.getCurrentView();t&&(yield t.destroy(),this.options.eventEmitter.emit("onViewsRemoved",{views:[t]})),e.resetViews.call(this)}))}destroy(){return a(this,void 0,void 0,(function*(){return new Promise((e=>{const t=this.getCurrentView();this.assertIsGuidedContentView(t),t.acquireMoveLockAll(),t.guidedViewStop(),t.hasPanels()&&t.isAnimationEnabled()?t.getRoot().addEventListener("transitionend",(n=>{"transform"===n.propertyName&&(t.releaseMoveLock(),t.getRoot().remove(),e())})):(t.releaseMoveLock(),t.getRoot().remove(),e())}))}))}}},8707:()=>{},9250:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var i=n(8390),r=n(6854);class o{constructor(e){this.metricsService=e,this.animationFrameStartTime=(new Date).getTime(),this.animationFrame=this.getInitialAnimationFrame(),this.topSpinnerStartTime=performance.now(),this.bottomSpinnerStartTime=performance.now()}recordTimeMetrics(e,t){var n,i,o;const s=(null===(n=(0,r.f)())||void 0===n?void 0:n.isIOSFullscreenEnabled)?"TopBlankSpace":"NoBlankSpace";null===(i=this.metricsService)||void 0===i||i.recordTimeMetrics(e,t),null===(o=this.metricsService)||void 0===o||o.recordTimeMetrics(`${e}:${s}`,t)}recordCountMetrics(e,t){var n,i,o;const s=(null===(n=(0,r.f)())||void 0===n?void 0:n.isIOSFullscreenEnabled)?"TopBlankSpace":"NoBlankSpace";null===(i=this.metricsService)||void 0===i||i.recordCountMetrics(e,t),null===(o=this.metricsService)||void 0===o||o.recordCountMetrics(`${e}:${s}`,t)}measureFrameRate(e,t){const n=1e3/(e-this.animationFrameStartTime);n<this.animationFrame.min&&(this.animationFrame.min=n),n>this.animationFrame.max&&(this.animationFrame.max=n),this.animationFrame.count++,this.animationFrame.avg+=(n-this.animationFrame.avg)/this.animationFrame.count,this.animationFrameStartTime=e,t.isConnected&&window.requestAnimationFrame((e=>this.measureFrameRate(e,t)))}emitFrameRateMetrics(){this.metricsService&&this.animationFrame.count>0&&(this.recordTimeMetrics(`${i.P.FRAME_RATE}:${i.P.MIN}`,this.animationFrame.min),this.recordTimeMetrics(`${i.P.FRAME_RATE}:${i.P.MAX}`,this.animationFrame.max),this.recordTimeMetrics(`${i.P.FRAME_RATE}:${i.P.AVG}`,this.animationFrame.avg),this.animationFrame=this.getInitialAnimationFrame())}emitLayoutErrorMetric(){this.recordCountMetrics(`${i.P.LAYOUT_ERROR}:${i.P.COUNT}`,1)}emitSpinnerMetrics(e,t,n,r){e.forEach((e=>{const{target:o,isIntersecting:s}=e;o===n?this.recordSpinnerTimer(i.P.TOP_SPINNER,s,t):o===r&&this.recordSpinnerTimer(i.P.BOTTOM_SPINNER,s,t)}))}recordSpinnerTimer(e,t,n){if(t)e===i.P.TOP_SPINNER?this.topSpinnerStartTime=performance.now():e===i.P.BOTTOM_SPINNER&&(this.bottomSpinnerStartTime=performance.now());else if(n.length>0&&this.metricsService){const t=performance.now();let n=0;e===i.P.TOP_SPINNER?n=t-this.topSpinnerStartTime:e===i.P.BOTTOM_SPINNER&&(n=t-this.bottomSpinnerStartTime),this.recordTimeMetrics(`${e}:${i.P.EXECUTION_TIME}`,n)}}getInitialAnimationFrame(){return{min:Number.MAX_SAFE_INTEGER,max:Number.MIN_SAFE_INTEGER,avg:0,count:0}}}},5988:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var i=n(5526),r=n(6835),o=n(4155),s=n(6583);class a{static build(e,t,n){switch(e){case 0:return this.shouldReturnGuidedView(t,n)?new o.q(n):n.usePanningPaginationService?new s.s(n):new r.N(n);case 1:return new i.a(n)}}static shouldReturnGuidedView(e,t){const n=t.clientRenderOptionsFactory.get().bookRenderOptions;return t.clientRenderOptionsFactory.get().guidedViewOptions.isEnabled&&"GuidedView"===n.viewingMode&&"FixedFormat"===e.bookType&&e.publisherPanel}}},6835:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var i=n(8724),r=n(3942),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s extends i.I{constructor(e){super(e),this.ANIMATION_MAP={enter:{common:{Horizontal:"kg-slidein-right",Vertical:"kg-slidein-bottom"},inverted:{Horizontal:"kg-slidein-left",Vertical:"kg-slidein-top"}},exit:{common:{Horizontal:"kg-slideout-left",Vertical:"kg-slideout-top"},inverted:{Horizontal:"kg-slideout-right",Vertical:"kg-slideout-bottom"}}},this.navigationDirection=e.navigationDirection,this.spinner=this.createSpinnerElement(),this.options.container.append(this.spinner)}resetViews(){const e=Object.create(null,{resetViews:{get:()=>super.resetViews}});return o(this,void 0,void 0,(function*(){const t=this.getCurrentView();t&&(yield t.destroy()),e.resetViews.call(this)}))}createView(e){return this.options.isZoomableContent?new r.h({index:e,bookRenderOptions:this.options.clientRenderOptionsFactory.get().bookRenderOptions,layerFactories:this.options.layerFactories,zoomViewOptions:this.options.clientRenderOptionsFactory.get().zoomViewOptions}):super.createView(e)}showView(e,t){return o(this,void 0,void 0,(function*(){const n=this.getCurrentView();if(n){const e=n.getRoot();this.options.animatePageTurn&&"Absolute"!=t?(e.style.animationName=this.getAnimationName("exit",t),e.addEventListener("animationend",(()=>{e.remove(),this.options.eventEmitter.emit("onViewsRemoved",{views:[n]})}))):(e.remove(),this.options.eventEmitter.emit("onViewsRemoved",{views:[n]}))}this.notifyPageChange(e),yield e.getRenderedPage();const i=e.getRoot();i.style.position="absolute",i.style.animationDuration="0.3s",i.style.animationTimingFunction="ease-in-out",this.options.animatePageTurn&&"Absolute"!=t&&(i.style.animationName=this.getAnimationName("enter",t)),this.options.container.contains(i)||this.options.container.append(i),this.options.eventEmitter.emit("onViewsAdded",{views:[e]})}))}notifyPageChange(e){var t;super.notifyPageChange(e),null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("PageChange:Pagination",1)}getAnimationName(e,t){let n="common";return"PreviousPage"===t&&(n="inverted"),"rtl"===this.options.progressionDirection&&"Horizontal"===this.navigationDirection&&(n="common"===n?"inverted":"common"),this.ANIMATION_MAP[e][n][this.navigationDirection]}destroy(){return o(this,void 0,void 0,(function*(){this.spinner.remove(),yield this.resetViews()}))}}},6583:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var i=n(8724),r=n(3942),o=n(4953),s=n(9779),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c extends i.I{constructor(e){super(e),this.viewMap=new Map,this.viewPromiseMap=new Map,this.layoutOffset=0,this.layoutEmitter=new o.v,this.layoutHandlerMap=new Map,this.panningInProgress=!1,this.panVelocity=0,this.spinnerTimers=new Map,this.navigationDirection=e.navigationDirection,this.layoutEmitter.on("move",(e=>{const t=performance.now();this.panPrevTime&&t!==this.panPrevTime&&(this.panVelocity=e/(t-this.panPrevTime)),this.panPrevTime=t})),this.spinner=this.createSpinnerElement(),this.options.container.append(this.spinner)}goToRelativePage(e,t){const n=Object.create(null,{goToRelativePage:{get:()=>super.goToRelativePage}});return a(this,void 0,void 0,(function*(){const i=this.viewMap.get(e);if(i)return i;const r=this.viewPromiseMap.get(e);if(r)return r;{const i=n.goToRelativePage.call(this,e,t);return this.viewPromiseMap.set(e,i),i.finally((()=>this.viewPromiseMap.delete(e))),i}}))}move(e){var t;return a(this,void 0,void 0,(function*(){if("Absolute"===e)throw new Error("Invalid move operation, direction cannot be Absolute");const n=this.getCurrentView();(0,s.assertIsDefined)(n,"Cannot paginate if the book hasn't loaded");const i="NextPage"===e?n.getIndex()+1:n.getIndex()-1;let r=this.viewMap.get(i);if(r||(this.spinnerTimers.has(i)||this.spinnerTimers.set(i,performance.now()),r=yield this.goToRelativePage(i,e)),r.getIndex()!==(null===(t=this.getCurrentView())||void 0===t?void 0:t.getIndex())&&!this.panningInProgress)if(this.options.animatePageTurn)this.animatePageSnap(e);else{const t=this.getJumpDistance(e),n=this.getCoords(t-this.layoutOffset);this.pan(n.x,n.y),this.resetZoomedViews()}return r}))}animatePageSnap(e){this.cancelCurrentAnimation();let t=0;if(e){const n=this.getJumpDistance(e);t=0===this.layoutOffset?n:Math.sign(n)===Math.sign(this.layoutOffset)?n-this.layoutOffset:-this.layoutOffset}else t=-this.layoutOffset;0!==t&&(this.currentAnimation=requestAnimationFrame((e=>this.animatePan(this.getCoords(t),c.ANIMATION_DURATION_MS,c.EASE_IN_OUT,e,e,e))))}animatePan(e,t,n,i,r,o){if(r!==o){const s=(r-i)/t,a=Math.min((o-i)/t,1),c=n(a)-n(s);this.pan(e.x*c,e.y*c)}if(o-i<t)this.currentAnimation=requestAnimationFrame((r=>this.animatePan(e,t,n,i,o,r)));else{const e=this.getCoords(-this.layoutOffset);this.pan(e.x,e.y),this.resetZoomedViews()}}cancelCurrentAnimation(){this.currentAnimation&&(cancelAnimationFrame(this.currentAnimation),this.currentAnimation=void 0)}resetZoomedViews(){for(const e of this.viewMap.values())e!==this.getCurrentView()&&e instanceof r.h&&e.exitZoom()}removeView(e){const t=Object.create(null,{removeView:{get:()=>super.removeView}});return a(this,void 0,void 0,(function*(){e===this.viewMap.get(e.getIndex())&&this.viewMap.delete(e.getIndex());const n=this.layoutHandlerMap.get(e);return this.layoutEmitter.off("move",n),this.layoutHandlerMap.delete(e),this.options.eventEmitter.emit("onViewsRemoved",{views:[e]}),t.removeView.call(this,e)}))}resetViews(){const e=Object.create(null,{resetViews:{get:()=>super.resetViews}});return a(this,void 0,void 0,(function*(){this.viewPromiseMap.clear();for(const e of this.viewMap.values())yield this.removeView(e);this.spinnerTimers.clear(),this.layoutOffset=0,e.resetViews.call(this)}))}createView(e){return this.options.isZoomableContent?new r.h({index:e,bookRenderOptions:this.options.clientRenderOptionsFactory.get().bookRenderOptions,layerFactories:this.options.layerFactories,zoomViewOptions:this.options.clientRenderOptionsFactory.get().zoomViewOptions}):super.createView(e)}showView(e,t){var n,i,r;return a(this,void 0,void 0,(function*(){const o=e.getIndex(),a=this.viewMap.get(o);a&&(yield this.removeView(a)),this.viewMap.set(o,e);const c=e.getRoot();if(c.style.position="absolute","Absolute"===t)this.notifyPageChange(e),this.goToRelativePage(this.getCurrentIndex()+1,"NextPage"),this.goToRelativePage(this.getCurrentIndex()-1,"PreviousPage");else{const t=this.getCurrentView();(0,s.assertIsDefined)(t,"Cannot paginate if the book hasn't loaded");const a=this.getJumpDistance("NextPage"),c=o-t.getIndex(),u=this.getCoords(a*c),l=t.getOffset();e.setOffset(l.x-u.x,l.y-u.y),this.updateState();const h=this.spinnerTimers.get(o);if(h){this.spinnerTimers.delete(o),null===(n=this.options.metricsService)||void 0===n||n.recordCountMetrics("PanningSpinner:Count",1);const e=performance.now()-h;null===(i=this.options.metricsService)||void 0===i||i.recordTimeMetrics("PanningSpinner:Time",e),null===(r=this.options.metricsService)||void 0===r||r.recordTimeMetrics("PanningSpinner:ElapsedTime",e)}}this.options.container.append(c);const u=t=>{const n=this.getCoords(t);e.addOffset(n.x,n.y)};this.layoutHandlerMap.set(e,u),this.layoutEmitter.on("move",u),this.options.eventEmitter.emit("onViewsAdded",{views:[e]})}))}pan(e,t){let n=0;const i=this.getCurrentView();if(i){const r=this.getPageSize();let o="Horizontal"===this.navigationDirection?e:t;if(0===this.layoutOffset){const e=this.getDirection(o);if(i.isFirst()&&"PreviousPage"===e)return this.options.eventEmitter.emit("onExceedingBoundsChanged",{exceeding:"Before"}),this.getCoords(n);if(i.isLast()&&"NextPage"===e)return this.options.eventEmitter.emit("onExceedingBoundsChanged",{exceeding:"After"}),this.getCoords(n)}else Math.sign(this.layoutOffset+o)!==Math.sign(this.layoutOffset)&&(o=-this.layoutOffset);const s="Horizontal"===this.options.navigationDirection?i.getOffset().x:i.getOffset().y;Math.sign(s)===Math.sign(o)&&(o=Math.sign(o)*Math.min(Math.max(0,r-Math.abs(s)),Math.abs(o))),n=o,0!==o&&(this.layoutOffset+=o,this.layoutEmitter.emit("move",o)),Math.abs(this.layoutOffset)>r*c.CURRENT_PAGE_THRESHOLD&&(this.layoutOffset-=r*Math.sign(this.layoutOffset),this.updateState())}return this.getCoords(n)}updateState(){var e,t;const n=this.getCurrentView();(0,s.assertIsDefined)(n,"Cannot paginate if the book hasn't loaded");const i=this.getPageSize(),r="Horizontal"===this.options.navigationDirection?n.getOffset().x:n.getOffset().y;if(Math.abs(r)>i*c.CURRENT_PAGE_THRESHOLD){const i=this.getDirection(r),o="NextPage"===i?n.getIndex()+1:n.getIndex()-1,s=this.viewMap.get(o);if(s){this.notifyPageChange(s),this.spinnerTimers.has(o)||(null===(e=this.options.metricsService)||void 0===e||e.recordCountMetrics("PanningSpinner:Count",0),null===(t=this.options.metricsService)||void 0===t||t.recordTimeMetrics("PanningSpinner:Time",0));const n="NextPage"===i?s.getIndex()+1:s.getIndex()-1;this.viewMap.has(n)||this.goToRelativePage(n,i);for(const e of this.viewMap.values())Math.abs(e.getIndex()-s.getIndex())>=2&&this.removeView(e)}else this.spinnerTimers.has(o)||this.spinnerTimers.set(o,performance.now())}}notifyPageChange(e){var t;super.notifyPageChange(e),null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("PageChange:Panning",1)}panStart(){super.panStart(),this.panningInProgress=!0}panEnd(){super.panEnd(),this.panningInProgress=!1;const e=this.getPageSize();if(Math.abs(this.panVelocity)>c.PAN_VELOCITY_THRESHOLD){const e=this.getDirection(this.panVelocity);this.animatePageSnap(e)}else if(Math.abs(this.layoutOffset)<e*c.PAN_SNAP_BACK_THRESHOLD)this.animatePageSnap();else{const e=this.getDirection(this.layoutOffset);this.animatePageSnap(e)}}isPanned(){return 0!==this.layoutOffset}getPageFlow(e){let t="common";return"PreviousPage"===e&&(t="inverted"),"rtl"===this.options.progressionDirection&&"Horizontal"===this.navigationDirection&&(t="common"===t?"inverted":"common"),t}getPageSize(){const e=this.getCurrentView();return(0,s.assertIsDefined)(e,"Cannot paginate if the book hasn't loaded"),"Horizontal"===this.navigationDirection?e.getRenderedPage().page.width:e.getRenderedPage().page.height}getJumpDistance(e){const t=this.getPageSize();return"common"===this.getPageFlow(e)?-t:t}getDirection(e){return Math.sign(e)===Math.sign(this.getJumpDistance("NextPage"))?"NextPage":"PreviousPage"}getCoords(e){return"Horizontal"===this.navigationDirection?{x:e,y:0}:{x:0,y:e}}destroy(){return a(this,void 0,void 0,(function*(){this.spinner.remove(),yield this.resetViews()}))}}c.ANIMATION_DURATION_MS=100,c.PAN_SNAP_BACK_THRESHOLD=.5,c.PAN_VELOCITY_THRESHOLD=.3,c.CURRENT_PAGE_THRESHOLD=.6,c.EASE_IN_OUT=e=>e*e*(3-2*e)},9114:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});class i{constructor(e){this.el=e}save(){this.position=this.el.scrollHeight-this.el.scrollTop}restore(){if(void 0===this.position)throw new Error("Cannot restore without a previous call to save()");const e=this.el.scrollHeight-this.el.scrollTop;this.el.scrollBy({top:e-this.position})}}},5526:(e,t,n)=>{"use strict";n.d(t,{a:()=>u});var i=n(8724),r=n(4910),o=n(9718),s=n(6891),a=n(9250),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class u extends i.I{constructor(e){super(e),this.options=e,this.LOAD_PAGE_DELAY=100,this.LOAD_WATCH_DELAY=1e3,this.views=[],this.viewMap=new Map,this.expiredViews=new Set,this.isBookLoaded=!1,this.topIndex=0,this.bottomIndex=0,this.topIsFull=!1,this.bottomIsFull=!1,this.setupContainer(),this.navigationMetrics=new a.p(e.metricsService)}setupContainer(){var e;const t=this.options.container;this.topSentinel=document.createElement("div"),this.topSentinel.id="top-sentinel",this.bottomSentinel=document.createElement("div"),this.bottomSentinel.id="bottom-sentinel";const n={fullPage:this.options.fullPage,container:t,topSentinel:this.topSentinel,bottomSentinel:this.bottomSentinel,eventEmitter:this.options.eventEmitter,metricsService:this.options.metricsService};this.layoutController=null!==(e=this.options.layoutController)&&void 0!==e?e:(0,s.g)()?new o.oX(n):new o.CP(n),this.topLoader=new r.B,this.topLoader.resolve(),this.bottomLoader=new r.B,this.bottomLoader.resolve(),this.loaderObserver=new IntersectionObserver((e=>this.loaderObserverCallback(e)),{root:this.options.fullPage?void 0:t,rootMargin:"200% 0% 200% 0%",threshold:0}),this.outOfBoundsObserver=new IntersectionObserver((e=>this.outOfBoundsObserverCallback(e)),{root:this.options.fullPage?void 0:t,rootMargin:"0%",threshold:0}),this.outOfBoundsObserver.observe(this.topSentinel),this.outOfBoundsObserver.observe(this.bottomSentinel),this.loaderObserver.observe(this.topSentinel),this.loaderObserver.observe(this.bottomSentinel),this.currentViewObserver=new IntersectionObserver((e=>this.currentViewObserverCallback(e)),{root:this.options.fullPage?void 0:t,rootMargin:"-25% 0% -75% 0%",threshold:0}),setTimeout((()=>this.loadContentWatch()),this.LOAD_WATCH_DELAY)}loaderObserverCallback(e){this.isBookLoaded&&(e.forEach((e=>{const{target:t,isIntersecting:n}=e;if(t===this.topSentinel)this.topIsFull=!n;else if(t===this.bottomSentinel)this.bottomIsFull=!n;else{const e=this.viewMap.get(t);n?this.expiredViews.delete(e):this.expiredViews.add(e)}})),this.verifyLayoutHealth(),this.loadContentAsync())}currentViewObserverCallback(e){this.isBookLoaded&&e.forEach((e=>{const{target:t,isIntersecting:n}=e;if(n){const e=this.viewMap.get(t);this.notifyPageChange(e)}}))}outOfBoundsObserverCallback(e){this.isBookLoaded&&e.forEach((e=>{var t,n;const{target:i,isIntersecting:r}=e;r&&(i===this.topSentinel&&(null===(t=this.getCurrentView())||void 0===t?void 0:t.isFirst())&&this.options.eventEmitter.emit("onExceedingBoundsChanged",{exceeding:"Before"}),i===this.bottomSentinel&&(null===(n=this.getCurrentView())||void 0===n?void 0:n.isLast())&&this.options.eventEmitter.emit("onExceedingBoundsChanged",{exceeding:"After"}))}))}loadContentWatch(){this.layoutController.isConnected()&&(this.loadContentAsync(),setTimeout((()=>this.loadContentWatch()),this.LOAD_WATCH_DELAY))}loadContentAsync(){this.isBookLoaded&&(this.bottomLoader.isCompleted&&(this.bottomLoader=new r.B,this.bottomLoader.getPromise().catch((()=>this.loadContentAsync())),setTimeout((()=>this.loadContentBottom()))),this.topLoader.isCompleted&&(this.topLoader=new r.B,this.topLoader.getPromise().catch((()=>this.loadContentAsync())),setTimeout((()=>this.loadContentTop()))))}loadContentBottom(){return c(this,void 0,void 0,(function*(){try{if(this.isBookLoaded&&this.layoutController.isConnected())if(this.bottomIsFull&&this.expiredViews.has(this.bottomView)){const e=this.bottomView;yield this.removeView(e),this.views.pop(),this.bottomView=this.views[this.views.length-1],this.bottomIndex--,this.options.eventEmitter.emit("onViewsRemoved",{views:[e]}),setTimeout((()=>this.loadContentBottom()),this.LOAD_PAGE_DELAY)}else if(this.bottomIsFull||this.bottomView.isLast())this.bottomLoader.resolve();else{const e=yield this.goToRelativePage(this.bottomIndex+1,"NextPage");this.bottomView=e,this.views.push(e),this.bottomIndex++,setTimeout((()=>this.loadContentBottom()),this.LOAD_PAGE_DELAY)}else this.bottomLoader.resolve()}catch(e){this.bottomLoader.reject(e)}}))}loadContentTop(){return c(this,void 0,void 0,(function*(){try{if(this.isBookLoaded&&this.layoutController.isConnected())if(this.topIsFull&&this.expiredViews.has(this.topView)){const e=this.topView;yield this.removeView(e),this.views.shift(),this.topView=this.views[0],this.topIndex++,this.options.eventEmitter.emit("onViewsRemoved",{views:[e]}),setTimeout((()=>this.loadContentTop()),this.LOAD_PAGE_DELAY)}else if(this.topIsFull||this.topView.isFirst())this.topLoader.resolve();else{const e=yield this.goToRelativePage(this.topIndex-1,"PreviousPage");this.topView=e,this.views.unshift(e),this.topIndex--,setTimeout((()=>this.loadContentTop()),this.LOAD_PAGE_DELAY)}else this.topLoader.resolve()}catch(e){this.topLoader.reject(e)}}))}removeView(e){return c(this,void 0,void 0,(function*(){const t=e.getRoot();yield this.layoutController.removeView(e),this.loaderObserver.unobserve(t),this.currentViewObserver.unobserve(t),this.viewMap.delete(t),this.expiredViews.delete(e),this.verifyLayoutHealth()}))}verifyLayoutHealth(){if(this.topIsFull&&this.bottomIsFull&&0==this.viewMap.size){this.navigationMetrics.emitLayoutErrorMetric();const e=this.getCurrentPositionId();(e||0===e)&&this.goToPositionId(e)}}goToPage(e){const t=Object.create(null,{goToPage:{get:()=>super.goToPage}});return c(this,void 0,void 0,(function*(){const n=yield t.goToPage.call(this,e);return this.bookLoaded(n),this.notifyPageChange(n),n}))}goToPositionId(e){const t=Object.create(null,{goToPositionId:{get:()=>super.goToPositionId}});return c(this,void 0,void 0,(function*(){const n=yield t.goToPositionId.call(this,e);return this.bookLoaded(n),this.notifyPageChange(n),n}))}bookLoaded(e){this.isBookLoaded=!0,this.bottomView=this.topView=e,this.bottomIndex=this.topIndex=0,this.views.push(e),setTimeout((()=>this.loadContentAsync()),this.LOAD_PAGE_DELAY)}resetViews(){return c(this,void 0,void 0,(function*(){this.isBookLoaded=!1,this.loaderObserver.disconnect(),this.currentViewObserver.disconnect();for(const e of this.views)yield e.destroy();this.layoutController.reset(),this.views=[],this.viewMap.clear(),this.expiredViews.clear(),this.bottomView=this.topView=void 0,this.bottomIndex=this.topIndex=0,this.bottomIsFull=this.topIsFull=!1,this.loaderObserver.observe(this.topSentinel),this.loaderObserver.observe(this.bottomSentinel),this.outOfBoundsObserver.observe(this.topSentinel),this.outOfBoundsObserver.observe(this.bottomSentinel)}))}showView(e,t){return c(this,void 0,void 0,(function*(){const n=e.getRoot();if(!this.options.container.contains(n))switch(t){case"Absolute":case"NextPage":this.layoutController.insertBottom(e);break;case"PreviousPage":this.layoutController.insertTop(e)}this.viewMap.set(n,e),this.loaderObserver.observe(n),this.currentViewObserver.observe(n),this.options.eventEmitter.emit("onViewsAdded",{views:[e]})}))}notifyPageChange(e){var t;super.notifyPageChange(e),null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("PageChange:Scroll",1)}move(e){return c(this,void 0,void 0,(function*(){throw"Continuous scrolling doesn't support the move operation"}))}destroy(){return c(this,void 0,void 0,(function*(){this.isBookLoaded=!1,this.layoutController.destroy(),this.loaderObserver.disconnect(),this.outOfBoundsObserver.disconnect(),this.currentViewObserver.disconnect()}))}}},9718:(e,t,n)=>{"use strict";n.d(t,{CP:()=>u,hy:()=>a,oX:()=>c});var i=n(4945),r=n(4650),o=n(9250),s=n(6854);class a{constructor(e){this.SPINNER_PAGE_HEIGHT=260,this.LAYOUT_SHIFT_EVENT_DELAY=100,this.RUNWAY_DELTA=1e4,this.views=[],this.contentScroll=0,this.maxScroll=0,this.setSpinnerHeight=()=>this.runway.style.height=this.views.length?"unset":"100%",this.notifyLayoutShiftStart=()=>this.eventEmitter.emit("onLayoutShift",{shiftingLayout:!0}),this.notifyLayoutShiftEnd=r.d.debouncer((()=>this.eventEmitter.emit("onLayoutShift",{shiftingLayout:!1})),this.LAYOUT_SHIFT_EVENT_DELAY,!1),this.eventEmitter=e.eventEmitter,this.container=e.container,this.navigationMetrics=new o.p(e.metricsService),e.fullPage?(document.body.classList.add("kg-scrollable","kg-hide-scrollbar"),this.scrollableElem=document.documentElement):(this.container.classList.add("kg-scrollable","kg-hide-scrollbar"),this.scrollableElem=this.container),this.topSentinel=new i.hs(e.topSentinel,0),this.bottomSentinel=new i.MV(e.bottomSentinel,0),this.fullPage=e.fullPage,this.setupContainer()}setupContainer(){this.container.classList.add("kg-scroll-container"),this.runway=document.createElement("div"),this.runway.classList.add("kg-scroll-runway"),this.setSpinnerHeight(),this.topSpinner=new i.hs(this.createSpinnerElement(),0),this.topSpinner.setVisible(!1),this.bottomSpinner=new i.MV(this.createSpinnerElement(),0),this.runway.append(this.topSentinel.getRoot()),this.runway.append(this.bottomSentinel.getRoot()),this.runway.append(this.topSpinner.getRoot()),this.runway.append(this.bottomSpinner.getRoot()),this.container.append(this.runway),this.spinnerObserver=new IntersectionObserver((e=>this.navigationMetrics.emitSpinnerMetrics(e,this.views,this.topSpinner.getRoot(),this.bottomSpinner.getRoot())),{root:this.fullPage?void 0:this.container,threshold:0}),this.spinnerObserver.observe(this.topSpinner.getRoot()),this.spinnerObserver.observe(this.bottomSpinner.getRoot()),window.requestAnimationFrame((e=>this.layoutMonitor(e))),window.requestAnimationFrame((e=>this.navigationMetrics.measureFrameRate(e,this.runway)))}createSpinnerElement(){const e=document.createElement("div"),t=document.createElement("div");return e.classList.add("kg-spinner"),e.append(t),e}isConnected(){return this.runway.isConnected}layoutMonitor(e){this.isConnected()&&(this.scrollLayoutIfNecessary(),window.requestAnimationFrame((e=>this.layoutMonitor(e))))}scrollLayoutIfNecessary(){var e;this.setSpinnerHeight();let t=this.maxScroll-this.contentScroll;if(this.topSpinner.isVisible()&&(t+=this.SPINNER_PAGE_HEIGHT),(null===(e=(0,s.f)())||void 0===e?void 0:e.isIOSFullscreenEnabled)?t>0:0!=t){const e=this.fullPage?window.innerHeight:this.scrollableElem.clientHeight,n=Math.max(0,this.scrollableElem.scrollHeight-this.scrollableElem.scrollTop-e);return t>n&&(t=n),this.notifyLayoutShiftStart(),this.scrollableElem.scrollBy(0,t),this.scrollLayoutByDelta(t),this.notifyLayoutShiftEnd(),!0}return!1}scrollLayoutByDelta(e){this.contentScroll+=e,this.contentScroll>0&&this.moveRunwayToNegativeValueAndAdjustViews(),this.runway.style.transform="translateY("+this.contentScroll+"px)"}moveRunwayToNegativeValueAndAdjustViews(){this.views.forEach((e=>e.offsetByDelta(this.RUNWAY_DELTA))),this.bottomSpinner.offsetByDelta(this.RUNWAY_DELTA),this.bottomSentinel.offsetByDelta(this.RUNWAY_DELTA),this.topSpinner.offsetByDelta(this.RUNWAY_DELTA),this.topSentinel.offsetByDelta(this.RUNWAY_DELTA),this.contentScroll-=this.RUNWAY_DELTA,this.maxScroll-=this.RUNWAY_DELTA}insertTop(e){this.setSpinnerHeight();const t=e.getRoot(),n=this.topSentinel.getOffset(),r=new i.hs(t,n);this.views.unshift(r),this.runway.prepend(t);const o=e.getRenderedPage().page.height;this.topSentinel.offsetByDelta(-o),this.topSpinner.offsetByDelta(-o),this.topSpinner.setVisible(!e.isFirst()),this.maxScroll+=o}isScrollPositionPastTopContent(){const e=this.topSpinner.isVisible()?this.SPINNER_PAGE_HEIGHT:0;return this.scrollableElem.scrollTop<this.topSpinner.getOffset()+this.contentScroll-e}resetScrollPositionToTopContent(){const e=this.topSpinner.isVisible()?this.SPINNER_PAGE_HEIGHT:0,t=this.topSpinner.getOffset()+this.contentScroll-e-this.scrollableElem.scrollTop;this.scrollableElem.scrollBy(0,t)}insertBottom(e){this.setSpinnerHeight();const t=e.getRoot(),n=this.bottomSentinel.getOffset(),r=new i.MV(t,n);this.views.push(r),this.runway.append(t);const o=e.getRenderedPage().page.height;this.bottomSentinel.offsetByDelta(o),this.bottomSpinner.offsetByDelta(o),this.bottomSpinner.setVisible(!e.isLast()),1===this.views.length&&this.topSpinner.setVisible(!e.isFirst())}removeView(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const t=this.views[0],n=this.views[this.views.length-1],i=e.getRoot(),r=e.getRenderedPage().page.height;if(this.setSpinnerHeight(),i===n.getRoot())this.views.pop(),this.bottomSentinel.offsetByDelta(-r),this.bottomSpinner.offsetByDelta(-r),this.bottomSpinner.setVisible(e.isLast());else{if(i!==t.getRoot())throw"Layout controller only supports removing views from top or bottom";this.views.shift(),this.topSentinel.offsetByDelta(r),this.topSpinner.offsetByDelta(r),this.topSpinner.setVisible(e.isFirst()),this.maxScroll-=r}yield e.destroy(),this.navigationMetrics.emitFrameRateMetrics()}))}reset(){this.views=[],this.topSentinel.setOffset(0),this.topSpinner.setOffset(0),this.topSpinner.setVisible(!1),this.bottomSentinel.setOffset(0),this.bottomSpinner.setOffset(0),this.bottomSpinner.setVisible(!0),this.contentScroll=0,this.maxScroll=0,this.scrollLayoutByDelta(0),this.setSpinnerHeight()}destroy(){this.runway.remove(),this.spinnerObserver.disconnect(),this.container.classList.remove("kg-scroll-container"),this.fullPage?document.body.classList.remove("kg-scrollable","kg-hide-scrollbar"):this.container.classList.remove("kg-scrollable","kg-hide-scrollbar")}}class c extends a{constructor(){super(...arguments),this.LAYOUT_MONITOR_DELAY_MS=100,this.LAYOUT_MONITOR_DELAY_FRAMES=5,this.prevScrollTop=0,this.scrollStoppedCounter=0,this.userIsInteracting=!1,this.scrollDisabled=!1,this.prevTime=void 0}setupContainer(){super.setupContainer(),window.addEventListener("touchstart",(()=>this.userIsInteracting=!0)),window.addEventListener("touchend",(()=>this.userIsInteracting=!1)),window.addEventListener("touchcancel",(()=>this.userIsInteracting=!1))}layoutMonitor(e){if(this.isConnected()){this.scrollDisabled&&(this.scrollableElem.style.overflow="scroll",this.scrollDisabled=!1);const t=this.scrollableElem.scrollTop;if(this.isScrollPositionPastTopContent())this.resetScrollPositionToTopContent(),this.scrollableElem.style.overflow="hidden",this.scrollDisabled=!0;else if(t<0)this.scrollableElem.style.overflow="hidden",this.scrollDisabled=!0;else if(this.userIsInteracting)this.prevTime=void 0,this.scrollStoppedCounter=0;else{const n=t-this.prevScrollTop;this.prevScrollTop=t,0===n?(this.scrollStoppedCounter++,this.prevTime?e-this.prevTime>this.LAYOUT_MONITOR_DELAY_MS&&this.scrollStoppedCounter>this.LAYOUT_MONITOR_DELAY_FRAMES&&this.scrollLayoutIfNecessary()&&(this.scrollableElem.style.overflow="hidden",this.scrollDisabled=!0,this.prevTime=void 0,this.scrollStoppedCounter=0):this.prevTime=e):(this.prevTime=void 0,this.scrollStoppedCounter=0)}window.requestAnimationFrame((e=>this.layoutMonitor(e)))}}}class u extends a{constructor(){super(...arguments),this.LAYOUT_MONITOR_DELAY_MS=100,this.LAYOUT_MONITOR_DELAY_FRAMES=5,this.scrollDisabled=!1,this.prevTime=void 0,this.scrollStoppedCounter=0,this.prevScrollTop=0}layoutMonitor(e){if(this.isConnected()){this.scrollDisabled&&(this.scrollDisabled=!1,this.scrollableElem.style.overflow="scroll");const t=this.scrollableElem.scrollTop,n=t-this.prevScrollTop;this.prevScrollTop=t,this.isScrollPositionPastTopContent()?(this.scrollableElem.style.overflow="hidden",this.resetScrollPositionToTopContent(),this.scrollDisabled=!0):0===n?(this.scrollStoppedCounter++,this.prevTime?e-this.prevTime>this.LAYOUT_MONITOR_DELAY_MS&&this.scrollStoppedCounter>this.LAYOUT_MONITOR_DELAY_FRAMES&&this.scrollLayoutIfNecessary()&&(this.prevTime=void 0,this.scrollStoppedCounter=0):this.prevTime=e):(this.prevTime=void 0,this.scrollStoppedCounter=0),window.requestAnimationFrame((e=>this.layoutMonitor(e)))}}}},4945:(e,t,n)=>{"use strict";n.d(t,{MV:()=>o,hs:()=>r,nH:()=>i});class i{constructor(e,t){this.visible=!0,this.root=e,e.style.position="absolute",this.setOffset(t)}offsetByDelta(e){this.setOffset(this.offset+e)}getRoot(){return this.root}getOffset(){return this.offset}isVisible(){return this.visible}setVisible(e){this.visible=e,this.root.style.display=e?"":"none"}}class r extends i{constructor(e,t){super(e,t)}setOffset(e){this.offset=e,this.root.style.bottom=-e+"px"}}class o extends i{constructor(e,t){super(e,t)}setOffset(e){this.offset=e,this.root.style.top=e+"px"}}},7728:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});class i{constructor({startScale:e,minScale:t,maxScale:n,doubleClickScale:r,animationDuration:o},s){this.setTransform=(e,t,n)=>{this.currentZoomState.translateX=e,this.currentZoomState.translateY=t,this.currentZoomState.scale=n,this.element.style.transform=`translate(${e}px,${t}px) scale(${n})`},this.element=s,this.element.style.transformOrigin=i.TRANSFORM_ORIGIN,this.updateOriginalPosition(),this.startScale=null!=e?e:i.SCALE_OF_ONE,this.animationDuration=null!=o?o:i.DEFAULT_ANIMATION_DURATION,this.minScale=null!=t?t:i.SCALE_OF_ONE,this.maxScale=n,this.doubleClickScale=r,this.isZoomed=!1,this.currentZoomState={translateX:0,translateY:0,scale:i.SCALE_OF_ONE},this.startScale!==this.minScale&&this.enterInitialZoom()}updateOriginalPosition(){const e=this.element.getBoundingClientRect();this.originalElementWidth=e.width,this.originalElementHeight=e.height,this.originalElementLeftOff=e.left,this.originalElementTopOff=e.top}zoomAtPoint(e,t,n){this.isZoomed||this.updateOriginalPosition();const i=document.documentElement,r=this.currentZoomState.scale,o=this.restrictScale(this.currentZoomState.scale*n);this.isZoomed=o!==this.minScale;const s=i.scrollLeft,a=i.scrollTop,c=e-this.originalElementLeftOff+s,u=t-this.originalElementTopOff+a,l=(c-this.currentZoomState.translateX)/r,h=(u-this.currentZoomState.translateY)/r,d=l+(c-l)-l*o,f=h+(u-h)-h*o,p=this.restrictPosition(d,f,o),g=p.x,v=p.y;this.setTransform(g,v,o)}doubleClickZoom(e,t){this.enableAnimation(),this.zoomAtPoint(e,t,this.doubleClickScale),setTimeout((()=>this.disableAnimation()),this.animationDuration+50)}pan(e,t){const n=this.currentZoomState.translateX,i=this.currentZoomState.translateY,r=this.restrictPosition(n+e,i+t,this.currentZoomState.scale);return this.setTransform(r.x,r.y,this.currentZoomState.scale),{x:r.x-n,y:r.y-i}}resetZoom(){this.isZoomed&&(this.enableAnimation(),this.setTransform(0,0,1),this.isZoomed=!1,setTimeout((()=>this.disableAnimation()),this.animationDuration))}inZoomedState(){return this.isZoomed}getCurrentZoomState(){return this.currentZoomState}restrictScale(e){return e>=this.maxScale?this.maxScale:e<=this.minScale?this.minScale:e}enterInitialZoom(){this.enableAnimation();const e=this.originalElementWidth/2+this.originalElementLeftOff,t=this.originalElementHeight/2+this.originalElementTopOff;this.zoomAtPoint(e,t,this.startScale),setTimeout((()=>this.disableAnimation()),this.animationDuration+50)}restrictPosition(e,t,n){const i=this.originalElementWidth*n,r=this.originalElementHeight*n,o=this.originalElementWidth,s=this.originalElementHeight,a=Math.max(0,(o-i)/2),c=o-a,u=Math.max(0,(s-r)/2),l=s-u;let h,d;return h=a<e?a:e+i<c?c-i:e,d=u<t?u:t+r<l?l-r:t,{x:h,y:d}}enableAnimation(){this.element.style.transitionDuration=`${this.animationDuration}ms`}disableAnimation(){this.element.style.transitionDuration=""}}i.SCALE_OF_ONE=1,i.DEFAULT_ANIMATION_DURATION=200,i.TRANSFORM_ORIGIN="0 0 0"},3942:(e,t,n)=>{"use strict";n.d(t,{h:()=>u});var i=n(2226),r=n(9779),o=n(9040),s=n(6042),a=n(27),c=n(7728);class u extends i.C{constructor(e){var t,n,i,r,o,s,a;super(e),this.animationDuration=null!=(null===(t=e.zoomViewOptions)||void 0===t?void 0:t.animationDuration)?e.zoomViewOptions.animationDuration:c.o.DEFAULT_ANIMATION_DURATION,this.initialZoomRatio=null!==(i=null===(n=e.zoomViewOptions)||void 0===n?void 0:n.initialZoomRatio)&&void 0!==i?i:c.o.SCALE_OF_ONE,this.maxZoomRatio=null!==(o=null===(r=e.zoomViewOptions)||void 0===r?void 0:r.maxZoomRatio)&&void 0!==o?o:2*this.initialZoomRatio,this.doubleClickZoomRatio=null!==(a=null===(s=e.zoomViewOptions)||void 0===s?void 0:s.doubleClickZoomRatio)&&void 0!==a?a:2*this.initialZoomRatio}fill(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){(0,r.assert)(this.empty,"A view can only be filled once");const t=yield e;this.renderedPage=t;const n=new o.d;this.layers=[n,...this.options.layerFactories.flatMap((e=>e.get()))];const i=new s.Y({height:this.options.bookRenderOptions.pageHeight,width:this.options.bookRenderOptions.pageWidth,layers:this.layers}),c=yield i.compose(t);return this.root.replaceWith(c),this.root=c,this.root.className+=` ${a.g.VIEW_ELEMENT_CLASS} `,this.root.style.position="absolute",this.empty=!1,this.exitZoom(),t}))}doubleTapZoom(e,t){var n;null===(n=this.zoomHandler)||void 0===n||n.doubleClickZoom(e,t)}pinchZoom(e,t,n){var i;null===(i=this.zoomHandler)||void 0===i||i.zoomAtPoint(e,t,n)}pan(e,t){var n,i;return null!==(i=null===(n=this.zoomHandler)||void 0===n?void 0:n.pan(e,t))&&void 0!==i?i:{x:0,y:0}}initializeZoomHandler(){this.zoomHandler=new c.o({startScale:this.initialZoomRatio,maxScale:this.maxZoomRatio,doubleClickScale:this.doubleClickZoomRatio,animationDuration:this.animationDuration},this.root)}inZoomedState(){return!!this.zoomHandler&&this.zoomHandler.inZoomedState()}exitZoom(){var e;null===(e=this.zoomHandler)||void 0===e||e.resetZoom()}getZoomState(){return this.zoomHandler?this.zoomHandler.getCurrentZoomState():{translateX:0,translateY:0,scale:1}}}},5162:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var i=n(9779),r=n(4910),o=n(2941),s=n(9343),a=n(3083),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class u{constructor(e,t,n){this.asin=e,this.revision=t,this.options=n,this.cache=new Map,this.cacheIndex=0,this.navRef={startPositionId:1},this.pendingRenderDeferred=new r.B,this.renderingProcessId=Symbol(),this.pendingRenderDeferred.resolve()}goToPageIndex(e){return c(this,void 0,void 0,(function*(){return this.clearCache(),this.navRef={startPositionId:e},this.getPageByRelativeIndex(0,i.Direction.Absolute)}))}getRenderSettings(){return this.options.clientRenderOptionsFactory.get().bookRenderOptions}goToPositionId(e){return c(this,void 0,void 0,(function*(){return this.clearCache(),this.navRef={startPositionId:e},this.getPageByRelativeIndex(0,i.Direction.Absolute)}))}removeExpiredEntries(){const e=this.cacheIndex-12,t=this.cacheIndex+12;this.cache.forEach(((n,i)=>{(i<e||i>t)&&this.cache.delete(i)}))}renderPages(e,t,n,r){const s=new Array;let a=Promise.resolve(void 0);for(let l=0;l<t.length;l++){const h=e+(n===i.Direction.Backward?-l:l),d=this.cache.get(h);if(d)s.push(d);else{const e=t[l],d=n!==i.Direction.Backward&&l==t.length-1&&t.length<r;let f;f=0===l?this.render(e,d):a.then((()=>c(this,void 0,void 0,(function*(){return yield(0,o.N)((()=>this.render(e,d)),u.RENDERING_DELTA)})))),a=f,s.push(f),this.cache.set(h,f)}}return this.removeExpiredEntries(),s[0]}nextPage(){return c(this,void 0,void 0,(function*(){return this.cacheIndex++,this.getPageByRelativeIndex(this.cacheIndex,i.Direction.Forward)}))}previousPage(){return c(this,void 0,void 0,(function*(){return this.cacheIndex--,this.getPageByRelativeIndex(this.cacheIndex,i.Direction.Backward)}))}currentPage(){return c(this,void 0,void 0,(function*(){return this.cache.get(this.cacheIndex)||this.getPageByRelativeIndex(this.cacheIndex,i.Direction.Absolute)}))}getPageByRelativeIndex(e,t){const n=this.renderingProcessId;this.cacheIndex=e;let r=this.cache.get(e);return r?(this.prefetchBatchIfNecessary(e,n),r):this.execAndNotifyListener((()=>c(this,void 0,void 0,(function*(){for(;!this.pendingRenderDeferred.isCompleted;)if(yield this.pendingRenderDeferred.getPromise(),this.renderingProcessId!==n)throw new s.w8;if(r=this.cache.get(e),r)this.prefetchBatchIfNecessary(e,n);else{r=this.renderBatch(e,t,n);const o=t===i.Direction.Backward?i.Direction.Forward:i.Direction.Backward;r.then((()=>{this.prefetchBatchIfNecessary(e,n,o)})).catch((()=>{}))}return r}))))}prefetchBatchIfNecessary(e,t,n){const r=Math.min(...this.cache.keys()),o=Math.max(...this.cache.keys()),s=e-r,a=o-e;let c,u=Math.min(s,a);void 0!==n?(c=n===i.Direction.Absolute?i.Direction.Forward:n,u=n===i.Direction.Backward?s:a):c=u===a?i.Direction.Forward:i.Direction.Backward;const l=c===i.Direction.Backward?r-1:o+1;this.shouldRequestNewBatch(u)&&this.pendingRenderDeferred.isCompleted&&this.renderBatch(l,c,t).then((()=>{this.options.metricsService.recordCountMetrics("CachingRendererController:PrefetchFailed",0),this.renderingProcessId===t&&this.prefetchBatchIfNecessary(e,t)})).catch((()=>{this.options.metricsService.recordCountMetrics("CachingRendererController:PrefetchFailed",1)}))}renderBatch(e,t,n){return this.pendingRenderDeferred=new r.B,new Promise(((r,o)=>{setTimeout((()=>c(this,void 0,void 0,(function*(){try{const a=t===i.Direction.Backward?e+1:e,c=this.createNavigationOptions(this.navRef.startPositionId,a,t,this.options.readAheadPageCount);let u=yield this.options.bookProviderFactory.get(this.asin,this.revision,c,this.getRenderSettings());if(t===i.Direction.Backward&&(u=u.reverse()),this.renderingProcessId===n){const n=this.renderPages(e,u,t,c.pageCount);r(n)}else o(new s.w8)}catch(e){o(e)}finally{this.pendingRenderDeferred.resolve()}}))),0)}))}createNavigationOptions(e,t,n,r){return{direction:n,pageCount:r,skipPageCount:t,startPositionId:e,type:i.NavigationType.Position,bundleImages:this.options.bundleImages&&n===i.Direction.Absolute}}execAndNotifyListener(e){return c(this,void 0,void 0,(function*(){const t=new r.B,n=t.getPromise();n.catch((()=>{})),this.options.eventEmitter.emit("onRenderingBlocking",{renderingPromise:n});try{const n=yield e();return t.resolve(),n}catch(e){throw t.reject(e),e}}))}clearCache(){this.renderingProcessId=Symbol(),this.cacheIndex=0,this.cache.clear()}shouldRequestNewBatch(e){return e<6}render(e,t){return c(this,void 0,void 0,(function*(){const[n,i,r,o,s,c]=yield Promise.all([this.options.pageImageRenderer.render(e),e.getPage(),e.getLayoutPage(),e.getTokens(),e.getMetadata(),e.getPanels()]);return(null==c?void 0:c.children)&&(c.children=a.R.sortAndGroupPanels(c.children,this.getRenderSettings().pageWidth,s.progressionDirection)),{renderResult:n,page:i,layoutPage:r,tokens:o,panels:c,isFirst:i.startPositionId<=1,isLast:t||0!==s.lastPositionId&&i.endPositionId>=s.lastPositionId}}))}reset(){return c(this,void 0,void 0,(function*(){this.clearCache();const e=this.getRenderSettings();this.options.pageImageRenderer.updateSurfaceOptions(e)}))}getRenderingProcessId(){return this.renderingProcessId}}u.RENDERING_DELTA=300},8427:()=>{},2775:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});const i={default:{highlight:{background:{fill:"rgba(255, 224, 0, 0.321)"}},search:{background:{fill:"rgba(255, 235, 90, 0.2)"},border:{color:"rgb(204, 201, 178)"}},selection:{background:{fill:"rgba(5, 20, 40, 0.2)"}}},night:{highlight:{background:{fill:"rgba(105, 188, 255, 0.4)"}},search:{background:{fill:"rgba(61, 145, 215, 0.3)"},border:{color:"rgb(54, 97, 133)"}},selection:{background:{fill:"rgba(245, 245, 245, 0.4)"}}},sepia:{highlight:{background:{fill:"rgba(255, 247, 170, 0.4)"}},search:{background:{fill:"rgba(257, 246, 179, 0.4)"},border:{color:"rgb(203, 195, 145)"}},selection:{background:{fill:"rgba(0, 15, 36, 0.15)"}}},green:{highlight:{background:{fill:"rgba(255, 224, 0, 0.321)"}},search:{background:{fill:"rgba(255, 235, 90, 0.2)"},border:{color:"rgb(204, 201, 178)"}},selection:{background:{fill:"rgba(5, 20, 40, 0.2)"}}},dark:{highlight:{background:{fill:"rgba(105, 188, 255, 0.4)"}},search:{background:{fill:"rgba(61, 145, 215, 0.3)"},border:{color:"rgb(54, 97, 133)"}},selection:{background:{fill:"rgba(245, 245, 245, 0.4)"}}},grey:{highlight:{background:{fill:"rgba(105, 188, 255, 0.4)"}},search:{background:{fill:"rgba(61, 145, 215, 0.3)"},border:{color:"rgb(54, 97, 133)"}},selection:{background:{fill:"rgba(245, 245, 245, 0.4)"}}}}},2941:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});function i(e,t){return new Promise(((n,i)=>{setTimeout((()=>function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){try{const t=yield e();n(t)}catch(e){i(e)}}))),t)}))}},27:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});class i{}i.VERSION="2.0",i.DEFAULT_MAX_COLUMN="2",i.INTERACTION_LAYER_CLASS="kg-client-interaction-layer",i.ROOT_ELEMENT_CLASS="kg-client-root",i.VIEW_ELEMENT_CLASS="kg-view",i.SELECTION_ELEMENT_CLASS="kg-selection",i.HIGHLIGHT_ELEMENT_CLASS="kg-client-highlight",i.SEARCH_RESULT_ELEMENT_CLASS="kg-client-search-result",i.NOTE_ELEMENT_CLASS="kg-client-note",i.WORD_PIECE_CSS_CLASS="kg-client-piece",i.ANNOTATION_TYPE_NOTE="note",i.ANNOTATION_TYPE_HIGHLIGHT="highlight",i.ANNOTATION_TYPE_SEARCH="search",i.ROOT_THEME_CLASS={custom:"kg-client-theme--custom",default:"kg-client-theme--default",night:"kg-client-theme--night",dark:"kg-client-theme--dark",grey:"kg-client-theme--grey",green:"kg-client-theme--green",sepia:"kg-client-theme--sepia"},i.EXTERNAL_LINK_TARGET_VALUE="_blank",i.HIGHLIGHT_COLOR_CLASS={yellow:"kg-yellow-highlight",blue:"kg-blue-highlight",pink:"kg-pink-highlight",orange:"kg-orange-highlight"},i.DEFAULT_HIGHLIGHT_COLOR="yellow",i.DEFAULT_ANIMATION_DURATION=600},4650:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var i=n(9779);class r{static debouncer(e,t,n=!0){let r,o;return(0,i.assert)(t>0),(...i)=>function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return new Promise(((s,a)=>{r&&(n&&(null==o||o("Ignored consecutive call before the end of debounce period")),clearTimeout(r)),o=a,r=setTimeout((()=>{r=void 0,o=void 0,s(e(...i))}),t)}))}))}static throttler(e,t){(0,i.assert)(t>0);let n=!0;return(...i)=>n?(n=!1,setTimeout((()=>n=!0),t),{invoked:!0,result:e(...i)}):{invoked:!1}}}},4910:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});class i{constructor(){this.completed=!1,this.promise=new Promise(((e,t)=>{this.resolveCallback=e,this.rejectCallback=t}))}resolve(e){var t;null===(t=this.resolveCallback)||void 0===t||t.call(this,e),this.completed=!0}reject(e){var t;null===(t=this.rejectCallback)||void 0===t||t.call(this,e),this.completed=!0}getPromise(){return this.promise}get isCompleted(){return this.completed}}},6891:(e,t,n)=>{"use strict";function i(){return/iPad|iPhone|iPod/.test(navigator.platform)||/Mac/.test(navigator.platform)&&navigator.maxTouchPoints>1}n.d(t,{g:()=>i})},4953:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});class i{constructor(){this.handlers={},this.callbackInProgress=!1}on(e,t){let n=this.handlers[e];return n||(n=[],this.handlers[e]=n),this.handlers[e].push(t),t}off(e,t){const n=this.handlers[e];if(!t)return;const i=n.indexOf(t);-1!==i&&this.handlers[e].splice(i,1)}offAll(){this.handlers={}}emit(e,t){const n=this.handlers[e];if(n){this.callbackInProgress=!0;try{for(const e of n)e(t)}finally{this.callbackInProgress=!1}}}get isCallbackInProgress(){return this.callbackInProgress}}},373:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});class i{constructor(e){this.instance=e}get(){return this.instance}set(e){this.instance=e}}},2910:()=>{},8390:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});class i{}i.EXECUTION_TIME="ExecutionTime",i.COUNT="Count",i.ERROR_COUNT="ErrorCount",i.MIN="min",i.MAX="max",i.AVG="avg",i.FRAME_RATE="FrameRate",i.TOP_SPINNER="TopSpinner",i.BOTTOM_SPINNER="BottomSpinner",i.LAYOUT_ERROR="LayoutError"},3083:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});class i{static sortAndGroupPanels(e,t,n){if(!(null==e?void 0:e.length))return i.EMPTY_ARRAY;if(!i.isTwoPageView(e))return i.sortPanelsByOrdinal(e);const[r,o]=e.reduce(((e,n)=>(e[n.x>=t/2?1:0].push(n),e)),[[],[]]),s=i.sortPanelsByOrdinal(r),a=i.sortPanelsByOrdinal(o);return"rtl"===n?[...a,...s]:[...s,...a]}static isTwoPageView(e){const t=new Set;return e.some((e=>!!t.has(e.ordinal)||(t.add(e.ordinal),!1)))}static sortPanelsByOrdinal(e){return[...e].sort(((e,t)=>e.ordinal-t.ordinal))}}i.EMPTY_ARRAY=[]},9205:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,J:()=>r});var i=n(2941);function r(e,t=5,n=new s){return o(0,e,t,n)}function o(e,t,n,r){const s=r.getDelay(e);return(0===e?t():(0,i.N)(t,s)).catch((i=>e<n?o(e+1,t,n,r):Promise.reject(i)))}class s{constructor(e=200,t=1e4){this.baseDelay=e,this.maxDelay=t}getDelay(e){const t=Math.min(this.maxDelay,this.baseDelay*Math.pow(2,e));return t/2+Math.random()*t/2}}},9429:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});class i{static adjustTokenHeights(e,t){const n=[];if(e.length)for(const i of e)n.push(this.getAdjustedToken(i,t));return n}static fillTokensGaps(e){let t=new Array;if(e.length){t.push(Object.assign({},e[0]));for(let n=1;n<e.length;n++){let i=t[t.length-1];if(e[n].y===i.y){const r=this.calculateGapToken(e[n],i);t.push(r)}t.push(e[n])}}return t}static calculateGapToken(e,t){return{x:t.x+t.width,y:t.y,width:Math.abs(e.x-(t.x+t.width)),height:Math.min(e.height,t.height),startPositionId:t.endPositionId+1,endPositionId:e.startPositionId-1}}static calculatePieceToken(e,t){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top,startPositionId:t.startPositionId,endPositionId:t.endPositionId,linkPositionId:t.linkPositionId,externalLink:t.externalLink}}static createVirtualToken(e,t){const n={x:e.x,y:t+e.y,width:e.width,height:e.height};if(e.pieces){const i=new Array;for(const n of e.pieces){const e={left:n.left,top:t+n.top,bottom:t+n.bottom,right:n.right};i.push(e)}n.pieces=i}return n}static isTokenUnderLocation(e,t){let n,i=!1;if(e.pieces)for(const r of e.pieces){const e={x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top};if(n=this.distanceFromToken(e,t),i=0===n.x&&0===n.y,i)return!0}else n=this.distanceFromToken(e,t),i=0===n.x&&0===n.y;return i}static distanceFromToken(e,t){const{x:n,y:i}=t,r=e.x,o=n<r||n>r+e.width?n-r:0,s=e.y;return{x:o,y:i<s||i>s+e.height?i-s:0}}static getTokenLocation(e){if(e.pieces){let t=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER;for(const i of e.pieces)t=i.left<t?i.left:t,n=i.top<n?i.top:n;return{x:t,y:n}}return{x:e.x,y:e.y}}static createTokenRectFromTokenPiece(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}static createRectFromToken(e){return{top:e.y,left:e.x,bottom:e.y+e.height,right:e.x+e.width}}static getRelativeTokenPosition(e,t){if(!t)return e;const n=Object.assign(Object.assign({},e),{x:e.x+t.x,y:e.y+t.y,pieces:e.pieces&&[...e.pieces]});if(n.pieces)for(let e=0;e<n.pieces.length;e++)n.pieces[e]={top:n.pieces[e].top+t.y,bottom:n.pieces[e].bottom+t.y,left:n.pieces[e].left+t.x,right:n.pieces[e].right+t.x};return n}static getAdjustedToken(e,t){const n="OpenDyslexic"===t?.716*e.height:e.height,i=e.height-n;return Object.assign(Object.assign({},e),{height:n,y:e.y+i/2})}}},3946:(e,t,n)=>{"use strict";function i(e,t){return`${e}?${new URLSearchParams(t).toString()}`}n.d(t,{J:()=>i})},560:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});class i{static isInRect(e,t){return e.left<=t.x&&t.x<=e.right&&e.top<=t.y&&t.y<=e.bottom}}},6854:(e,t,n)=>{"use strict";function i(){return n.g.kfwClientFeatures}n.d(t,{f:()=>i})},5941:(e,t,n)=>{"use strict";function i(){const e=["7673072SRCcAv","485922BZcOLC","substring","6267880qFIJRN","4128naaqMa","4jmMJEL","3364938TRQaur","expiresAt","token","952053AtMXVM","559796gDVDSD","length","12173mRLGfz"];return(i=function(){return e})()}function r(e,t){const n=i();return(r=function(e,t){return n[e-=407]})(e,t)}n.d(t,{L:()=>s}),function(e,t){const n=r,i=e();for(;;)try{if(668523==-parseInt(n(411))/1+-parseInt(n(407))/2+parseInt(n(419))/3*(parseInt(n(415))/4)+parseInt(n(413))/5+parseInt(n(414))/6*(parseInt(n(409))/7)+-parseInt(n(410))/8+-parseInt(n(416))/9)break;i.push(i.shift())}catch(e){i.push(i.shift())}}(i);class o extends Error{constructor(){super("Invalid rendering token")}}class s{getKey(e){const t=r;if(e[t(418)][t(408)]<100)throw new o;const n=e[t(417)]%60;return e[t(418)][t(412)](n,n+40)}}},8298:(e,t,n)=>{"use strict";function i(){const e=["deriveBits","value","buffer","1052xBmdFK","decode","utf-8","next","subtle","raw","380TSPGZI","11lUALVb","importKey","base64StringToArrayBuffer","12794508Rfjwgx","AES-GCM","30JbzuLG","deriveKey","1247127FZlvgx","apply","then","219046WVfQmK","getKey","2574486AbbHiB","decrypt","PBKDF2","slice","length","653841QSxuua","4qyHnkV","SHA-256","16LIxcCc","862254eIgIYp","charCodeAt","encode","crypto"];return(i=function(){return e})()}n.d(t,{N:()=>s});const r=o;function o(e,t){const n=i();return(o=function(e,t){return n[e-=266]})(e,t)}!function(e,t){const n=o,i=e();for(;;)try{if(328091==parseInt(n(279))/1*(-parseInt(n(287))/2)+parseInt(n(290))/3+parseInt(n(297))/4*(-parseInt(n(268))/5)+-parseInt(n(281))/6+parseInt(n(276))/7*(-parseInt(n(289))/8)+-parseInt(n(286))/9*(-parseInt(n(274))/10)+-parseInt(n(269))/11*(-parseInt(n(272))/12))break;i.push(i.shift())}catch(e){i.push(i.shift())}}(i);class s{constructor(e){this.imageCipherKeyProvider=e}decrypt(e,t){return n=this,i=void 0,s=function*(){const n=o,i=new TextDecoder(n(299)),r=new TextEncoder,s=i[n(298)](e),a=s[n(284)](0,24),c=s.slice(24,48),u=s[n(284)](48,s.length),l=this[n(271)](a),h=this[n(271)](c),d=this.base64StringToArrayBuffer(u),f=this.imageCipherKeyProvider[n(280)](t),p=yield window[n(293)].subtle[n(270)](n(267),r[n(292)](f),{name:n(283)},!1,[n(294),n(275)]),g=yield window.crypto[n(266)][n(275)]({name:n(283),salt:l,iterations:1e3,hash:n(288)},p,{name:n(273),length:128},!1,[n(282)]);return yield window[n(293)].subtle[n(282)]({name:"AES-GCM",iv:h,additionalData:r.encode(f[n(284)](0,9)),tagLength:128},g,d)},new((r=void 0)||(r=Promise))((function(e,t){const a=o;function c(e){try{l(s.next(e))}catch(e){t(e)}}function u(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){const n=o;var i;t.done?e(t[n(295)]):(i=t[n(295)],i instanceof r?i:new r((function(e){e(i)})))[n(278)](c,u)}l((s=s[a(277)](n,i||[]))[a(300)]())}));var n,i,r,s}[r(271)](e){const t=r,n=atob(e),i=new Uint8Array(n.length);for(let e=0;e<n[t(285)];e++)i[e]=n[t(291)](e);return i[t(296)]}}},9779:t=>{"use strict";t.exports=e},2683:e=>{"use strict";e.exports=t},6270:e=>{"use strict";e.exports=n}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return i[e](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{"use strict";o.r(s),o.d(s,{BaseNavigationService:()=>z.I,BookMetadataProvider:()=>u._,BottomElement:()=>ie.MV,BusyException:()=>c.Tg,CachingRendererController:()=>re.B,CdnDataLoader:()=>f.d,CompositeContentDecorationRenderer:()=>E.G,Constants:()=>ce.g,ContentView:()=>H.C,DECORATIONS_CLASS_NAME:()=>R.tj,DEFAULT_RENDER_BATCH_SIZE:()=>e.T,Debouncer:()=>ue.d,DefaultContentView:()=>V.w,DefaultDecorationProvider:()=>k.i,DefaultInteractionController:()=>I.q,DefaultKaramelClient:()=>t.y,DefaultKaramelClientFactory:()=>e.J,DefaultSelectionRenderer:()=>A.G,Deferred:()=>le.B,DelayedLayoutController:()=>ne.CP,EventEmitter:()=>de.v,ExponentialBackoffWithJitter:()=>me.C,FixedFormatPageCountError:()=>H.s,GestureType:()=>N.d,GestureUtils:()=>N.z,GuidedContentView:()=>G.k,GuidedViewController:()=>C.C,GuidedViewService:()=>W.q,HIGHLIGHT_DECORATIONS_Z_INDEX:()=>R.I6,HighlightDecorationRenderer:()=>S.y,INTERACTIVE_LAYER_Z_INDEX:()=>R.gy,ImageCache:()=>p.y,ImageCipherKeyProvider:()=>h.L,ImageDecipher:()=>d.N,InstanceFactory:()=>fe.b,InteractionController:()=>I.y,InteractionControllerFactory:()=>x.y,InteractivityLayer:()=>R._V,KaramelContentLayer:()=>F.d,KaramelServiceBookMetadataProvider:()=>l.i,LINKS_Z_INDEX:()=>R.uJ,LayoutController:()=>ne.hy,LayoutElement:()=>ie.nH,MetricsConstants:()=>ge.P,MouseGestureHandler:()=>j.s,NOTE_DECORATIONS_Z_INDEX:()=>R.c8,NavigationMetrics:()=>Y.p,NavigationServiceFactory:()=>K.p,NoteDecorationRenderer:()=>T.j,PaginationService:()=>X.N,PanelTokenSorter:()=>ve.R,PanningPaginationService:()=>Z.s,RenderSettingsChangedException:()=>c.w8,ScrollLock:()=>J.t,ScrollService:()=>Q.a,SearchResultDecorationRenderer:()=>P.v,Selection:()=>$.Y,SelectionController:()=>O.x,SelectionElement:()=>A.I,ServiceBookProviderAdapter:()=>v.m,ServiceBookProviderFactory:()=>m.n,ServiceDataLoader:()=>y.h,StackCompositor:()=>B.Y,THEMES_DATA:()=>se.M,TarDataLoader:()=>w.t,TarReader:()=>b.J,ThrottlingException:()=>c.yy,TokensUtils:()=>ye.g,TopElement:()=>ie.hs,TouchGestureHandler:()=>D.Q,Vector2dUtils:()=>be.S,ViewNoLongerValidException:()=>c.Lf,ViewsTracker:()=>L.B,ZoomHandler:()=>ee.o,ZoomableContentView:()=>te.h,ZoomableViewController:()=>M.Q,buildPathAndQuery:()=>we.J,execAsync:()=>ae.N,getKFWClientFeatures:()=>_e.f,iOSLayoutController:()=>ne.oX,isIOS:()=>he.g,withRetry:()=>me.J});var e=o(3501),t=o(9611),n=o(3253),i={};for(const e in n)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient"].indexOf(e)<0&&(i[e]=()=>n[e]);o.d(s,i);var r=o(9434);i={};for(const e in r)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient"].indexOf(e)<0&&(i[e]=()=>r[e]);o.d(s,i);var a=o(1598);i={};for(const e in a)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient"].indexOf(e)<0&&(i[e]=()=>a[e]);o.d(s,i);var c=o(9343),u=o(5889),l=o(4289),h=o(5941),d=o(8298),f=o(2817),p=o(7253),g=o(5078);i={};for(const e in g)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache"].indexOf(e)<0&&(i[e]=()=>g[e]);o.d(s,i);var v=o(5922),m=o(180),y=o(5502),w=o(6565),b=o(7976),_=o(7754);i={};for(const e in _)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache","ServiceBookProviderAdapter","ServiceBookProviderFactory","ServiceDataLoader","TarDataLoader","TarReader"].indexOf(e)<0&&(i[e]=()=>_[e]);o.d(s,i);var k=o(7614),E=o(8334),S=o(9108),T=o(7801),P=o(1900),C=o(2168),x=o(9665),I=o(5745),R=o(3969),O=o(9367),A=o(6942),$=o(756),L=o(2797),M=o(6786),j=o(8972),D=o(2307),N=o(9148),F=o(9040),B=o(6042),U=o(1822);i={};for(const e in U)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache","ServiceBookProviderAdapter","ServiceBookProviderFactory","ServiceDataLoader","TarDataLoader","TarReader","DefaultDecorationProvider","CompositeContentDecorationRenderer","HighlightDecorationRenderer","NoteDecorationRenderer","SearchResultDecorationRenderer","GuidedViewController","InteractionControllerFactory","DefaultInteractionController","InteractionController","DECORATIONS_CLASS_NAME","HIGHLIGHT_DECORATIONS_Z_INDEX","INTERACTIVE_LAYER_Z_INDEX","InteractivityLayer","LINKS_Z_INDEX","NOTE_DECORATIONS_Z_INDEX","SelectionController","DefaultSelectionRenderer","SelectionElement","Selection","ViewsTracker","ZoomableViewController","MouseGestureHandler","TouchGestureHandler","GestureType","GestureUtils","KaramelContentLayer","StackCompositor"].indexOf(e)<0&&(i[e]=()=>U[e]);o.d(s,i);var z=o(8724),H=o(2226),V=o(9083),G=o(4229),W=o(4155),q=o(8707);i={};for(const e in q)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache","ServiceBookProviderAdapter","ServiceBookProviderFactory","ServiceDataLoader","TarDataLoader","TarReader","DefaultDecorationProvider","CompositeContentDecorationRenderer","HighlightDecorationRenderer","NoteDecorationRenderer","SearchResultDecorationRenderer","GuidedViewController","InteractionControllerFactory","DefaultInteractionController","InteractionController","DECORATIONS_CLASS_NAME","HIGHLIGHT_DECORATIONS_Z_INDEX","INTERACTIVE_LAYER_Z_INDEX","InteractivityLayer","LINKS_Z_INDEX","NOTE_DECORATIONS_Z_INDEX","SelectionController","DefaultSelectionRenderer","SelectionElement","Selection","ViewsTracker","ZoomableViewController","MouseGestureHandler","TouchGestureHandler","GestureType","GestureUtils","KaramelContentLayer","StackCompositor","BaseNavigationService","ContentView","FixedFormatPageCountError","DefaultContentView","GuidedContentView","GuidedViewService"].indexOf(e)<0&&(i[e]=()=>q[e]);o.d(s,i);var Y=o(9250),K=o(5988),X=o(6835),Z=o(6583),J=o(9114),Q=o(5526),ee=o(7728),te=o(3942),ne=o(9718),ie=o(4945),re=o(5162),oe=o(8427);i={};for(const e in oe)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache","ServiceBookProviderAdapter","ServiceBookProviderFactory","ServiceDataLoader","TarDataLoader","TarReader","DefaultDecorationProvider","CompositeContentDecorationRenderer","HighlightDecorationRenderer","NoteDecorationRenderer","SearchResultDecorationRenderer","GuidedViewController","InteractionControllerFactory","DefaultInteractionController","InteractionController","DECORATIONS_CLASS_NAME","HIGHLIGHT_DECORATIONS_Z_INDEX","INTERACTIVE_LAYER_Z_INDEX","InteractivityLayer","LINKS_Z_INDEX","NOTE_DECORATIONS_Z_INDEX","SelectionController","DefaultSelectionRenderer","SelectionElement","Selection","ViewsTracker","ZoomableViewController","MouseGestureHandler","TouchGestureHandler","GestureType","GestureUtils","KaramelContentLayer","StackCompositor","BaseNavigationService","ContentView","FixedFormatPageCountError","DefaultContentView","GuidedContentView","GuidedViewService","NavigationMetrics","NavigationServiceFactory","PaginationService","PanningPaginationService","ScrollLock","ScrollService","ZoomHandler","ZoomableContentView","DelayedLayoutController","LayoutController","iOSLayoutController","BottomElement","LayoutElement","TopElement","CachingRendererController"].indexOf(e)<0&&(i[e]=()=>oe[e]);o.d(s,i);var se=o(2775),ae=o(2941),ce=o(27),ue=o(4650),le=o(4910),he=o(6891),de=o(4953),fe=o(373),pe=o(2910);i={};for(const e in pe)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache","ServiceBookProviderAdapter","ServiceBookProviderFactory","ServiceDataLoader","TarDataLoader","TarReader","DefaultDecorationProvider","CompositeContentDecorationRenderer","HighlightDecorationRenderer","NoteDecorationRenderer","SearchResultDecorationRenderer","GuidedViewController","InteractionControllerFactory","DefaultInteractionController","InteractionController","DECORATIONS_CLASS_NAME","HIGHLIGHT_DECORATIONS_Z_INDEX","INTERACTIVE_LAYER_Z_INDEX","InteractivityLayer","LINKS_Z_INDEX","NOTE_DECORATIONS_Z_INDEX","SelectionController","DefaultSelectionRenderer","SelectionElement","Selection","ViewsTracker","ZoomableViewController","MouseGestureHandler","TouchGestureHandler","GestureType","GestureUtils","KaramelContentLayer","StackCompositor","BaseNavigationService","ContentView","FixedFormatPageCountError","DefaultContentView","GuidedContentView","GuidedViewService","NavigationMetrics","NavigationServiceFactory","PaginationService","PanningPaginationService","ScrollLock","ScrollService","ZoomHandler","ZoomableContentView","DelayedLayoutController","LayoutController","iOSLayoutController","BottomElement","LayoutElement","TopElement","CachingRendererController","THEMES_DATA","execAsync","Constants","Debouncer","Deferred","isIOS","EventEmitter","InstanceFactory"].indexOf(e)<0&&(i[e]=()=>pe[e]);o.d(s,i);var ge=o(8390),ve=o(3083),me=o(9205),ye=o(9429),we=o(3946),be=o(560),_e=o(6854)})(),s})(),e.exports=i(n(38462),n(15616),n(73799))},38462:function(module){var e;"undefined"!=typeof self&&self,e=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=47)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);class r{constructor(e,t,n,i){this.top=e,this.bottom=t,this.left=n,this.right=i}static applyTransformationToBoundingBoxPoints(e,t){const n=e[i.b.HorizontalScaling],o=e[i.b.VerticalScaling],s=e[i.b.HorizontalTranslation],a=e[i.b.VerticalTranslation],c=t.top*o+a,u=t.bottom*o+a,l=t.left*n+s,h=t.right*n+s;return new r(c,u,l,h)}static getBoudningBoxByPath(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;const s=e.split(" ");for(let e=0;e<s.length;e++)if(""!=s[e]){const r=this.isLetter(s[e][0])?s[e].substr(1).split(","):s[e].split(",");if(r.length>=2)for(let e=0;e<r.length;e++)e%2==0?(t=Math.min(parseFloat(r[e]),t),i=Math.max(parseFloat(r[e]),i)):(n=Math.min(parseFloat(r[e]),n),o=Math.max(parseFloat(r[e]),o))}return new r(n,o,t,i)}compute(e){return 0===this.top&&0===this.bottom&&0===this.left&&0==this.right?e:0===e.top&&0===e.bottom&&0===e.left&&0==e.right?this:new r(Math.min(this.top,e.top),Math.max(this.bottom,e.bottom),Math.min(this.left,e.left),Math.max(this.right,e.right))}static isLetter(e){return e.toLowerCase()!=e.toUpperCase()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var i,r=n(3),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e[e.HorizontalScaling=0]="HorizontalScaling",e[e.VerticalSkewing=1]="VerticalSkewing",e[e.HorizontalSkewing=2]="HorizontalSkewing",e[e.VerticalScaling=3]="VerticalScaling",e[e.HorizontalTranslation=4]="HorizontalTranslation",e[e.VerticalTranslation=5]="VerticalTranslation"}(i||(i={}));class s{static getDpi(){if(s.dpi<0){const e=document.createElement("div"),t=e.style;t.height="1in",t.width="1in",t.top="-100%",t.left="-100%",t.position="absolute",document.body.appendChild(e);const n=e.offsetHeight;document.body.removeChild(e),s.dpi=n}return s.dpi}static getPixelRatio(e){if(s.pixelRatio<0){e.height=20,e.width=20;const t=window.devicePixelRatio||1,n=e.getContext("2d");Object(r.b)(n);const i=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;s.pixelRatio=t/i}return s.pixelRatio}static canvasToBlob(e){const t=e;if(t.toBlob)return new Promise((t=>{e.toBlob((e=>{Object(r.b)(e),t(e)}))}));if(t.convertToBlob)return e.convertToBlob();throw Error("canvasToBlob: canvas cannot be converted to a Blob")}static canvasToImage(e,t,n){return o(this,void 0,void 0,(function*(){const i=yield s.canvasToBlob(e),r=URL.createObjectURL(i);return this.blobToImage(r,t,n).finally((()=>URL.revokeObjectURL(r)))}))}static blobToImage(e,t,n){return o(this,void 0,void 0,(function*(){return new Promise(((i,r)=>{const o=new Image;return o.src=e,o.style.objectFit="cover",o.style.objectPosition="top",void 0!==t&&(o.style.width=t+"px"),void 0!==n&&(o.style.height=n+"px"),o.onload=()=>{i(o)},o.onerror=e=>{r(e)},o}))}))}}s.dpi=-1,s.pixelRatio=-1},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}i.EXECUTION="ExecutionTime",i.ERROR="ErrorCount",i.NETWORK_ERROR_NOT_FOUND="404",i.NETWORK_ERROR_BAD_REQUEST="400",i.NETWORK_ERROR_SERVER_ERROR="500",i.RENDER_PAGE="RenderPage",i.LOAD_IMAGE="LoadImage",i.PREVIOUS_PAGE="PreviousPage",i.NEXT_PAGE="NextPage",i.FILL_VIEW="FillView",i.ADD_ANNOTATION="AddAnnotation",i.REMOVE_ANNOTATION="RemoveAnnotation",i.CLEAR_TEXT_SELECTION="ClearTextSelection",i.GET_TABLE_OF_CONTENTS="GetTableOfContents",i.GET_METADATA="GetMetadata",i.GET_MANIFEST="GetManifest",i.GET_LOCATION_MAP="GetLocationMap",i.GET_PAGE_POSITION_RANGE="GetPagePositionRange",i.UPDATE_RENDER_OPTIONS="UpdateRenderOptions",i.GET_CURRENT_BOOK_PROVIDER="GetCurrentBookProvider",i.GO_TO_PAGE="GoToPage",i.GO_TO_POSITION="GoToPosition",i.APPLY_ANTI_MOIRE_FILTER="ApplyAntiMoireFilter"},function(e,t,n){"use strict";function i(e,t){if(null==e)throw new Error(null!=t?t:"Expected 'val' to be defined, but received "+e)}function r(e,t){if(!e)throw new Error(null!=t?t:'Expected "val" to be true, but it was false')}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);class r{static getDimensions(e){return{width:e.right-e.left,height:e.bottom-e.top}}static convertToAbsolutePosition(e,t){const n=[e.left,e.top,1],i=this.convertXPositionToAbsolute(n,t),r=this.convertYPositionToAbsolute(n,t),o=[e.right,e.bottom,1];return{top:r,left:i,right:this.convertXPositionToAbsolute(o,t),bottom:this.convertYPositionToAbsolute(o,t)}}static convertXPositionToAbsolute(e,t){return t[i.b.HorizontalScaling]*e[0]+t[i.b.HorizontalSkewing]*e[1]+t[i.b.HorizontalTranslation]*e[2]}static convertYPositionToAbsolute(e,t){return t[i.b.VerticalSkewing]*e[0]+t[i.b.VerticalScaling]*e[1]+t[i.b.VerticalTranslation]*e[2]}static round(e){return{bottom:Math.round(e.bottom),left:Math.round(e.left),right:Math.round(e.right),top:Math.round(e.top)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){this.path2d="",this.subPathPoints=0,this.subPaths=0}moveTo(e,t){this.subPaths++,this.subPathPoints=0,this.addPathPoint(),this.path2d+=`M ${e} ${t}`}lineTo(e,t){this.addPathPoint(),this.path2d+=`L ${e} ${t}`}relativeLineTo(e,t){this.addPathPoint(),this.path2d+=`l ${e} ${t}`}addEllipticalArc(e,t,n,i,r,o,s){const a=e+n*Math.cos(r/180*Math.PI),c=t+i*Math.sin(r/180*Math.PI),u=e+n*Math.cos(o/180*Math.PI),l=t+i*Math.sin(o/180*Math.PI);let h=(o-r)%360;h<0&&(h+=360);const d=!s&&h>180||s&&h<180;this.subPathPoints<=1?this.moveTo(a,c):this.lineTo(a,c),this.addPathPoint(),this.path2d+=`A ${n} ${i} 0 ${d?1:0} ${s?0:1} ${u} ${l}`}addPathPoint(){(this.subPaths>0||this.subPathPoints>0)&&(this.path2d+=" "),this.subPathPoints++}closePath(){this.addPathPoint(),this.path2d+="z"}build(){return new Path2D(this.path2d)}}},function(e,t,n){"use strict";function i(e){const t=e.h,n=e.s,i=e.v,r=Math.floor(6*t),o=6*t-r,s=i*(1-n),a=i*(1-o*n),c=i*(1-(1-o)*n);let u,l,h;switch(r%6){case 0:u=i,l=c,h=s;break;case 1:u=a,l=i,h=s;break;case 2:u=s,l=i,h=c;break;case 3:u=s,l=a,h=i;break;case 4:u=c,l=s,h=i;break;case 5:u=i,l=s,h=a;break;default:throw new Error("Error converting HSV to RGB")}return{r:Math.round(255*u),g:Math.round(255*l),b:Math.round(255*h)}}function r(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),o=Math.min(t,n,i),s=r;let a=r;const c=r-o,u=0==r?0:c/r;if(r==o)a=0;else{switch(r){case t:a=(n-i)/c+(n<i?6:0);break;case n:a=(i-t)/c+2;break;case i:a=(t-n)/c+4}a/=6}return{h:a,s:u,v:s}}function o(e){let t=e.replace("#","");return 3===t.length&&(t=`${t[0]}${t[0]}${t[1]}${t[1]}${t[2]}${t[2]}`),{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:parseInt(t.substring(6,8),16)/255}}function s(e){let t=e.r.toString(16),n=e.g.toString(16),i=e.b.toString(16),r=Math.round(255*e.a).toString(16);return 1===t.length&&(t="0"+t),1===n.length&&(n="0"+n),1===i.length&&(i="0"+i),1===r.length&&(r="0"+r),"#"+t+n+i+r}n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}))},function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.Forward="Forward",e.Backward="Backward",e.Absolute="Absolute"}(i||(i={})),function(e){e.Position="Position",e.Page="Page"}(r||(r={}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Top=0]="Top",e[e.Left=1]="Left",e[e.Bottom=2]="Bottom",e[e.Right=3]="Right"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(3),r=n(12),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e,t,n,i=!0){this.asin=e,this.pages=new Map,this.layoutPages=new Map,this.tokens=new Map,this.panels=new Map,this.pageIndex=0,this.theme="",this.unscrambleImages=!1,this.host=`${i?"https":"http"}://${t}:${n}`}gotoPage(e){this.pageIndex=e}nextPage(){this.pageIndex++}previousPage(){this.pageIndex--}getImage(e){return o(this,void 0,void 0,(function*(){return yield this.initPromise,new Promise(((t,n)=>o(this,void 0,void 0,(function*(){const i=this.buildUrl("/get-image",{asin:this.asin,theme:this.theme,image:e}),o=this.buildUrl("/get-image-manifest",{asin:this.asin,theme:this.theme,image:e});try{const e=yield fetch(i);if(this.unscrambleImages){const i=yield fetch(o);if(e.ok&&i.ok){const n=yield e.blob(),o=yield i.json(),s=new r.a,a=yield s.unscramble(n,o);t(a)}else n("Failed to load image or manifest")}else e.ok?t(yield e.blob()):n()}catch(e){n(e)}}))))}))}getPage(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.pages.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-page-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.pages.set(e.pageIndex,e))),t=this.pages.get(e)}return Object(i.b)(t,"Unable to find page "+e),t}))}getLayoutPage(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.layoutPages.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-layout-page-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.layoutPages.set(e.pageIndex,e))),t=this.layoutPages.get(e)}return Object(i.b)(t,"Unable to find page "+e),t}))}getFonts(){return o(this,void 0,void 0,(function*(){return yield this.initPromise,Object(i.b)(this.fonts,"Fonts should be loaded"),this.fonts}))}getTokens(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.tokens.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-tokens-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.tokens.set(e.pageIndex,e))),t=this.tokens.get(e)}return Object(i.b)(t,"Unable to find page tokens"),Promise.resolve(t)}))}getPanels(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.panels.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-panels-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.panels.set(e.pageIndex,e))),t=this.panels.get(e)}return Object(i.b)(t,"Unable to find page panels"),Promise.resolve(t)}))}getLocationMap(){return o(this,void 0,void 0,(function*(){const e=this.buildUrl("/get-location-map",{asin:this.asin,theme:this.theme}),t=yield fetch(e);return yield t.json()}))}getTableOfContent(){return o(this,void 0,void 0,(function*(){return yield this.initPromise,Object(i.b)(this.toc),this.toc}))}getMetadata(){return o(this,void 0,void 0,(function*(){return yield this.initPromise,Object(i.b)(this.metadata),this.metadata}))}getManifest(){return o(this,void 0,void 0,(function*(){return{manifestComplete:!0,formatVersion:3,revision:1,asin:"stub",bookType:"Reflowable",rendererType:"stub",contentType:"stub",bookFormat:"stub",publisherPanel:!1,acr:"stub"}}))}render(e){var t;return o(this,void 0,void 0,(function*(){this.theme=null!==(t=e.theme)&&void 0!==t?t:"custom";const n=this.buildUrl("/render",{settings:JSON.stringify(e),theme:this.theme,asin:this.asin});return this.initPromise=fetch(n).then((()=>{this.fonts=new Promise(((e,t)=>{const n=this.buildUrl("/get-glyphs",{asin:this.asin,theme:this.theme});fetch(n).then((t=>{t.json().then((t=>{e(t)}))})).catch((e=>t(e)))})),this.toc=new Promise(((e,t)=>{const n=this.buildUrl("/get-toc",{asin:this.asin,theme:this.theme});fetch(n).then((t=>{t.json().then((t=>{e(t)}))})).catch((e=>t(e)))})),this.metadata=new Promise(((e,t)=>{const n=this.buildUrl("/get-metadata",{asin:this.asin,theme:this.theme});fetch(n).then((t=>{t.json().then((t=>{e(t)}))})).catch((e=>t(e)))})),void 0!==e.pageIndex?this.pageIndex=e.pageIndex:void 0!==e.positionId&&(this.pageIndex=0)}))}))}buildUrl(e,t){const n=new URLSearchParams(t).toString();return`${this.host}/karamelgen${e}?${n}`}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e,t,n,i,r){this.devBookDataLoader=e,this.tokens=i,this.page=t,this.layoutPage=n,this.panels=r}getImage(e){return this.devBookDataLoader.getImage(e)}getMetadata(){return this.devBookDataLoader.getMetadata()}getManifest(){return this.devBookDataLoader.getManifest()}getLocationMap(){return this.devBookDataLoader.getLocationMap()}getPage(){return this.page}getLayoutPage(){return this.layoutPage}getTableOfContent(){return this.devBookDataLoader.getTableOfContent()}getTokens(){return this.tokens}getPanels(){return this.panels}getFonts(){return this.devBookDataLoader.getFonts()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0),r=n(2),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e,t){this.nodeRenderers=e.nodeRenderers,this.decorationRender=e.decorationRender,this.metricsUtil=t}render(e){return o(this,void 0,void 0,(function*(){return yield this.metricsUtil.asyncExecuteMetrics(r.a.RENDER_PAGE,(()=>o(this,void 0,void 0,(function*(){const t=yield e.bookProvider.getPage();e.context.fillStyle=t.fillColor,e.context.fillRect(0,0,t.width,t.height),e.options=this.createRenderRequestOptions(t);const n=t.children;return{rect:yield this.renderChildNodes(e,n),startPositionId:t.startPositionId,endPositionId:t.endPositionId,pageFillColor:t.fillColor,pageInkColor:t.inkColor}}))))}))}createRenderRequestOptions(e){const t={};return e.startPositionId<=1&&(t.excludeDecoration=(e,t)=>t&&0===e.elementId),t.inkColor=e.inkColor,t}renderChildNodes(e,t){return o(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);if(t&&t.length>0){const i=yield this.renderTimeboxed(t,(t=>o(this,void 0,void 0,(function*(){return t.rect?yield this.renderDecorations(e,t,!0):void 0}))));n=n.compute(i);const r=yield this.renderTimeboxed(t,(t=>o(this,void 0,void 0,(function*(){const n=yield this.renderDecorations(e,t,!1),i=yield this.renderNode(e,t);return n.compute(i)}))));n=n.compute(r)}return n}))}renderTimeboxed(e,t){return new Promise(((n,r)=>{const s=new i.a(0,0,0,0);setTimeout((()=>o(this,void 0,void 0,(function*(){return yield this.renderTimeboxedRecursive(s,e,0,t,n,r)}))))}))}renderTimeboxedRecursive(e,t,n,i,r,a){return o(this,void 0,void 0,(function*(){try{let c=e;const u=performance.now();for(;performance.now()-u<s.MAX_EXECUTION_TIME&&n<t.length;){const e=t[n],r=yield i(e);r&&(c=c.compute(r)),n++}n<t.length?setTimeout((()=>o(this,void 0,void 0,(function*(){return yield this.renderTimeboxedRecursive(c,t,n,i,r,a)})))):r(c)}catch(e){a(e)}}))}renderNode(e,t){var n;return o(this,void 0,void 0,(function*(){let r=new i.a(0,0,0,0);const o=this.nodeRenderers[t.type];if(!o)return r;const s=e.context;s.save();try{return this.applyClipPath(t,s),this.applyTransform(t,s),s.globalAlpha=null!==(n=t.opacity)&&void 0!==n?n:1,r=r.compute(yield o.render(e,t))}finally{s.restore()}}))}renderDecorations(e,t,n){var r,s,a;return o(this,void 0,void 0,(function*(){let o=new i.a(0,0,0,0);if(n&&!t.backDecoration||!n&&!t.frontDecoration||(null===(s=null===(r=e.options)||void 0===r?void 0:r.excludeDecoration)||void 0===s?void 0:s.call(r,t,n)))return o;const c=e.context;c.save();try{return this.applyTransform(t,c),c.globalAlpha=null!==(a=t.opacity)&&void 0!==a?a:1,n&&t.backDecoration?o=o.compute(yield this.decorationRender.renderDecorations(e,t.backDecoration,t.type,t.transform)):!n&&t.frontDecoration&&(o=o.compute(yield this.decorationRender.renderDecorations(e,t.frontDecoration,t.type,t.transform))),o}finally{c.restore()}}))}applyTransform(e,t){if(e.transform){const[n,i,r,o,s,a]=e.transform;t.transform(n,i,r,o,s,a)}}applyClipPath(e,t){const n=e.clipPath;if(n){const e=new Path2D;e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip(e)}}}s.MAX_EXECUTION_TIME=5},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);class r{unscramble(e,t){const n=URL.createObjectURL(e);return i.a.blobToImage(n).then((e=>{const n=document.createElement("canvas");return n.width=t.width,n.height=t.height,this.drawTiles(e,n.getContext("2d"),t.tiles),i.a.canvasToBlob(n)})).finally((()=>URL.revokeObjectURL(n)))}drawTiles(e,t,n){for(const i of n){const n=i.data,r=n[4],o=n[5];t.drawImage(e,n[2],n[3],r,o,n[0],n[1],r,o)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i extends Error{constructor(e){super(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(1),r=n(0),o=n(4),s=n(5),a=n(2),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class u{constructor(e,t){this.DEFAULT_COLOR="#FFFFFF",this.pixelRatio=e.pixelRatio,this.rectRenderer=e.rectRenderer,this.lineRenderer=e.lineRenderer,this.styleModifier=e.styleModifier,this.metricsUtil=t}renderDecorations(e,t,n,i){return c(this,void 0,void 0,(function*(){let o=new r.a(0,0,0,0);for(const r of t)switch(r.type){case"fillStroke":o=o.compute(this.renderRectFillStroke(e,r,i));break;case"line":const t=JSON.parse(JSON.stringify(r));this.adaptLineDecorationByStrokeIfNeed(t,n),o=o.compute(this.renderLineDecoration(e,t,t.strokeColor,i));break;case"linkLine":const s=JSON.parse(JSON.stringify(r));this.adaptLineDecorationByStrokeIfNeed(s,n),o=o.compute(this.renderLineDecoration(e,s,s.unvisitedColor,i));break;case"backgroundImage":const a=r;o=o.compute(yield this.renderBackgroundImage(e,a,i));break;case"shadow":o=o.compute(this.renderShadow(e,r,i))}return o}))}renderRectFillStroke(e,t,n){const i=e.context;i.save();try{const n=t.radii,r=new Array(4),o=new Array(4),s=new Array(4),a=new Array(4),c=new Array(4),u=[t.strokeTop,t.strokeLeft,t.strokeBottom,t.strokeRight];for(let e=0;e<u.length;e++){const t=u[e];void 0===t?(r[e]="unknown",o[e]=0,c[e]="#00000000"):(r[e]=t.strokeStyle,o[e]=t.strokeWidth,c[e]=t.strokeColor),s[e]=void 0===n?0:n[e].xRadius,a[e]=void 0===n?0:n[e].yRadius}t.fillColor&&(i.strokeStyle=t.fillColor);const l=this.getFill(e,t);this.rectRenderer.fillStroke(i,t.rect,r,o,s,a,c,l)}finally{i.restore()}let o=new r.a(t.rect.top,t.rect.bottom,t.rect.left,t.rect.right);return n&&(o=r.a.applyTransformationToBoundingBoxPoints(n,o)),o}adaptLineDecorationByStrokeIfNeed(e,t){"run"!==t&&"text"!==t&&"textline"!==t||(e.strokeStartPoint.y===e.strokeEndPoint.y?(e.strokeStartPoint.y=e.strokeStartPoint.y-e.strokeWidth/2,e.strokeEndPoint.y=e.strokeEndPoint.y-e.strokeWidth/2):(e.strokeStartPoint.x=e.strokeStartPoint.x-e.strokeWidth/2,e.strokeEndPoint.x=e.strokeStartPoint.x-e.strokeWidth/2))}renderLineDecoration(e,t,n,i){const o=e.context,s=t.strokeStartPoint,a=s.x,c=s.y,u=t.strokeEndPoint,l=u.x,h=u.y,d=t.strokeStyle;let f=new r.a(c,h,a,l);o.save();try{if("thinthick"===d||"thickthin"===d){const e=this.styleModifier.getLineWidthsFromStyle(d,t.strokeWidth),i=e.externalLine,s=e.gap,u=e.internalLine,p=c===h,g=p?l-a:h-c,v=c,m={style:t.strokeStyle,x:a,y:v,isHorizontal:p,length:g,width:i,color:n};this.lineRenderer.draw(o,m);const y=v+i+s,w={style:t.strokeStyle,x:a,y:y,isHorizontal:p,length:g,width:u,color:n};this.lineRenderer.draw(o,w),f=new r.a(c,y+u,a,l)}else{const e=c===h,i=e?l-a:h-c,s=t.strokeWidth,u={style:t.strokeStyle,x:a,y:c,isHorizontal:e,length:i,width:s,color:n};this.lineRenderer.draw(o,u),f=new r.a(c,h+s,a,l)}}finally{o.restore()}return i&&(f=r.a.applyTransformationToBoundingBoxPoints(i,f)),f}renderBackgroundImage(e,t,n){return c(this,void 0,void 0,(function*(){const o=t.rect,s=t.imageReference;try{yield this.metricsUtil.asyncExecuteMetrics(a.a.LOAD_IMAGE,(()=>c(this,void 0,void 0,(function*(){const n=yield e.bookProvider.getImage(s);if("undefined"==typeof createImageBitmap){const r=URL.createObjectURL(n);yield i.a.blobToImage(r).then((n=>this.drawImage(e,n,t))).finally((()=>URL.revokeObjectURL(r)))}else yield createImageBitmap(n).then((n=>this.drawImage(e,n,t)))}))))}catch(e){}let u=new r.a(o.top,o.bottom,o.left,o.right);return n&&(u=r.a.applyTransformationToBoundingBoxPoints(n,u)),u}))}drawImage(e,t,n){var i,r,s,a;const c=e.context;c.save();try{const e=n.rect,{width:u,height:l}=o.a.getDimensions(e),h=new Path2D;h.rect(e.left,e.top,u,l),c.clip(h);const d=n.scale,f=d.x,p=d.y;c.scale(f,p);const g=(n.origin.x+e.left)/f,v=(n.origin.y+e.top)/p,m=t.width,y=t.height,w=null!==(i=n.rowCount)&&void 0!==i?i:1,b=null!==(r=n.columnCount)&&void 0!==r?r:1;for(let e=0;e<w;++e)for(let i=0;i<b;++i){const r=g+i*(null!==(s=n.imageWidth)&&void 0!==s?s:0),o=v+e*(null!==(a=n.imageHeight)&&void 0!==a?a:0);c.drawImage(t,r,o,m,y)}}finally{c.restore()}}getFill(e,t){if(void 0!==t.gradient){const n=this.createGradient(e,t);return n.addColorStop(0,this.DEFAULT_COLOR),t.gradient.stopColorList.forEach((e=>{n.addColorStop(e.offset,e.stopColor)})),n}if(void 0!==t.fillColor)return t.fillColor}createGradient(e,t){var n;const i=null!==(n=t.rect)&&void 0!==n?n:{left:0,right:0,bottom:0,top:0},r=i.right-i.left,o=i.bottom-i.top;if(void 0!==t.gradient&&"radial"===t.gradient.gradientType){const t=(i.left+i.right)/2,n=(i.top+i.bottom)/2,s=Math.max(r,o)/2;return e.context.createRadialGradient(t,n,0,t,n,s)}return void 0!==t.gradient&&"vertical"===t.gradient.gradientType?e.context.createLinearGradient(0,i.top,0,i.bottom):e.context.createLinearGradient(i.left,0,i.bottom,0)}renderShadow(e,t,n){const i=e.context;i.save();try{const e=t.rect,n=new Array(4),r=new Array(4);if(t.radii){const e=t.radii;for(let t=0;t<e.length;t++)n[t]=e[t].xRadius,r[t]=e[t].yRadius}t.shadowInset?this.drawInsetShadow(i,e,t,n,r):this.drawOutsetShadow(i,e,t,n,r),this.unsetShadow(i)}finally{i.restore()}return new r.a(0,0,0,0)}drawInsetShadow(e,t,n,i,r){var s,a;n.radii?this.clip(e,t,!1,i,r):this.clip(e,t,!1);const c=e.canvas.width;t.left-=c,t.right-=c;const u=t.left,l=t.top;this.setShadow(e,n,c);const{width:h,height:d}=o.a.getDimensions(t),f=null!==(s=n.shadowBlur)&&void 0!==s?s:0,p=null!==(a=n.shadowSpread)&&void 0!==a?a:0,g=Math.max(Math.abs(n.shadowOrigin.x),Math.abs(n.shadowOrigin.y)),v=Math.max(g,Math.max(0,f-p));e.lineWidth=2*(p+v),e.strokeRect(u-v,l-v,h+2*v,d+2*v),t.left+=c,t.right+=c}drawOutsetShadow(e,t,n,i,r){const s=t.left,a=t.top,{width:c,height:u}=o.a.getDimensions(t);let l;n.radii?(l=this.createRoundedRectPath(e,t,i,r),this.clip(e,t,!0,i,r)):(l=new Path2D,l.rect(s,a,c,u),this.clip(e,t,!0)),this.setShadow(e,n),e.fill(l)}clip(e,t,n,i,r){const s=t.left,a=t.top,{width:c,height:u}=o.a.getDimensions(t);let l=new Path2D;if(i&&r?l=this.createRoundedRectPath(e,t,i,r):l.rect(s,a,c,u),n){const t=e.canvas.width,n=e.canvas.height;l.rect(s-t,a-n,c+2*t,u+2*n)}e.clip(l,"evenodd")}setShadow(e,t,n=0){var i,r;e.shadowColor=t.shadowColor,e.shadowBlur=this.pixelRatio*(null!==(i=t.shadowBlur)&&void 0!==i?i:0),0!==n&&(e.shadowBlur+=null!==(r=t.shadowSpread)&&void 0!==r?r:0,e.shadowBlur/=2),e.shadowOffsetX=this.pixelRatio*(t.shadowOrigin.x+n),e.shadowOffsetY=this.pixelRatio*t.shadowOrigin.y}unsetShadow(e){e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}createRoundedRectPath(e,t,n,i){const r=o.a.round(t);e.lineCap="butt";const a=new s.a;return a.moveTo(r.left+n[0],r.top),a.addEllipticalArc(r.left+n[0],r.top+i[0],n[0],i[0],270,180,!0),a.relativeLineTo(0,r.bottom-r.top-i[0]-i[1]),a.addEllipticalArc(r.left+n[1],r.bottom-i[1],n[1],i[1],180,90,!0),a.relativeLineTo(r.right-r.left-n[1]-n[2],0),a.addEllipticalArc(r.right-n[2],r.bottom-i[2],n[2],i[2],90,0,!0),a.relativeLineTo(0,-(r.bottom-r.top-i[2]-i[3])),a.addEllipticalArc(r.right-n[3],r.top+i[3],n[3],i[3],0,-90,!0),a.relativeLineTo(-(r.right-r.left-n[0]-n[3]),0),a.build()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(6);class r{getLineWidthsFromStyle(e,t){switch(e){case"double":const e=Math.floor(t/3);return{externalLine:e,gap:e,internalLine:e};case"ridge":case"groove":{const e=Math.ceil(t/2);return{externalLine:e,gap:0,internalLine:t-e}}case"thickthin":{const e=Math.ceil(t/7),n=Math.ceil((t-e)/3);return{externalLine:t-e-n,gap:n,internalLine:e}}case"thinthick":const n=Math.ceil(t/7),i=Math.ceil((t-n)/3);return{externalLine:n,gap:i,internalLine:t-n-i};default:return{externalLine:t,gap:0,internalLine:0}}}isStyleWithTwoLines(e){return"double"===e||"thickthin"===e||"thinthick"===e||"ridge"===e||"groove"===e}getColorModification(e,t){const n=Object(i.b)(t),r=Object(i.d)(n),o=n.a;let s=Math.min(1,r.v+.2);const a=Math.max(0,s-.4);let c;if(s=Math.min(1,a+.4),0===e){const e=Object(i.a)({h:r.h,s:r.s,v:s});c=Object(i.c)({r:e.r,g:e.g,b:e.b,a:o})}else{if(1!==e)throw new Error("Color modification not supported: "+e);{const e=Object(i.a)({h:r.h,s:r.s,v:a});c=Object(i.c)({r:e.r,g:e.g,b:e.b,a:o})}}return c}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e){this.context=e}get canvas(){return this.context.canvas}get globalAlpha(){return this.context.globalAlpha}set globalAlpha(e){this.context.globalAlpha=e}get globalCompositeOperation(){return this.context.globalCompositeOperation}set globalCompositeOperation(e){this.context.globalCompositeOperation=e}get fillStyle(){return this.context.fillStyle}set fillStyle(e){this.context.fillStyle=e}get strokeStyle(){return this.context.strokeStyle}set strokeStyle(e){this.context.strokeStyle=e}get filter(){return this.context.filter}set filter(e){this.context.filter=e}get imageSmoothingEnabled(){return this.context.imageSmoothingEnabled}set imageSmoothingEnabled(e){this.context.imageSmoothingEnabled=e}get imageSmoothingQuality(){return this.context.imageSmoothingQuality}set imageSmoothingQuality(e){this.context.imageSmoothingQuality=e}get lineCap(){return this.context.lineCap}set lineCap(e){this.context.lineCap=e}get lineDashOffset(){return this.context.lineDashOffset}set lineDashOffset(e){this.context.lineDashOffset=e}get lineJoin(){return this.context.lineJoin}set lineJoin(e){this.context.lineJoin=e}get lineWidth(){return this.context.lineWidth}set lineWidth(e){this.context.lineWidth=e}get miterLimit(){return this.context.miterLimit}set miterLimit(e){this.context.miterLimit=e}get shadowBlur(){return this.context.shadowBlur}set shadowBlur(e){this.context.shadowBlur=e}get shadowColor(){return this.context.shadowColor}set shadowColor(e){this.context.shadowColor=e}get shadowOffsetX(){return this.context.shadowOffsetX}set shadowOffsetX(e){this.context.shadowOffsetX=e}get shadowOffsetY(){return this.context.shadowOffsetY}set shadowOffsetY(e){this.context.shadowOffsetY=e}get direction(){return this.context.direction}set direction(e){this.context.direction=e}get font(){return this.context.font}set font(e){this.context.font=e}get textAlign(){return this.context.textAlign}set textAlign(e){this.context.textAlign=e}get textBaseline(){return this.context.textBaseline}set textBaseline(e){this.context.textBaseline=e}drawImage(e,t,n,i,r,o,s,a,c){this.context.drawImage(...arguments)}beginPath(){this.context.beginPath(...arguments)}clip(e,t){this.context.clip(...arguments)}fill(e,t){this.context.fill(...arguments)}isPointInPath(e,t,n,i){return this.context.isPointInPath(...arguments)}isPointInStroke(e,t,n){return this.context.isPointInStroke(...arguments)}stroke(e){this.context.stroke(...arguments)}createLinearGradient(e,t,n,i){return this.context.createLinearGradient(...arguments)}createPattern(e,t){return this.context.createPattern(...arguments)}createRadialGradient(e,t,n,i,r,o){return this.context.createRadialGradient(...arguments)}createImageData(e,t){return this.context.createImageData(...arguments)}getImageData(e,t,n,i){return this.context.getImageData(...arguments)}putImageData(e,t,n,i,r,o,s){this.context.putImageData(...arguments)}arc(e,t,n,i,r,o){this.context.arc(...arguments)}arcTo(e,t,n,i,r){this.context.arcTo(...arguments)}bezierCurveTo(e,t,n,i,r,o){this.context.bezierCurveTo(...arguments)}closePath(){this.context.closePath(...arguments)}ellipse(e,t,n,i,r,o,s,a){this.context.ellipse(...arguments)}lineTo(e,t){this.context.lineTo(...arguments)}moveTo(e,t){this.context.moveTo(...arguments)}quadraticCurveTo(e,t,n,i){this.context.quadraticCurveTo(...arguments)}rect(e,t,n,i){this.context.rect(...arguments)}getLineDash(){return this.context.getLineDash(...arguments)}setLineDash(e){this.context.setLineDash(...arguments)}clearRect(e,t,n,i){this.context.clearRect(...arguments)}fillRect(e,t,n,i){this.context.fillRect(...arguments)}strokeRect(e,t,n,i){this.context.strokeRect(...arguments)}restore(){this.context.restore(...arguments)}save(){this.context.save(...arguments)}fillText(e,t,n,i){this.context.fillText(...arguments)}measureText(e){return this.context.measureText(...arguments)}strokeText(e,t,n,i){this.context.strokeText(...arguments)}getTransform(){return this.context.getTransform(...arguments)}resetTransform(){this.context.resetTransform(...arguments)}rotate(e){this.context.rotate(...arguments)}scale(e,t){this.context.scale(...arguments)}setTransform(e,t,n,i,r,o){this.context.setTransform(...arguments)}transform(e,t,n,i,r,o){this.context.transform(...arguments)}translate(e,t){this.context.translate(...arguments)}drawFocusIfNeeded(e,t){this.context.drawFocusIfNeeded(...arguments)}scrollPathIntoView(e){this.context.scrollPathIntoView(...arguments)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(16);n(48);class r extends i.a{constructor(e){super(e),this.path=new Path2D,this.subPath=new Path2D,this.isSubPathEmtpy=!0}build(){return this.addSubPath(),new Path2D(this.path)}addSubPath(e){e?this.path.addPath(e):this.isSubPathEmtpy||(this.path.addPath(this.subPath),this.subPath=new Path2D,this.isSubPathEmtpy=!0)}beginPath(){super.beginPath(),this.addSubPath()}closePath(){super.closePath(),this.subPath.closePath(),this.isSubPathEmtpy=!1}arc(e,t,n,i,r,o){super.arc(e,t,n,i,r,o),this.subPath.arc(e,t,n,i,r,o),this.isSubPathEmtpy=!1}arcTo(e,t,n,i,r){super.arcTo(e,t,n,i,r),this.subPath.arcTo(e,t,n,i,r),this.isSubPathEmtpy=!1}bezierCurveTo(e,t,n,i,r,o){super.bezierCurveTo(e,t,n,i,r,o),this.subPath.bezierCurveTo(e,t,n,i,r,o),this.isSubPathEmtpy=!1}ellipse(e,t,n,i,r,o,s,a){super.ellipse(e,t,n,i,r,o,s,a),this.subPath.ellipse(e,t,n,i,r,o,s,a),this.isSubPathEmtpy=!1}lineTo(e,t){super.lineTo(e,t),this.subPath.lineTo(e,t),this.isSubPathEmtpy=!1}moveTo(e,t){super.moveTo(e,t),this.subPath.moveTo(e,t),this.isSubPathEmtpy=!1}quadraticCurveTo(e,t,n,i){super.quadraticCurveTo(e,t,n,i),this.subPath.quadraticCurveTo(e,t,n,i),this.isSubPathEmtpy=!1}rect(e,t,n,i){super.rect(e,t,n,i),this.subPath.rect(e,t,n,i),this.isSubPathEmtpy=!1}resetTransform(){this.addSubPath(),super.resetTransform()}rotate(e){this.addSubPath(),super.rotate(e)}scale(e,t){this.addSubPath(),super.scale(e,t)}setTransform(e,t,n,i,r,o){this.addSubPath(),super.setTransform(...arguments)}transform(e,t,n,i,r,o){this.addSubPath(),super.transform(e,t,n,i,r,o)}translate(e,t){this.addSubPath(),super.translate(e,t)}fill(e,t){e&&"string"!=typeof e&&this.addSubPath(e)}stroke(e){e&&this.addSubPath(e)}drawImage(e,t,n,i,r,o,s,a,c){let u=!0;i?o?this.subPath.rect(o,s,a,c):this.subPath.rect(t,n,i,r):"number"==typeof e.width&&"number"==typeof e.height?this.subPath.rect(t,n,e.width,e.height):u=!1,u&&(this.isSubPathEmtpy=!1)}fillRect(e,t,n,i){super.rect(e,t,n,i),this.rect(e,t,n,i)}strokeRect(e,t,n,i){super.rect(e,t,n,i),this.rect(e,t,n,i)}restore(){this.addSubPath(),super.restore()}clip(e,t){}clearRect(e,t,n,i){}fillText(e,t,n,i){}strokeText(e,t,n,i){}putImageData(e,t,n,i,r,o,s){}}},function(module,__webpack_exports__,__nested_webpack_require_33236__){"use strict";__nested_webpack_require_33236__.d(__webpack_exports__,"a",(function(){return DefaultGlyphRenderer}));var _etc_content_bounding_box__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_33236__(0),_utils_assert__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_33236__(3),__awaiter=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class DefaultGlyphRenderer{constructor(e){this.pathsCache=new Map,this.pixelRatio=e.pixelRatio}render(e,t,n,i,r){return __awaiter(this,void 0,void 0,(function*(){const t=n.glyphs[r.glyphId];Object(_utils_assert__WEBPACK_IMPORTED_MODULE_1__.b)(t,"Unknown glyph "+r.glyphId);const o=this.buildGlyphCacheKey(n,r.glyphId,r.fontSize);if(!("js"===t.type&&t.code||"path"===t.type&&t.path))return new _etc_content_bounding_box__WEBPACK_IMPORTED_MODULE_0__.a(0,0,0,0);{const s=e.context;s.save();try{return this.renderGlyph(o,s,n,t,i,r)}finally{s.restore()}}}))}renderGlyph(glyphKey,ctx,font,glyph,fontScale,glyphDescriptor){this.applyShadows(ctx,glyphDescriptor);const x=glyphDescriptor.x,y=glyphDescriptor.y;ctx.translate(x,y),ctx.scale(fontScale,fontScale);const rotation=glyphDescriptor.glyphRotation;if(0!==rotation){const e=-rotation*DefaultGlyphRenderer.DEG_TO_RAD;ctx.rotate(e)}let cacheDescriptor=this.pathsCache.get(glyphKey);if(!cacheDescriptor){if("path"===glyph.type)cacheDescriptor={path2D:new Path2D(glyph.path),boundingRect:this.findPathBoundingBox(glyph.path)};else{const e=glyph.rect;cacheDescriptor={code:glyph.code,boundingRect:{minX:e.left,minY:e.top,width:e.right-e.left,height:e.bottom-e.top}}}this.pathsCache.set(glyphKey,cacheDescriptor)}if(ctx.beginPath(),cacheDescriptor.path2D)if(ctx.fill(cacheDescriptor.path2D),font.fontAlgBold){const e=ctx.strokeStyle,t=ctx.strokeStyle!=ctx.fillStyle;t&&(ctx.strokeStyle=ctx.fillStyle);const n=ctx.lineWidth;ctx.lineWidth=font.fontWeight/1e3/fontScale,ctx.stroke(cacheDescriptor.path2D),ctx.lineWidth=n,t&&(ctx.strokeStyle=e),ctx.stroke(cacheDescriptor.path2D)}else glyphDescriptor.stroke&&ctx.stroke(cacheDescriptor.path2D);else cacheDescriptor.code&&(ctx.fill(),eval(cacheDescriptor.code));const boundingRect=cacheDescriptor.boundingRect;this.unsetShadow(ctx);let left=boundingRect.minX,top=boundingRect.minY,right=left+boundingRect.width,bottom=top+boundingRect.height;return rotation&&([left,top]=[top,-left],[right,bottom]=[bottom,-right]),new _etc_content_bounding_box__WEBPACK_IMPORTED_MODULE_0__.a(top*fontScale+y,bottom*fontScale+y,left*fontScale+x,right*fontScale+x)}findPathBoundingBox(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;const o=e.split(" ");for(let e=0;e<o.length;e++){const s=o[e].split(",");switch(o[e][0]){case"Z":break;case"C":t=Math.min(parseFloat(s[4]),t),i=Math.max(parseFloat(s[4]),i),n=Math.min(parseFloat(s[5]),n),r=Math.max(parseFloat(s[5]),r);case"Q":t=Math.min(parseFloat(s[2]),t),i=Math.max(parseFloat(s[2]),i),n=Math.min(parseFloat(s[3]),n),r=Math.max(parseFloat(s[3]),r);case"M":case"L":t=Math.min(parseFloat(s[0].substr(1)),t),i=Math.max(parseFloat(s[0].substr(1)),i),n=Math.min(parseFloat(s[1]),n),r=Math.max(parseFloat(s[1]),r)}}return{minX:t,minY:n,width:i-t,height:r-n}}applyShadows(e,t){var n;const i=t.textShadows;if(i)for(const r of i){e.shadowColor=r.shadowColor,e.shadowBlur=this.pixelRatio*(null!==(n=r.shadowBlur)&&void 0!==n?n:1),e.shadowOffsetX=this.pixelRatio*r.shadowOrigin.x,e.shadowOffsetY=this.pixelRatio*r.shadowOrigin.y;let i=t.contextRotation-t.glyphRotation;i<0&&(i+=360);const o=e.shadowOffsetX;i>=90&&i<180?(e.shadowOffsetX=-1*e.shadowOffsetY,e.shadowOffsetY=o):i>=180&&i<270?(e.shadowOffsetX=-1*e.shadowOffsetY,e.shadowOffsetY=-1*o):i>=270&&(e.shadowOffsetX=e.shadowOffsetY,e.shadowOffsetY=-1*o)}}unsetShadow(e){e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}buildGlyphCacheKey(e,t,n){return[e.fontKey,t,n].join("/")}clearCache(){this.pathsCache.clear()}}DefaultGlyphRenderer.DEG_TO_RAD=Math.PI/180},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(2),a=n(20),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class u{constructor(e,t){this.metricsUtil=t,this.pixelRatio=e.pixelRatio,this.rectRenderer=e.rectRenderer}render(e,t){return c(this,void 0,void 0,(function*(){const n=e.context,o=t.imageReference;let a=new i.a(0,0,0,0);if(t.imageClip){this.adjustClip(t);const e=t.imageClip,i=new Path2D;i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip(i)}try{a=yield this.metricsUtil.asyncExecuteMetrics(s.a.LOAD_IMAGE,(()=>c(this,void 0,void 0,(function*(){const i=yield e.bookProvider.getImage(o);if("undefined"==typeof createImageBitmap){const e=URL.createObjectURL(i);return r.a.blobToImage(e).then((e=>this.drawImage(n,e,t))).finally((()=>URL.revokeObjectURL(e)))}return createImageBitmap(i).then((e=>this.drawImage(n,e,t)))}))))}catch(e){this.drawImagePlaceHolder(n,t),a=this.getBoundingBoxForEmptyImage(n,t)}return t.transform&&(a=i.a.applyTransformationToBoundingBoxPoints(t.transform,a)),a}))}getBoundingBoxForEmptyImage(e,t){var n;const r=null!==(n=t.rect)&&void 0!==n?n:t.clipPath;return void 0!==r?new i.a(r.top,r.bottom,r.left,r.right):new i.a(0,0,0,0)}drawImagePlaceHolder(e,t){try{e.save();const n=t.fillColor,i=t.strokeColor;let r=0,s=0,a=0,c=0,u=t.rect;u&&(t.transform&&(u=o.a.convertToAbsolutePosition(u,t.transform)),r=u.top,s=u.left,({width:a,height:c}=o.a.getDimensions(u))),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),e.fillStyle=n,e.fillRect(s,r,a,c),e.strokeStyle=i;const l=e.lineWidth/2;e.strokeRect(s+l,r+l,a-e.lineWidth,c-e.lineWidth)}finally{e.restore()}}drawImage(e,t,n){e.save();try{const r=n.rect;if(r){const c=this.getImageOffsetFromBackDecoration(n);let u={left:r.left+c.left,top:r.top+c.top,bottom:r.bottom-c.bottom,right:r.right-c.right};u=o.a.round(u);const{width:l,height:h}=o.a.getDimensions(u);return this.metricsUtil.recordCountMetrics(s.a.APPLY_ANTI_MOIRE_FILTER,Object(a.a)({width:l,height:h})?1:0),e.drawImage(t,u.left,u.top,l,h),new i.a(u.top,u.bottom,u.left,u.right)}return e.drawImage(t,0,0),new i.a(0,t.height,0,t.width)}finally{e.restore()}}getImageOffsetFromBackDecoration(e){const t=e.backDecoration,n=t&&t.length>0&&"fillStroke"===t[0].type?t[0]:void 0;return{top:n&&n.strokeTop?n.strokeTop.strokeWidth:0,left:n&&n.strokeLeft?n.strokeLeft.strokeWidth:0,bottom:n&&n.strokeBottom?n.strokeBottom.strokeWidth:0,right:n&&n.strokeRight?n.strokeRight.strokeWidth:0}}adjustClip(e){if(e.imageClip){const t=e.rect,n=e.imageClip;t.top=-n.top,t.left=-n.left,t.bottom-=n.top,t.right-=n.left,n.bottom-=n.top,n.right-=n.left,n.top=0,n.left=0}}}},function(e,t,n){"use strict";function i({width:e,height:t,antiMoireThreshold:n=.65}){const{innerHeight:i,innerWidth:r,devicePixelRatio:o}=window;return e*n>=r*o||t*n>=i*o}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n(17),o=n(1),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const a=new Array;class c{constructor(e){this.pageRenderer=e}render(e,t){return s(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);const r=e.context;r.save();try{const i=new Set,o=yield this.generateClips(e,t,i),s=this.generateShapes(e,t,o,i);n=this.getShapeBoundingBox(t),e.context.scale(t.scaleX,t.scaleY);for(const t of s)yield this.renderShape(e,t)}finally{r.restore()}return n}))}renderShape(e,t){return s(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);const r=e.context;r.save();try{if(t.clipPath&&r.clip(t.clipPath,t.clipRule),t.childNodes)n=yield this.pageRenderer.renderChildNodes(e,t.childNodes);else{const e=t.fillData,n=t.strokeData;if(t.transform){const[e,n,i,o,s,a]=t.transform;r.transform(e,n,i,o,s,a)}e&&(r.fillStyle=e.fillColor,r.fill(t.path,e.fillRule)),n&&(r.lineWidth=n.strokeWidth,r.strokeStyle=n.strokeColor,r.lineJoin=n.strokeLineJoin,r.lineCap=n.strokeLineCap,r.miterLimit=n.strokeMiterLimit,r.lineDashOffset=n.strokeDashOffset,r.setLineDash(n.strokeDashArray),r.stroke(t.path))}}finally{r.restore()}return n}))}generateClips(e,t,n){var i;return s(this,void 0,void 0,(function*(){const o=new Array;if(t.clips)for(const s of t.clips){const a=new Path2D;for(const o of s)if(void 0!==o.elementId){let s=null===(i=t.children)||void 0===i?void 0:i.filter((e=>e.elementId===o.elementId));if(s){const i=e.context;i.save();try{if(t.transform){i.resetTransform();const[e,n,r,o,s,a]=t.transform;i.transform(e,n,r,o,s,a)}s=this.adjustRunNodes(s),n.add(o.elementId);const c=new r.a(i),u={context:c,bookProvider:e.bookProvider,options:e.options};yield this.pageRenderer.renderChildNodes(u,s),a.addPath(c.build())}finally{i.restore()}}}else a.addPath(new Path2D(o.path));o.push(a)}return o}))}generateShapes(e,t,n,i){var r,o,s,c,u,l,h,d,f,p,g,v;const m=new Array;if(t.shapes)for(const y of t.shapes){let w;const b="none"===y.clipRule?void 0:y.clipRule;if(void 0!==y.clipPathIndex&&y.clipPathIndex>=0&&y.clipPathIndex<n.length&&(w=n[y.clipPathIndex]),void 0!==y.elementId){const e=null===(r=t.children)||void 0===r?void 0:r.filter((e=>e.elementId===y.elementId));i.add(y.elementId),m.push({childNodes:null!=e?e:new Array,path:void 0,clipPath:w,clipRule:null!=b?b:"nonzero"})}else{const t=new Path2D(y.path);let n,i;if(y.fillRule||y.fillColor){const t="none"===y.fillRule?void 0:y.fillRule;n={fillRule:null!=t?t:"nonzero",fillColor:null!==(c=null!==(o=y.fillColor)&&void 0!==o?o:null===(s=e.options)||void 0===s?void 0:s.inkColor)&&void 0!==c?c:"#000000FF"}}if(void 0!==y.strokeWidth&&0!==y.strokeWidth){const t="none"===y.strokeLineJoin?void 0:y.strokeLineJoin,n="none"===y.strokeLineCap?void 0:y.strokeLineCap;i={strokeWidth:y.strokeWidth,strokeColor:null!==(h=null!==(u=y.strokeColor)&&void 0!==u?u:null===(l=e.options)||void 0===l?void 0:l.inkColor)&&void 0!==h?h:"#000000FF",strokeLineJoin:null!=t?t:"miter",strokeLineCap:null!=n?n:"butt",strokeMiterLimit:null!==(d=y.strokeMiterLimit)&&void 0!==d?d:10,strokeDashOffset:null!==(f=y.strokeDashOffset)&&void 0!==f?f:0,strokeDashArray:null!==(p=y.strokeDashArray)&&void 0!==p?p:a}}n||i||(n={fillColor:null!==(v=null===(g=e.options)||void 0===g?void 0:g.inkColor)&&void 0!==v?v:"#000000FF",fillRule:"nonzero"}),m.push({childNodes:void 0,path:t,clipPath:w,clipRule:null!=b?b:"nonzero",fillData:n,strokeData:i,transform:y.transform})}}return m}getShapeBoundingBox(e){let t=new i.a(0,0,0,0);if(e.shapes)for(const n of e.shapes)if(n.path){let r=i.a.getBoudningBoxByPath(n.path);e.transform&&(r=i.a.applyTransformationToBoundingBoxPoints(e.transform,r)),t=t.compute(r)}return t}adjustRunNodes(e){const t=JSON.parse(JSON.stringify(e));for(const e of t)if("run"===e.type&&e.transform){const t=e;t.descent&&(e.transform[o.b.VerticalTranslation]-=t.descent)}return t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n(3),o=n(1),s=n(4),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c{constructor(e){this.fontCache=new Map,this.decorationRenderer=e.decorationRenderer,this.fontSize=e.fontSize,this.glyphRenderer=e.fontRender}render(e,t){return a(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);if(t.textBackDecoration){const i=yield this.decorationRenderer.renderDecorations(e,t.textBackDecoration,t.type,t.transform);n=n.compute(i)}const r=yield this.renderText(e,t);if(n=n.compute(r),t.textFrontDecoration){const i=yield this.decorationRenderer.renderDecorations(e,t.textFrontDecoration,t.type,t.transform);n=n.compute(i)}return n}))}renderText(e,t){var n,o,c,u,l,h;return a(this,void 0,void 0,(function*(){const a=yield e.bookProvider.getFonts();this.setFonts(a);const d=null!==(n=t.fontSize)&&void 0!==n?n:this.fontSize,f=t.glyphs;if(!f)return new i.a(0,0,0,0);{const n=e.context;n.save();try{const a=f.length,p=t.fontFamily,g=t.fontStyle,v=t.fontStretch,m=t.fontWeight,y=t.fontClass,w=t.textShadows,b=this.getRotationAngle(t),_={fontFamily:p,fontStretch:v,fontStyle:g,fontWeight:m,fontClass:y},k=this.fontCache.get(t.fontKey);Object(r.b)(k);const E=d/k.unitsPerEm,S=null!==(o=t.glyphRotation)&&void 0!==o?o:0,T=t.stroke;void 0!==T&&(n.lineWidth=Math.round(T.strokeWidth/E),n.strokeStyle=T.strokeColor),n.fillStyle=t.textColor;const P=new Array;for(let n=0;n<a;n++){const i=f[n],r=null!==(u=null===(c=t.yPosition)||void 0===c?void 0:c[n])&&void 0!==u?u:0,o=null!==(h=null===(l=t.xPosition)||void 0===l?void 0:l[n])&&void 0!==h?h:0,s={glyphId:String(i),x:o,y:r,glyphRotation:S,fontSize:d,stroke:t.stroke,textShadows:w,contextRotation:b},a=this.glyphRenderer.render(e,_,k,E,s);P.push(a)}let C=new i.a(0,0,0,0);for(const e of P){const t=yield e;C=C.compute(t)}if(t.transform){const e=t.transform,n=s.a.convertToAbsolutePosition(C,e),r=Math.min(n.top,n.bottom),o=Math.max(n.top,n.bottom),a=Math.min(n.left,n.right),c=Math.max(n.left,n.right);C=new i.a(r,o,a,c)}return C}finally{n.restore()}}}))}getRotationAngle(e){if(e.transform){const t=e.transform;let n=Math.atan2(t[o.b.VerticalSkewing],t[o.b.HorizontalScaling]);return n<0&&(n+=2*Math.PI),180*n/Math.PI}return 0}setFonts(e){this.fonts&&this.fonts===e||(this.fontCache.clear(),this.glyphRenderer.clearCache(),e.forEach((e=>{this.fontCache.set(e.fontKey,e)})),this.fonts=e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(13);class r extends i.a{constructor(){super("Pool has been cleared, request is no longer valid."),this.name="ClearedPoolError"}}class o{constructor(e,t,n){this.available=new Array,this.taken=new Set,this.pendingPromises=new Array,this.provider=e,this.reset=t,this.maxSize=n}acquire(){return new Promise(((e,t)=>{let n=this.available.shift();!n&&this.taken.size<this.maxSize&&(n=this.provider()),n?(this.taken.add(n),e(n)):this.pendingPromises.push({resolve:e,reject:t})}))}release(e){if(this.taken.has(e)){this.reset(e);const t=this.pendingPromises.shift();t?t.resolve(e):(this.taken.delete(e),this.available.push(e))}}clear(){this.available.length=0,this.taken.clear(),this.pendingPromises.forEach((e=>{e.reject(new r)})),this.pendingPromises.length=0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{draw(e,t){const n=this.getNormalizedLineWidth(t);switch(t.style){case"dotted":const r=t.width>0?i.DOT_SPACING_FACTOR*n:t.width;this.drawDottedLine(e,t.x,t.y,t.isHorizontal,t.length,n,r,!t.isHorizontal,t.color);break;case"dashed":const o=t.isHorizontal?n+1:1;this.drawDashedLine(e,t.x,t.y,t.isHorizontal,t.length,n,i.COLOR_SEGMENT_FACTOR*n,i.TRANSPARENT_SEGMENT_FACTOR*n,o,t.color);break;default:this.drawSolidLine(e,t.x,t.y,t.isHorizontal,t.length,n,t.color)}}drawDottedLine(e,t,n,i,r,o,s,a,c){if(0===r||0===o||0===s)return!1;e.save();try{const u=a?r+2*o:r,l=s-o,h=(u-o)/(Math.max(2,Math.round((u+l)/(o+s)))-1),d=o/2,f=a?h-d:d;e.strokeStyle=c,e.lineCap="round",e.lineWidth=o,e.beginPath(),e.setLineDash([0,h]),i?(e.moveTo(t+f,n+d),e.lineTo(t+r,n+d)):(e.moveTo(t+d,n+f),e.lineTo(t+d,n+r)),e.stroke()}finally{e.restore()}return!0}drawSolidLine(e,t,n,i,r,o,s){if(0===r||0===o)return!1;e.save();try{e.lineCap="butt",e.lineWidth=Math.round(o),e.strokeStyle=s;const a=o/2;e.beginPath(),i?this.movetoAndRelativeLineTo(e,t,n+a,r,0):this.movetoAndRelativeLineTo(e,t+a,n,0,r),e.stroke()}finally{e.restore()}return!0}drawDashedLine(e,t,n,i,r,o,s,a,c,u){if(0===o||0===r||0===s||0===a)return!1;{const l=r-2*c;let h=0,d=0,f=0,p=0;if(l<0)h=r;else if(l<a)h=c+l;else if(0==c)if(l<a)h=c+l;else{const e=Math.floor((l+s)/(a+s)),t=e*a+(e-1)*s;h=c+(l-t)/2,d=c+(l-t+1)/2}else if(l<a+2)h=c+l;else{const e=c>0?l:l-2;if(e<=0)h=c+e;else{const t=Math.floor((e+s)/(a+s)),n=t*a+(t-1)*s;h=c+(e-n)/2,d=c+(e-n+1)/2}}r<=a+1?(h=r,d=0):h==s?h=0:f=a,p=r-h-d-f,e.lineCap="butt",e.strokeStyle=u,e.lineWidth=Math.max(1,Math.round(o));const g=[s,a];g[0]=s,g[1]=a;const v=o/2;return h>0&&(e.beginPath(),i?this.movetoAndRelativeLineTo(e,t,n+v,h,0):this.movetoAndRelativeLineTo(e,t+v,n,0,h),e.stroke()),p>0&&(e.beginPath(),e.setLineDash(g),i?this.movetoAndRelativeLineTo(e,t+h+f,n+v,p,0):this.movetoAndRelativeLineTo(e,t+v,n+h+f,0,p),e.stroke()),d>0&&(e.beginPath(),i?this.movetoAndRelativeLineTo(e,t+h+f+p,n+v,d,0):this.movetoAndRelativeLineTo(e,t+v,n+h+f+p,0,d),e.stroke()),!0}}movetoAndRelativeLineTo(e,t,n,i,r){e.moveTo(t,n),e.lineTo(t+i,n+r)}getNormalizedLineWidth(e){const t=e.width;return"dotted"===e.style||"dashed"===e.style?this.getDottedDashedLineWidth(t):t}getDottedDashedLineWidth(e){const t=Math.round(e);return 0!==t||this.epsilonEqual(0,t)?Math.max(1,t):1}epsilonEqual(e,t){return Math.abs(e-t)<1e-4}}i.DOT_SPACING_FACTOR=2,i.COLOR_SEGMENT_FACTOR=4,i.TRANSPARENT_SEGMENT_FACTOR=2},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(26),r=n(27),o=n(5),s=n(4);class a{constructor(e,t){this.lineRenderer=e,this.styleModifier=t,this.cornerRenderer=new i.a,this.sideRenderer=new r.a(e)}fillStroke(e,t,n,i,r,o,s,a){this.fill(e,t,r,o,a),this.strokeRectangle2(e,t,n,i,r,o,s)}strokeBasic(e,t,n,i){try{e.save(),e.strokeStyle=n;const r=s.a.round(t),{width:o,height:a}=s.a.getDimensions(r);this.lineRenderer.draw(e,{x:r.left,y:r.top,color:n,isHorizontal:!0,length:o,style:"solid",width:i}),this.lineRenderer.draw(e,{x:r.left,y:r.bottom-i,color:n,isHorizontal:!0,length:o,style:"solid",width:i}),this.lineRenderer.draw(e,{x:r.left,y:Math.floor(r.top+i),color:n,isHorizontal:!1,length:Math.ceil(a-2*i),style:"solid",width:i}),this.lineRenderer.draw(e,{x:r.right-i,y:Math.floor(r.top+i),color:n,isHorizontal:!1,length:Math.ceil(a-2*i),style:"solid",width:i})}finally{e.restore()}}strokeRectangle2(e,t,n,i,r,o,s){const a=[this.styleModifier.getLineWidthsFromStyle(n[0],i[0]),this.styleModifier.getLineWidthsFromStyle(n[1],i[1]),this.styleModifier.getLineWidthsFromStyle(n[2],i[2]),this.styleModifier.getLineWidthsFromStyle(n[3],i[3])],c=[...s],u=[...s],l=[0,0,0,0],h=[0,0,0,0];let d=!1;for(let e=0;e<4;++e)i[e]>0&&(this.getInternalRadius(e,a,r,o,l,h),this.getColors(e,n,s,c,u)),d=d||this.styleModifier.isStyleWithTwoLines(n[e]);if(this.stroke(e,t,n,i,r,o,c,a,!0),d){const i={left:t.left+a[1].externalLine+a[1].gap,top:t.top+a[0].externalLine+a[0].gap,right:t.right-a[3].externalLine-a[3].gap,bottom:t.bottom-a[2].externalLine-a[2].gap},r=[a[0].internalLine,a[1].internalLine,a[2].internalLine,a[3].internalLine];this.stroke(e,i,n,r,l,h,u,a,!1)}}getInternalRadius(e,t,n,i,r,o){const s=e<2?t[1].externalLine+t[1].gap:t[3].externalLine+t[3].gap,a=0==e||3==e?t[0].externalLine+t[0].gap:t[2].externalLine+t[2].gap;r[e]=Math.max(0,n[e]-s),o[e]=Math.max(0,i[e]-a)}getColors(e,t,n,i,r){const o=this.styleModifier.getColorModification(0,n[e]),s=this.styleModifier.getColorModification(1,n[e]);"inset"==t[e]?i[e]=e<2?s:o:"outset"==t[e]?i[e]=e<2?o:s:"groove"==t[e]?e<2?(i[e]=s,r[e]=o):(i[e]=o,r[e]=s):"ridge"==t[e]&&(e<2?(i[e]=o,r[e]=s):(i[e]=s,r[e]=o))}stroke(e,t,n,i,r,o,a,c,u){e.save();try{const l=s.a.round(t),h="unknown"==n[0]?0:i[0]/2,d="unknown"==n[1]?0:i[1]/2,f="unknown"==n[2]?0:i[2]/2,p="unknown"==n[3]?0:i[3]/2,g=new Array(4),v=new Array(4),m=new Array(4),y=new Array(4);y[0]=y[1]=y[2]=y[3]=!1,g[0]=0==r[0]?0:Math.max(r[0],i[1]),g[1]=0==r[1]?0:Math.max(r[1],i[1]),g[2]=0==r[2]?0:Math.max(r[2],i[3]),g[3]=0==r[3]?0:Math.max(r[3],i[3]),m[0]=Math.max(r[0],i[1]),m[1]=Math.max(r[1],i[1]),m[2]=Math.max(r[2],i[3]),m[3]=Math.max(r[3],i[3]),v[0]=Math.max(o[0],i[0]),v[1]=Math.max(o[1],i[2]),v[2]=Math.max(o[2],i[2]),v[3]=Math.max(o[3],i[0]);const w=u&&c[0].gap>0;w&&(e.save(),this.setRectContextClippingForExternalLine(e,0,t,c),e.clip()),h>0&&this.sideRenderer.drawSide(e,0,i,n,a,g,m,y,l,0,3),w&&e.restore();const b=u&&c[2].gap>0;b&&(e.save(),this.setRectContextClippingForExternalLine(e,2,t,c),e.clip()),f>0&&this.sideRenderer.drawSide(e,2,i,n,a,g,m,y,l,1,2),b&&e.restore();const _=u&&c[1].gap>0;_&&(e.save(),this.setRectContextClippingForExternalLine(e,1,t,c),e.clip()),d>0&&this.sideRenderer.drawSide(e,1,i,n,a,v,v,y,l,0,1),_&&e.restore();const k=u&&c[3].gap>0;let E,S,T,P,C,x;k&&(e.save(),this.setRectContextClippingForExternalLine(e,3,t,c),e.clip()),p>0&&this.sideRenderer.drawSide(e,3,i,n,a,v,v,y,l,3,2),k&&e.restore();for(let s=0;s<4;s++){const h=u&&c[s].gap>0;h&&this.clipCorner(e,s,t,c);const d=r[s],f=o[s];if(d+f>0||y[s]){T=s<2?i[1]:i[3],x=s<2?a[1]:a[3],E=s<2?l.left:l.right,P=0==s||3==s?i[0]:i[2],C=0==s||3==s?a[0]:a[2],S=0==s||3==s?l.top:l.bottom;const t=2==s||3==s?-1:1,r=1==s||2==s?-1:1;this.cornerRenderer.drawSolidCorner(e,{style:n[s],xBound:E,yBound:S,xRadius:d,yRadius:f,widthHorizontal:P,widthVertical:T,xFlip:t,yFlip:r,colorHorizontal:C,colorVertical:x})}h&&e.restore()}}finally{e.restore()}}clipCorner(e,t,n,i){switch(e.save(),t){case 0:this.setRectContextClippingForExternalLine(e,0,n,i),this.setRectContextClippingForExternalLine(e,1,n,i),e.clip();break;case 1:this.setRectContextClippingForExternalLine(e,1,n,i),this.setRectContextClippingForExternalLine(e,2,n,i),e.clip();break;case 2:this.setRectContextClippingForExternalLine(e,3,n,i),this.setRectContextClippingForExternalLine(e,2,n,i),e.clip();break;case 3:this.setRectContextClippingForExternalLine(e,0,n,i),this.setRectContextClippingForExternalLine(e,3,n,i),e.clip();break;default:throw new Error("Error trying to clip incorrect corner "+t)}}setRectContextClippingForExternalLine(e,t,n,i){switch(t){case 0:e.rect(n.left,n.top,n.right-n.left,i[0].externalLine);break;case 1:e.rect(n.left,n.top,i[1].externalLine,n.bottom-n.top);break;case 2:e.rect(n.left,n.bottom-i[2].externalLine,n.right-n.left,i[2].externalLine);break;case 3:e.rect(n.right-i[3].externalLine,n.top,i[3].externalLine,n.bottom-n.top);break;default:throw new Error("Error setting context to clip external line "+t)}}fill(e,t,n,i,r){if(r){e.save();try{const a=s.a.round(t),c=new o.a;c.moveTo(a.left+n[0],a.top),c.addEllipticalArc(a.left+n[0],a.top+i[0],n[0],i[0],270,180,!0),c.relativeLineTo(0,a.bottom-a.top-i[0]-i[1]),c.addEllipticalArc(a.left+n[1],a.bottom-i[1],n[1],i[1],180,90,!0),c.relativeLineTo(a.right-a.left-n[1]-n[2],0),c.addEllipticalArc(a.right-n[2],a.bottom-i[2],n[2],i[2],90,0,!0),c.relativeLineTo(0,-(a.bottom-a.top-i[2]-i[3])),c.addEllipticalArc(a.right-n[3],a.top+i[3],n[3],i[3],0,-90,!0),c.relativeLineTo(-(a.right-a.left-n[0]-n[3]),0),e.lineCap="butt",e.fillStyle=r,e.fill(c.build())}finally{e.restore()}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(5);class r{drawSolidCorner(e,t){const n=t.xFlip,r=t.yFlip,o=t.xRadius,s=t.yRadius,a=t.xBound,c=t.yBound;let u=r>0?270:90;e.lineCap="butt",e.fillStyle=t.colorHorizontal,e.beginPath();const l=o-t.widthVertical,h=s-t.widthHorizontal;let d=n*r<0,f=45;s>0&&(f=180*Math.atan(o/s)/Math.PI);let p=45;h>0&&(p=180*Math.atan(l/h)/Math.PI);let g=new i.a;l>0&&h>0?g.addEllipticalArc(a+o*n,c+s*r,l,h,u-p*n*r,u,d):(g.moveTo(a+t.widthVertical*n,c+t.widthHorizontal*r),l>0&&g.relativeLineTo(l*n,0));const v=Math.max(o,t.widthVertical);g.lineTo(a+v*n,c+t.widthHorizontal*r),g.relativeLineTo(0,-t.widthHorizontal*r),v>o&&g.relativeLineTo(-1*(v-o)*n,0),o>0&&s>0?g.addEllipticalArc(a+o*n,c+s*r,o,s,u,u-f*n*r,!d):g.lineTo(a,c),t.colorHorizontal!=t.colorVertical&&(g.closePath(),e.fill(g.build()),g=new i.a,e.lineCap="butt",e.fillStyle=t.colorVertical,e.beginPath()),u=n>0?180:0,d=n*r>0,l>0&&h>0?g.addEllipticalArc(a+o*n,c+s*r,l,h,u+(90-p)*n*r,u,d):(g.moveTo(a+t.widthVertical*n,c+t.widthHorizontal*r),l>0&&g.relativeLineTo(l*n,0));const m=Math.max(s,t.widthHorizontal);g.lineTo(a+t.widthVertical*n,c+m*r),g.relativeLineTo(-t.widthVertical*n,0),m>s&&g.relativeLineTo(0,-1*(m-s)*r),o>0&&s>0?g.addEllipticalArc(a+o*n,c+s*r,o,s,u,u+(90-f)*n*r,!d):g.lineTo(a,c),g.closePath(),e.fill(g.build())}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(8);class r{constructor(e){this.lineRenderer=e}drawSide(e,t,n,i,r,o,s,a,c,u,l){const h=n[t],d=i[t],f=r[t];let p,g;"dashed"===d||"dotted"===d?(p=o[u],g=p+o[l]):(p=s[u],g=p+s[l],a[t]=!0);const v=this.getLinesPropertiesFromBorderStyle(t,c,d,h,f,p,g);for(let t=0;t<v.length;++t)this.lineRenderer.draw(e,v[t])}getLinesPropertiesFromBorderStyle(e,t,n,r,o,s,a){const c=new Array,u={side:e,rectBounds:t,style:n,width:r,color:o,offSet:s,lengthAdjustment:a};let l,h,d,f;switch(e){case i.a.Top:l=!0,h=u.rectBounds.left+u.offSet,d=u.rectBounds.top,f=u.rectBounds.right-u.rectBounds.left-u.lengthAdjustment;break;case i.a.Left:l=!1,h=u.rectBounds.left,d=u.rectBounds.top+u.offSet,f=u.rectBounds.bottom-u.rectBounds.top-u.lengthAdjustment;break;case i.a.Bottom:l=!0,h=u.rectBounds.left+u.offSet,d=u.rectBounds.bottom-u.width,f=u.rectBounds.right-u.rectBounds.left-u.lengthAdjustment;break;case i.a.Right:l=!1,h=u.rectBounds.right-u.width,d=u.rectBounds.top+u.offSet,f=u.rectBounds.bottom-u.rectBounds.top-u.lengthAdjustment;break;default:throw new Error("Error getting side properties")}return c.push({isHorizontal:l,width:u.width,style:u.style,color:u.color,x:h,y:d,length:f}),c}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),r=n(3);class o{constructor(e){this.pixelRatio=e}static fromDocument(){const e=i.a.getPixelRatio(document.createElement("canvas"));return new o(e)}static withPixelRatio(e){return new o(e)}buildContext(e,t){const n=document.createElement("canvas");n.width=e*this.pixelRatio,n.height=t*this.pixelRatio,n.style.width=e+"px",n.style.height=t+"px";const i=n.getContext("2d",{alpha:!1});return Object(r.b)(i),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),i}buildOptimizedContext(e,t){if("undefined"==typeof OffscreenCanvas){const n=this.buildContext(e,t);return Object(r.b)(n),n}{const n=new OffscreenCanvas(e*this.pixelRatio,t*this.pixelRatio).getContext("2d",{alpha:!1});return Object(r.b)(n),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),n}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(7),r=n(9),o=n(10),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class a{constructor(e="localhost",t=8080){this.hostName=e,this.port=t}get(e,t,n,r){return s(this,void 0,void 0,(function*(){return n.type===i.b.Position?this.getByPositionId(e,t,n,r):this.getByPageIndex(e,t,n,r)}))}getByPageIndex(e,t,n,a){return s(this,void 0,void 0,(function*(){const t=new r.a(e,this.hostName,this.port);yield t.render(Object.assign(Object.assign({},a),{pageCount:n.direction===i.a.Backward?-n.pageCount:n.pageCount,pageIndex:n.pageIndex})),t.gotoPage(n.pageIndex);const s=new Array;for(let e=0;e<n.pageCount;e++){const e=t.getPage(),n=t.getLayoutPage(),i=t.getTokens(),r=t.getPanels();s.push(new o.a(t,e,n,i,r)),t.nextPage()}return s}))}getByPositionId(e,t,n,o){return s(this,void 0,void 0,(function*(){const t=new r.a(e,this.hostName,this.port);return yield t.render(Object.assign(Object.assign({},o),{pageCount:n.direction===i.a.Backward?-n.pageCount:n.pageCount,positionId:n.startPositionId})),a.adapt(n,t)}))}static adapt(e,t){const n=new Array,r=e.direction===i.a.Backward?e.skipPageCount-e.pageCount:e.skipPageCount;for(let e=0;e<r;e++)t.nextPage();for(let i=0;i<e.pageCount;i++){const e=t.getPage(),i=t.getLayoutPage(),r=t.getTokens(),s=t.getPanels();n.push(new o.a(t,e,i,r,s)),t.nextPage()}return n}}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{recordTimeMetrics(e,t){console.log("Emit time metric: "+e+": "+t+"ms")}recordCountMetrics(e,t){console.log("Emit count metric: "+e+": "+t)}}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(2);class r{constructor(e){this.metricsService=e}asyncExecuteMetrics(e,t){return function(e,t,n,i){return new(n||(n=Promise))((function(t,r){function o(e){try{a(i.next(e))}catch(e){r(e)}}function s(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(e){e(i)}))).then(o,s)}a((i=i.apply(e,[])).next())}))}(this,0,void 0,(function*(){const n=new Date;let r;try{return r=yield t(),r}catch(t){throw this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}`,1),t}finally{this.metricsService.recordTimeMetrics(`${e}:${i.a.EXECUTION}`,(new Date).getTime()-n.getTime()),r&&r instanceof Response&&this.handleNetworkErrors(e,r)}}))}syncExecuteMetrics(e,t){const n=new Date;let r;try{return r=t(),r}catch(t){throw this.recordCountMetrics(`${e}:${i.a.ERROR}`,1),t}finally{this.recordTimeMetrics(`${e}:${i.a.EXECUTION}`,(new Date).getTime()-n.getTime()),r&&r instanceof Response&&this.handleNetworkErrors(e,r)}}recordCountMetrics(e,t){this.metricsService.recordCountMetrics(e,t)}recordTimeMetrics(e,t){this.metricsService.recordTimeMetrics(e,t)}handleNetworkErrors(e,t){if(t.status&&!t.ok)switch(String(t.status)){case i.a.NETWORK_ERROR_BAD_REQUEST:this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}:${i.a.NETWORK_ERROR_BAD_REQUEST}`,1);break;case i.a.NETWORK_ERROR_NOT_FOUND:this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}:${i.a.NETWORK_ERROR_NOT_FOUND}`,1);break;case i.a.NETWORK_ERROR_SERVER_ERROR:this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}:${i.a.NETWORK_ERROR_SERVER_ERROR}`,1)}}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),r=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class o{constructor(){this.glyphCache=new Map,this.pixelRatio=2}clearCache(){this.glyphCache.clear()}setupApi(e){return{addFont:e.cwrap("addFont","boolean",["string","number","number"]),selectFont:e.cwrap("selectFont","boolean",["string"]),renderGlyph:e.cwrap("renderGlyph","boolean",["number"]),getGlyphRows:e.cwrap("getGlyphRows","number",[]),getGlyphWidth:e.cwrap("getGlyphWidth","number",[]),getGlyphPitch:e.cwrap("getGlyphPitch","number",[]),getGlyphFormat:e.cwrap("getGlyphFormat","number",[]),getGlyphBitmapLeft:e.cwrap("getGlyphBitmapLeft","number",[]),getGlyphBitmapTop:e.cwrap("getGlyphBitmapTop","number",[]),getGlyphBitmap:e.cwrap("getGlyphBitmap","number",[]),clearAllFonts:e.cwrap("clearAllFonts","number",[])}}init(){return this.loadingPromise||(this.loadingPromise=new Promise(((e,t)=>{try{this.wasmModule={},window.Module=this.wasmModule,this.wasmModule.onRuntimeInitialized=()=>{this.freeTypeApi=this.setupApi(this.wasmModule),e()};const t=document.createElement("script");t.type="text/javascript",t.src="freetype.js",document.head.append(t)}catch(e){t(e)}})).then((()=>this.loadFont()))),this.loadingPromise}loadFont(){return fetch("/Bookerly-Regular.ttf").then((e=>e.arrayBuffer())).then((e=>{const t=new Uint8Array(e),n=this.wasmModule._malloc(t.byteLength);if(this.wasmModule.HEAPU8.set(t,n),!this.freeTypeApi.addFont("Bookerly",n,t.byteLength))throw new Error('Failed to load font "Bookerly"');console.log("Font Bookerly loaded")}))}copyFreeTypeGlyphToCanvas(e,t,n,i){const r=this.getScratchCanvas(t,n),o=r.getContext("2d"),s=o.getImageData(0,0,t,n);for(let r=0;r<n;r++)for(let n=0;n<t;n++){const o=4*(r*t+n);s.data[o+0]=0,s.data[o+1]=0,s.data[o+2]=0,s.data[o+3]=Math.round((a=e[r*i+n]/255,Math.pow((1-a)*Math.pow(0,2)+a*Math.pow(255,2),.5)))}var a;return o.putImageData(s,0,0),r}render(e,t,n,o,s){return r(this,void 0,void 0,(function*(){return yield this.renderGlyph(e.context,Number(s.glyphId),s.fontSize,s.x,s.y),new i.a(0,0,0,0)}))}renderGlyph(e,t,n,i,o){return r(this,void 0,void 0,(function*(){this.freeTypeApi.selectFont("Bookerly");let r=Math.floor(i);const s=i-r;let a=Math.round(4*s),c=a/4;4==a&&(r++,a=0,c=0);let u=this.glyphCache.get(t);if(!u){if(document.getElementById("testdiv").offsetWidth,!this.freeTypeApi.renderGlyph(t,this.pixelRatio*n,440*this.pixelRatio,c,0))throw new Error("RenderGlyph failed: GID = "+t);const e=this.freeTypeApi.getGlyphRows(),i=this.freeTypeApi.getGlyphWidth(),r=this.freeTypeApi.getGlyphPitch(),o=this.freeTypeApi.getGlyphBitmapLeft(),s=this.freeTypeApi.getGlyphBitmapTop(),a=this.freeTypeApi.getGlyphBitmap();if(0==e||0==i)u={bitmap:void 0,bitmapLeft:0,bitmapTop:0,rows:0,width:0};else{const t=new Uint8Array(this.wasmModule.HEAPU8.subarray(a,a+r*e));u={bitmap:yield this.copyFreeTypeGlyphToCanvas(t,i,e,r),bitmapLeft:o/this.pixelRatio,bitmapTop:s/this.pixelRatio,rows:e/this.pixelRatio,width:i/this.pixelRatio}}this.glyphCache.set(t,u)}u&&u.bitmap&&e.drawImage(u.bitmap,r+u.bitmapLeft,Math.round(o)-u.bitmapTop,u.width,u.rows)}))}getScratchCanvas(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n.style.width=e+"px",n.style.height=t+"px",n.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),n}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(1),r=n(23),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e){this.options=e;const t=null!=e.canvasPoolSize&&e.canvasPoolSize>0?e.canvasPoolSize:s.MAX_POOL_SIZE;this.contextPool=new r.b((()=>{const e=this.options.canvasService.buildContext(this.options.pageWidth,this.options.pageHeight);return e.getImageData(0,0,1,1),e}),(e=>e.clearRect(0,0,e.canvas.width,e.canvas.height)),t)}updateSurfaceOptions(e){this.options.pageWidth==e.pageWidth&&this.options.pageHeight==e.pageHeight||this.contextPool.clear(),this.options=Object.assign(Object.assign({},this.options),e)}render(e){return o(this,void 0,void 0,(function*(){return this.renderInMainThread(e)}))}renderInMainThread(e){return o(this,void 0,void 0,(function*(){const t=yield this.contextPool.acquire();try{const n={context:t,bookProvider:e},r=yield this.options.pageRenderer.render(n);let o=this.options.pageHeight;if(1===this.options.navigationMode){const t=r.rect;o=Math.ceil(t.bottom),(yield e.getPage()).height=o}const s=yield e.getLayoutPage();this.adjustColumnRects(s.children,0);const a=this.createPageContainer(t.canvas.height,r.pageFillColor);if(this.options.mountPageCanvas)a.appendChild(t.canvas),this.convertCanvasInBackground(t,o);else{const e=yield i.a.canvasToImage(t.canvas,this.options.pageWidth,o);a.appendChild(e),this.contextPool.release(t)}return Object.assign(Object.assign({},r),{pageElement:a})}catch(e){throw console.error("An error occurred when trying to render the page",e),this.contextPool.release(t),e}}))}createPageContainer(e,t){const n=document.createElement("div");return n.className=e>=this.options.pageHeight?"kg-full-page-img":"kg-short-page-img",n.dataset.backgroundColor=t,n}convertCanvasInBackground(e,t){setTimeout((()=>o(this,void 0,void 0,(function*(){try{const n=yield i.a.canvasToImage(e.canvas,this.options.pageWidth,t);try{yield n.decode()}catch(e){console.error("image cannot be decoded",e)}e.canvas.replaceWith(n)}catch(e){console.error("An error occurred when converting the canvas into image",e)}finally{this.contextPool.release(e)}}))))}adjustColumnRects(e,t){for(let n=0;n<e.length;n++){const i=e[n];"column"===i.type&&(e[n]=this.adjustColumnRect(i,t))}}adjustColumnRect(e,t){const n=e.children;n&&this.adjustColumnRects(n,t);const i=Object.assign(Object.assign({},e.dimensions),{top:e.dimensions.top-t});return Object.assign(Object.assign({},e),{rect:i,children:n})}}s.MAX_POOL_SIZE=4},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(11),r=n(18),o=n(19),s=n(14),a=n(22),c=n(24),u=n(25),l=n(21),h=n(15);class d{static build(e,t){const n=new c.a,d=new h.a,f=new u.a(n,d),p=new s.a(Object.assign(Object.assign({},e),{rectRenderer:f,lineRenderer:n,styleModifier:d}),t),g=new r.a(e),v=new a.a(Object.assign(Object.assign({},e),{fontRender:g,decorationRenderer:p})),m=new o.a(Object.assign(Object.assign({},e),{rectRenderer:f}),t),y={run:v,image:m},w=new i.a({nodeRenderers:y,decorationRender:p},t),b={run:v,image:m,kvg:new l.a(w)};return new i.a({nodeRenderers:b,decorationRender:p},t)}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{static getHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}static getWidth(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}static determineDPI(){const e=document.createElement("div"),t=e.style;t.height="1in",t.left="-100%",t.position="absolute",t.top="-100%",t.height="1in",t.width="1in",document.body.append(e);const n=e.offsetHeight;return e.remove(),n}}},function(e,t,n){"use strict";n.r(t);var i=n(28);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o=n(29);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);var s=n(1);n.d(t,"TransformIndex",(function(){return s.b})),n.d(t,"CanvasUtils",(function(){return s.a}));var a=n(30);n.d(t,"DefaultCanvasService",(function(){return a.a}));var c=n(7);n.d(t,"Direction",(function(){return c.a})),n.d(t,"NavigationType",(function(){return c.b}));var u=n(9);n.d(t,"DevBookDataLoader",(function(){return u.a}));var l=n(10);n.d(t,"DevBookProviderAdapter",(function(){return l.a}));var h=n(31);n.d(t,"DevBookProviderFactory",(function(){return h.a}));var d=n(12);n.d(t,"ImageUnscrambler",(function(){return d.a}));var f=n(32);for(var r in f)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return f[e]}))}(r);var p=n(13);n.d(t,"InformativeError",(function(){return p.a}));var g=n(33);n.d(t,"ConsoleMetricsService",(function(){return g.a}));var v=n(2);n.d(t,"MetricsConstants",(function(){return v.a}));var m=n(34);for(var r in m)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return m[e]}))}(r);var y=n(35);n.d(t,"MetricsUtil",(function(){return y.a}));var w=n(14);n.d(t,"DecorationRenderer",(function(){return w.a}));var b=n(15);n.d(t,"DecorationStyleModifier",(function(){return b.a}));var _=n(0);n.d(t,"ContentBoundingBox",(function(){return _.a}));var k=n(16);n.d(t,"CanvasRenderingContext2DWrapper",(function(){return k.a}));var E=n(17);n.d(t,"PathBuilderContext2D",(function(){return E.a}));var S=n(4);n.d(t,"RectUtils",(function(){return S.a}));var T=n(36);for(var r in T)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return T[e]}))}(r);var P=n(5);n.d(t,"SvgBuilder",(function(){return P.a}));var C=n(18);n.d(t,"DefaultGlyphRenderer",(function(){return C.a}));var x=n(37);for(var r in x)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return x[e]}))}(r);var I=n(38);n.d(t,"FreeTypeGlyphRenderer",(function(){return I.a}));var R=n(39);for(var r in R)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return R[e]}))}(r);var O=n(40);for(var r in O)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return O[e]}))}(r);var A=n(19);n.d(t,"ImageRenderer",(function(){return A.a}));var $=n(21);n.d(t,"KVGRenderer",(function(){return $.a}));var L=n(41);for(var r in L)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer","ImageRenderer","KVGRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return L[e]}))}(r);var M=n(22);n.d(t,"RunRenderer",(function(){return M.a}));var j=n(42);n.d(t,"PageImageRenderer",(function(){return j.a}));var D=n(43);n.d(t,"PageRendererFactory",(function(){return D.a}));var N=n(11);n.d(t,"PageRenderer",(function(){return N.a}));var F=n(44);for(var r in F)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer","ImageRenderer","KVGRenderer","RunRenderer","PageImageRenderer","PageRendererFactory","PageRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return F[e]}))}(r);var B=n(24);n.d(t,"LineRenderer",(function(){return B.a}));var U=n(45);for(var r in U)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer","ImageRenderer","KVGRenderer","RunRenderer","PageImageRenderer","PageRendererFactory","PageRenderer","LineRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return U[e]}))}(r);var z=n(26);n.d(t,"RectCornerRenderer",(function(){return z.a}));var H=n(25);n.d(t,"RectRenderer",(function(){return H.a}));var V=n(8);n.d(t,"SidePosition",(function(){return V.a}));var G=n(27);n.d(t,"RectSideRenderer",(function(){return G.a}));var W=n(20);n.d(t,"shouldTriggerAntiMoireFilter",(function(){return W.a}));var q=n(6);n.d(t,"HSVtoRGB",(function(){return q.a})),n.d(t,"RGBtoHSV",(function(){return q.d})),n.d(t,"HexToRGBA",(function(){return q.b})),n.d(t,"RGBAToHexA",(function(){return q.c}));var Y=n(3);n.d(t,"assertIsDefined",(function(){return Y.b})),n.d(t,"assert",(function(){return Y.a}));var K=n(23);n.d(t,"ClearedPoolError",(function(){return K.a})),n.d(t,"Pool",(function(){return K.b}));var X=n(46);n.d(t,"WindowUtils",(function(){return X.a}))},function(e,t){null==CanvasRenderingContext2D.prototype.ellipse&&(CanvasRenderingContext2D.prototype.ellipse=function(e,t,n,i,r,o,s,a){this.save(),this.translate(e,t),this.rotate(r),this.scale(n,i),this.arc(0,0,1,o,s,a),this.restore()}),"function"==typeof Path2D&&"function"==typeof(new Path2D).addPath||function(){function e(e){if(this.ops_=[],null!=e)if("string"==typeof e)try{this.ops_=parser.parse(e)}catch(e){}else{if(!e.hasOwnProperty("ops_"))throw"Error: "+typeof e+"is not a valid argument to Path";this.ops_=e.ops_.slice(0)}}parser=function(){function e(e,t,n,i,r,o){this.message=e,this.expected=t,this.found=n,this.offset=i,this.line=r,this.column=o,this.name="SyntaxError"}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,i=arguments.length>1?arguments[1]:{},r={},o={svg_path:be},s=be,a=r,c=null,u=function(e){return ct},l=/^[Mm]/,h={type:"class",value:"[Mm]",description:"[Mm]"},d=function(e,t){var n=e;ut&&(n="M",ut=!1),ct.push({type:"moveTo",args:dt(n,t[0])});for(var i=1;i<t.length;i++)ct.push({type:"lineTo",args:dt(e,t[i])})},f=function(e,t){return mt(e,t)},p=/^[Zz]/,g={type:"class",value:"[Zz]",description:"[Zz]"},v=function(){ct.push({type:"closePath",args:[]})},m=/^[Ll]/,y={type:"class",value:"[Ll]",description:"[Ll]"},w=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"lineTo",args:dt(e,t[n])})},b=/^[Hh]/,_={type:"class",value:"[Hh]",description:"[Hh]"},k=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"lineTo",args:gt(e,t[n])})},E=/^[Vv]/,S={type:"class",value:"[Vv]",description:"[Vv]"},T=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"lineTo",args:vt(e,t[n])})},P=/^[Cc]/,C={type:"class",value:"[Cc]",description:"[Cc]"},x=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"bezierCurveTo",args:ft(e,t[n])})},I=function(e,t,n){return e.concat(t,n)},R=/^[Ss]/,O={type:"class",value:"[Ss]",description:"[Ss]"},A=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"bezierCurveTo",args:pt().concat(ft(e,t[n]))})},$=function(e,t){return e.concat(t)},L=/^[Qq]/,M={type:"class",value:"[Qq]",description:"[Qq]"},j=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"quadraticCurveTo",args:ft(e,t[n])})},D=/^[Tt]/,N={type:"class",value:"[Tt]",description:"[Tt]"},F=function(e,t){for(var n=0;n<t.length;n++){var i=pt();ct.push({type:"quadraticCurveTo",args:i.concat(ft(e,t[n]))}),at=i.slice(0)}},B=/^[Aa]/,U={type:"class",value:"[Aa]",description:"[Aa]"},z=function(e,t){for(var n=0;n<t.length;n++){var i=[st.slice()],r=[dt(e,t[n].slice(-2))];absArgs=i.concat(t[n].slice(0,-2),r),Rt.apply(this,absArgs)}},H=function(e,t,n,i,r,o){return[parseFloat(e),parseFloat(t),parseFloat(ht(n).join("")),parseInt(i),parseInt(r),o[0],o[1]]},V=function(e,t){return[e,t]},G=function(e){return parseFloat(ht(e).join(""))},W="0",q={type:"literal",value:"0",description:'"0"'},Y="1",K={type:"literal",value:"1",description:'"1"'},X=",",Z={type:"literal",value:",",description:'","'},J=".",Q={type:"literal",value:".",description:'"."'},ee=/^[eE]/,te={type:"class",value:"[eE]",description:"[eE]"},ne="+",ie={type:"literal",value:"+",description:'"+"'},re="-",oe={type:"literal",value:"-",description:'"-"'},se=/^[0-9]/,ae={type:"class",value:"[0-9]",description:"[0-9]"},ce=function(e){return e.join("")},ue=/^[ \t\n\r]/,le={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},he=0,de=0,fe={line:1,column:1,seenCR:!1},pe=0,ge=[],ve=0;if("startRule"in i){if(!(i.startRule in o))throw new Error("Can't start parsing from rule \""+i.startRule+'".');s=o[i.startRule]}function me(e){return de!==e&&(de>e&&(de=0,fe={line:1,column:1,seenCR:!1}),function(e,n,i){var r,o;for(r=n;r<i;r++)"\n"===(o=t.charAt(r))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(fe,de,e),de=e),fe}function ye(e){he<pe||(he>pe&&(pe=he,ge=[]),ge.push(e))}function we(n,i,r){var o=me(r),s=r<t.length?t.charAt(r):null;return null!==i&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(i),new e(null!==n?n:function(e,t){var n,i=new Array(e.length);for(n=0;n<e.length;n++)i[n]=e[n].description;return"Expected "+(e.length>1?i.slice(0,-1).join(", ")+" or "+i[e.length-1]:i[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(i,s),i,s,r,o.line,o.column)}function be(){var e,t,n,i,o;for(e=he,t=[],n=ot();n!==r;)t.push(n),n=ot();if(t!==r)if((n=_e())===r&&(n=c),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r?e=t=u(n):(he=e,e=a)}else he=e,e=a;else he=e,e=a;return e}function _e(){var e,t,n,i,o;if(e=he,(t=ke())!==r){for(n=he,i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=_e())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function ke(){var e,t,n,i,o;if(e=he,(t=Te())!==r){for(n=he,i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ee())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function Ee(){var e,t,n,i,o;if(e=he,(t=Se())!==r){for(n=he,i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ee())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function Se(){var e;return(e=Ce())===r&&(e=xe())===r&&(e=Re())===r&&(e=Ae())===r&&(e=$e())===r&&(e=je())===r&&(e=Fe())===r&&(e=ze())===r&&(e=Ve()),e}function Te(){var e,n,i,o;if(e=he,l.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(h)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Pe())!==r?e=n=d(n,o):(he=e,e=a)}else he=e,e=a;return e}function Pe(){var e,t,n,i,o;return e=he,(t=qe())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Ie())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ce(){var e;return p.test(t.charAt(he))?(e=t.charAt(he),he++):(e=r,0===ve&&ye(g)),e!==r&&(e=v()),e}function xe(){var e,n,i,o;if(e=he,m.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(y)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ie())!==r?e=n=w(n,o):(he=e,e=a)}else he=e,e=a;return e}function Ie(){var e,t,n,i,o;return e=he,(t=qe())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Ie())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Re(){var e,n,i,o;if(e=he,b.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(_)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Oe())!==r?e=n=k(n,o):(he=e,e=a)}else he=e,e=a;return e}function Oe(){var e,t,n,i,o;return e=he,(t=Ye())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Oe())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ae(){var e,n,i,o;if(e=he,E.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(S)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Oe())!==r?e=n=T(n,o):(he=e,e=a)}else he=e,e=a;return e}function $e(){var e,n,i,o;if(e=he,P.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(C)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Le())!==r?e=n=x(n,o):(he=e,e=a)}else he=e,e=a;return e}function Le(){var e,t,n,i,o;return e=he,(t=Me())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Le())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Me(){var e,t,n,i,o,s;return e=he,(t=qe())!==r?((n=Je())===r&&(n=c),n!==r&&(i=qe())!==r?((o=Je())===r&&(o=c),o!==r&&(s=qe())!==r?e=t=I(t,i,s):(he=e,e=a)):(he=e,e=a)):(he=e,e=a),e}function je(){var e,n,i,o;if(e=he,R.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(O)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=De())!==r?e=n=A(n,o):(he=e,e=a)}else he=e,e=a;return e}function De(){var e,t,n,i,o;return e=he,(t=Ne())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=De())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ne(){var e,t,n,i;return e=he,(t=qe())!==r?((n=Je())===r&&(n=c),n!==r&&(i=qe())!==r?e=t=$(t,i):(he=e,e=a)):(he=e,e=a),e}function Fe(){var e,n,i,o;if(e=he,L.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(M)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Be())!==r?e=n=j(n,o):(he=e,e=a)}else he=e,e=a;return e}function Be(){var e,t,n,i,o;return e=he,(t=Ue())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Be())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ue(){var e,t,n,i;return e=he,(t=qe())!==r?((n=Je())===r&&(n=c),n!==r&&(i=qe())!==r?e=t=$(t,i):(he=e,e=a)):(he=e,e=a),e}function ze(){var e,n,i,o;if(e=he,D.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(N)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=He())!==r?e=n=F(n,o):(he=e,e=a)}else he=e,e=a;return e}function He(){var e,t,n,i,o;return e=he,(t=qe())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=He())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ve(){var e,n,i,o;if(e=he,B.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(U)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ge())!==r?e=n=z(n,o):(he=e,e=a)}else he=e,e=a;return e}function Ge(){var e,t,n,i,o;return e=he,(t=We())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Ge())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function We(){var e,t,n,i,o,s,u,l,h,d,f;return e=he,(t=Ke())!==r?((n=Je())===r&&(n=c),n!==r&&(i=Ke())!==r?((o=Je())===r&&(o=c),o!==r&&(s=Xe())!==r&&Je()!==r&&(u=Ze())!==r?((l=Je())===r&&(l=c),l!==r&&(h=Ze())!==r?((d=Je())===r&&(d=c),d!==r&&(f=qe())!==r?e=t=H(t,i,s,u,h,f):(he=e,e=a)):(he=e,e=a)):(he=e,e=a)):(he=e,e=a)):(he=e,e=a),e}function qe(){var e,t,n,i;return e=he,(t=Ye())!==r?((n=Je())===r&&(n=c),n!==r&&(i=Ye())!==r?e=t=V(t,i):(he=e,e=a)):(he=e,e=a),e}function Ye(){var e;return(e=Xe())!==r&&(e=G(e)),e}function Ke(){var e;return(e=et())===r&&(e=rt()),e}function Xe(){var e,t,n;return e=he,(t=it())===r&&(t=c),t!==r&&(n=et())!==r?e=t=[t,n]:(he=e,e=a),e===r&&(e=he,(t=it())===r&&(t=c),t!==r&&(n=rt())!==r?e=t=[t,n]:(he=e,e=a)),e}function Ze(){var e;return 48===t.charCodeAt(he)?(e=W,he++):(e=r,0===ve&&ye(q)),e===r&&(49===t.charCodeAt(he)?(e=Y,he++):(e=r,0===ve&&ye(K))),e}function Je(){var e,t,n,i,o;if(e=he,t=[],(n=ot())!==r)for(;n!==r;)t.push(n),n=ot();else t=a;if(t!==r)if((n=Qe())===r&&(n=c),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r?e=t=[t,n,i]:(he=e,e=a)}else he=e,e=a;else he=e,e=a;if(e===r)if(e=he,(t=Qe())!==r){for(n=[],i=ot();i!==r;)n.push(i),i=ot();n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function Qe(){var e;return 44===t.charCodeAt(he)?(e=X,he++):(e=r,0===ve&&ye(Z)),e}function et(){var e,t,n;return e=he,(t=tt())!==r?((n=nt())===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)):(he=e,e=a),e===r&&(e=he,(t=rt())!==r&&(n=nt())!==r?e=t=[t,n]:(he=e,e=a)),e}function tt(){var e,n,i,o;return e=he,(n=rt())===r&&(n=c),n!==r?(46===t.charCodeAt(he)?(i=J,he++):(i=r,0===ve&&ye(Q)),i!==r&&(o=rt())!==r?e=n=[n,i,o]:(he=e,e=a)):(he=e,e=a),e===r&&(e=he,(n=rt())!==r?(46===t.charCodeAt(he)?(i=J,he++):(i=r,0===ve&&ye(Q)),i!==r?e=n=[n,i]:(he=e,e=a)):(he=e,e=a)),e}function nt(){var e,n,i,o;return e=he,ee.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(te)),n!==r?((i=it())===r&&(i=c),i!==r&&(o=rt())!==r?e=n=[n,i,o]:(he=e,e=a)):(he=e,e=a),e}function it(){var e;return 43===t.charCodeAt(he)?(e=ne,he++):(e=r,0===ve&&ye(ie)),e===r&&(45===t.charCodeAt(he)?(e=re,he++):(e=r,0===ve&&ye(oe))),e}function rt(){var e,n;if(e=[],se.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(ae)),n!==r)for(;n!==r;)e.push(n),se.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(ae));else e=a;return e!==r&&(e=ce(e)),e}function ot(){var e;return ue.test(t.charAt(he))?(e=t.charAt(he),he++):(e=r,0===ve&&ye(le)),e}var st=[0,0],at=[0,0],ct=[],ut=!0,lt="";function ht(e){for(var t=[],n=0;n<e.length;n++)e[n]instanceof Array?t.push.apply(t,ht(e[n])):t.push(e[n]);return t}function dt(e,t){return-1==="mlazhvcsqt".indexOf(e)?st=t:(st[0]+=t[0],st[1]+=t[1]),lt=e,st.slice(0)}function ft(e,t){for(var n=[],i=st.slice(0),r=0;r<t.length;r+=2){st=i.slice(0);var o=dt(e,t.slice(r,r+2));n=n.concat(o),r==t.length-4&&(at=o.slice(0))}return n}function pt(){-1=="CcSsQqTt".indexOf(lt)&&(at=st.slice(0));var e=[0,0];return e[0]=2*st[0]-at[0],e[1]=2*st[1]-at[1],e}function gt(e,t){var n=[t,0];return"H"==e&&(n[1]=st[1]),dt(e,n)}function vt(e,t){var n=[0,t];return"V"==e&&(n[0]=st[0]),dt(e,n)}function mt(e,t){var n=[e];if(t&&t.length>1)for(var i=t[1],r=0;r<i.length;r++)n.push(i[r]);return n}function yt(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function wt(e,t){return e[0]*t[0]+e[1]*t[1]}function bt(e,t){return wt(e,t)/(yt(e)*yt(t))}function _t(e,t,n){return Math.min(Math.max(e,t),n)}function kt(e,t){var n=1;return e[0]*t[1]-e[1]*t[0]<0&&(n=-1),n*Math.acos(_t(bt(e,t),-1,1))}function Et(e,t){var n=Math.cos(t),i=Math.sin(t);return[n*e[0]+i*e[1],-1*i*e[0]+n*e[1]]}function St(e,t){var n=Math.cos(t),i=Math.sin(t);return[n*e[0]-i*e[1],i*e[0]+n*e[1]]}function Tt(e,t){return[(e[0]-t[0])/2,(e[1]-t[1])/2]}function Pt(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}function Ct(e,t){return[e[0]*t[0],e[1]*t[1]]}function xt(e,t){return[e*t[0],e*t[1]]}function It(e,t){return[e[0]+t[0],e[1]+t[1]]}function Rt(e,t,n,i,r,o,s){if(0!=t&&0!=n){i*=Math.PI/180,t=Math.abs(t),n=Math.abs(n);var a=Et(Tt(e,s),i),c=Ct(a,a),u=Math.pow(t,2),l=Math.pow(n,2),h=Math.sqrt(c[0]/u+c[1]/l);h>1&&(t*=h,n*=h,u=Math.pow(t,2),l=Math.pow(n,2));var d=Math.sqrt(Math.abs(u*l-u*c[1]-l*c[0])/(u*c[1]+l*c[0]));r==o&&(d*=-1);var f=xt(d,[t*a[1]/n,-n*a[0]/t]),p=It(St(f,i),Pt(e,s)),g=[(a[0]-f[0])/t,(a[1]-f[1])/n],v=[(-1*a[0]-f[0])/t,(-1*a[1]-f[1])/n],m=kt([1,0],g),y=m,w=m+kt(g,v);ct.push({type:"save",args:[]},{type:"translate",args:[p[0],p[1]]},{type:"rotate",args:[i]},{type:"scale",args:[t,n]},{type:"arc",args:[0,0,1,y,w,1-o]},{type:"restore",args:[]})}else ct.push({type:"lineTo",args:s})}if((n=s())!==r&&he===t.length)return n;throw n!==r&&he<t.length&&ye({type:"end",description:"end of input"}),we(null,ge,pe)}}}();var t=["closePath","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","rect","arc","arcTo","ellipse","isPointInPath","isPointInStroke"];function n(e){return function(){this.ops_.push({type:e,args:Array.prototype.slice.call(arguments,0)})}}for(var i=0;i<t.length;i++){var r=t[i];e.prototype[r]=n(r)}e.prototype.addPath=function(e,t){var n=!1;t&&null!=t.a&&null!=t.b&&null!=t.c&&null!=t.d&&null!=t.e&&null!=t.f&&(n=!0,this.ops_.push({type:"save",args:[]}),this.ops_.push({type:"transform",args:[t.a,t.b,t.c,t.d,t.e,t.f]})),this.ops_=this.ops_.concat(e.ops_),n&&this.ops_.push({type:"restore",args:[]})},original_fill=CanvasRenderingContext2D.prototype.fill,original_stroke=CanvasRenderingContext2D.prototype.stroke,original_clip=CanvasRenderingContext2D.prototype.clip,original_is_point_in_path=CanvasRenderingContext2D.prototype.isPointInPath,original_is_point_in_stroke=CanvasRenderingContext2D.prototype.isPointInStroke,CanvasRenderingContext2D.prototype.fill=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}original_fill.apply(this,Array.prototype.slice.call(arguments,1))}else original_fill.apply(this,arguments)},CanvasRenderingContext2D.prototype.stroke=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}original_stroke.call(this)}else original_stroke.call(this)},CanvasRenderingContext2D.prototype.clip=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}original_clip.apply(this,Array.prototype.slice.call(arguments,1))}else original_clip.apply(this,arguments)},CanvasRenderingContext2D.prototype.isPointInPath=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}return original_is_point_in_path.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_path.apply(this,arguments)},CanvasRenderingContext2D.prototype.isPointInStroke=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}return original_is_point_in_stroke.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_stroke.apply(this,arguments)},Path2D=e}()}])},module.exports=e()},94911:function(e,t,n){"use strict";var i=n(84332),r=n(15126),o=n(79213),s=n(53369),a=n(81581),c=e.exports=function(e,t){var n,r,c,u,l;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],i(e)?(n=a.call(e,"c"),r=a.call(e,"e"),c=a.call(e,"w")):(n=c=!0,r=!1),l={value:t,configurable:n,enumerable:r,writable:c},u?o(s(u),l):l};c.gs=function(e,t,n){var c,u,l,h;return"string"!=typeof e?(l=n,n=t,t=e,e=null):l=arguments[3],i(t)?r(t)?i(n)?r(n)||(l=n,n=void 0):n=void 0:(l=t,t=n=void 0):t=void 0,i(e)?(c=a.call(e,"c"),u=a.call(e,"e")):(c=!0,u=!1),h={get:t,set:n,configurable:c,enumerable:u},l?o(s(l),h):h}},96162:function(e,t,n){"use strict";var i=n(69972),r=n(72068),o=n(19875),s=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,c=Math.abs,u=Math.floor;e.exports=function(e){var t,n,l,h;if(!i(e))return s.apply(this,arguments);for(n=r(o(this).length),l=arguments[1],t=l=isNaN(l)?0:l>=0?u(l):r(this.length)-u(c(l));t<n;++t)if(a.call(this,t)&&(h=this[t],i(h)))return t;return-1}},40389:function(e,t,n){"use strict";e.exports=n(21612)()?Array.from:n(10466)},21612:function(e){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},10466:function(e,t,n){"use strict";var i=n(18726).iterator,r=n(30025),o=n(95143),s=n(72068),a=n(22050),c=n(19875),u=n(10676),l=n(16068),h=Array.isArray,d=Function.prototype.call,f={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;e.exports=function(e){var t,n,g,v,m,y,w,b,_,k,E=arguments[1],S=arguments[2];if(e=Object(c(e)),u(E)&&a(E),this&&this!==Array&&o(this))t=this;else{if(!E){if(r(e))return 1!==(m=e.length)?Array.apply(null,e):((v=new Array(1))[0]=e[0],v);if(h(e)){for(v=new Array(m=e.length),n=0;n<m;++n)v[n]=e[n];return v}}v=[]}if(!h(e))if(void 0!==(_=e[i])){for(w=a(_).call(e),t&&(v=new t),b=w.next(),n=0;!b.done;)k=E?d.call(E,S,b.value,n):b.value,t?(f.value=k,p(v,n,f)):v[n]=k,b=w.next(),++n;m=n}else if(l(e)){for(m=e.length,t&&(v=new t),n=0,g=0;n<m;++n)k=e[n],n+1<m&&(y=k.charCodeAt(0))>=55296&&y<=56319&&(k+=e[++n]),k=E?d.call(E,S,k,g):k,t?(f.value=k,p(v,g,f)):v[g]=k,++g;m=g}if(void 0===m)for(m=s(e.length),t&&(v=new t(m)),n=0;n<m;++n)k=E?d.call(E,S,e[n],n):e[n],t?(f.value=k,p(v,n,f)):v[n]=k;return t&&(f.value=null,v.length=m),v}},86228:function(e,t,n){"use strict";var i=n(40389),r=Array.isArray;e.exports=function(e){return r(e)?e:i(e)}},88968:function(e,t,n){"use strict";var i=n(79213),r=n(82802),o=n(10676),s=Error.captureStackTrace;e.exports=function(t){var n=new Error(t),a=arguments[1],c=arguments[2];return o(c)||r(a)&&(c=a,a=null),o(c)&&i(n,c),o(a)&&(n.code=a),s&&s(n,e.exports),n}},82828:function(e,t,n){"use strict";var i,r,o,s,a,c=n(72068),u=function(e,t){return t};try{Object.defineProperty(u,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(e){}1===u.length?(i={configurable:!0,writable:!1,enumerable:!1},r=Object.defineProperty,e.exports=function(e,t){return t=c(t),e.length===t?e:(i.value=t,r(e,"length",i))}):(s=n(45987),a=[],o=function(e){var t,n=0;if(a[e])return a[e];for(t=[];e--;)t.push("a"+(++n).toString(36));return new Function("fn","return function ("+t.join(", ")+") { return fn.apply(this, arguments); };")},e.exports=function(e,t){var n;if(t=c(t),e.length===t)return e;n=o(t)(e);try{s(n,e)}catch(e){}return n})},30025:function(e){"use strict";var t=Object.prototype.toString,n=t.call(function(){return arguments}());e.exports=function(e){return t.call(e)===n}},95143:function(e){"use strict";var t=Object.prototype.toString,n=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(e){return"function"==typeof e&&n(t.call(e))}},29384:function(e){"use strict";e.exports=function(){}},19014:function(e,t,n){"use strict";e.exports=n(72960)()?Math.sign:n(64534)},72960:function(e){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},64534:function(e){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},69972:function(e,t,n){"use strict";e.exports=n(33655)()?Number.isNaN:n(42995)},33655:function(e){"use strict";e.exports=function(){var e=Number.isNaN;return"function"==typeof e&&!e({})&&e(NaN)&&!e(34)}},42995:function(e){"use strict";e.exports=function(e){return e!=e}},77247:function(e,t,n){"use strict";var i=n(19014),r=Math.abs,o=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?i(e)*o(r(e)):e}},72068:function(e,t,n){"use strict";var i=n(77247),r=Math.max;e.exports=function(e){return r(0,i(e))}},9688:function(e,t,n){"use strict";var i=n(22050),r=n(19875),o=Function.prototype.bind,s=Function.prototype.call,a=Object.keys,c=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,u){var l,h=arguments[2],d=arguments[3];return n=Object(r(n)),i(u),l=a(n),d&&l.sort("function"==typeof d?o.call(d,n):void 0),"function"!=typeof e&&(e=l[e]),s.call(e,l,(function(e,i){return c.call(n,e)?s.call(u,h,n[e],e,n,i):t}))}}},79213:function(e,t,n){"use strict";e.exports=n(36901)()?Object.assign:n(28611)},36901:function(e){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},28611:function(e,t,n){"use strict";var i=n(49785),r=n(19875),o=Math.max;e.exports=function(e,t){var n,s,a,c=o(arguments.length,2);for(e=Object(r(e)),a=function(i){try{e[i]=t[i]}catch(e){n||(n=e)}},s=1;s<c;++s)i(t=arguments[s]).forEach(a);if(void 0!==n)throw n;return e}},96411:function(e,t,n){"use strict";e.exports=n(9688)("forEach")},32270:function(e){"use strict";e.exports=function(e){return"function"==typeof e}},82802:function(e,t,n){"use strict";var i=n(10676),r={function:!0,object:!0};e.exports=function(e){return i(e)&&r[typeof e]||!1}},10676:function(e,t,n){"use strict";var i=n(29384)();e.exports=function(e){return e!==i&&null!==e}},49785:function(e,t,n){"use strict";e.exports=n(40497)()?Object.keys:n(47366)},40497:function(e){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},47366:function(e,t,n){"use strict";var i=n(10676),r=Object.keys;e.exports=function(e){return r(i(e)?Object(e):e)}},65694:function(e,t,n){"use strict";var i=n(22050),r=n(96411),o=Function.prototype.call;e.exports=function(e,t){var n={},s=arguments[2];return i(t),r(e,(function(e,i,r,a){n[i]=o.call(t,s,e,i,r,a)})),n}},45987:function(e,t,n){"use strict";var i=n(19875),r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;e.exports=function(e,t){var n,c=Object(i(t));if(e=Object(i(e)),s(c).forEach((function(i){try{r(e,i,o(t,i))}catch(e){n=e}})),"function"==typeof a&&a(c).forEach((function(i){try{r(e,i,o(t,i))}catch(e){n=e}})),void 0!==n)throw n;return e}},53369:function(e,t,n){"use strict";var i=n(10676),r=Array.prototype.forEach,o=Object.create,s=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=o(null);return r.call(arguments,(function(e){i(e)&&s(Object(e),t)})),t}},25588:function(e){"use strict";var t=Array.prototype.forEach,n=Object.create;e.exports=function(e){var i=n(null);return t.call(arguments,(function(e){i[e]=!0})),i}},22050:function(e){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},19875:function(e,t,n){"use strict";var i=n(10676);e.exports=function(e){if(!i(e))throw new TypeError("Cannot use null or undefined");return e}},4289:function(e,t,n){"use strict";var i=n(19875),r=n(56434);e.exports=function(e){return r(i(e))}},56434:function(e,t,n){"use strict";var i=n(32270);e.exports=function(e){try{return e&&i(e.toString)?e.toString():String(e)}catch(e){throw new TypeError("Passed argument cannot be stringifed")}}},20638:function(e,t,n){"use strict";var i=n(32270);e.exports=function(e){try{return e&&i(e.toString)?e.toString():String(e)}catch(e){return"<Non-coercible to string value>"}}},81581:function(e,t,n){"use strict";e.exports=n(3432)()?String.prototype.contains:n(37045)},3432:function(e){"use strict";var t="razdwatrzy";e.exports=function(){return"function"==typeof t.contains&&!0===t.contains("dwa")&&!1===t.contains("foo")}},37045:function(e){"use strict";var t=String.prototype.indexOf;e.exports=function(e){return t.call(this,e,arguments[1])>-1}},16068:function(e){"use strict";var t=Object.prototype.toString,n=t.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||t.call(e)===n)||!1}},29923:function(e,t,n){"use strict";var i=n(20638),r=/[\n\r\u2028\u2029]/g;e.exports=function(e){var t=i(e);return t.length>100&&(t=t.slice(0,99)+"…"),t.replace(r,(function(e){return JSON.stringify(e).slice(1,-1)}))}},18726:function(e,t,n){"use strict";e.exports=n(34908)()?n(36881).Symbol:n(66146)},34908:function(e,t,n){"use strict";var i=n(36881),r={object:!0,symbol:!0};e.exports=function(){var e,t=i.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof t.iterator]&&!!r[typeof t.toPrimitive]&&!!r[typeof t.toStringTag]}},70450:function(e){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},20714:function(e,t,n){"use strict";var i=n(94911),r=Object.create,o=Object.defineProperty,s=Object.prototype,a=r(null);e.exports=function(e){for(var t,n,r=0;a[e+(r||"")];)++r;return a[e+=r||""]=!0,o(s,t="@@"+e,i.gs(null,(function(e){n||(n=!0,o(this,t,i(e)),n=!1)}))),t}},5170:function(e,t,n){"use strict";var i=n(94911),r=n(36881).Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:i("",r&&r.hasInstance||e("hasInstance")),isConcatSpreadable:i("",r&&r.isConcatSpreadable||e("isConcatSpreadable")),iterator:i("",r&&r.iterator||e("iterator")),match:i("",r&&r.match||e("match")),replace:i("",r&&r.replace||e("replace")),search:i("",r&&r.search||e("search")),species:i("",r&&r.species||e("species")),split:i("",r&&r.split||e("split")),toPrimitive:i("",r&&r.toPrimitive||e("toPrimitive")),toStringTag:i("",r&&r.toStringTag||e("toStringTag")),unscopables:i("",r&&r.unscopables||e("unscopables"))})}},31155:function(e,t,n){"use strict";var i=n(94911),r=n(39124),o=Object.create(null);e.exports=function(e){return Object.defineProperties(e,{for:i((function(t){return o[t]?o[t]:o[t]=e(String(t))})),keyFor:i((function(e){var t;for(t in r(e),o)if(o[t]===e)return t}))})}},66146:function(e,t,n){"use strict";var i,r,o,s=n(94911),a=n(39124),c=n(36881).Symbol,u=n(20714),l=n(5170),h=n(31155),d=Object.create,f=Object.defineProperties,p=Object.defineProperty;if("function"==typeof c)try{String(c()),o=!0}catch(e){}else c=null;r=function(e){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return i(e)},e.exports=i=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?c(t):(n=d(r.prototype),t=void 0===t?"":String(t),f(n,{__description__:s("",t),__name__:s("",u(t))}))},l(i),h(i),f(r.prototype,{constructor:s(i),toString:s("",(function(){return this.__name__}))}),f(i.prototype,{toString:s((function(){return"Symbol ("+a(this).__description__+")"})),valueOf:s((function(){return a(this)}))}),p(i.prototype,i.toPrimitive,s("",(function(){var e=a(this);return"symbol"==typeof e?e:e.toString()}))),p(i.prototype,i.toStringTag,s("c","Symbol")),p(r.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),p(r.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},39124:function(e,t,n){"use strict";var i=n(70450);e.exports=function(e){if(!i(e))throw new TypeError(e+" is not a symbol");return e}},93083:function(e,t,n){"use strict";var i,r,o,s,a,c,u,l=n(94911),h=n(22050),d=Function.prototype.apply,f=Function.prototype.call,p=Object.create,g=Object.defineProperty,v=Object.defineProperties,m=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n,r;return h(t),r=this,i.call(this,e,n=function(){o.call(r,e,n),d.call(t,this,arguments)}),n.__eeOnceListener__=t,this},s=function(e){var t,n,i,r,o;if(m.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"==typeof r){for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];for(r=r.slice(),t=0;i=r[t];++t)d.call(i,this,o)}else switch(arguments.length){case 1:f.call(r,this);break;case 2:f.call(r,this,arguments[1]);break;case 3:f.call(r,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];d.call(r,this,o)}},a={on:i=function(e,t){var n;return h(t),m.call(this,"__ee__")?n=this.__ee__:(n=y.value=p(null),g(this,"__ee__",y),y.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:r,off:o=function(e,t){var n,i,r,o;if(h(t),!m.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==typeof(i=n[e]))for(o=0;r=i[o];++o)r!==t&&r.__eeOnceListener__!==t||(2===i.length?n[e]=i[o?0:1]:i.splice(o,1));else i!==t&&i.__eeOnceListener__!==t||delete n[e];return this},emit:s},c={on:l(i),once:l(r),off:l(o),emit:l(s)},u=v({},c),e.exports=t=function(e){return null==e?p(u):v(Object(e),c)},t.methods=a},98473:function(e){var t=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},36881:function(e,t,n){"use strict";e.exports=n(67952)()?globalThis:n(98473)},67952:function(e){"use strict";e.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},15616:function(e,t,n){var i;!function(r,o,s,a){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h=Math.round,d=Math.abs,f=Date.now;function p(e,t,n){return setTimeout(_(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==a)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function m(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var y=m((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===a)&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),w=m((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function b(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&c(i,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function k(e,t){return"function"==typeof e?e.apply(t&&t[0]||a,t):e}function E(e,t){return e===a?t:e}function S(e,t,n){v(x(t),(function(t){e.addEventListener(t,n,!1)}))}function T(e,t,n){v(x(t),(function(t){e.removeEventListener(t,n,!1)}))}function P(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function I(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function R(e){return Array.prototype.slice.call(e,0)}function O(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];I(r,s)<0&&i.push(e[o]),r[o]=s,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function A(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:t)in e)return i;o++}return a}var $=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var M="ontouchstart"in r,j=A(r,"PointerEvent")!==a,D=M&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N="touch",F="mouse",B=["x","y"],U=["clientX","clientY"];function z(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){k(e.options.enable,[e])&&n.handler(t)},this.init()}function H(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,s=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=V(t)),r>1&&!n.firstMultiple?n.firstMultiple=V(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,c=s?s.center:o.center,u=t.center=G(i);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=K(c,u),t.distance=Y(c,u),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=q(t.deltaX,t.deltaY);var l,h,p=W(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=p.x,t.overallVelocityY=p.y,t.overallVelocity=d(p.x)>d(p.y)?p.x:p.y,t.scale=s?(l=s.pointers,Y((h=i)[0],h[1],U)/Y(l[0],l[1],U)):1,t.rotation=s?function(e,t){return K(t[1],t[0],U)+K(e[1],e[0],U)}(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,s=e.lastInterval||t,c=t.timeStamp-s.timeStamp;if(8!=t.eventType&&(c>25||s.velocity===a)){var u=t.deltaX-s.deltaX,l=t.deltaY-s.deltaY,h=W(c,u,l);i=h.x,r=h.y,n=d(h.x)>d(h.y)?h.x:h.y,o=q(u,l),e.lastInterval=t}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var g=e.element;P(t.srcEvent.target,g)&&(g=t.srcEvent.target),t.target=g}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function V(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY}}function G(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:h(n/t),y:h(i/t)}}function W(e,t,n){return{x:t/e||0,y:n/e||0}}function q(e,t){return e===t?1:d(e)>=d(t)?e<0?2:4:t<0?8:16}function Y(e,t,n){n||(n=B);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function K(e,t,n){n||(n=B);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}z.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(L(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4},Z="mousedown",J="mousemove mouseup";function Q(){this.evEl=Z,this.evWin=J,this.pressed=!1,z.apply(this,arguments)}b(Q,z,{handler:function(e){var t=X[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:F,srcEvent:e}))}});var ee={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},te={2:N,3:"pen",4:F,5:"kinect"},ne="pointerdown",ie="pointermove pointerup pointercancel";function re(){this.evEl=ne,this.evWin=ie,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ne="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),b(re,z,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=ee[i],o=te[e.pointerType]||e.pointerType,s=o==N,a=I(t,e.pointerId,"pointerId");1&r&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):12&r&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))}});var oe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},se="touchstart",ae="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=se,this.evWin=ae,this.started=!1,z.apply(this,arguments)}function ue(e,t){var n=R(e.touches),i=R(e.changedTouches);return 12&t&&(n=O(n.concat(i),"identifier",!0)),[n,i]}b(ce,z,{handler:function(e){var t=oe[e.type];if(1===t&&(this.started=!0),this.started){var n=ue.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:e})}}});var le={touchstart:1,touchmove:2,touchend:4,touchcancel:8},he="touchstart touchmove touchend touchcancel";function de(){this.evTarget=he,this.targetIds={},z.apply(this,arguments)}function fe(e,t){var n=R(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=R(e.changedTouches),a=[],c=this.target;if(o=n.filter((function(e){return P(e.target,c)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),12&t&&delete i[s[r].identifier],r++;return a.length?[O(o.concat(a),"identifier",!0),a]:void 0}function pe(){z.apply(this,arguments);var e=_(this.handler,this);this.touch=new de(this.manager,e),this.mouse=new Q(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ge(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ve.call(this,t)):12&e&&ve.call(this,t)}function ve(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function me(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}b(de,z,{handler:function(e){var t=le[e.type],n=fe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:e})}}),b(pe,z,{handler:function(e,t,n){var i=n.pointerType==N,r=n.pointerType==F;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ge.call(this,t,n);else if(r&&me.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ye=A(l.style,"touchAction"),we=ye!==a,be="compute",_e="auto",ke="manipulation",Ee="none",Se="pan-x",Te="pan-y",Pe=function(){if(!we)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function Ce(e,t){this.manager=e,this.set(t)}Ce.prototype={set:function(e){e==be&&(e=this.compute()),we&&this.manager.element.style&&Pe[e]&&(this.manager.element.style[ye]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){k(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(C(e,Ee))return Ee;var t=C(e,Se),n=C(e,Te);return t&&n?Ee:t||n?t?Se:Te:C(e,ke)?ke:_e}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=C(i,Ee)&&!Pe.none,o=C(i,Te)&&!Pe["pan-y"],s=C(i,Se)&&!Pe["pan-x"];if(r){var a=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(a&&c&&u)return}if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var xe=32;function Ie(e){this.options=c({},this.defaults,e||{}),this.id=$++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Re(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Oe(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Ae(e,t){var n=t.manager;return n?n.get(e):e}function $e(){Ie.apply(this,arguments)}function Le(){$e.apply(this,arguments),this.pX=null,this.pY=null}function Me(){$e.apply(this,arguments)}function je(){Ie.apply(this,arguments),this._timer=null,this._input=null}function De(){$e.apply(this,arguments)}function Ne(){$e.apply(this,arguments)}function Fe(){Ie.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Be(e,t){return(t=t||{}).recognizers=E(t.recognizers,Be.defaults.preset),new Ue(e,t)}function Ue(e,t){this.options=c({},Be.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(j?re:D?de:M?pe:Q))(this,H),this.touchAction=new Ce(this,this.options.touchAction),ze(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function ze(e,t){var n,i=e.element;i.style&&(v(e.options.cssProps,(function(r,o){n=A(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Ie.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ae(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=Ae(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===I(t,e=Ae(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=Ae(e,this);var t=I(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+Re(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+Re(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=xe},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!k(this.options.enable,[this,t]))return this.reset(),void(this.state=xe);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b($e,Ie,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:xe}}),b(Le,$e,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Te),24&e&&t.push(Se),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===s?1:s<0?8:16,n=s!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return $e.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Oe(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(Me,$e,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),b(je,Ie,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[_e]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return xe},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(De,$e,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(Ne,$e,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Le.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Oe(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(Fe,Ie,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ke]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||Y(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return xe},failTimeout:function(){return this._timer=p((function(){this.state=xe}),this.options.interval,this),xe},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Be.VERSION="2.0.7",Be.defaults={domEvents:!1,touchAction:be,enable:!0,inputTarget:null,inputClass:null,preset:[[De,{enable:!1}],[Me,{enable:!1},["rotate"]],[Ne,{direction:6}],[Le,{direction:6},["swipe"]],[Fe],[Fe,{event:"doubletap",taps:2},["tap"]],[je]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ue.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Ie)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=I(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==a&&t!==a){var n=this.handlers;return v(x(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==a){var n=this.handlers;return v(x(e),(function(e){t?n[e]&&n[e].splice(I(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&ze(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Be,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:xe,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ue,Input:z,TouchAction:Ce,TouchInput:de,MouseInput:Q,PointerEventInput:re,TouchMouseInput:pe,SingleTouchInput:ce,Recognizer:Ie,AttrRecognizer:$e,Tap:Fe,Pan:Le,Swipe:Ne,Pinch:Me,Rotate:De,Press:je,on:S,off:T,each:v,merge:w,extend:y,assign:c,inherit:b,bindFn:_,prefixed:A}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Be,(i=function(){return Be}.call(t,n,t,e))===a||(e.exports=i)}(window,document)},65867:function(e){function t(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}e.exports=t,e.exports.default=t},77883:function(e,t,n){"use strict";var i=n(72068),r=Object.create,o=Object.prototype.hasOwnProperty;e.exports=function(e){var t,n=0,s=1,a=r(null),c=r(null),u=0;return e=i(e),{hit:function(i){var r=c[i],l=++u;if(a[l]=i,c[i]=l,!r){if(++n<=e)return;return i=a[s],t(i),i}if(delete a[r],s===r)for(;!o.call(a,++s);)continue},delete:t=function(e){var t=c[e];if(t&&(delete a[t],delete c[e],--n,s===t)){if(!n)return u=0,void(s=1);for(;!o.call(a,++s);)continue}},clear:function(){n=0,s=1,a=r(null),c=r(null),u=0}}}},42827:function(e,t,n){"use strict";var i=n(40389),r=n(65694),o=n(45987),s=n(82828),a=n(81693),c=Array.prototype.slice,u=Function.prototype.apply,l=Object.create;n(36852).async=function(e,t){var n,h,d,f=l(null),p=l(null),g=t.memoized,v=t.original;t.memoized=s((function(e){var t=arguments,i=t[t.length-1];return"function"==typeof i&&(n=i,t=c.call(t,0,-1)),g.apply(h=this,d=t)}),g);try{o(t.memoized,g)}catch(e){}t.on("get",(function(e){var i,r,o;if(n){if(f[e])return"function"==typeof f[e]?f[e]=[f[e],n]:f[e].push(n),void(n=null);i=n,r=h,o=d,n=h=d=null,a((function(){var s;hasOwnProperty.call(p,e)?(s=p[e],t.emit("getasync",e,o,r),u.call(i,s.context,s.args)):(n=i,h=r,d=o,g.apply(r,o))}))}})),t.original=function(){var e,r,o,s;return n?(e=i(arguments),r=function e(n){var r,o,c=e.id;if(null!=c){if(delete e.id,r=f[c],delete f[c],r)return o=i(arguments),t.has(c)&&(n?t.delete(c):(p[c]={context:this,args:o},t.emit("setasync",c,"function"==typeof r?1:r.length))),"function"==typeof r?s=u.call(r,this,o):r.forEach((function(e){s=u.call(e,this,o)}),this),s}else a(u.bind(e,this,arguments))},o=n,n=h=d=null,e.push(r),s=u.call(v,this,e),r.cb=o,n=r,s):u.call(v,this,arguments)},t.on("set",(function(e){n?(f[e]?"function"==typeof f[e]?f[e]=[f[e],n.cb]:f[e].push(n.cb):f[e]=n.cb,delete n.cb,n.id=e,n=null):t.delete(e)})),t.on("delete",(function(e){var n;hasOwnProperty.call(f,e)||p[e]&&(n=p[e],delete p[e],t.emit("deleteasync",e,c.call(n.args,1)))})),t.on("clear",(function(){var e=p;p=l(null),t.emit("clearasync",r(e,(function(e){return c.call(e.args,1)})))}))}},92098:function(e,t,n){"use strict";var i=n(22050),r=n(96411),o=n(36852),s=Function.prototype.apply;o.dispose=function(e,t,n){var a;if(i(e),n.async&&o.async||n.promise&&o.promise)return t.on("deleteasync",a=function(t,n){s.call(e,null,n)}),void t.on("clearasync",(function(e){r(e,(function(e,t){a(t,e)}))}));t.on("delete",a=function(t,n){e(n)}),t.on("clear",(function(e){r(e,(function(e,t){a(t,e)}))}))}},12391:function(e,t,n){"use strict";var i=n(40389),r=n(96411),o=n(81693),s=n(65867),a=n(39294),c=n(36852),u=Function.prototype,l=Math.max,h=Math.min,d=Object.create;c.maxAge=function(e,t,n){var f,p,g,v;(e=a(e))&&(f=d(null),p=n.async&&c.async||n.promise&&c.promise?"async":"",t.on("set"+p,(function(n){f[n]=setTimeout((function(){t.delete(n)}),e),"function"==typeof f[n].unref&&f[n].unref(),v&&(v[n]&&"nextTick"!==v[n]&&clearTimeout(v[n]),v[n]=setTimeout((function(){delete v[n]}),g),"function"==typeof v[n].unref&&v[n].unref())})),t.on("delete"+p,(function(e){clearTimeout(f[e]),delete f[e],v&&("nextTick"!==v[e]&&clearTimeout(v[e]),delete v[e])})),n.preFetch&&(g=!0===n.preFetch||isNaN(n.preFetch)?.333:l(h(Number(n.preFetch),1),0))&&(v={},g=(1-g)*e,t.on("get"+p,(function(e,r,a){v[e]||(v[e]="nextTick",o((function(){var o;"nextTick"===v[e]&&(delete v[e],t.delete(e),n.async&&(r=i(r)).push(u),o=t.memoized.apply(a,r),n.promise&&s(o)&&("function"==typeof o.done?o.done(u,u):o.then(u,u)))})))}))),t.on("clear"+p,(function(){r(f,(function(e){clearTimeout(e)})),f={},v&&(r(v,(function(e){"nextTick"!==e&&clearTimeout(e)})),v={})})))}},19012:function(e,t,n){"use strict";var i=n(72068),r=n(77883),o=n(36852);o.max=function(e,t,n){var s,a,c;(e=i(e))&&(a=r(e),s=n.async&&o.async||n.promise&&o.promise?"async":"",t.on("set"+s,c=function(e){void 0!==(e=a.hit(e))&&t.delete(e)}),t.on("get"+s,c),t.on("delete"+s,a.delete),t.on("clear"+s,a.clear))}},99058:function(e,t,n){"use strict";var i=n(65694),r=n(25588),o=n(4289),s=n(29923),a=n(65867),c=n(81693),u=Object.create,l=r("then","then:finally","done","done:finally");n(36852).promise=function(e,t){var n=u(null),r=u(null),h=u(null);if(!0===e)e=null;else if(e=o(e),!l[e])throw new TypeError("'"+s(e)+"' is not valid promise mode");t.on("set",(function(i,o,s){var u=!1;if(!a(s))return r[i]=s,void t.emit("setasync",i,1);n[i]=1,h[i]=s;var l=function(e){var o=n[i];if(u)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");o&&(delete n[i],r[i]=e,t.emit("setasync",i,o))},d=function(){u=!0,n[i]&&(delete n[i],delete h[i],t.delete(i))},f=e;if(f||(f="then"),"then"===f){var p=function(){c(d)};"function"==typeof(s=s.then((function(e){c(l.bind(this,e))}),p)).finally&&s.finally(p)}else if("done"===f){if("function"!=typeof s.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");s.done(l,d)}else if("done:finally"===f){if("function"!=typeof s.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof s.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");s.done(l),s.finally(d)}})),t.on("get",(function(e,i,r){var o;if(n[e])++n[e];else{o=h[e];var s=function(){t.emit("getasync",e,i,r)};a(o)?"function"==typeof o.done?o.done(s):o.then((function(){c(s)})):s()}})),t.on("delete",(function(e){if(delete h[e],n[e])delete n[e];else if(hasOwnProperty.call(r,e)){var i=r[e];delete r[e],t.emit("deleteasync",e,[i])}})),t.on("clear",(function(){var e=r;r=u(null),n=u(null),h=u(null),t.emit("clearasync",i(e,(function(e){return[e]})))}))}},21040:function(e,t,n){"use strict";var i=n(94911),r=n(36852),o=Object.create,s=Object.defineProperties;r.refCounter=function(e,t,n){var a,c;a=o(null),c=n.async&&r.async||n.promise&&r.promise?"async":"",t.on("set"+c,(function(e,t){a[e]=t||1})),t.on("get"+c,(function(e){++a[e]})),t.on("delete"+c,(function(e){delete a[e]})),t.on("clear"+c,(function(){a={}})),s(t.memoized,{deleteRef:i((function(){var e=t.get(arguments);return null===e?null:a[e]?!--a[e]&&(t.delete(e),!0):null})),getRefCount:i((function(){var e=t.get(arguments);return null===e?0:a[e]?a[e]:0}))})}},73799:function(e,t,n){"use strict";var i=n(53369),r=n(3621),o=n(79761);e.exports=function(e){var t,s=i(arguments[1]);return s.normalizer||0!==(t=s.length=r(s.length,e.length,s.async))&&(s.primitive?!1===t?s.normalizer=n(49065):t>1&&(s.normalizer=n(97224)(t)):s.normalizer=!1===t?n(55004)():1===t?n(94617)():n(97540)(t)),s.async&&n(42827),s.promise&&n(99058),s.dispose&&n(92098),s.maxAge&&n(12391),s.max&&n(19012),s.refCounter&&n(21040),o(e,s)}},84417:function(e,t,n){"use strict";var i=n(88968),r=n(82828),o=n(94911),s=n(93083).methods,a=n(16611),c=n(48682),u=Function.prototype.apply,l=Function.prototype.call,h=Object.create,d=Object.defineProperties,f=s.on,p=s.emit;e.exports=function(e,t,n){var s,g,v,m,y,w,b,_,k,E,S,T,P,C,x,I=h(null);return g=!1!==t?t:isNaN(e.length)?1:e.length,n.normalizer&&(E=c(n.normalizer),v=E.get,m=E.set,y=E.delete,w=E.clear),null!=n.resolvers&&(x=a(n.resolvers)),C=v?r((function(t){var n,r,o=arguments;if(x&&(o=x(o)),null!==(n=v(o))&&hasOwnProperty.call(I,n))return S&&s.emit("get",n,o,this),I[n];if(r=1===o.length?l.call(e,this,o[0]):u.call(e,this,o),null===n){if(null!==(n=v(o)))throw i("Circular invocation","CIRCULAR_INVOCATION");n=m(o)}else if(hasOwnProperty.call(I,n))throw i("Circular invocation","CIRCULAR_INVOCATION");return I[n]=r,T&&s.emit("set",n,null,r),r}),g):0===t?function(){var t;if(hasOwnProperty.call(I,"data"))return S&&s.emit("get","data",arguments,this),I.data;if(t=arguments.length?u.call(e,this,arguments):l.call(e,this),hasOwnProperty.call(I,"data"))throw i("Circular invocation","CIRCULAR_INVOCATION");return I.data=t,T&&s.emit("set","data",null,t),t}:function(t){var n,r,o=arguments;if(x&&(o=x(arguments)),r=String(o[0]),hasOwnProperty.call(I,r))return S&&s.emit("get",r,o,this),I[r];if(n=1===o.length?l.call(e,this,o[0]):u.call(e,this,o),hasOwnProperty.call(I,r))throw i("Circular invocation","CIRCULAR_INVOCATION");return I[r]=n,T&&s.emit("set",r,null,n),n},s={original:e,memoized:C,profileName:n.profileName,get:function(e){return x&&(e=x(e)),v?v(e):String(e[0])},has:function(e){return hasOwnProperty.call(I,e)},delete:function(e){var t;hasOwnProperty.call(I,e)&&(y&&y(e),t=I[e],delete I[e],P&&s.emit("delete",e,t))},clear:function(){var e=I;w&&w(),I=h(null),s.emit("clear",e)},on:function(e,t){return"get"===e?S=!0:"set"===e?T=!0:"delete"===e&&(P=!0),f.call(this,e,t)},emit:p,updateEnv:function(){e=s.original}},b=v?r((function(e){var t,n=arguments;x&&(n=x(n)),null!==(t=v(n))&&s.delete(t)}),g):0===t?function(){return s.delete("data")}:function(e){return x&&(e=x(arguments)[0]),s.delete(e)},_=r((function(){var e,n=arguments;return 0===t?I.data:(x&&(n=x(n)),e=v?v(n):String(n[0]),I[e])})),k=r((function(){var e,n=arguments;return 0===t?s.has("data"):(x&&(n=x(n)),null!==(e=v?v(n):String(n[0]))&&s.has(e))})),d(C,{__memoized__:o(!0),delete:o(b),clear:o(s.clear),_get:o(_),_has:o(k)}),s}},36852:function(){},3621:function(e,t,n){"use strict";var i=n(72068);e.exports=function(e,t,n){var r;return isNaN(e)?(r=t)>=0?n&&r?r-1:r:1:!1!==e&&i(e)}},48682:function(e,t,n){"use strict";var i=n(22050);e.exports=function(e){var t;return"function"==typeof e?{set:e,get:e}:(t={get:i(e.get)},void 0!==e.set?(t.set=i(e.set),e.delete&&(t.delete=i(e.delete)),e.clear&&(t.clear=i(e.clear)),t):(t.set=t.get,t))}},16611:function(e,t,n){"use strict";var i,r=n(86228),o=n(10676),s=n(22050),a=Array.prototype.slice;i=function(e){return this.map((function(t,n){return t?t(e[n]):e[n]})).concat(a.call(e,this.length))},e.exports=function(e){return(e=r(e)).forEach((function(e){o(e)&&s(e)})),i.bind(e)}},94617:function(e,t,n){"use strict";var i=n(96162);e.exports=function(){var e=0,t=[],n=[];return{get:function(e){var r=i.call(t,e[0]);return-1===r?null:n[r]},set:function(i){return t.push(i[0]),n.push(++e),e},delete:function(e){var r=i.call(n,e);-1!==r&&(t.splice(r,1),n.splice(r,1))},clear:function(){t=[],n=[]}}}},97540:function(e,t,n){"use strict";var i=n(96162),r=Object.create;e.exports=function(e){var t=0,n=[[],[]],o=r(null);return{get:function(t){for(var r,o=0,s=n;o<e-1;){if(-1===(r=i.call(s[0],t[o])))return null;s=s[1][r],++o}return-1===(r=i.call(s[0],t[o]))?null:s[1][r]||null},set:function(r){for(var s,a=0,c=n;a<e-1;)-1===(s=i.call(c[0],r[a]))&&(s=c[0].push(r[a])-1,c[1].push([[],[]])),c=c[1][s],++a;return-1===(s=i.call(c[0],r[a]))&&(s=c[0].push(r[a])-1),c[1][s]=++t,o[t]=r,t},delete:function(t){for(var r,s=0,a=n,c=[],u=o[t];s<e-1;){if(-1===(r=i.call(a[0],u[s])))return;c.push(a,r),a=a[1][r],++s}if(-1!==(r=i.call(a[0],u[s]))){for(t=a[1][r],a[0].splice(r,1),a[1].splice(r,1);!a[0].length&&c.length;)r=c.pop(),(a=c.pop())[0].splice(r,1),a[1].splice(r,1);delete o[t]}},clear:function(){n=[[],[]],o=r(null)}}}},97224:function(e){"use strict";e.exports=function(e){return e?function(t){for(var n=String(t[0]),i=0,r=e;--r;)n+=""+t[++i];return n}:function(){return""}}},55004:function(e,t,n){"use strict";var i=n(96162),r=Object.create;e.exports=function(){var e=0,t=[],n=r(null);return{get:function(e){var n,r=0,o=t,s=e.length;if(0===s)return o[s]||null;if(o=o[s]){for(;r<s-1;){if(-1===(n=i.call(o[0],e[r])))return null;o=o[1][n],++r}return-1===(n=i.call(o[0],e[r]))?null:o[1][n]||null}return null},set:function(r){var o,s=0,a=t,c=r.length;if(0===c)a[c]=++e;else{for(a[c]||(a[c]=[[],[]]),a=a[c];s<c-1;)-1===(o=i.call(a[0],r[s]))&&(o=a[0].push(r[s])-1,a[1].push([[],[]])),a=a[1][o],++s;-1===(o=i.call(a[0],r[s]))&&(o=a[0].push(r[s])-1),a[1][o]=++e}return n[e]=r,e},delete:function(e){var r,o=0,s=t,a=n[e],c=a.length,u=[];if(0===c)delete s[c];else if(s=s[c]){for(;o<c-1;){if(-1===(r=i.call(s[0],a[o])))return;u.push(s,r),s=s[1][r],++o}if(-1===(r=i.call(s[0],a[o])))return;for(e=s[1][r],s[0].splice(r,1),s[1].splice(r,1);!s[0].length&&u.length;)r=u.pop(),(s=u.pop())[0].splice(r,1),s[1].splice(r,1)}delete n[e]},clear:function(){t=[],n=r(null)}}}},49065:function(e){"use strict";e.exports=function(e){var t,n,i=e.length;if(!i)return"";for(t=String(e[n=0]);--i;)t+=""+e[++n];return t}},79761:function(e,t,n){"use strict";var i=n(22050),r=n(96411),o=n(36852),s=n(84417),a=n(3621);e.exports=function e(t){var n,c,u;if(i(t),(n=Object(arguments[1])).async&&n.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(t,"__memoized__")&&!n.force?t:(c=a(n.length,t.length,n.async&&o.async),u=s(t,c,n),r(o,(function(e,t){n[t]&&e(n[t],u,n)})),e.__profiler__&&e.__profiler__(u),u.updateEnv(),u.memoized)}},81693:function(e){"use strict";var t=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},n=function(e){var n,i,r=document.createTextNode(""),o=0;return new e((function(){var e;if(n)i&&(n=i.concat(n));else{if(!i)return;n=i}if(i=n,n=null,"function"==typeof i)return e=i,i=null,void e();for(r.data=o=++o%2;i;)e=i.shift(),i.length||(i=null),e()})).observe(r,{characterData:!0}),function(e){t(e),n?"function"==typeof n?n=[n,e]:n.push(e):(n=e,r.data=o=++o%2)}};e.exports=function(){if("object"==typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("function"==typeof queueMicrotask)return function(e){queueMicrotask(t(e))};if("object"==typeof document&&document){if("function"==typeof MutationObserver)return n(MutationObserver);if("function"==typeof WebKitMutationObserver)return n(WebKitMutationObserver)}return"function"==typeof setImmediate?function(e){setImmediate(t(e))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(e){setTimeout(t(e),0)}:null}()},93273:function(e){"use strict";e.exports=2147483647},39294:function(e,t,n){"use strict";var i=n(72068),r=n(93273);e.exports=function(e){if((e=i(e))>r)throw new TypeError(e+" exceeds maximum possible timeout");return e}},3053:function(e,t,n){"use strict";var i=n(31635);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!i(e)}},46347:function(e,t,n){"use strict";var i=n(84332),r={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!i(e)&&hasOwnProperty.call(r,typeof e)}},15126:function(e,t,n){"use strict";var i=n(3053),r=/^\s*class[\s{/}]/,o=Function.prototype.toString;e.exports=function(e){return!!i(e)&&!r.test(o.call(e))}},31635:function(e,t,n){"use strict";var i=n(46347);e.exports=function(e){if(!i(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},84332:function(e){"use strict";e.exports=function(e){return null!=e}},33561:function(e,t,n){var i;"undefined"!=typeof self&&self,i=(e,t,n,i,r,o,s,a,c,u,l,h,d,f)=>(()=>{"use strict";var p={669:(e,t,n)=>{n.d(t,{q:()=>p,I:()=>g});var i=n(661),r=n.n(i),o=n(456),s=n.n(o),a=n(317),c=n.n(a),u=n(985),l=n.n(u);const h={"bn-IN":"92fb1c0a462b40f5e6074824c8c0cc427870cc3c2386b06263448e24a077503b.bn-IN.json","de-DE":"311491b194984fa8f887ea7ef43a411b3bb94219f5c6d01cb8fa9cd34624360b.de-DE.json","en-AU":"35668f93edda85ae2915e0339d200010a09780513aa8637d73928452a09f9152.en-AU.json","en-CA":"c4a80a437b79583dfd52115dfbf47bf2e64d2bbfc148005a543b4eb6cfd4cf30.en-CA.json","en-GB":"d8cc124d33168d78d179f97c2c508ec01dfdaa1fcbb10f6ed052dcb964c36207.en-GB.json","en-IN":"b67cc709908fee7268410fadb3511eba204a14b200b61ca08edbf90b33a45735.en-IN.json","en-US":"b4882eb3e114cf6ce258862b4d490c14449088a96f5b46abb960c9826e2e2111.en-US.json","es-ES":"422f05be229c27d4977b860a18f137a99939d1cf32ebae4ed2f674b4e0308909.es-ES.json","es-MX":"2da7e5a638a33abd8b1fc2fbb48cfef8ed6200ddb5b29ee3a5e0f304979cd144.es-MX.json","es-US":"36cee92337b367848ccd9844cf200ddd40d8afeeac7c381186ea3b44519cafa8.es-US.json","fr-CA":"a0fafebe75f2ee1c2db339a7c437e39907c97dc667ae0bc9952dd395c2d97c4d.fr-CA.json","fr-FR":"ae559604dfa5db4ff96ee4406672f7eddc0cf8d5b77685d81eb62c830eee3c35.fr-FR.json","hi-IN":"23d68ce4dcf78e9ad6210786da62462f8ba4850a4adf35591ff0b034137c0e99.hi-IN.json","it-IT":"f675bb011a4eab8f1767db0ac2a3e8e0af1e847584e75ec2a6234141341a9d83.it-IT.json","ja-JP":"4a9b38a437872756ba69be82770a9bef4f0f66634d68c2551b849222a35737e7.ja-JP.json","kn-IN":"2d9357baeac9c181b3efe3e30c928dc28aa25f88ffcbc93feadc620a9f91dbfd.kn-IN.json","ml-IN":"37353aa55f675df794c090942c84b02ef737ab2d13f3cd488af5ddac0c8032c4.ml-IN.json","mr-IN":"78658dca6b13fcfe841737a0fe08620dc96f4f5e10f9ebc1dd02699e807998d8.mr-IN.json","nl-NL":"4320bea61abb970036a157d7920e62f0d0aba653d5e3d8c35da3a5c6e574fad1.nl-NL.json","pt-BR":"c74b9106cb105604761f308f6849b3fef63b82e85896e00873f1b751308b95f4.pt-BR.json","ta-IN":"dc0e628dd11ae3b21d678b6cc32fab02cfa97763fe9d4c58878cd8ff67ac85af.ta-IN.json","te-IN":"9550fedabe21cbbce578d3daf683113df43ce05a10e31546f48104925c774497.te-IN.json"},d=JSON.parse('{"note":"Simple localized resources example","dir":"ltr","resources":{"no":{"note":"Button to deny an action","value":"No"},"yes":{"note":"Button to confirm an action","value":"Yes"},"ok":{"note":"Button to confirm an action","value":"Ok"},"save":{"note":"Button to save","value":"Save"},"edit":{"note":"Button to edit","value":"Edit"},"delete":{"note":"Button to delete","value":"Delete"},"cancel":{"note":"Button to cancel an action","value":"Cancel"},"table_of_contents":{"note":"Title for the Table of Contents","value":"Table of Contents"},"footer_page_of":{"note":"Text to indicate current page among total number of pages","value":"Page {currentPage} of {totalPages}"},"footer_location_of":{"note":"Text to indicate current location among total number of locations","value":"Location {currentLocation} of {totalLocations}"},"notebook":{"note":"Title for the Notebook (Notebook = feature to add/edit/delete notes)","value":"Notebook"},"notebook_note":{"note":"Title to identify a Note in the Notebook","value":"Note"},"notebook_bookmark":{"note":"Title to identify a Bookmark in the Notebook","value":"Bookmarks"},"notebook_highlight":{"note":"Title to identify a Highlight in the Notebook (noun). It refers to the highlighted text (noun), not the action of highlighting (verb).","value":"Highlight"},"notebook_location":{"note":"Text to indicate the location of an annotation in the Notebook","value":"Location {annotationLocation}"},"notebook_page":{"note":"Text to indicate the page of an annotation in the Notebook","value":"Page {annotationPage}"},"notebook_position":{"note":"Text to indicate the position of an annotation in the Notebook","value":"Position {annotationPosition}"},"empty_notebook":{"note":"Text displayed when there are no annotations in the Notebook","value":"This book does not contain any notes or marks."},"reader_menu":{"note":"Title for the Reader Menu (Reader Menu = menu for the reader)","value":"Reader menu"},"reader_settings":{"note":"Title for the AaMenu (Reader settings = settings for the reader)","value":"Reader settings"},"library":{"note":"Title for the Library","value":"Library"},"back_to_library":{"note":"Button to go back to the Library","value":"Back to Library"},"note":{"note":"Title for the Note","value":"Note"},"delete_note":{"note":"Button to delete a note","value":"Delete Note"},"delete_bookmark":{"note":"Button to delete a bookmark","value":"Delete Bookmark"},"delete_highlight":{"note":"Button to delete a highlight","value":"Delete Highlight"},"delete_item":{"note":"Button to delete an item","value":"Delete Item"},"delete_note_confirmation":{"note":"Text to confirm the user wants to delete a note when clicking the \'Delete\' button","value":"Are you sure you want to delete this note? This action cannot be undone."},"delete_highlight_confirmation":{"note":"Text to confirm the user wants to delete a highlight when clicking the \'Delete\' button","value":"Are you sure you want to delete this highlight? This action cannot be undone."},"delete_bookmark_confirmation":{"note":"Text to confirm the user wants to delete a bookmark when clicking the \'Delete\' button","value":"Are you sure you want to delete this bookmark? This action cannot be undone."},"delete_item_confirmation":{"note":"Text to confirm the user wants to delete an item when clicking the \'Delete\' button","value":"Are you sure you want to delete this item? This action cannot be undone."},"yellow":{"note":"Yellow color","value":"yellow"},"blue":{"note":"Blue color","value":"blue"},"pink":{"note":"Pink color","value":"pink"},"orange":{"note":"Orange color","value":"orange"},"popover_highlight_color":{"note":"Button for a highlight color (color = noun). Refers to the color of the highlight (noun), not the action of highlighting.","value":"{color} highlight"},"popover_highlight_verb":{"note":"Button to highlight a piece of text (verb). Refers to the action of highlighting (verb).","value":"Highlight"},"popover_delete_highlight":{"note":"Button to delete an existing highlight","value":"Delete Highlight"},"show_bookmark":{"note":"Button to show a bookmark (noun).","value":"Bookmark"},"add_bookmark":{"note":"Button to add a bookmark","value":"Add Bookmark"},"remove_bookmark":{"note":"Button to remove a bookmark","value":"Remove Bookmark"},"mrpr_alert_title":{"note":"Title for alert that shows the most recent page read","value":"Most Recent Page Read"},"mrpr_alert_message_page":{"note":"Text message to inform the user about the most recent page read","value":"You\'re on page {currentPage}. The most recent page is {newPage}. Go to page {newPage}?"},"mrpr_alert_message_page_device_info":{"note":"Text message to inform the user about the most recent page read (with device info)","value":"You\'re on page {currentPage}. The most recent page is {newPage} from \\"{deviceName}\\" at {deviceTime} on {deviceDate}. Go to page {newPage}?"},"mrpr_alert_message_location":{"note":"Text message to inform the user about the most recent location read","value":"You\'re on location {currentLocation}. The most recent location is {newLocation}. Go to location {newLocation}?"},"mrpr_alert_message_location_device_info":{"note":"Text message to inform the user about the most recent location read (with device info)","value":"You\'re on location {currentLocation}. The most recent location is {newLocation} from \\"{deviceName}\\" at {deviceTime} on {deviceDate}. Go to location {newLocation}?"},"fpr_menu_option":{"note":"Button to go to furthest page read","value":"Sync to Furthest Page Read"},"fpr_alert_title":{"note":"Title for text message that shows the furthest page read","value":"Furthest Page Read"},"fpr_alert_stay":{"note":"Text message to inform the user about the furthest location read","value":"You are currently at the furthest location across all your devices"},"fpr_alert_update_same_page":{"note":"Text message to inform the user about the furthest place read in a page","value":"You\'re on currently on page {currentPage}. You have read further on this page, from another device. Go to the furthest place read?"},"fpr_alert_update_same_page_device_info":{"note":"Text message to inform the user about the furthest place read in a page (with device info)","value":"You\'re on currently on page {currentPage}. You have read further on this page, from \\"{deviceName}\\" at {deviceTime} on {deviceDate}. Go to the furthest place read?"},"fpr_alert_update_location":{"note":"Text message to inform the user about the furthest location read","value":"You\'re on location {currentLocation}. The furthest location read is {newLocation}. Go to location {newLocation}?"},"fpr_alert_update_location_device_info":{"note":"Text message to inform the user about the furthest location read (with device info)","value":"You\'re on location {currentLocation}. The furthest location read is {newLocation} from \\"{deviceName}\\" at {deviceTime} on {deviceDate}. Go to location {newLocation}?"},"fpr_alert_update_page":{"note":"Text message to inform the user about the furthest page read","value":"You\'re on page {currentPage}. The furthest page read is {newPage}. Go to page {newPage}?"},"fpr_alert_update_page_device_info":{"note":"Text message to inform the user about the furthest page read (with device info)","value":"You\'re on page {currentPage}. The furthest page read is {newPage} from \\"{deviceName}\\" at {deviceTime} on {deviceDate}. Go to page {newPage}?"},"error_message_title":{"note":"Title for a text message with an error","value":"Oops... Something Went Wrong"},"error_session_limit":{"note":"Text message for session limit error","value":"Please try to open this book again in few minutes."},"error_content_not_supported":{"note":"Text message for content unsupported error","value":"The book you’re trying to read can only be opened using Kindle app."},"error_internet_connection":{"note":"Text message for internet connection error","value":"Please check your internet and try to open this book again."},"error_unknown_error":{"note":"Text message for unknown error. Asks the user to go back to the library and try to open the book again.","value":"Please try to open this book from the library again."},"no_internet_connection":{"note":"Title for internet connection error","value":"No Internet Connection"},"no_internet_connection_message":{"note":"Text message that asks the user to check the internet connection","value":"Please check your Wi-Fi or your mobile network and try again."},"kindle_app_is_required":{"note":"Title for unsupported content error","value":"Kindle App Is Required"},"kindle_app_banner_title":{"note":"Title for Read in Kindle App banner","value":"Read in the Kindle App"},"kindle_app_banner_body":{"note":"Text message for Read in Kindle App banner","value":"For the best experience"},"kindle_store":{"note":"Kindle Store","value":"Kindle Store"},"back_to_store":{"note":"Button to go back to Kindle Store","value":"Back to Store"},"legal_notices":{"note":"Title for Legal Notices","value":"Legal Notices"},"go_to_page":{"note":"Title for Go to Page modal","value":"Go to Page"},"go_to_page_content":{"note":"Text message for Go to Page modal","value":"Go to page"},"go_to_page_current":{"note":"Text message for Go to Page modal","value":"You\'re on page {currentPage}."},"go_to_page_placeholder":{"note":"Placeholder for page number in Go to Page modal","value":"page number"},"go_to_page_input_error_message":{"note":"Text message for input error in Go to Page modal","value":"Please input a valid page number."},"go_to_location":{"note":"Title for Go to Location modal","value":"Go to Location"},"go_to_location_content":{"note":"Text message for Go to Location modal","value":"Go to location"},"go_to_location_current":{"note":"Text message for Go to Location modal","value":"You\'re on location {currentLocation}."},"go_to_location_input_error_message":{"note":"Text message for input error in Go to Location modal","value":"Please input a valid location."},"go_to_location_placeholder":{"note":"Placeholder for location number in Go to Location modal","value":"location"},"go_to_total_navigation_units":{"note":"Text message for Go to Location modal","value":"of {totalNavigationUnits}."},"aa_menu_animation_duration_description":{"note":"Text message that describes animation duration in the AaMenu","value":"Apply motion when moving from panel-to-panel. Adjust slider left or right to change the speed of transitions."},"aa_menu_animation_duration_label":{"note":"Title for animation duration in the AaMenu","value":"Animate Transitions"},"aa_menu_animation_duration_slider":{"note":"Text message to tell the user to choose an animation duration in the AaMenu","value":"Choose your preferred transition speed"},"aa_menu_animation_duration_slider_decrease":{"note":"Text message to tell the user to decrease the animation duration in the AaMenu","value":"Decrease transition speed"},"aa_menu_animation_duration_slider_increase":{"note":"Text message to tell the user to increase the animation duration in the AaMenu","value":"Increase transition speed"},"aa_menu_animation_duration_slider_title":{"note":"Text message in the center of the animation duration slider","value":"Transition Speed"},"aa_menu_font_family_selector_label":{"note":"Title for Font in AaMenu","value":"Font"},"aa_menu_font_family_selector":{"note":"Text message to tell the user to choose a font in AaMenu","value":"Choose your preferred font"},"aa_menu_font_size_slider":{"note":"Text message to tell the user to choose a font size in AaMenu","value":"Choose your preferred font size"},"aa_menu_font_size_slider_decrease":{"note":"Text message to tell the user to decrease the font size in AaMenu","value":"Decrease font size"},"aa_menu_font_size_slider_increase":{"note":"Text message to tell the user to increase the font size in AaMenu","value":"Increase font size"},"aa_menu_theme_selector":{"note":"Text message to tell the user to choose a theme color in AaMenu","value":"Choose your preferred theme"},"aa_menu_theme_label":{"note":"Title for Theme color in AaMenu","value":"Page Color"},"aa_menu_theme_white":{"note":"White theme in AaMenu","value":"White"},"aa_menu_theme_dark":{"note":"Dark theme in AaMenu","value":"Dark"},"aa_menu_theme_sepia":{"note":"Sepia theme in AaMenu","value":"Sepia"},"aa_menu_theme_green":{"note":"Green theme in AaMenu","value":"Green"},"aa_menu_margin_selector_label":{"note":"Title for Margins in AaMenu","value":"Margin"},"aa_menu_margin_selector":{"note":"Text message to tell the user to choose a margin size in AaMenu","value":"Choose your preferred margin size"},"aa_menu_margin_narrow":{"note":"Narrow option for margins in AaMenu","value":"Narrow"},"aa_menu_margin_medium":{"note":"Medium option for margins in AaMenu","value":"Medium"},"aa_menu_margin_wide":{"note":"Wide option for margins in AaMenu","value":"Wide"},"aa_menu_column_selector_label":{"note":"Title for Layout in AaMenu","value":"Layout"},"aa_menu_column_selector":{"note":"Text to tell the user to choose number of columns in AaMenu","value":"Choose your preferred number of columns"},"aa_menu_columns_two":{"note":"Two Columns option for layout","value":"Two Columns"},"aa_menu_columns_one":{"note":"Single Column option for layout","value":"Single Column"},"kr_vertical_scrubber_bar_label":{"note":"Label for the vertical scrubber bar","value":"Navigate through book content"},"go":{"note":"Button to go to selected page/location","value":"Go"},"cookies_message":{"note":"Text message for cookies banner","value":"We only use cookies and similar tools (collectively, “cookies”) to provide our services, including to recognize you when you sign-in, keep track of your settings, and deliver content. Other Amazon services may use cookies for additional purpose. To learn more about how Amazon uses cookies, please read the {open_tag}Amazon Cookies Notice{close_tag}."},"dictionary_header":{"note":"Title for dictionary","value":"Dictionary"},"dictionary_full_definition":{"note":"Title for dictionary full definition","value":"Full Definition"},"dictionary_no_results_found":{"note":"Text message displayed when there are no dictionary results","value":"No results in the {dictionary} dictionary"},"dictionary_not_available":{"note":"Text message displayed when no dictionary is available","value":"Dictionary not available."},"tutorial-comic-title":{"note":"Title for comics tutorial","value":"Panel-Zoom Tips"},"tutorial-children-title":{"note":"Title for children books tutorial","value":"Text-Zoom Tips"},"tutorial-comic-click-instruction-1":{"note":"Text message for comics tutorial","value":"Double-click the panel to zoom in."},"tutorial-comic-tap-instruction-1":{"note":"Text message for comics tutorial","value":"Double-tap the panel to zoom in."},"tutorial-children-click-instruction-1":{"note":"Text message for children books tutorial","value":"Double-click the text area to zoom in."},"tutorial-children-tap-instruction-1":{"note":"Text message for children books tutorial","value":"Double-tap the text area to zoom in."},"tutorial-instruction-2":{"note":"Text message for comics tutorial","value":"Flip left or right to navigate through panels."},"tutorial-comic-click-instruction-3":{"note":"Text message for comics tutorial","value":" To zoom out, double-click the panel again."},"tutorial-comic-tap-instruction-3":{"note":"Text message for comics tutorial","value":" To zoom out, double-tap the panel again."},"tutorial-children-click-instruction-3":{"note":"Text message for children books tutorial","value":" To zoom out, double-click the text area again."},"tutorial-children-tap-instruction-3":{"note":"Text message for children books tutorial","value":" To zoom out, double-tap the text area again."},"comic-image-text":{"note":"Text displayed in comics tutorial image","value":"WE KNOW ABOUT THE DOOMSDAY MACHINE!"},"children-image-text":{"note":"Text displayed in children books tutorial image","value":"Through chilly water, the animals swam until they reached an island beach just before dawn."},"knob_label_page":{"note":"Title for current page when navigating from scrubber bar","value":"Page {labelNumber}"},"knob_label_location":{"note":"Title for current location when navigating from scrubber bar","value":"Location {labelNumber}"},"back-to":{"note":"Button to go back to previous page/location in scrubber bar","value":"Back to {value}"},"close":{"note":"Button to close a modal","value":"Close"},"search":{"note":"Title for Search","value":"Search"},"search_placeholder":{"note":"Placeholder for search input","value":"Search for a word or phrase"},"search_results_found":{"note":"Title for search results","value":"{results} results found"},"search_unavailable":{"note":"Title when search is not available","value":"Search not available"},"search_unavailable_message":{"note":"Text message when search is not available","value":"Sorry this book is not yet enabled for searching. Please try again at a later time."},"kfw_mwr_redirect_option":{"note":"KFW to Manga Web Reader Redirect Button String","value":"Enable Comics Beta"},"pagination_next_page":{"note":"KR paginated view next page button text","value":"Next page"},"pagination_previous_page":{"note":"KR paginated view previous page button text","value":"Previous page"},"dictionary_result_origin":{"value":"Origin"},"dictionary_result_notes":{"value":"Notes"},"dictionary_result_usage":{"value":"Usage"},"dictionary_result_derivatives":{"value":"Derivatives"},"dictionary_result_ipa":{"value":"Ipa"},"dictionary_result_related_words":{"value":"Related words"},"dictionary_result_morphology":{"value":"Morphology"},"dictionary_result_phrases":{"value":"Phrases"},"copy_sample":{"note":"Text on sample share button before copy","value":"Copy sample link"},"copied_link":{"note":"Text on sample share button after copy","value":"Link copied"}}}');class f{constructor(){this.pathPrefix="";const e=f.convertPuffToJson(d);this.i18nextInstance=r().createInstance(),this.i18nextInstance.use(s()).use(c()).init({lng:f.DEFAULT_LANGUAGE,react:{useSuspense:!0},debug:!1,supportedLngs:Object.keys(h),interpolation:{escapeValue:!1},load:"currentOnly",backend:{loadPath:e=>`${this.pathPrefix}/${h[e]}`}}).then((()=>{console.debug("i18next object initialised successfully.")})).catch((e=>{console.error("initialisation fail for i18next obj.",e)})),this.i18nextInstance.addResourceBundle(f.DEFAULT_LANGUAGE,"translation",e)}updatePathPrefix(e){this.pathPrefix=e}updateLanguage(e){this.i18nextInstance.changeLanguage(e)}translate(e,t,n){return this.i18nextInstance.t(e,Object.assign({defaultValue:t},n))}static convertPuffToJson(e){const t=new(l())({text:JSON.stringify(e)}),n={},i=Object.keys(t.toObject().resources);for(const e of i)n[e]=t.get(e,{});return n}}f.DEFAULT_LANGUAGE="en-US";const p=new f,g=(e,t,n={})=>{let i;const r=window.i18nextInstance;return i=r?r.t(e,Object.assign({defaultValue:t},n)):p.translate(e,t,n),i}},434:(e,t,n)=>{n.d(t,{M:()=>o});var i=n(156),r=n.n(i);const o=({when:e,withElement:t,children:n})=>{const i=void 0!==n&&"boolean"!=typeof n?n:r().createElement(r().Fragment,null);return e?r().cloneElement(t(i)):i}},50:(e,t,n)=>{n.d(t,{a:()=>s});var i=n(156),r=n.n(i),o=n(399);const s=({theme:e})=>r().createElement("div",{className:"kg-loader"},r().createElement(o.d,{theme:e}))},450:(e,t,n)=>{n.d(t,{U:()=>a});var i=n(156),r=n.n(i),o=n(50),s=n(404);const a=({theme:e})=>{const t=(0,i.useRef)(null);return(0,i.useEffect)((()=>{t.current.style.background=`${s.BACKGROUND_THEME_MAP[null!=e?e:"White"]}`}),[e]),r().createElement("div",{ref:t,className:"kg-loader-wrapper"},r().createElement(o.a,{theme:e}))}},399:(e,t,n)=>{n.d(t,{d:()=>s});var i=n(404),r=n(156),o=n.n(r);const s=({theme:e})=>o().createElement("div",{className:"loader-item"},o().createElement("svg",{version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 60 60",xmlSpace:"preserve"},o().createElement("path",{fill:i.COLOR_THEME_MAP[null!=e?e:"White"],transform:"rotate(0, 30, 30)",d:"M 30 5 a 25 25 0 0 1 25 25 a 2 2 0 0 1 -4 0 a 21 21 0 0 0 -21 -21 a 2 2 0 0 1 0 -4"},o().createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1.4s",calcMode:"spline",keyTimes:"0;1",keySplines:"0.5 0 0.5 1",from:"0 30 30",to:"360 30 30",repeatCount:"indefinite"}))))},784:(e,t,n)=>{n.d(t,{a:()=>r});var i=n(156);const r=({rendererContainer:e,onDoubleClick:t,onClick:n,leftAction:r,rightAction:o,upAction:s,downAction:a,navigationDirection:c,children:u})=>{const l=(0,i.useMemo)((()=>Math.tan(.375*Math.PI)),[]),h=window.innerWidth||document.body.clientWidth,d=(0,i.useMemo)((()=>Math.max(1,Math.floor(.05*h))),[h]),f=(0,i.useRef)({x:0,y:0}),p=(0,i.useRef)(!1),g=(0,i.useRef)(!1),v=(0,i.useRef)(null),m=(0,i.useRef)(null),y=(0,i.useRef)(0),w=(0,i.useCallback)(((e,t)=>{const n=e.getBoundingClientRect();return{x:t.nativeEvent.pageX-n.left,y:t.nativeEvent.pageY-n.top}}),[]),b=(0,i.useCallback)((i=>{if(e){const r=w(e,i);y.current++,2===y.current?(t&&t(r.x,r.y),m.current&&clearTimeout(m.current),y.current=0,i.preventDefault()):m.current=setTimeout((()=>{n&&n(r.x,r.y),y.current=0}),300)}}),[w,n,t,e]),_=(0,i.useCallback)((e=>{p.current=1===e.changedTouches.length,p.current&&(f.current.x=e.changedTouches[0].pageX,f.current.y=e.changedTouches[0].pageY,g.current=!0,v.current=setTimeout((()=>g.current=!1),500))}),[]),k=(0,i.useCallback)((e=>{if(p.current&&1===e.changedTouches.length&&g.current){const t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY},n=t.x-f.current.x,i=t.y-f.current.y,u=Math.abs(i/n),h=Math.abs(n/i);(Math.abs(n)>d||Math.abs(i)>d)&&(u<=l&&"Horizontal"===c?n<0?o():r():h<=l&&"Vertical"===c&&(i<0?a():s())),g.current=!1,v.current&&clearTimeout(v.current)}}),[l,a,r,c,o,d,s]);return i.createElement("div",{id:"renderer-overlay",role:"region","aria-hidden":"true",onClick:b,onTouchStart:_,onTouchEnd:k,onTouchCancel:k},u)}},604:(e,t,n)=>{n.d(t,{t:()=>a});var i=n(156),r=n(164),o=n(404),s=n(133);const a=({showPaginationChevrons:e,showLeftChevron:t,showRightChevron:n,leftAction:a,rightAction:c,leftMinWidth:u,rightMinWidth:l,leftAreaRef:h,rightAreaRef:d,leftButtonClass:f,rightButtonClass:p,leftButtonText:g,rightButtonText:v,enableKeyboardNavigation:m,pageProgressionDirection:y,metricsService:w,colorTheme:b})=>{const _=(0,i.useRef)(null),k=(0,i.useRef)(null),[E,S]=(0,i.useState)(!1),[T,P]=(0,i.useState)(!1),C=(0,i.useMemo)((()=>(0,r.getPlatforms)()),[]),x=(0,i.useCallback)((()=>{C.includes("desktop")&&S(!0)}),[S]),I=(0,i.useCallback)((()=>{C.includes("desktop")&&P(!0)}),[P]),R=(0,i.useCallback)((()=>{S(!1)}),[S]),O=(0,i.useCallback)((()=>{P(!1)}),[P]),A=e=>()=>{null==w||w.recordCountMetrics(e,1)};(0,i.useEffect)((()=>{t||S(!1)}),[t]),(0,i.useEffect)((()=>{n||P(!1)}),[n]),(0,i.useEffect)((()=>{const e=h.current;return e?(0,s.G)(e,a):void 0}),[h.current,a]),(0,i.useEffect)((()=>{const e=d.current;return e?(0,s.G)(e,c):void 0}),[d.current,c]),(0,i.useEffect)((()=>{var e;const t="LeftChevron";return null===(e=_.current)||void 0===e||e.addEventListener("click",A(t)),()=>{var e;return null===(e=_.current)||void 0===e?void 0:e.removeEventListener("click",A(t))}}),[_]),(0,i.useEffect)((()=>{var e;const t="LeftPageBorder";return null===(e=h.current)||void 0===e||e.addEventListener("click",A(t)),()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.removeEventListener("click",A(t))}}),[h]),(0,i.useEffect)((()=>{var e;const t="RightChevron";return null===(e=k.current)||void 0===e||e.addEventListener("click",A(t)),()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.removeEventListener("click",A(t))}}),[k]),(0,i.useEffect)((()=>{var e;const t="RightPageBorder";return null===(e=d.current)||void 0===e||e.addEventListener("click",A(t)),()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.removeEventListener("click",A(t))}}),[d]),(0,i.useEffect)((()=>{const e=e=>{if(!e.repeat)if("rtl"===y)switch(e.key){case"ArrowLeft":case"ArrowDown":case"PageDown":a();break;case"ArrowRight":case"ArrowUp":case"PageUp":c()}else switch(e.key){case"ArrowLeft":case"ArrowUp":case"PageUp":a();break;case"ArrowRight":case"ArrowDown":case"PageDown":c()}};return!1!==m&&window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[m,a,c,y]);const $=b?o.BACKGROUND_THEME_MAP[b]:void 0,L=$?{backgroundColor:$}:{};return i.createElement("div",{className:"pagination-container"},t&&i.createElement("div",{ref:h,className:"kr-chevron-container-left chevron-container",onMouseOver:x,onMouseEnter:x,onMouseLeave:R,style:Object.assign({minWidth:u},L)},i.createElement("button",{id:"kr-chevron-left",ref:_,className:f+(e||E?"":" hidden"),title:g,"aria-label":g})),n&&i.createElement("div",{ref:d,className:"kr-chevron-container-right chevron-container right",onMouseOver:I,onMouseEnter:I,onMouseLeave:O,style:Object.assign({minWidth:l},L)},i.createElement("button",{id:"kr-chevron-right",ref:k,className:p+(e||T?"":" hidden"),title:v,"aria-label":v})))}},922:(e,t,n)=>{n.d(t,{_:()=>o});var i=n(156),r=n(133);const o=({upAction:e,downAction:t,leftAction:n,rightAction:o,topMinHeight:s=120,bottomMinHeight:a=120,topAreaRef:c,bottomAreaRef:u,showTopPane:l,showBottomPane:h,enableKeyboardNavigation:d=!0,metricsService:f})=>{const p=(0,i.useCallback)((e=>null==f?void 0:f.recordCountMetrics(e,1)),[f]);return(0,i.useEffect)((()=>{const t=c.current;return t?(0,r.G)(t,e):void 0}),[c.current,e]),(0,i.useEffect)((()=>{const e=u.current;return e?(0,r.G)(e,t):void 0}),[u.current,t]),(0,i.useEffect)((()=>{const e=c.current,t=()=>{p("PageUp")};return null==e||e.addEventListener("click",t),()=>null==e?void 0:e.removeEventListener("click",t)}),[p,c]),(0,i.useEffect)((()=>{const e=u.current,t=()=>{p("PageDown")};return null==e||e.addEventListener("click",t),()=>null==e?void 0:e.removeEventListener("click",t)}),[u,p]),(0,i.useEffect)((()=>{const i=i=>{if(!i.repeat)switch(i.key){case"ArrowLeft":n();break;case"ArrowDown":case"PageDown":t();break;case"ArrowRight":o();break;case"ArrowUp":case"PageUp":e()}};return d&&window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)}),[d,n,o,t,e]),i.createElement("div",{className:"pagination-container"},l&&i.createElement("div",{ref:c,className:"kr-navigation-pane-top navigation-pane top",style:{minHeight:s}}),h&&i.createElement("div",{ref:u,className:"kr-navigation-pane-bottom navigation-pane bottom",style:{minHeight:a}}))}},440:(e,t,n)=>{n.d(t,{ContentArea:()=>o,InteractionLayer:()=>a,Renderer:()=>C,RendererError:()=>T});var i=n(156),r=n.n(i);const o=r().forwardRef((function({fullPage:e},t){return r().createElement("div",{className:e?"kr-renderer-container-fullpage":"kr-renderer-container",ref:t})}));var s=n(269);const a=({reference:e,mountedInFullPage:t,children:n})=>((0,i.useEffect)((()=>{const t=e.current;t&&t.addEventListener("touchmove",s.UW)}),[e.current]),r().createElement("div",{className:"kr-interaction-layer"+(t?"-fullpage":""),ref:e},n));var c=n(404),u=n(784),l=n(604),h=n(450),d=n(164),f=n(434),p=n(398),g=n(537),v=n(779),m=n(571),y=n.n(m),w=n(256),b=n(669),_=n(952),k=n(13),E=n(922),S=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class T extends Error{constructor(e,t){super(e),this.name=`${t}RendererError`}}let P=0;const C=({bookInformation:e,renderingSettings:t,position:n,navigationAction:r=c.NavigationAction.NAVIGATE,renderingService:s,callbacks:m,showPaginationChevrons:C,annotations:x,useKeyboardNavigation:I,enablePinchHandler:R=!0,metricsService:O=new w.u,container:A,exceedSettings:$={exceedBounds:[]},scrollContainer:L,requireHighResolutionImages:M=!0,requireGuidedViewMetadata:j=!0,imageSecurityEnabled:D=!0,renderBatchSize:N=6,bundleImages:F=!1,mountPageCanvas:B=!0,canvasPoolSize:U=4,canvasPixelRatio:z=2,enablePagePanning:H=!0,enableTutorials:V=!1,solidChevronBackgroundColor:G=!1,navigateToInternalLinks:W=!1,children:q})=>{var Y,K,X,Z,J,Q,ee,te,ne,ie;const[re]=(0,i.useState)(P++),oe=void 0!==A,se=(0,i.useRef)(null),ae=null!=A?A:se,ce=(0,i.useRef)(null),ue=(0,i.useRef)(),le=(0,i.useRef)(),he=(0,i.useRef)(0),de=(0,i.useRef)(0),fe=(0,i.useRef)("None"),pe=(0,i.useRef)("Before"===fe.current),ge=(0,i.useRef)("After"===fe.current),[ve,me]=(0,i.useState)(document.createElement("div")),[ye,we]=(0,i.useState)(),[be,_e]=(0,i.useState)(!1),[ke,Ee]=(0,i.useState)(!1),[Se,Te]=(0,i.useState)(!1),[Pe,Ce]=(0,i.useState)(!1),xe=(0,i.useRef)(null),Ie=(0,i.useRef)(null),[Re,Oe]=(0,i.useState)(!1),[Ae,$e]=(0,i.useState)(!1),Le=(0,i.useRef)(null),Me=(0,i.useRef)(null),[je,De]=(0,i.useState)(!0),[Ne,Fe]=(0,i.useState)(null!==(Y=t.colorTheme)&&void 0!==Y?Y:"White"),[Be,Ue]=(0,i.useState)(),[ze,He]=(0,i.useState)(),[Ve,Ge]=(0,i.useState)(),We=$.exceedBounds,qe=We.includes("Before"),Ye=We.includes("After"),Ke=(0,i.useMemo)((()=>new c.RendererMetricsServiceWrapper(O)),[O]);(0,i.useEffect)((()=>{var e,t;const n=le.current;R?null===(e=null==n?void 0:n.enablePinchHandler)||void 0===e||e.call(n):null===(t=null==n?void 0:n.disablePinchHandler)||void 0===t||t.call(n)}),[le,R]);const[Xe,Ze]=(0,i.useMemo)((()=>"ltr"===ue.current?[(0,b.I)("pagination_previous_page","Previous page"),(0,b.I)("pagination_next_page","Next page")]:[(0,b.I)("pagination_next_page","Next page"),(0,b.I)("pagination_previous_page","Previous page")]),[ue.current]),Je=(0,i.useCallback)((()=>{const e=le.current,t=ue.current;if(null!=t&&e&&e.hasNextPage&&e.hasPreviousPage){const n=pe.current||(!ge.current||!!$.shouldResetAfterExceed)&&(e.hasNextPage()||Ye),i=ge.current||(!pe.current||!!$.shouldResetAfterExceed)&&(e.hasPreviousPage()||qe);Te("ltr"===t&&n||"rtl"===t&&i),Ce("ltr"===t&&i||"rtl"===t&&n),Oe(i),$e(n)}}),[Ye,qe,$.shouldResetAfterExceed]),Qe=(0,i.useCallback)((e=>{e!==fe.current&&($.shouldResetAfterExceed||(fe.current=e,pe.current="Before"===e,ge.current="After"===e),y().publish(re+"rendererCallbacks:onExceedingBoundsChanged",{exceedingValue:e}))}),[fe,$.shouldResetAfterExceed]),et=(0,i.useCallback)((()=>{const e=le.current;if(pe.current)Qe("None");else if((null==e?void 0:e.hasNextPage)&&e.goToNextPage){if(e.hasNextPage())return y().publish(re+"rendererCallbacks:onPagination"),e.goToNextPage();Ye&&1===he.current&&Qe("After")}return Promise.resolve()}),[pe.current,le,Ye]),tt=(0,i.useCallback)((()=>{const e=le.current;if(ge.current)Qe("None");else if((null==e?void 0:e.hasPreviousPage)&&e.goToPreviousPage){if(e.hasPreviousPage())return y().publish(re+"rendererCallbacks:onPagination"),e.goToPreviousPage();qe&&1===he.current&&Qe("Before")}return Promise.resolve()}),[ge.current,le,qe]),nt=(0,i.useCallback)((()=>{const e=le.current;return!e||!e.isReady||e.isReady()}),[ye]),it=(0,i.useCallback)((e=>{nt()&&(De(!0),he.current+=1,("next"===e?Ke.asyncTimeExecution("Renderer:NextPage",et):Ke.asyncTimeExecution("Renderer:PrevPage",tt)).catch((e=>{const t={type:"Navigation",error:e};y().publish(re+"rendererCallbacks:onError",t)})).finally((()=>{Je(),he.current-=1,0===he.current&&De(!1)})))}),[m,nt,et,tt,Je]),rt=(0,i.useCallback)((()=>{it("ltr"===ue.current?"prev":"next")}),[it]),ot=(0,i.useCallback)((()=>{it("ltr"===ue.current?"next":"prev")}),[it]),st=(0,i.useCallback)((()=>{it("prev")}),[it]),at=(0,i.useCallback)((()=>{it("next")}),[it]),ct=(0,i.useCallback)(((e,t)=>{y().publish(re+"rendererCallbacks:onClick",{point:{x:e,y:t}})}),[re]),ut=(0,i.useCallback)(((e,t)=>{y().publish(re+"rendererCallbacks:onDoubleClick",{point:{x:e,y:t}})}),[re]),lt=(0,i.useCallback)((()=>S(void 0,void 0,void 0,(function*(){le.current&&le.current.clearSelection&&(yield le.current.clearSelection())}))),[ye]),ht=(0,i.useCallback)((e=>{if(ye){const t=ye.getSettings(),n=(0,c.calculateNewRenderingSettings)(t,e,ye.getSupportedSettings());return[...Object.keys(t),...Object.keys(n)].some((e=>!(0,c.deepEquals)(t[e],n[e])))}return!1}),[ye]),dt=(0,i.useCallback)((e=>{var t;ye&&ht(e)&&(De(!0),de.current+=1,ye.updateSettings(e).catch((e=>{const t={type:"UpdateSettings",error:e};y().publish(re+"rendererCallbacks:onError",t)})).finally((()=>{de.current-=1,0===de.current&&De(!1)})),Ee("Paginated"===ye.getSettings().navigationMode),Ge(ye.getSettings().navigationDirection),Fe(null!==(t=ye.getSettings().colorTheme)&&void 0!==t?t:"White"))}),[ye]);(0,i.useEffect)((()=>{Je()}),[qe,Ye]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onPositionChange",((e,t)=>{var n;return null===(n=null==m?void 0:m.onPositionChange)||void 0===n?void 0:n.call(m,t.currentPosition,t.endPosition)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onPositionChange]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onNoteClick",((e,t)=>{var n;return null===(n=null==m?void 0:m.onNoteClick)||void 0===n?void 0:n.call(m,t.event)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onNoteClick]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onHighlightClick",((e,t)=>{var n;return null===(n=null==m?void 0:m.onHighlightClick)||void 0===n?void 0:n.call(m,t.highlightStartPosition,t.highlightEndPosition,t.highlightRangeClass)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onHighlightClick]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onSelectionEnded",((e,t)=>{var n;return null===(n=null==m?void 0:m.onSelectionEnded)||void 0===n?void 0:n.call(m,t.tokens,t.container,t.selectionClass)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onSelectionEnded]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onRendererStatusChanged",((e,t)=>{var n;null===(n=null==m?void 0:m.onRendererStatusChanged)||void 0===n||n.call(m,t.status),t.status===c.RendererStatus.STATUS_IDLE&&Je(),De(t.status===c.RendererStatus.STATUS_LOADING)}));return()=>{y().unsubscribe(e)}}),[ye,Je]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onInternalLinkClick",((e,t)=>{var n;return null===(n=null==m?void 0:m.onInternalLinkClick)||void 0===n?void 0:n.call(m,t.event)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onInternalLinkClick]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onPositionOutOfRange",((e,t)=>{var n;null===(n=null==m?void 0:m.onPositionOutOfRange)||void 0===n||n.call(m,t.event)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onPositionOutOfRange]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onClick",((e,t)=>{var n;const i=t.point.x,r=t.point.y;if(xe.current){const e=xe.current.getBoundingClientRect();if(e.left<i&&i<e.right&&e.top<r&&r<e.bottom)return void rt()}if(Ie.current){const e=Ie.current.getBoundingClientRect();if(e.left<i&&i<e.right&&e.top<r&&r<e.bottom)return void ot()}if(Le.current){const e=Le.current.getBoundingClientRect();if(e.left<i&&i<e.right&&e.top<r&&r<e.bottom)return void st()}if(Me.current){const e=Me.current.getBoundingClientRect();if(e.left<i&&i<e.right&&e.top<r&&r<e.bottom)return void at()}ye&&ye.handleClick&&ye.handleClick(t.point.x,t.point.y),null===(n=null==m?void 0:m.onClick)||void 0===n||n.call(m,t.point)}));return()=>{y().unsubscribe(e)}}),[ye,null==m?void 0:m.onClick]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onDoubleClick",((e,t)=>{var n;ye&&ye.handleDoubleClick&&ye.handleDoubleClick(t.point.x,t.point.y),null===(n=null==m?void 0:m.onDoubleClick)||void 0===n||n.call(m,t.point)}));return()=>{y().unsubscribe(e)}}),[ye,null==m?void 0:m.onDoubleClick]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onSwipeLeft",ot);return()=>{y().unsubscribe(e)}}),[ot]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onSwipeRight",rt);return()=>{y().unsubscribe(e)}}),[rt]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onSwipeUp",at);return()=>{y().unsubscribe(e)}}),[at]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onSwipeDown",st);return()=>{y().unsubscribe(e)}}),[st]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onScroll",(()=>{var e;return null===(e=null==m?void 0:m.onScroll)||void 0===e?void 0:e.call(m)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onScroll]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onSupportedSettingsUpdated",((e,n)=>{var i,r,o,s;const a={supportedFontFamilies:n.supportedSettings.fontFamilies,canChangeFontSize:n.supportedSettings.fontSize,supportedColorThemes:n.supportedSettings.colorThemes,canChangeMaxNumberColumns:n.supportedSettings.maxNumberColumns&&!(null===(i=n.metadata)||void 0===i?void 0:i.childrenBook),supportedNavigationModes:n.supportedSettings.navigationModes,canChangeSideMargins:n.supportedSettings.marginLeft&&n.supportedSettings.marginRight&&!(null===(r=n.metadata)||void 0===r?void 0:r.childrenBook)&&!(null===(o=n.metadata)||void 0===o?void 0:o.comicBook),canZoom:n.supportedSettings.zoomPercent,canChangeAnimationDuration:!!n.supportedSettings.guidedViewSettings,canChangeNavigationDirection:!!n.supportedSettings.navigationDirections&&!!n.supportedSettings.animatePageTurn};dt(t),null===(s=null==m?void 0:m.onSupportedSettingsLoaded)||void 0===s||s.call(m,a)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onSupportedSettingsLoaded,t]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onBookMetadataLoaded",((e,t)=>{var n;null===(n=null==m?void 0:m.onBookMetadataLoaded)||void 0===n||n.call(m,t.metadata)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onBookMetadataLoaded]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onInitializationError",((e,t)=>{var n;null===(n=null==m?void 0:m.onInitializationError)||void 0===n||n.call(m,t.e)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onInitializationError]),(0,i.useEffect)((()=>{const t=y().subscribe(re+"rendererCallbacks:onError",((t,i)=>{var r;if(i.error instanceof v.InformativeError)console.debug("[Renderer][InformativeError] Occurred from the renderer client",i.error);else{De(!1);const t="string"==typeof i.error?"ErrorAsString":i.error.name,o="string"==typeof i.error?i.error:i.error.message;Ke.recordCountMetrics(`Renderer:Error:${t}`,1),Ke.recordCountMetrics(`Renderer:Error:${i.type}:${t}`,1);const s=JSON.stringify(e),a=`\n                    [Renderer]: ${i.type} failed for book information = ${s} on position = ${n}\n                    with error [name = ${t} and message = ${o}]\n                `,c=new T(a,i.type);null===(r=null==m?void 0:m.onError)||void 0===r||r.call(m,c),(0,k.l)(c)}}));return()=>{y().unsubscribe(t)}}),[e,null==m?void 0:m.onError,n]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onZoom",((e,t)=>{var n;null===(n=null==m?void 0:m.onZoom)||void 0===n||n.call(m,t.percentage)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onZoom]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onPagination",(()=>{var e;return null===(e=null==m?void 0:m.onPagination)||void 0===e?void 0:e.call(m)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onPagination]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onFirstRenderCompleted",(()=>{var e;return null===(e=null==m?void 0:m.onFirstRenderCompleted)||void 0===e?void 0:e.call(m)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onFirstRenderCompleted]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onBeforeStartRendering",(()=>{var e;return null===(e=null==m?void 0:m.onBeforeStartRendering)||void 0===e?void 0:e.call(m)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onBeforeStartRendering]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onRenderingSettingsLoaded",((e,t)=>{var n;null===(n=null==m?void 0:m.onRenderingSettingsLoaded)||void 0===n||n.call(m,t.renderingSettings)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onRenderingSettingsLoaded]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onViewingModeChange",((e,t)=>{var n;null===(n=null==m?void 0:m.onViewingModeChange)||void 0===n||n.call(m,t.event)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onViewingModeChange]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onAddAnnotationsRange",((e,t)=>{var n;null===(n=null==m?void 0:m.onAddAnnotationsRange)||void 0===n||n.call(m,t.start,t.end)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onAddAnnotationsRange]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onEndOfBook",((e,t)=>{var n;null===(n=null==m?void 0:m.onEndOfBook)||void 0===n||n.call(m,t.readingStatus)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onEndOfBook]),(0,i.useEffect)((()=>{const e=y().subscribe(re+"rendererCallbacks:onExceedingBoundsChanged",((e,t)=>{var n;null===(n=null==m?void 0:m.onExceedingBoundsChanged)||void 0===n||n.call(m,t.exceedingValue)}));return()=>{y().unsubscribe(e)}}),[null==m?void 0:m.onExceedingBoundsChanged]),(0,i.useEffect)((()=>{var i;e&&ae.current&&(i=n,S(void 0,void 0,void 0,(function*(){if(!(N>=2&&N<=6))throw new T(`Number of pages to request should be in the range 2 to 6. Got ${N}.`,"BatchSize");De(!0),yield Ke.asyncTimeExecution("BookOpen",(()=>S(void 0,void 0,void 0,(function*(){var n,r;const o=ae.current;if(o){o.innerHTML="",ce.current&&((0,_.nJ)(ce.current),(0,_.EQ)(ce.current));const a=document.createElement("div");a.id="kr-renderer",o.append(a);const u=e=>{we(e),le.current=e};let l;const h={bookInformation:e,renderSettings:Object.assign({},t),rendererSettings:{container:a,scrollContainer:null!==(n=null==L?void 0:L.current)&&void 0!==n?n:void 0,interactionLayer:null!==(r=ce.current)&&void 0!==r?r:void 0,fullPage:oe,enableInteractivity:!0,enablePinchHandler:R,requireHighResolutionImages:M,requireGuidedViewMetadata:j,imageSecurityEnabled:D,rendererMetricsService:Ke,renderingService:s,renderBatchSize:N,bundleImages:F,mountPageCanvas:B,canvasPoolSize:U,canvasPixelRatio:z,enablePagePanning:H,rendererCallBacks:{onPositionChange:(e,t)=>{y().publish(re+"rendererCallbacks:onPositionChange",{currentPosition:e,endPosition:t})},onNoteClick:e=>{y().publish(re+"rendererCallbacks:onNoteClick",{event:e})},onHighlightClick:(e,t,n)=>{y().publish(re+"rendererCallbacks:onHighlightClick",{highlightStartPosition:e,highlightEndPosition:t,highlightRangeClass:n})},onSelectionEnded:(e,t,n)=>S(void 0,void 0,void 0,(function*(){y().publish(re+"rendererCallbacks:onSelectionEnded",{tokens:e,container:t,selectionClass:n})})),onRendererStatusChanged:e=>{y().publish(re+"rendererCallbacks:onRendererStatusChanged",{status:e})},onInternalLinkClick:e=>{y().publish(re+"rendererCallbacks:onInternalLinkClick",{event:e})},onPositionOutOfRange:e=>{y().publish(re+"rendererCallbacks:onPositionOutOfRange",{event:e})},onClick:e=>{y().publish(re+"rendererCallbacks:onClick",{point:e})},onDoubleClick:e=>{y().publish(re+"rendererCallbacks:onDoubleClick",{point:e})},onSwipeLeft:e=>{y().publish(re+"rendererCallbacks:onSwipeLeft",{point:e})},onSwipeRight:e=>{y().publish(re+"rendererCallbacks:onSwipeRight",{point:e})},onSwipeUp:e=>{y().publish(re+"rendererCallbacks:onSwipeUp",{point:e})},onSwipeDown:e=>{y().publish(re+"rendererCallbacks:onSwipeDown",{point:e})},onScroll:()=>{y().publish(re+"rendererCallbacks:onScroll")},onZoom:e=>{y().publish(re+"rendererCallbacks:onZoom",{percentage:e})},onViewingModeChange:e=>{y().publish(re+"rendererCallbacks:onViewingModeChange",{event:e})},onAddAnnotationsRange:(e,t)=>{y().publish(re+"rendererCallbacks:onAddAnnotationsRange",{start:e,end:t})},onEndOfBook:e=>{y().publish(re+"rendererCallbacks:onEndOfBook",{readingStatus:e})},onExceedingBoundsChanged:e=>{y().publish(re+"rendererCallbacks:onExceedingBoundsChanged",{exceedingValue:e})}}},skipNavigationToInternalLink:!W},d=new c.DefaultBookRendererFactory(h);y().publish(re+"rendererCallbacks:onBeforeStartRendering");const f=yield null==Ke?void 0:Ke.asyncTimeExecution("RendererBuild",(()=>d.build()));if(u(f),i?yield f.goToPosition(i):yield f.render(),De(!1),y().publish(re+"rendererCallbacks:onFirstRenderCompleted"),y().publish(re+"rendererCallbacks:onRenderingSettingsLoaded",{renderingSettings:f.getSettings()}),f.getMetadata&&(l=yield f.getMetadata(),l.comicBook||l.publisherPanel?Ue("comic"):l.childrenBook&&Ue("children"),He(l.regionMagnification||l.publisherPanel),ue.current=l.pageProgressionDirection,Je(),null==m?void 0:m.onBookMetadataLoaded)){const e=yield f.getTableOfContents();y().publish(re+"rendererCallbacks:onBookMetadataLoaded",{metadata:Object.assign(Object.assign({},l),{positionMapper:f.getPositionMapper?f.getPositionMapper():void 0,supportsAnnotations:f.canAnnotate(),tableOfContent:e.length>0?e:void 0,supportsSearch:f.canSearch()})})}y().publish(re+"rendererCallbacks:onSupportedSettingsUpdated",{supportedSettings:f.getSupportedSettings(),metadata:l}),m&&m.onClearSelectionHandlerLoaded&&f.clearSelection&&m.onClearSelectionHandlerLoaded(lt),m&&m.onNavigateHandlerLoaded&&m.onNavigateHandlerLoaded(it),f.handleDoubleClick&&_e(!0),Ee("Paginated"===f.getSettings().navigationMode),Ge(f.getSettings().navigationDirection),me(a)}}))))}))).catch((e=>{const t={type:"BookOpen",error:e};y().publish(re+"rendererCallbacks:onError",t),y().publish(re+"rendererCallbacks:onInitializationError",{e:e})}))}),[e,s,ae]),(0,i.useEffect)((()=>{var e,t;x&&le.current&&(null===(e=le.current)||void 0===e?void 0:e.setAnnotations)&&(null===(t=le.current)||void 0===t||t.setAnnotations(x))}),[x,ye]),(0,i.useEffect)((()=>{var e;ye&&Fe(null!==(e=ye.getSettings().colorTheme)&&void 0!==e?e:"White")}),[ye]),(0,p.r)((()=>{dt(t)}),[t]),(0,p.r)((()=>{ye&&null!=n&&r===c.NavigationAction.JUMP&&(De(!0),Qe("None"),ye.goToPosition(n).then((()=>{De(!1),Je()})).catch((e=>{const t={type:"Navigation",error:e};y().publish(re+"rendererCallbacks:onError",t)})))}),[n,r]),(0,i.useEffect)((()=>{ae.current&&(ae.current.style.overflow=ke?"hidden":"")}),[ae.current,ke]);const ft=null!==(X=null===(K=t.chevronStyle)||void 0===K?void 0:K.shape)&&void 0!==X?X:function(){const e=(0,d.getPlatforms)();return e.includes("desktop")||e.includes("tablet")||window.innerWidth>=750?"round":"block"}(),pt=null!==(Z=t.colorTheme)&&void 0!==Z?Z:"White";return i.createElement(i.Fragment,null,("comic"===Be||"children"===Be)&&ze&&V&&i.createElement(g.g,{bookType:Be}),i.createElement(a,{mountedInFullPage:oe,reference:ce},i.createElement(f.M,{when:be,withElement:e=>i.createElement(u.a,{rendererContainer:ve,onDoubleClick:ut,onClick:ct,leftAction:rt,rightAction:ot,upAction:st,downAction:at,navigationDirection:null!=Ve?Ve:"Horizontal"},e)},i.createElement(i.Fragment,null,q,ke&&"Horizontal"===Ve&&i.createElement(l.t,{showPaginationChevrons:C,leftMinWidth:null!==(Q=null===(J=t.chevronStyle)||void 0===J?void 0:J.containerTapWidth)&&void 0!==Q?Q:t.marginLeft,rightMinWidth:null!==(te=null===(ee=t.chevronStyle)||void 0===ee?void 0:ee.containerTapWidth)&&void 0!==te?te:t.marginRight,showLeftChevron:Pe,showRightChevron:Se,leftAreaRef:xe,rightAreaRef:Ie,leftAction:rt,rightAction:ot,leftButtonClass:"chevron "+ft,rightButtonClass:"chevron "+ft+" right",leftButtonText:Xe,rightButtonText:Ze,enableKeyboardNavigation:I,pageProgressionDirection:ue.current,colorTheme:G?pt:void 0}),ke&&"Vertical"===Ve&&i.createElement(E._,{topMinHeight:null===(ne=t.chevronStyle)||void 0===ne?void 0:ne.containerTapWidth,bottomMinHeight:null===(ie=t.chevronStyle)||void 0===ie?void 0:ie.containerTapWidth,topAreaRef:Le,bottomAreaRef:Me,leftAction:rt,rightAction:ot,upAction:st,downAction:at,showTopPane:Re,showBottomPane:Ae,enableKeyboardNavigation:I}),void 0===A&&i.createElement(o,{ref:ae,fullPage:oe})))),je&&i.createElement(h.U,{theme:Ne}))}},122:(e,t,n)=>{n.d(t,{k:()=>s});var i=n(156),r=n.n(i),o=n(669);const s=({gestureType:e,actionType:t})=>{const n=(0,i.useMemo)((()=>"click"===t?(0,o.I)("tutorial-children-click-instruction-3","To zoom out, double-click the text area again."):(0,o.I)("tutorial-children-tap-instruction-3","To zoom out, double-tap the text area again.")),[t]);return r().createElement(r().Fragment,null,r().createElement("div",null,r().createElement("div",{className:"children-tutorial-image-container"},r().createElement("div",{className:"children-tutorial-image left"}),r().createElement("div",{className:"children-image-text"},(0,o.I)("children-image-text","Through chilly water, the animals swam until they reached an island beach just before dawn.")),r().createElement("div",{className:`tutorial-gesture ${e} children`})),r().createElement("div",{className:"children-tutorial-image-container right"},r().createElement("div",{className:"children-tutorial-image right"}),r().createElement("div",{className:"children-image-text right"},(0,o.I)("children-image-text"," Through chilly water, the animals swam until they reached an island beach just before dawn.")))),r().createElement("div",{className:"tutorial-instruction title-3 children"},n))}},469:(e,t,n)=>{n.d(t,{X:()=>s});var i=n(156),r=n.n(i),o=n(669);const s=({gestureType:e,actionType:t})=>{const n=(0,i.useMemo)((()=>"click"===t?(0,o.I)("tutorial-comic-click-instruction-3","To zoom out, double-click the panel again."):(0,o.I)("tutorial-comic-tap-instruction-3","To zoom out, double-tap the panel again.")),[t]);return r().createElement(r().Fragment,null,r().createElement("div",{className:"comic-tutorial-image-container top"},r().createElement("div",{className:"comic-tutorial-image top"}),r().createElement("div",{className:"tutorial-comic-text normal"},(0,o.I)("comic-image-text","WE KNOW ABOUT THE DOOMSDAY MACHINE!")),r().createElement("div",{className:`tutorial-gesture ${e} comic`})),r().createElement("div",{className:"tutorial-instruction title-2"},(0,o.I)("tutorial-instruction-2","Flip left or right to navigate through panels.")),r().createElement("div",{className:"comic-tutorial-image-container  bottom"},r().createElement("div",{className:"comic-tutorial-image bottom"}),r().createElement("div",{className:"tutorial-comic-text zoomed"},(0,o.I)("comic-image-text","WE KNOW ABOUT THE DOOMSDAY MACHINE!"))),r().createElement("div",{className:"tutorial-instruction title-3 comic"},n))}},537:(e,t,n)=>{n.d(t,{g:()=>l});var i=n(156),r=n.n(i),o=n(164),s=n(669),a=n(469),c=n(122),u=n(653);const l=({bookType:e})=>{const[t,n]=(0,i.useState)(!1),l=(0,i.useCallback)((()=>{localStorage.getItem(`kcrNotifications.zTutorial.${e}`)||(n(!0),localStorage.setItem(`kcrNotifications.zTutorial.${e}`,"1"))}),[e]);(0,i.useEffect)((()=>{l()}),[l]);const h=(0,i.useMemo)((()=>{const{touchScreen:e}=(0,u.f)();return e?"hand":"mouse"}),[]),d=(0,i.useMemo)((()=>{const{touchScreen:e}=(0,u.f)();return e?"tap":"click"}),[]),f=(0,i.useMemo)((()=>"comic"===e?"click"===d?(0,s.I)("tutorial-comic-click-instruction-1","Double-click the panel to zoom in."):(0,s.I)("tutorial-comic-tap-instruction-1","Double-tap the panel to zoom in."):"click"===d?(0,s.I)("tutorial-children-click-instruction-1","Double-click the text area to zoom in."):(0,s.I)("tutorial-children-tap-instruction-1","Double-tap the text area to zoom in.")),[d,e]);return r().createElement(o.IonModal,{cssClass:`tutorial ${e}`,isOpen:t,showBackdrop:!1,onWillDismiss:()=>{n(!1)},animated:!1},r().createElement("div",{className:"tutorial-container"},r().createElement("div",{className:"tutorial-title"},"comic"===e?(0,s.I)("tutorial-comic-title","Panel-Zoom Tips"):(0,s.I)("tutorial-children-title","Text-Zoom Tips"),r().createElement("button",{slot:"end",className:"tutorial-button",onClick:()=>{n(!1)}})),r().createElement("div",{className:"tutorial-instruction title-1"},f),"comic"===e&&r().createElement(a.X,{gestureType:h,actionType:d}),"children"===e&&r().createElement(c.k,{gestureType:h,actionType:d})))}},398:(e,t,n)=>{n.d(t,{r:()=>r});var i=n(156);const r=(e,t)=>{const n=(0,i.useRef)(!1);(0,i.useEffect)((()=>{n.current?e():n.current=!0}),t)}},256:(e,t,n)=>{n.d(t,{u:()=>i});class i{recordCountMetrics(e,t){console.debug(`Emit count metric: ${e}: ${t}`)}recordTimeMetrics(e,t){console.debug(`Emit time metric: ${e}: ${t} ms`)}}},13:(e,t,n)=>{n.d(t,{l:()=>i});const i=e=>{window.dispatchEvent(new CustomEvent("customError",{detail:e}))}},653:(e,t,n)=>{n.d(t,{f:()=>i});const i=()=>({touchScreen:navigator.maxTouchPoints>1,hoverSupported:window.matchMedia("(any-hover:hover)").matches})},133:(e,t,n)=>{n.d(t,{G:()=>o});var i=n(269);function r(e,t,n,i){return r=>{const o=e=>{e.stopPropagation(),e.preventDefault(),t(e)},s=()=>{var t;null===(t=e.parentElement)||void 0===t||t.dispatchEvent(r)},a=()=>{e.removeEventListener(i,o),e.removeEventListener(n,s),e.removeEventListener(i,a),e.removeEventListener(n,a)};e.addEventListener(i,o),e.addEventListener(n,s),e.addEventListener(i,a),e.addEventListener(n,a),r.stopPropagation()}}function o(e,t){const n=r(e,t,"touchmove","touchend"),o=r(e,t,"mousemove","mouseup");return e.addEventListener("touchstart",n),e.addEventListener("mousedown",o),e.addEventListener("touchend",i.PF),()=>{e.removeEventListener("touchstart",n),e.removeEventListener("mousedown",o),e.removeEventListener("touchend",i.PF)}}},269:(e,t,n)=>{n.d(t,{Gd:()=>s,PF:()=>c,Qi:()=>r,UW:()=>u,l6:()=>o,v2:()=>a});let i=0;function r(e){i=e.touches[0].clientY}function o(e){const t=e.touches[0].clientY,n=t-i;i=t;const r=e.currentTarget;!(r.scrollHeight>r.clientHeight)||n>0&&0===r.scrollTop||n<0&&r.scrollHeight===r.scrollTop+r.clientHeight||e.stopPropagation()}function s(e){e&&e.addEventListener("touchmove",c)}function a(e){e&&e.removeEventListener("touchmove",c)}function c(e){e.preventDefault()}function u(e){e.stopPropagation()}},952:(e,t,n)=>{n.d(t,{Ch:()=>i,EQ:()=>o,nJ:()=>s});const i=e=>e.filter((e=>null!=e)).join(" "),r=new Map,o=e=>{if(!r.has(e)){r.set(e,[]);const t=e.addEventListener;e.addEventListener=function(...n){var i;null===(i=r.get(e))||void 0===i||i.push(n),t.apply(this,n)}}},s=e=>{const t=r.get(e);if(void 0===t)return!1;for(;t.length>0;)e.removeEventListener(...t.pop());return!0}},779:t=>{t.exports=e},985:e=>{e.exports=t},404:e=>{e.exports=n},588:e=>{e.exports=i},164:e=>{e.exports=r},724:e=>{e.exports=o},661:e=>{e.exports=s},317:e=>{e.exports=a},456:e=>{e.exports=c},547:e=>{e.exports=u},571:e=>{e.exports=l},156:e=>{e.exports=h},4:e=>{e.exports=d},637:e=>{e.exports=f}},g={};function v(e){var t=g[e];if(void 0!==t)return t.exports;var n=g[e]={exports:{}};return p[e](n,n.exports,v),n.exports}v.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return v.d(t,{a:t}),t},v.d=(e,t)=>{for(var n in t)v.o(t,n)&&!v.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},v.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),v.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var m={};return(0,v(164).setupConfig)({mode:"ios"}),(()=>{v.r(m),v.d(m,{AaMenu:()=>n,AaMenuDisableable:()=>s,AaMenuItem:()=>o,AaMenuItemContext:()=>r,AnimationDurationSlider:()=>d,BottomSheet:()=>x,ChildrenTutorial:()=>Fe.k,ColumnItem:()=>f,ColumnSelector:()=>p,ComicTutorial:()=>Be.X,ConditionalWrapper:()=>I.M,ConsoleMetricsService:()=>We.u,ContentArea:()=>he.ContentArea,DEFAULT_ACCENT_MAP:()=>Ve,DictionariesList:()=>A,DictionaryFullDefinition:()=>M,DictionaryPopover:()=>D,DictionaryPopoverButton:()=>R,DictionaryResult:()=>z,DictionarySelector:()=>H,DisableableInput:()=>u,DisableableIonRange:()=>a,DisableableSpan:()=>c,FontFamilyItem:()=>b,FontFamilySelector:()=>_,FontSizeSlider:()=>E,GoTo:()=>G,InteractionLayer:()=>he.InteractionLayer,Loader:()=>j.a,LoaderFullscreen:()=>W.U,LoaderItem:()=>q.d,LocalSearchPositionsService:()=>Ye,MarginItem:()=>S,MarginSelector:()=>T,ModalContainer:()=>$,NetworkFetch:()=>Je,Notebook:()=>Q,NotebookEditable:()=>oe,NotebookEditableItem:()=>ie,NotebookItem:()=>Y,Overlay:()=>se.a,Pagination:()=>ae.t,PopoverMenu:()=>ue,PopoverMenuItem:()=>le,PositionMapperSearchDecorator:()=>Qe,Renderer:()=>he.Renderer,RendererError:()=>he.RendererError,SEARCH_STOP_WORDS:()=>ze,SHARE_BUTTON_FEEDBACK_TIME:()=>fe,SPECIAL_ACCENT_MAPS:()=>He,SampleShareButton:()=>pe,SampleShareButtonSvg:()=>de,ScrollableList:()=>ge,ScrubberBar:()=>we,SearchComponent:()=>Ae,SearchItem:()=>Te,SearchList:()=>Re,SearchResultsServiceFactory:()=>et,ServerError:()=>Ze,SideMenu:()=>Me,SideMenuCloseButton:()=>Le,SmylSearchIndex:()=>tt,SmylSearchIndexProvider:()=>rt,SmylWordStemmer:()=>st,SrsClient:()=>ct,SrsSearchContextDecorator:()=>ut,SrsSearchContextService:()=>ht,SrsSearchIndexService:()=>dt,TableOfContent:()=>De,ThemeItem:()=>P,ThemeSelector:()=>C,TimeoutError:()=>Xe,ToCNode:()=>je,ToastComponent:()=>Ne,TutorialComponent:()=>Ue.g,VerticalPagination:()=>ce._,VerticalScrubberBar:()=>ke,attachClickHandler:()=>pt.G,buildGroupAnnotations:()=>ee,deleteAnnotationDialogParams:()=>te,dictionaryTitleMap:()=>O,dispatchErrorEvent:()=>ft.l,enableOverscroll:()=>L.v2,findCurrentPositionNotebookEntry:()=>Z,getDeviceCapabilities:()=>ne.f,isNavigationKeyPressed:()=>w,joinClassNames:()=>g.Ch,preventDefault:()=>L.PF,preventOverscroll:()=>L.Gd,preventSpacebarDefaultPropagation:()=>y,removeEventListeners:()=>g.nJ,setupKryptoniteLocalization:()=>gt,stopPropagation:()=>L.UW,touchMoveHandler:()=>L.l6,touchStartHandler:()=>L.Qi,trackEventListeners:()=>g.EQ,useKnobLabel:()=>ve,useSearchResults:()=>Ie,useUpdateEffect:()=>Ge.r});var e=v(156),t=v.n(e);const n=({children:e,alignment:n="center"})=>t().createElement("div",{className:`aa-menu aa-menu--${n}`},e);var i=v(164);const r=t().createContext({disabled:!1}),o=({title:n,children:o,disabled:s=!1,togglableOptions:a={toggleButton:!1,toggleChecked:!1,onToggleChange:void 0,toggleLabel:void 0}})=>{const c=(0,e.useCallback)((()=>a.toggleButton?"aa-menu-item__title_short":"aa-menu-item__title"),[a]),u=(0,e.useCallback)((e=>{a.onToggleChange&&a.onToggleChange(e.detail.checked)}),[a]);return t().createElement(r.Provider,{value:{disabled:s}},t().createElement("div",{className:`aa-menu-item ${s?"greyscale-disabled":null}`},n&&t().createElement("h4",{className:c()},n),a.toggleButton&&t().createElement(i.IonToggle,{checked:a.toggleChecked,className:"aa-menu-item__toggle",onIonChange:u,"aria-label":a.toggleLabel}),o))};const s=e=>{const n=t().forwardRef(((n,i)=>{var{children:o}=n,s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(n,["children"]);return t().createElement(r.Consumer,null,(({disabled:n})=>t().createElement(e,Object.assign({},s,n?{disabled:n,tabIndex:-1}:{},{ref:i}),o)))}));return n.displayName=e.displayName,n},a=s(i.IonRange),c=s(t().createElement("span",null).type),u=s(t().createElement("input",null).type);var l=v(669);const h=[1e3,900,800,700,600,500,400,300,200,100],d=({selectedAnimationDuration:n=600,animationDurations:r=h,onAnimationDurationChange:o,disabled:s=!0})=>{const a=(0,e.useCallback)((()=>[...r].sort(((e,t)=>t-e))),[r])(),c=(0,e.useCallback)((e=>a.findIndex((t=>e>=t||e<a[a.length-1]))),[a])(n),u=(0,e.useCallback)((()=>["animation-duration-slider__text","animation-duration-slider__text--title",s?"animation-duration-slider__text--gray":""].join(" ")),[s]);return t().createElement(t().Fragment,null,t().createElement(i.IonText,{className:"animation-duration-slider__text"},(0,l.I)("aa_menu_animation_duration_description","Apply motion when moving from panel-to-panel. Adjust slider left or right to change the speed of transitions.")),t().createElement(i.IonRange,{value:c,min:0,max:r.length-1,step:1,snaps:!0,"aria-label":(0,l.I)("aa_menu_animation_duration_slider","Choose your preferred transition speed"),className:"animation-duration-slider",itemID:"animation_duration_range",onIonChange:e=>{const t=parseInt(e.detail.value.toString(),10);o(a[t])},debounce:200,disabled:s},t().createElement("span",{className:"animation-duration-slider__label animation-duration-slider__label--start",slot:"start",role:"button",tabIndex:0,"aria-label":(0,l.I)("aa_menu_animation_duration_slider_decrease","Decrease transition speed"),onClick:()=>{c>0&&o(a[c-1])}},"1x"),t().createElement("span",{className:"animation-duration-slider__label animation-duration-slider__label--end",slot:"end",role:"button",tabIndex:0,"aria-label":(0,l.I)("aa_menu_animation_duration_slider_increase","Increase transition speed"),onClick:()=>{c<r.length-1&&o(a[c+1])}},"10x")),t().createElement(i.IonText,{className:u()},(0,l.I)("aa_menu_animation_duration_slider_title","Transition Speed")))},f=({numberOfColumns:e,isSelected:n,onSelectionChange:i,label:r})=>t().createElement("div",{className:`column-item column-item--${e}`,tabIndex:0},t().createElement(u,{"aria-label":r,id:`columns-${e}`,value:e,type:"radio",name:"column-selector",onChange:i,checked:n}),t().createElement("label",{htmlFor:`columns-${e}`}),t().createElement("span",{className:"column-item__label"},r)),p=({selectedNumberOfColumns:n,onNumberOfColumnChange:i})=>{const[r,o]=(0,e.useState)(n),s=[{numberOfColumns:2,label:(0,l.I)("aa_menu_columns_two","Two Columns")},{numberOfColumns:1,label:(0,l.I)("aa_menu_columns_one","Single Column")}];return t().createElement("div",{className:"column-selector",role:"radiogroup","aria-label":(0,l.I)("aa_menu_column_selector","Choose your preferred number of columns")},s.map(((e,n)=>t().createElement(f,{key:n,isSelected:r===e.numberOfColumns,label:e.label,numberOfColumns:e.numberOfColumns,onSelectionChange:()=>{return t=e.numberOfColumns,o(t),void i(t);var t}}))))};var g=v(952);const y=e=>{e instanceof KeyboardEvent&&" "===e.key&&e.preventDefault()},w=e=>"Enter"===e.key||" "===e.key,b=e=>t().createElement("div",{className:(0,g.Ch)(["font-family-item",`font-family-item--${e.fontFamily.toLowerCase()}`,e.disabled?"greyscale-disabled":null])},t().createElement(c,{id:e.fontFamily,className:"font-family-selector",disabled:e.disabled,tabIndex:0,role:"radio","aria-checked":e.isSelected,onKeyDown:t=>{w(t)&&(t.preventDefault(),y(t),e.onSelectionChange())},onClick:e.onSelectionChange},t().createElement("span",{className:"font-family-item__icon"}),t().createElement("label",{className:"font-family-item__label",htmlFor:e.fontFamily},e.label))),_=({selectedFontFamily:e,onFontFamilyChange:n,supportedFonts:i,disabledFonts:r=[]})=>t().createElement("div",{className:"font-size-selector",role:"radiogroup","aria-label":(0,l.I)("aa_menu_font_family_selector","Choose your preferred font")},[{font:"Bookerly",label:"Bookerly"},{font:"AmazonEmber",label:"Amazon Ember"},{font:"OpenDyslexic",label:"OpenDyslexic"},{font:"TBMincho",label:"明朝"},{font:"TBGothic",label:"ゴシック"},{font:"STHeitiSC",label:"黑体"},{font:"STSongSC",label:"宋体"},{font:"STHeitiTC",label:"黑體"},{font:"STSongTC",label:"黑体"}].filter((e=>[i,r].some((t=>t.includes(e.font))))).map(((i,o)=>t().createElement(b,{key:o,isSelected:e===i.font,disabled:r.includes(i.font),label:i.label,fontFamily:i.font,onSelectionChange:()=>{return e=i.font,void n(e);var e}})))),k=[11,12.3,13.9,15.6,17.6,19.8,22.3,25,28.2,31.7,35.7,40.1,45.2,50.8],E=({selectedFontSize:n=4,fontSizes:i=k,onFontSizeChange:r})=>{const o=i.length-1,s=(0,e.useCallback)((e=>{if(i&&i.length>0){if(e<i[0])return 0;for(let t=0;t<i.length;t++){if(i[t]===e)return t;if(i[t]>e)return Math.max(0,t-1)}return i.length-1}return 0}),[i]),u=(0,e.useMemo)((()=>s(n)),[s,n]),h=e=>{y(e),(e.nativeEvent instanceof MouseEvent||w(e))&&u>0&&r(u-1,i[u-1])},d=e=>{y(e),(e.nativeEvent instanceof MouseEvent||w(e))&&u<i.length-1&&r(u+1,i[u+1])};return t().createElement(a,{value:u,min:0,max:o,step:1,snaps:!0,"aria-label":(0,l.I)("aa_menu_font_size_slider","Choose your preferred font size"),className:"font-size-slider",itemID:"font_size_range",onIonChange:e=>{const t=parseInt(e.detail.value.toString(),10);r(t,i[t])},debounce:200,onKeyDown:e=>{"Home"===e.key?r(0,i[0]):"End"===e.key&&r(o,i[o])}},t().createElement(c,{className:"font-size-slider__label font-size-slider__label--start",slot:"start",role:"button",tabIndex:0,"aria-label":(0,l.I)("aa_menu_font_size_slider_decrease","Decrease font size"),onClick:h,onKeyPress:e=>h(e)},"A"),t().createElement(c,{className:"font-size-slider__label font-size-slider__label--end",slot:"end",role:"button",tabIndex:0,"aria-label":(0,l.I)("aa_menu_font_size_slider_increase","Increase font size"),onClick:d,onKeyPress:e=>d(e)},"A"))},S=({margin:e,isSelected:n,onSelectionChange:i,label:r})=>t().createElement("div",{className:`margin-item margin-item--${e.toLowerCase()}`,tabIndex:0},t().createElement(u,{"aria-label":r,id:e,value:e,type:"radio",name:"margin-selector",onChange:i,checked:n}),t().createElement("label",{htmlFor:e}),t().createElement("span",{className:"margin-item__label"},r)),T=({selectedMargin:n,onMarginChange:i})=>{const[r,o]=(0,e.useState)(n),s=[{marginSize:"narrow",label:(0,l.I)("aa_menu_margin_narrow","Narrow")},{marginSize:"medium",label:(0,l.I)("aa_menu_margin_medium","Medium")},{marginSize:"wide",label:(0,l.I)("aa_menu_margin_wide","Wide")}];return t().createElement("div",{className:"margin-selector",role:"radiogroup","aria-label":(0,l.I)("aa_menu_margin_selector","Choose your preferred margin size")},s.map(((e,n)=>t().createElement(S,{key:n,isSelected:r===e.marginSize,label:e.label,margin:e.marginSize,onSelectionChange:()=>{return t=e.marginSize,o(t),void i(t);var t}}))))},P=({isSelected:e,theme:n,ariaLabel:i,onSelectionChange:r,cssClass:o})=>t().createElement("div",{className:`theme-item ${o}`,itemID:`theme-${n.toString()}`},t().createElement(u,{"aria-label":i,id:`theme-${n.toString()}`,value:n,type:"radio",name:"theme-selector",onChange:r,checked:e}),t().createElement("label",{htmlFor:`theme-${n.toString()}`,tabIndex:0})),C=({selectedTheme:n="White",onThemeChange:i})=>{const[r,o]=(0,e.useState)(n),s=[{theme:"White",ariaLabel:(0,l.I)("aa_menu_theme_white","White"),cssClass:"theme-item--default"},{theme:"Dark",ariaLabel:(0,l.I)("aa_menu_theme_dark","Dark"),cssClass:"theme-item--dark"},{theme:"Sepia",ariaLabel:(0,l.I)("aa_menu_theme_sepia","Sepia"),cssClass:"theme-item--sepia"},{theme:"Green",ariaLabel:(0,l.I)("aa_menu_theme_green","Green"),cssClass:"theme-item--green"}];return t().createElement("div",{className:"theme-selector",role:"radiogroup","aria-label":(0,l.I)("aa_menu_theme_selector","Choose your preferred theme")},s.map(((e,n)=>t().createElement(P,{key:n,onSelectionChange:()=>{return t=e.theme,o(t),void i(t);var t},isSelected:r===e.theme,theme:e.theme,ariaLabel:e.ariaLabel,cssClass:e.cssClass}))))},x=({isOpen:n,onCloseBottomSheet:r,onDidOpen:o,withBackdrop:s=!0,children:a})=>{const c=(0,e.useMemo)((()=>["bottom-sheet",s?"":"bottom-sheet-ignore-backdrop"]),[s]);return t().createElement(i.IonModal,{cssClass:c.join(" "),isOpen:n,swipeToClose:!0,showBackdrop:!1,onDidDismiss:r,onDidPresent:o},t().createElement("div",{className:"bottom-sheet-handle"}),a)};var I=v(434);const R=({isOpen:n=!0,onClick:i,buttonTitle:r,className:o,hasChevron:s=!1})=>{const[a,c]=(0,e.useState)("dropdown-collapsed");return t().createElement(t().Fragment,null,n&&t().createElement("button",{onClick:s?()=>{c("dropdown-collapsed"===a?"dropdown-expanded":"dropdown-collapsed"),i()}:i,className:o},r,s&&t().createElement("div",{id:"dropdownChevron",className:a})))},O={"en-GB":"English (UK)","en-US":"English (US)",es:"Español"},A=({dictionariesList:e,currentDictionary:n,onItemClick:i})=>t().createElement("ul",{className:"dictionariesList"},e.map((e=>e.asin&&t().createElement("li",{className:"dictionariesListItem",key:e.asin},t().createElement(R,{onClick:()=>i(e.asin),buttonTitle:O[e.localeFrom]?O[e.localeFrom]:(0,l.I)("dictionary_header","Dictionary"),className:n===e.asin?"currentDictionary":""}))))),$=({id:e,className:n,title:r,isOpen:o,onClose:s,showBackdrop:a=!0,animated:c=!0,children:u})=>t().createElement(i.IonModal,{cssClass:`${n} large-modal-container`,isOpen:o,swipeToClose:!1,showBackdrop:a,onDidDismiss:s,animated:c},t().createElement(i.IonHeader,{className:"ion-no-border",itemID:`${e}-header`},t().createElement(i.IonTitle,{itemID:`${e}-header-title`},r),t().createElement("button",{id:`${e}-header-close-img`,className:"closeButton",title:(0,l.I)("close","Close"),onClick:s})),u);var L=v(269);const M=({isOpen:n,onClose:r,wordDefinitions:o,children:s,showBackdrop:a,animated:c})=>{const u=(0,e.createRef)(),h=(0,e.useMemo)((()=>o&&(e=>e.map(((e,n)=>t().createElement(i.IonItem,{key:n},t().createElement("div",null,t().createElement(i.IonTitle,null,e.word),t().createElement(i.IonText,null,e.definitions&&e.definitions.map((e=>{const n={__html:`${e.definition}`};return t().createElement("div",{key:e.definition,dangerouslySetInnerHTML:n})}))))))))(o)||s),[o,s]);return(0,e.useEffect)((()=>{var e,t;null===(e=u.current)||void 0===e||e.addEventListener("touchstart",L.Qi),null===(t=u.current)||void 0===t||t.addEventListener("touchmove",L.l6)}),[u]),t().createElement($,{id:"fullDefinition",className:"fullDefinition",title:(0,l.I)("dictionary_full_definition","Full definition"),isOpen:n,showBackdrop:a,animated:c,onClose:r},t().createElement("div",{ref:u,className:"dictionaryFullDefinitionContent"},t().createElement(i.IonList,{lines:"none"},h)))};var j=v(50);const D=t().forwardRef((({onReady:n,onDictionarySelectorClick:r,onFullDefinitionClick:o,hasDictionariesList:s,dictionariesList:a,onDictionarySelection:c,currentDictionary:u,wordDefinition:h,children:d,errorCode:f,popoverPosition:p,onClick:g,isLoading:v=!1},m)=>{const y=(0,e.createRef)(),[w,b]=(0,e.useState)(!1),[_,k]=(0,e.useState)(!1),E=(0,e.useMemo)((()=>["dictionaryPopover",p,w?"dictionaryPopoverWithDropdown":""]),[p,w]),S=(0,e.useMemo)((()=>{const e=a.find((e=>e.asin===u));return e&&O[e.localeFrom]?O[e.localeFrom]:null==e?void 0:e.title}),[u,a]),T=(0,e.useMemo)((()=>t().createElement("div",{className:"dictionaryPopoverContent",tabIndex:0},t().createElement("p",null,(0,l.I)("dictionary_not_available","Dictionary not available.")))),[]),P=(0,e.useMemo)((()=>t().createElement("div",{className:"dictionaryPopoverContent",tabIndex:0},t().createElement("p",null,(0,l.I)("dictionary_no_results_found","No results in the {dictionary} dictionary",{dictionary:S})))),[S]),C=(0,e.useCallback)(((e,n)=>t().createElement("div",{ref:y,className:"dictionaryPopoverContent",dangerouslySetInnerHTML:{__html:`<h3>${e}</h3><p>${n}</p>`},tabIndex:0})),[y]),x=(0,e.useMemo)((()=>v?t().createElement(j.a,null):h&&h.definitions.length?C(h.word,h.definitions[0].definition):d?t().createElement("div",{ref:y,className:"dictionaryPopoverContent",tabIndex:0},d):f&&"not-available"===f?T:P),[v,h,d,f,C,P,T]),I=(0,e.useCallback)((()=>b(!w)),[w]),$=(0,e.useCallback)((e=>{c(e),I()}),[c,I]);return(0,e.useEffect)((()=>{var e,t;d||y?(k(!0),null===(e=y.current)||void 0===e||e.addEventListener("touchstart",L.Qi),null===(t=y.current)||void 0===t||t.addEventListener("touchmove",L.l6)):k(!1)}),[d,y]),(0,e.useEffect)((()=>{(u||w)&&n()}),[u,n,w]),t().createElement("div",{ref:m,onClick:g,className:E.join(" ")},t().createElement(i.IonHeader,{className:"ion-no-border",itemID:"dictionaryPopover-header"},t().createElement(i.IonTitle,{itemID:"dictionaryPopover-header-title"},(0,l.I)("dictionary_header","Dictionary"))),t().createElement("div",{className:"dictionaryPopoverContentWrapper"},x),t().createElement("div",{className:"dictionaryPopoverButtonsWrapper"},t().createElement(i.IonRow,null,t().createElement(i.IonCol,{size:"auto",className:"dictionaryPopoverButton--col"},t().createElement(R,{isOpen:!!a.length,onClick:s?I:r,buttonTitle:S,className:s?"dropdownListButton dictionaryPopoverButton":"dictionaryPopoverButton",hasChevron:s})),t().createElement(i.IonCol,{className:"dictionaryPopoverButton--col"},t().createElement(R,{isOpen:_,onClick:o,buttonTitle:(0,l.I)("dictionary_full_definition","Full Definition"),className:"dictionaryPopoverButton dictionaryPopoverButton__fullDefinition"}))),w&&a&&t().createElement(A,{dictionariesList:a,currentDictionary:u,onItemClick:$})))}));D.displayName="DictionaryPopover";const N=e=>e.text||e.children?t().createElement("section",null,t().createElement("h1",null,(0,l.I)(e.labelStringId,e.fallBackTitle)),e.text&&t().createElement("p",{dangerouslySetInnerHTML:{__html:e.text}}),e.children):null,F=e=>{var n;const i=e.definition;return t().createElement(t().Fragment,null,i.context&&t().createElement("p",{dangerouslySetInnerHTML:{__html:i.context}}),i.definition&&t().createElement("p",{dangerouslySetInnerHTML:{__html:i.definition}}),i.info&&t().createElement("p",{dangerouslySetInnerHTML:{__html:i.info}}),i.subDefinitions&&i.subDefinitions.length>0&&t().createElement("ul",null,null===(n=i.subDefinitions)||void 0===n?void 0:n.map((e=>t().createElement("li",{key:e,dangerouslySetInnerHTML:{__html:e}})))),i.orthography&&t().createElement("p",{dangerouslySetInnerHTML:{__html:i.orthography}}),i.morphology&&t().createElement("p",{dangerouslySetInnerHTML:{__html:i.morphology}}))},B=e=>{var n;const i=e.definitionsGroup;return t().createElement(t().Fragment,null,i.partOfSpeech&&t().createElement("span",{className:"word_type"},i.partOfSpeech),i.ipa&&t().createElement("span",{className:"ipa"},i.ipa),t().createElement("ul",null,null===(n=i.definitions)||void 0===n?void 0:n.map((e=>t().createElement("li",{key:e.definition},t().createElement(F,{definition:e}))))))},U=e=>{var n,i,r;const o=e.dictionaryEntry;return t().createElement(t().Fragment,null,t().createElement(N,{labelStringId:"dictionary_result_origin",fallBackTitle:"Origin",text:null===(n=o.origin)||void 0===n?void 0:n.origin},(null===(i=o.origin)||void 0===i?void 0:i.notes)&&(null===(r=o.origin)||void 0===r?void 0:r.notes.length)>0&&t().createElement(t().Fragment,null,t().createElement("h2",null,(0,l.I)("dictionary_result_notes","Notes")),t().createElement("ul",null,o.origin.notes.map((e=>t().createElement("li",{key:e},e)))))),t().createElement(N,{labelStringId:"dictionary_result_derivatives",fallBackTitle:"Derivatives",text:o.derivatives}),t().createElement(N,{labelStringId:"dictionary_result_usage",fallBackTitle:"Usage",text:o.usage}),t().createElement(N,{labelStringId:"dictionary_result_ipa",fallBackTitle:"Ipa",text:o.ipa}),o.relatedWords&&o.relatedWords.length>0&&t().createElement(N,{labelStringId:"dictionary_result_related_words",fallBackTitle:"Related Words"},t().createElement("ul",null,o.relatedWords.map((e=>t().createElement("li",{key:e},e))))),t().createElement(N,{labelStringId:"dictionary_result_morphology",fallBackTitle:"Morphology",text:o.morphology}),o.phrases&&o.phrases.length>0&&t().createElement(N,{labelStringId:"dictionary_result_phrases",fallBackTitle:"Phrases"},t().createElement("ul",null,o.phrases.map((e=>{var n;return e.phrase&&t().createElement("li",{key:e.phrase},t().createElement("p",{dangerouslySetInnerHTML:{__html:e.phrase}}),null===(n=e.definitions)||void 0===n?void 0:n.map((e=>t().createElement("div",{key:e.definition},t().createElement(F,{definition:e})))))})))))},z=e=>{var n;return t().createElement("div",{className:"dictionary_result"},t().createElement("h1",null,e.dictionaryEntry.headword),t().createElement("div",{className:"definition"},null===(n=e.dictionaryEntry.definitionsGroups)||void 0===n?void 0:n.map((e=>{var n;return t().createElement("div",{key:e.definitions&&e.definitions.length>0?e.definitions[0].definition:null!==(n=e.partOfSpeech)&&void 0!==n?n:e.ipa},t().createElement(B,{definitionsGroup:e}))}))),"fullDefinition"===e.renderMode&&t().createElement(U,{dictionaryEntry:e.dictionaryEntry}))},H=({isOpen:e,onClose:n,onDictionarySelection:i,dictionariesList:r,currentDictionary:o})=>t().createElement($,{id:"dictionarySelector",className:"dictionarySelector",title:(0,l.I)("dictionary_header","Dictionary"),isOpen:e,onClose:n},t().createElement(A,{dictionariesList:r,currentDictionary:o,onItemClick:e=>(e=>{i(e),setTimeout(n,500)})(e)}));var V=v(404);const G=({isOpen:t,onClose:n,onGoToButtonClick:r,currentNavigationUnit:o,totalNavigationUnits:s,validateNavigationUnit:a,navigationUnitType:c})=>{const[u,h]=(0,e.useState)(),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)("go-to-modal-input"),v=(0,e.useRef)(null);let m="",y="",w="",b="",_="";const k=()=>(e=>{const t=Number(e);!Number.isNaN(t)&&t>0&&a(e)?(g("go-to-modal-input"),h(e),r(t),f(!1)):(f(!0),g("go-to-modal-input go-to-modal-input-border-error")),h("")})(null!=u?u:"");switch((0,e.useEffect)((()=>{t&&setTimeout((()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.setFocus()}),550)})),c){case V.NavigationUnitType.Location:m=(0,l.I)("go_to_location","Go to Location"),y=(0,l.I)("go_to_location_content","Go to location"),w=(0,l.I)("go_to_location_current","You're on location {currentLocation}.",{currentLocation:o}),b=(0,l.I)("go_to_location_placeholder","location"),_=(0,l.I)("go_to_location_input_error_message","Please input a valid location.");break;case V.NavigationUnitType.Page:m=(0,l.I)("go_to_page","Go to Page"),y=(0,l.I)("go_to_page_content","Go to page"),w=(0,l.I)("go_to_page_current","You're on page {currentPage}.",{currentPage:o}),b=(0,l.I)("go_to_page_placeholder","page number"),_=(0,l.I)("go_to_page_input_error_message","Please input a valid page number.")}return e.createElement(i.IonModal,{cssClass:"go-to-modal",isOpen:t,showBackdrop:!1,onWillDismiss:n,animated:!1},e.createElement(i.IonGrid,{className:"go-to-modal-grid"},e.createElement(i.IonRow,null,e.createElement("h3",{className:"go-to-modal-title"},m)),e.createElement(i.IonRow,{className:"go-to-modal-col-font"},e.createElement(i.IonText,{itemID:"go-to-current-label"},w)),e.createElement(i.IonRow,{className:"go-to-modal-col-font"},e.createElement(i.IonLabel,null,y),e.createElement(i.IonInput,{itemID:"go-to-modal-number-input",ref:v,type:"number",pattern:"[0-9]*",className:p,value:u,placeholder:b,onIonChange:e=>{var t;return h(null!==(t=e.detail.value)&&void 0!==t?t:"")},onKeyPress:e=>(e=>{"Enter"===e.key&&k()})(e)}),e.createElement(i.IonLabel,{className:"kr-go-to-modal-total-navigation-units"},(0,l.I)("go_to_total_navigation_units","of {totalNavigationUnits}.",{totalNavigationUnits:s}))),d&&e.createElement(i.IonRow,{className:"go-to-modal-col-font go-to-modal-error-message"},_),e.createElement(i.IonRow,{className:"go-to-modal-col-font"},e.createElement(i.IonButton,{expand:"full",color:"medium",onClick:()=>{n(),h(""),g("go-to-modal-input"),f(!1)},className:"go-to-modal-button",itemID:"go-to-modal-cancel-button"},(0,l.I)("cancel","Cancel")),e.createElement(i.IonButton,{expand:"full",color:"dark",onClick:()=>k(),className:"go-to-modal-button",itemID:"go-to-modal-go-button"},(0,l.I)("go","Go")))))};var W=v(450),q=v(399);const Y=({notebookEntry:e,onItemClick:n,nearestNotebookEntry:r,nearestNotebookEntryef:o})=>{const s=e===r;return t().createElement(i.IonItem,{ref:s?o:void 0,id:`notebook-item-${e.position}`,onClick:()=>n(e.position),lines:"none",className:"notebook-item"},t().createElement(i.IonLabel,{className:"ion-text-wrap"},t().createElement("div",{className:`notebook-item__highlight-color notebook-item__highlight-color--${e.highlightColor}`}),t().createElement("div",null,t().createElement("p",{className:"notebook-item-label"},e.title),t().createElement("p",{className:"notebook-item-body"},e.body))))};var K=v(724),X=v.n(K);const Z=(e,t)=>{if(e&&t)return e[(0,V.binarySearch)(e,t,J)]},J=(e,t)=>e.position-t,Q=({notebookEntries:n,onItemClick:i,currentPosition:r})=>{const o=(0,e.useRef)(null);let s;const a=X()({strategy:"scroll"}),c=(0,e.useMemo)((()=>void 0!==r?Z(n,r):void 0),[n,r]);(0,e.useEffect)((()=>{var e,t;return null===(e=o.current)||void 0===e||e.addEventListener("touchstart",L.Qi),null===(t=o.current)||void 0===t||t.addEventListener("touchmove",L.l6),()=>{var e,t;null===(e=o.current)||void 0===e||e.removeEventListener("touchstart",L.Qi),null===(t=o.current)||void 0===t||t.removeEventListener("touchmove",L.l6)}}),[o]),(0,e.useLayoutEffect)((()=>{s&&s.scrollIntoView&&(null==s||s.scrollIntoView())}));const u=e=>{s=e};return(0,e.useEffect)((()=>{const e=e=>{e.scrollIntoView({block:"end"})};return s&&setTimeout((()=>{s&&a.listenTo(s,e)}),500),()=>{s&&a.removeListener(s,e)}}),[n,r,s]),t().createElement("div",{className:"scrollable-content",ref:o},null==n?void 0:n.map(((e,n)=>t().createElement(Y,{key:n,notebookEntry:e,onItemClick:i,nearestNotebookEntry:c,nearestNotebookEntryef:u}))))},ee=e=>{let t;const n=new Set;return null==e||e.sort(((e,t)=>e.start>t.start?1:e.start<t.start?-1:0)).map(((i,r)=>{const o=e[r+1];t!==r&&(o&&i.type===V.AnnotationType.Highlight&&o.type===V.AnnotationType.Note&&o.start>=i.start&&o.start<=i.end?(t=r+1,n.add([i,o])):n.add([i]))})),Array.from(n)},te=(e,t)=>{let n,i;switch(t){case V.AnnotationType.Note:n=(0,l.I)("delete_note","Delete Note"),i=(0,l.I)("delete_note_confirmation","Are you sure you want to delete this note? This action cannot be undone.");break;case V.AnnotationType.Bookmark:n=(0,l.I)("delete_bookmark","Delete Bookmark"),i=(0,l.I)("delete_bookmark_confirmation","Are you sure you want to delete this bookmark? This action cannot be undone.");break;case V.AnnotationType.Highlight:n=(0,l.I)("delete_highlight","Delete Highlight"),i=(0,l.I)("delete_highlight_confirmation","Are you sure you want to delete this highlight? This action cannot be undone.");break;default:n=(0,l.I)("delete_item","Delete Item"),i=(0,l.I)("delete_item_confirmation","Are you sure you want to delete this item? This action cannot be undone.")}return{animated:!1,header:n,message:i,buttons:[{text:(0,l.I)("cancel","Cancel"),role:"cancel",cssClass:"secondary"},{text:(0,l.I)("delete","Delete"),handler:()=>e()}]}};var ne=v(653);const ie=({notebookEntry:n,onItemClick:r,nearestNotebookEntry:o,nearestNotebookEntryef:s})=>{const[a,c]=(0,e.useState)(!1),[u,h]=(0,e.useState)(n.body),d=(0,e.useRef)(null),{hoverSupported:f}=(0,ne.f)(),p=f?"notebook-item-hover":"",g=n===o,[v]=(0,i.useIonAlert)(),m=(0,e.useCallback)((e=>{e.stopPropagation(),c(!0),h(n.body)}),[c,h,n.body]),y=(0,e.useCallback)((()=>{c(!1),h(n.body)}),[c,h,n.body]),w=(0,e.useCallback)((e=>{e.stopPropagation(),v(te(n.deleteItem,n.type))}),[v,te,n.deleteItem]);return(0,e.useEffect)((()=>{var e;null===(e=d.current)||void 0===e||e.getInputElement().then((e=>{e.focus(),e.setSelectionRange(u.length,u.length),e.scrollTop=e.scrollHeight}))})),t().createElement(t().Fragment,null,t().createElement(i.IonItem,{ref:g?s:void 0,id:`notebook-item-${n.position}`,lines:"none",className:`notebook-editable-item ${a?"":p} `},t().createElement(i.IonLabel,{className:"ion-text-wrap",onClick:()=>r(n.position)},t().createElement("div",{className:"notebook-editable-item--wrapper"},t().createElement("div",{className:`notebook-editable-item__highlight-color notebook-editable-item__highlight-color--${n.highlightColor}`}),t().createElement(i.IonGrid,null,t().createElement(i.IonRow,null,t().createElement("p",{className:a?"notebook-editable-item-black":"notebook-editable-item-grey"},n.title),t().createElement("div",{className:"actionButtons"},n.editItem&&!a&&t().createElement("div",{className:"notebook-edit",onClick:m}),t().createElement("div",{className:"notebook-delete",onClick:w}))),!a&&t().createElement(i.IonRow,null,t().createElement("p",{className:"notebook-editable-item-black"},n.body)))))),n.editItem&&a&&t().createElement(t().Fragment,null,t().createElement(i.IonTextarea,{value:u,ref:d,className:"notebook-textarea",onIonChange:e=>{var t;return h(null!==(t=e.detail.value)&&void 0!==t?t:"")}}),t().createElement("div",{className:"notebook-container-buttons"},t().createElement(i.IonButton,{expand:"full",color:"medium",size:"small",className:"notebook-container-button",onClick:y},(0,l.I)("cancel","Cancel")),t().createElement(i.IonButton,{expand:"full",color:"dark",size:"small",disabled:!u||0===u.length,className:"notebook-container-button",onClick:()=>{u!==n.body&&n.editItem&&n.editItem(u),y()}},(0,l.I)("save","Save")))))},re=X()({strategy:"scroll"}),oe=({notebookEntries:n,onItemClick:i,currentPosition:r,shouldGroupAnnotations:o})=>{const[s,a]=(0,e.useState)([]),c=(0,e.useRef)(null),[u,l]=(0,e.useState)(),h=(0,e.useMemo)((()=>void 0!==r?Z(n,r):void 0),[n,r]);(0,e.useEffect)((()=>{const e=c.current;return null==e||e.addEventListener("touchstart",L.Qi),null==e||e.addEventListener("touchmove",L.l6),()=>{null==e||e.removeEventListener("touchstart",L.Qi),null==e||e.removeEventListener("touchmove",L.l6)}}),[c]),(0,e.useLayoutEffect)((()=>{u&&u.scrollIntoView&&(null==u||u.scrollIntoView())}));const d=(0,e.useCallback)((e=>{l(e)}),[]);(0,e.useEffect)((()=>{const e=e=>{e.scrollIntoView({block:"end"})};return u&&setTimeout((()=>{u&&re.listenTo(u,e)}),500),()=>{u&&re.removeListener(u,e)}}),[n,r,u]),(0,e.useEffect)((()=>{n&&o&&a(ee(n))}),[o,n]);const f=(0,e.useMemo)((()=>o?null==s?void 0:s.map(((e,n)=>t().createElement("div",{key:n,className:`notebook-editable-item contained-items-${e.length}`}))):null==n?void 0:n.map(((e,n)=>t().createElement(ie,{key:n,notebookEntry:e,onItemClick:i,nearestNotebookEntry:h,nearestNotebookEntryef:d})))),[d,s,h,n,i,o]);return t().createElement("div",{className:"scrollable-content",ref:c},t().createElement("div",{className:"notebook-content"},f))};var se=v(784),ae=v(604),ce=v(922);const ue=({showPopover:t,onHide:n,children:r,className:o})=>e.createElement(i.IonPopover,{cssClass:o,isOpen:t.open,event:t.event,onDidDismiss:n},e.createElement(i.IonList,null,r)),le=({buttonStringId:t,defaultText:n,onClick:r,itemID:o})=>e.createElement(i.IonItem,{button:!0,onClick:r,lines:"none",detail:!1,itemID:o},e.createElement(i.IonLabel,{className:"popover-menu-item"},(0,l.I)(t,n)));var he=v(440);const de=()=>t().createElement("svg",{id:"SampleShareButtonSvg",width:"24px",height:"25",viewBox:"0 0 24 25",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.5625H17C18.6569 7.5625 20 8.90565 20 10.5625C20 12.2194 18.6569 13.5625 17 13.5625H16.9C16.4367 11.2803 14.419 9.5625 12 9.5625H9.17071C9.58254 8.39731 10.6938 7.5625 12 7.5625ZM7.10002 9.5625C7.56329 7.28026 9.58104 5.5625 12 5.5625H17C19.7614 5.5625 22 7.80108 22 10.5625C22 13.3239 19.7614 15.5625 17 15.5625H16.9C16.4367 17.8447 14.419 19.5625 12 19.5625H7C4.23858 19.5625 2 17.3239 2 14.5625C2 11.8011 4.23858 9.5625 7 9.5625H7.10002ZM14.8293 15.5625C14.4175 16.7277 13.3062 17.5625 12 17.5625H7C5.34315 17.5625 4 16.2194 4 14.5625C4 12.9056 5.34315 11.5625 7 11.5625H7.10002C7.56329 13.8447 9.58104 15.5625 12 15.5625H14.8293ZM14.8293 13.5625H12C10.6938 13.5625 9.58254 12.7277 9.17071 11.5625H12C13.3062 11.5625 14.4175 12.3973 14.8293 13.5625Z",fill:"white"})),fe=2e3,pe=()=>{const[n,r]=(0,e.useState)(!1);return t().createElement("div",{className:"sample-share-button-container","aria-label":"Sample Share Button"},t().createElement(i.IonButton,{className:["sample-share-button",`sample-share-button${n?"":"-not"}-clicked`].join(" "),onClick:()=>{n||(r(!0),setTimeout((()=>{r(!1)}),fe))},fill:"clear","aria-hidden":"true"},!n&&t().createElement("div",{className:"sample-share-button-icon",role:"presentation","aria-hidden":"true"},t().createElement(de,null)),t().createElement("div",{className:"sample-share-button-text"},n?(0,l.I)("copied_link","Link copied"):(0,l.I)("copy_sample","Copy sample link"))))},ge=({children:n,className:r})=>{const o=(0,e.useCallback)((e=>(null==e||e.addEventListener("touchstart",L.Qi),null==e||e.addEventListener("touchmove",L.l6),()=>{null==e||e.removeEventListener("touchstart",L.Qi),null==e||e.removeEventListener("touchmove",L.l6)})),[]);return t().createElement("div",{ref:o,className:"scrollable-content"},t().createElement(i.IonList,{role:"listbox",className:r},n))},ve=()=>{const t=(0,e.useRef)(),n=(0,e.useRef)(),i=(0,e.useRef)(),r=(0,e.useRef)(!1),o=()=>{var e,n;if(!r.current&&t.current){const o=null===(n=null===(e=i.current)||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".range-knob-handle");o&&(o.removeAttribute("tabindex"),o.appendChild(t.current),r.current=!0)}return r.current},s=(e,o)=>{if(i.current!==e&&(i.current=e,r.current=!1),!t.current){const e=document.createElement("div");e.setAttribute("id","kr-scrubber-bar-knob-label"),e.style.fontSize="14px",e.style.width="max-content",e.style.padding="6px",e.style.background="#FFFFFF",e.style.boxShadow="0 1px 5px 0 rgb(28 30 32 / 50%)",e.style.borderRadius="4px",e.style.display="none",e.style.position="relative",e.style.top="5px",e.style.left="50%";const i=document.createElement("span");i.setAttribute("id","kr-scrubber-bar-knob-label-text"),e.appendChild(i),t.current=e,n.current=i}t.current.style.transform="top"===o?"translate(-50%, -100%)":"translate(-50%, 100%)"},a=()=>{o()&&(t.current.style.display="block")},c=()=>{o()&&(t.current.style.display="none")},u=e=>{o()&&(n.current.innerHTML=e)};return(0,e.useMemo)((()=>({mountKnobLabel:s,showKnobLabel:a,hideKnobLabel:c,updateKnobLabel:u})),[])};var me,ye=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e[e.PRESSED=0]="PRESSED",e[e.RELEASED=1]="RELEASED"}(me||(me={}));const we=({maxValue:n,initialValue:r,onValueChange:o,paddingLeft:s,paddingRight:a,dir:c,knobLabelStringId:u,getLabelByIndex:h,knobLabelPosition:d="bottom",height:f=42})=>{const{mountKnobLabel:p,showKnobLabel:g,hideKnobLabel:v,updateKnobLabel:m}=ve(),y=(0,e.useRef)(r),w=(0,e.useRef)(r),b=(0,e.useRef)(me.RELEASED);y.current!==r&&(w.current=r,y.current=r);const _=(0,e.useCallback)((e=>{p(e,d)}),[d,p]),k=(0,e.useCallback)((e=>ye(void 0,void 0,void 0,(function*(){var t;const n=null!==(t=h&&(yield h(e)))&&void 0!==t?t:e.toString();return u?(0,l.I)(u,"{labelNumber}",{labelNumber:n}):n}))),[h,u]),E=(0,e.useCallback)((e=>ye(void 0,void 0,void 0,(function*(){w.current="rtl"===c?n-e:e,m(yield k(w.current)),b.current!==me.PRESSED&&w.current!==r&&o(w.current)}))),[c,k,n,m]),S=(0,e.useCallback)((()=>ye(void 0,void 0,void 0,(function*(){b.current=me.PRESSED,m(yield k(w.current)),g()}))),[k,g,m]),T=(0,e.useCallback)((()=>{b.current===me.PRESSED&&(b.current=me.RELEASED,w.current!==r&&o(w.current)),v()}),[v,r,o]);return(0,e.useEffect)((()=>(window.addEventListener("mouseup",T),window.addEventListener("touchend",T),()=>{window.removeEventListener("mouseup",T),window.removeEventListener("touchend",T)})),[T]),t().createElement(i.IonRange,{id:"kr-scrubber-bar",ref:_,max:n,value:"rtl"===c?n-w.current:w.current,className:`scrubber-bar ${c}`,onIonChange:e=>E(e.detail.value),style:{paddingLeft:s,paddingRight:a,"--height":`${f}px`},onMouseDown:S,onMouseUp:T,onTouchStart:S,onTouchEnd:T})};var be,_e=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e[e.PRESSED=0]="PRESSED",e[e.RELEASED=1]="RELEASED"}(be||(be={}));const ke=({maxValue:n,initialValue:i,onValueChange:r,knobLabelStringId:o,getLabelByIndex:s,paddingTop:a,paddingBottom:c})=>{const u=(0,e.useRef)(null),h=(0,e.useRef)(null),[d,f]=(0,e.useState)(be.RELEASED),[p,g]=(0,e.useState)(i),v=(0,e.useRef)(i);v.current!==i&&(g(i),v.current=i);const m=(0,e.useCallback)((e=>_e(void 0,void 0,void 0,(function*(){var t;const n=null!==(t=s&&(yield s(e)))&&void 0!==t?t:e.toString();return o?(0,l.I)(o,"{labelNumber}",{labelNumber:n}):n}))),[s,o]),y=(0,e.useCallback)((e=>_e(void 0,void 0,void 0,(function*(){g(e),h.current&&(h.current.innerHTML=yield m(e))}))),[m,h]),w=(0,e.useCallback)((()=>_e(void 0,void 0,void 0,(function*(){f(be.PRESSED),h.current&&(h.current.style.display="block",h.current.innerHTML=yield m(p))}))),[p,h]),b=(0,e.useCallback)((()=>{d===be.PRESSED&&p!==i&&r(p),f(be.RELEASED),h.current&&(h.current.style.display="none")}),[i,r,p,d,h]);(0,e.useEffect)((()=>(window.addEventListener("mouseup",b),window.addEventListener("touchend",b),()=>{window.removeEventListener("mouseup",b),window.removeEventListener("touchend",b)})),[b,w]);const _=p/n*100;return t().createElement("div",{className:"kr-vertical-scrubber-bar-container","aria-label":(0,l.I)("kr_vertical_scrubber_bar_label","Navigate through book content"),style:{paddingTop:a,paddingBottom:c}},t().createElement("div",{className:"kr-vertical-scrubber-bar-internal-container"},t().createElement("input",{ref:u,className:"kr-vertical-scrubber-bar-input",type:"range",min:0,max:n,value:p,step:1,onMouseDown:w,onMouseUp:b,onTouchStart:w,onTouchEnd:b,onChange:e=>y(parseInt(e.target.value,10)),onKeyUp:e=>e.preventDefault(),onKeyDown:e=>e.preventDefault()}),t().createElement("div",{className:"kr-vertical-scrubber-bar",ref:u,role:"slider"},t().createElement("div",{className:"kr-vertical-scrubber-bar-active-track",style:{height:`${_}%`}}),t().createElement("span",{className:"kr-vertical-scrubber-bar-knob-label",ref:h,style:{bottom:`calc(100% - ${_}%`}}),t().createElement("div",{className:"kr-vertical-scrubber-bar-circle",style:{bottom:`calc(100% - ${_}%`}}),t().createElement("div",{className:"kr-vertical-scrubber-bar-track"}))))};var Ee=v(571),Se=v.n(Ee);const Te=({result:n,onItemClick:r,isPage:o})=>{const s=(0,e.useMemo)((()=>o&&void 0!==n.pageNumber?(0,l.I)("notebook_page","Page {annotationPage}",{annotationPage:n.pageNumber}):void 0!==n.location?(0,l.I)("notebook_location","Location {annotationLocation}",{annotationLocation:n.location}):void 0),[o,n.location,n.pageNumber]),a=(0,e.useCallback)((()=>{r(n.positions)}),[r,n.positions]),c=(0,e.useCallback)((e=>{w(e)&&(y(e.nativeEvent),r(n.positions))}),[r,n.positions]);return t().createElement("li",{onKeyDown:c,onClick:a,className:"search-item",tabIndex:0,role:"button"},t().createElement(i.IonLabel,null,s&&t().createElement("p",{className:"search-item-label"},s),n.context&&t().createElement("p",{className:"search-item-context",dangerouslySetInnerHTML:{__html:`${n.context}`}})))};var Pe=v(4),Ce=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const xe=e=>Ce(void 0,void 0,void 0,(function*(){return Promise.all([e.getPositions(),e.getLocation(),e.getPage(),e.getContext()]).then((e=>({positions:e[0],location:e[1],pageNumber:e[2],context:e[3]})))})),Ie=(e,t=1)=>{const{data:n,fetchNextPage:i,hasNextPage:r,isFetching:o,isFetchingNextPage:s}=(0,Pe.useInfiniteQuery)(["resultList",e],(({pageParam:n=0})=>Ce(void 0,void 0,void 0,(function*(){const i=n,r=i+t;return Promise.all(e.slice(i,r).map(xe)).then((t=>({items:t,nextItem:r<e.length?r:void 0})))}))),{retry:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,cacheTime:0,getNextPageParam:e=>e.nextItem});return{results:null==n?void 0:n.pages,isLoading:o||s,hasNext:r,fetchNextResult:i}},Re=({searchResultsList:n,onItemClick:r,isPage:o,batchSize:s=1,showEmptyContextItems:a=!1})=>{const c=(0,e.useRef)(r),u=(0,e.useRef)(null);(0,e.useEffect)((()=>{c.current=r}),[r]);const{results:l,isLoading:h,hasNext:d,fetchNextResult:f}=Ie(n,s);(0,e.useEffect)((()=>{u.current&&(u.current.addEventListener("touchstart",L.Qi),u.current.addEventListener("touchmove",L.l6))}),[u]),(0,e.useEffect)((()=>{!h&&d&&f()}),[h,d,f]);const p=(0,e.useCallback)((e=>{c.current(e)}),[]);return t().createElement("div",{className:"scrollable-content",ref:u},t().createElement(i.IonList,{className:"search-results"},null==l?void 0:l.map(((e,n)=>t().createElement(t().Fragment,{key:n},e.items.map(((e,n)=>void 0===e.positions||void 0===e.pageNumber&&void 0===e.location||!a&&void 0===e.context?null:t().createElement(Te,{key:n,result:e,onItemClick:p,isPage:o})))))),h&&t().createElement(j.a,null)))};let Oe=0;const Ae=({searchService:n,callbacks:r,status:o,data:s,searchInput:a,isPage:c=!0,debounce:u=250,batchSize:h=1,showEmptyContextItems:d=!1})=>{const[f]=(0,e.useState)(Oe++),p=(0,e.useMemo)((()=>new Pe.QueryClient),[]),g=(0,e.useCallback)((e=>{Se().publish(f+"searchCallbacks:onItemClick",{positions:e})}),[f]),v=(0,e.useCallback)((()=>{Se().publish(f+"searchCallbacks:onClearSearchResults")}),[f]),m=(0,e.useCallback)((e=>function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function*(){const t=e.detail.value;t?n.performSearch(t):v()}))),[n,v]),b=(0,e.useRef)(null),_=(0,e.useCallback)((e=>{var t;w(e)&&"BUTTON"===e.target.tagName&&(y(e.nativeEvent),v(),null===(t=b.current)||void 0===t||t.setFocus())}),[v]);return(0,e.useEffect)((()=>{const e=Se().subscribe(f+"searchCallbacks:onClearSearchResults",r.onClearSearchResults);return()=>{Se().unsubscribe(e)}}),[r,f]),(0,e.useEffect)((()=>{const e=Se().subscribe(f+"searchCallbacks:onItemClick",((e,t)=>{r.onItemClick(t.positions)}));return()=>{Se().unsubscribe(e)}}),[r,f]),(0,e.useEffect)((()=>{setTimeout((()=>{var e;null===(e=b.current)||void 0===e||e.getInputElement().then((e=>{e.setAttribute("aria-label",(0,l.I)("search_placeholder","Search for a word or phrase"))}))}),0)}),[b]),t().createElement(t().Fragment,null,"Unavailable"===o&&t().createElement("div",{className:"search-unavailable"},t().createElement("h3",{className:"search-unavailable__title"},(0,l.I)("search_unavailable","Search not available")),t().createElement("p",{className:"search-unavailable__message"},(0,l.I)("search_unavailable_message","Sorry this book is not yet enabled for searching. Please try again at a later time."))),"Initializing"===o&&t().createElement(j.a,null),"Unavailable"!==o&&"Initializing"!==o&&t().createElement(t().Fragment,null,t().createElement(i.IonHeader,{className:"search-header"},t().createElement(i.IonSearchbar,{placeholder:(0,l.I)("search_placeholder","Search for a word or phrase"),className:"searchbar",showClearButton:"always",clearIcon:"close-sharp",value:a,onIonChange:m,onIonClear:v,debounce:u,onIonInput:e=>{var t;return null===(t=r.onSearchInputChange)||void 0===t?void 0:t.call(r,e.target.value)},onKeyDown:_,ref:b}),t().createElement("div",{"aria-live":"polite","aria-atomic":"true"},"Searching"!==o&&a&&s?t().createElement("div",{className:"search-results-title"},(0,l.I)("search_results_found","{results} results found",{results:s.length})):t().createElement("div",{"aria-label":(0,l.I)("search","Search")}))),t().createElement(i.IonContent,null,"Searching"===o&&t().createElement(j.a,null),s&&s.length>0&&t().createElement(Pe.QueryClientProvider,{client:p},t().createElement(Re,{searchResultsList:s||[],onItemClick:g,isPage:c,batchSize:h,showEmptyContextItems:d})))))};var $e=v(588);const Le=({onClose:e,className:n})=>t().createElement(i.IonFab,{className:n},t().createElement(i.IonButton,{"aria-label":(0,l.I)("close","Close"),className:"side-menu-close-button",onClick:e}));const Me=({contentId:n,menuId:r,side:o,swipeGesture:s,onSideMenuClose:a,displayMode:c,children:u})=>{const[l,h]=(0,e.useState)(!1),d=(0,e.useCallback)((()=>{h(!0)}),[l]),f=(0,e.useCallback)((()=>{h(!1)}),[l]),p=(0,e.useMemo)((()=>"below-top-chrome"===c||"below-top-chrome-and-banner"===c),[c]),g=(0,e.useMemo)((()=>"below-top-chrome"===c?"side-menu-close":"side-menu-close--below-banner"),[c]);return t().createElement(t().Fragment,null,p&&l&&t().createElement(Le,{onClose:()=>function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function*(){yield $e.menuController.close()})),className:g}),t().createElement(i.IonMenu,{className:`side-menu ${c}`,side:o,contentId:n,menuId:r,swipeGesture:s,onIonDidOpen:()=>{document.dispatchEvent(new CustomEvent("side-menu:opened"))},onIonDidClose:()=>{document.dispatchEvent(new CustomEvent("side-menu:closed")),null==a||a()},onIonWillOpen:d,onIonWillClose:f},u))},je=({tocNode:n,onEntryClick:r,highlightedItem:o,highlightedNodeRef:s,allowCollapse:a,isSample:c=!1})=>{var u;let l,h="",d=!1;const f=(0,i.getPlatforms)().includes("desktop")?"toc-item":"",[p,g]=(0,e.useState)(!0);(null===(u=n.subitems)||void 0===u?void 0:u.length)&&(l=n.subitems.map(((e,n)=>t().createElement(je,{key:n,tocNode:e,onEntryClick:r,highlightedItem:o,highlightedNodeRef:s,allowCollapse:a,isSample:c}))),d=a,h=p?"chevron-up":" chevron-down");const v=n===o;return t().createElement(i.IonItem,{role:"listitem",ref:v?s:void 0,lines:"none",id:v?"highlighted-entry":"",className:`${f} ${v?"toc-item-highlighted":""}`,disabled:n.disabled},t().createElement("button",{className:"toc-item-button",onKeyDown:n.disabled?void 0:e=>{c&&w(e)&&(y(e),r(n.position))},onClick:n.disabled?void 0:()=>r(n.position),"aria-label":n.label,"aria-current":v?"page":"false","aria-disabled":n.disabled},t().createElement(i.IonLabel,{color:v?"primary":"",className:"toc-item-label"},l?t().createElement("h4",{className:"chapter-title"},n.label):t().createElement("div",{className:"chapter-title"},n.label)),d?t().createElement("div",{className:h,onClick:e=>{e.stopPropagation(),g(!p)}}):t().createElement(t().Fragment,null)),l&&t().createElement("div",{className:p?"show-children":"hide-children"},l))},De=({toc:n,onEntryClick:r,currentPosition:o,allowCollapse:s=!1,isSample:a=!1})=>{let c;const u=(0,i.getPlatforms)().includes("desktop")?"toc-title-large-margin":"",h=(0,e.useMemo)((()=>void 0!==o?f(n,o):void 0),[n,o]),d=e=>{c=e};return(0,e.useEffect)((()=>{a||setTimeout((()=>{c&&c.scrollIntoView()}),300)}),[n,o,c]),t().createElement(t().Fragment,null,t().createElement(i.IonHeader,{className:"ion-no-border",role:"heading","aria-level":1},t().createElement(i.IonToolbar,{color:"default",className:"toc-toolbar"},t().createElement(i.IonTitle,{className:`toc-title ${u}`},(0,l.I)("table_of_contents","Table of Contents")))),t().createElement("nav",{className:"toc-nav"},t().createElement(ge,null,n.map(((e,n)=>t().createElement(je,{key:n,tocNode:e,onEntryClick:r,highlightedItem:h,highlightedNodeRef:d,allowCollapse:s,isSample:a}))),t().createElement("div",{className:"toc-bottom"}))));function f(e,t){if(e.length&&e[0].position<=t){const n=function(e,t){let n=0,i=e.length-1;for(;n<=i;){const r=Math.floor((n+i)/2);if(e[r].position===t)return r;e[r].position<t?n=r+1:i=r-1}return i>=0?i:n}(e,t);return e[n].subitems&&e[n].subitems.length>0?f(e[n].subitems,t):e[n]}return e.length?e[0]:void 0}},Ne=({message:e,onToastDismissed:n})=>t().createElement(i.IonToast,{isOpen:!0,cssClass:"kr-toast-class",buttons:[{handler:n}],message:new i.IonicSafeString(e),animated:!1});var Fe=v(122),Be=v(469),Ue=v(537);const ze={da:["og","i","jeg","det","at","en","den","til","er","som","på","de","med","han","af","for"],de:["der","die","das","des","dem","den","ein","eine","einer","einem","einen","dies","diese","diesem","diesem","diesen","dieser","dieses","ich","du","er","sie","es","wir","ihr","sie","Sie","als","an","ans","auch","auf","aufs","aus","bei","fuer","für","nicht","nur","oder","so","und","um","ums","vom","von","in","im"],en:["the","a","an","this","that","these","those","i","you","she","he","it","we","they","as","like","at","to","also","on","of","by","for","not","only","or","so","and","about","from","in"],es:["el","lo","la","los","las","un","una","unos","unas","del","al","este","ese","aquel","estos","esos","aquellos","esta","esa","aquella","estas","esas","aquellas","yo","tú","tus","vos","usted","él","ella","ello","nosotros","nosotras","vosotros","vosotras","ustedes","ellos","ellas","en","y","o","a","por","no","ni","desde","e"],fi:["olla","olen","olet","on","olemme","olette","ovat","ole","se","sen","sitä","siinä","siitä","siihen","sillä","siltä","sille","sinä","siksi","kanssa"],fr:["le","la","l'","les","un","une","des","du","de","au","aux","ce","cet","cette","ces","je","tu","elle","il","on","nous","vous","elles","ils","comme","à","aussi","sur","par","pour","ne","n’","pas","ou","or","donc","et","dans"],hu:["a","az","egy","be","ki","le","fel","meg","el","át","rá","ide","oda","szét","össze","vissza","de","hát","és","vagy","hogy","van","lesz","volt","csak","nem","igen","mint","én","te","õ","mi","ti","õk","ön"],it:["il","lo","la","l'","i","gli","le","un","uno","una","un'","del","dello","della","dell'","dei","degli","degl'","delle","questo","questa","questi","queste","quello","quella","quelli","codesto","codesta","codesti","codeste","io","noi","tu","voi","egli","esso","essi","ella","essa","esse","ad","al","allo","agli","all","agl","alla","alle","con","col","coi","da","dal","dallo","dai","dagli","dall","dagl","dalla","dalle","di","del","dello","dei","degli","dell","degl","della","delle","in","nel","nello","nei","nell","negl","nella","nelle","su","sul","sullo","sui","sugli","sull","sugl","sulla","sulle","per","ed","anche","non","a","e","o"],nl:["de","en","van","ik","te","dat","die","in","een","hij","het","niet","zijn","is","was","op","aan","met","als","voor","had","er"],no:["at","en","et","den","til","er","på","med","han","av","var","ved","fra","bli","ble","blei","blitt","være","kom","for","å","blir","vært","være","då","ein","eit","eitt","vere","vore","verte","vort","varte","vart"],pt:["o","a","os","as","um","uma","uns","umas","esta","estes","estas","aquele","aquela","aqueles","aqueles","aquelas","isto","aquilo","eu","você","ele","ela","nós","vós","vocês","eles","elas","de","a","e","em","para","não","no","na","por","como","ou"],ro:["o","unui","unei","unor","cel","cea","cei","cele","celui","celei","celor","al","a","ai","ale","pe","la","în","fără","sub","despre","către","cu","de","din","lângă","spre","ca","sunt","s","eşti","este","e","suntem","sunteţi","eram","erai","era","eraţi","erau","fiu","fii","fie","fim","fiţi","fi","fiind","fost"],sv:["och","det","att","i","en","jag","hon","som","han","på","den","med","var","sig","för","så","till","är","men","ett","om","hade","de","av"],tr:["acaba","altmýþ","altý","ama","bana","bazý","belki","ben","benden","beni","benim","beþ","bin","bir","biri","birkaç","birkez","birþey","birþeyi","biz","bizden","bizi","bizim","bu","buna","bunda","bundan","bunu","bunun","da","daha","dahi","de","defa","diye","doksan","dokuz","dört","elli","en","gibi","hem","hep","hepsi","her","hiç","iki","ile","INSERmi","ise","için","katrilyon","kez","ki","kim","kimden","kime","kimi","kýrk","milyar","milyon","mu","mü","mý","nasýl","ne","neden","nerde","nerede","nereye","niye","niçin","on","ona","ondan","onlar","onlardan","onlari","onlarýn","onu","otuz","sanki","sekiz","seksen","sen","senden","seni","senin","siz","sizden","sizi","sizin","trilyon","tüm","ve","veya","ya","yani","yedi","yetmiþ","yirmi","yüz","çok","çünkü","üç","þey","þeyden","þeyi","þeyler","þu","þuna","þunda","þundan","þunu"]},He={de:{"ß":"ss"},es:{"Ñ":"OAAAAA","ñ":"oaaaaa"}},Ve={"’":"'","＇":"'","'":"'","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","À":"a","Á":"a","Â":"a","Ã":"a","Ä":"a","Å":"a","Ā":"a","ā":"a","Ă":"a","ă":"a","Ą":"a","ą":"a","è":"e","é":"e","ê":"e","ë":"e","È":"e","É":"e","Ê":"e","Ë":"e","Ē":"e","ē":"e","Ĕ":"e","ĕ":"e","Ė":"e","ė":"e","Ę":"e","ę":"e","Ě":"e","ě":"e","ì":"i","í":"i","î":"i","ï":"i","Ì":"i","Í":"i","Î":"i","Ï":"i","Ĩ":"i","ĩ":"i","Ī":"i","ī":"i","Ĭ":"i","ĭ":"i","Į":"i","į":"i","İ":"i","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","Ò":"o","Ó":"o","Ô":"o","Õ":"o","Ö":"o","Ō":"o","ō":"o","Ŏ":"o","ŏ":"o","Ő":"o","ő":"o","ù":"u","ú":"u","û":"u","ü":"u","Ù":"u","Ú":"u","Û":"u","Ü":"u","Ũ":"u","ũ":"u","Ū":"u","ū":"u","Ŭ":"u","ŭ":"u","Ů":"u","ů":"u","Ű":"u","ű":"u","Ų":"u","ų":"u","ý":"y","ÿ":"y","Ý":"y","Ŷ":"y","ŷ":"y","Ÿ":"y","ç":"c","Ç":"c","Ć":"c","ć":"c","Ĉ":"c","ĉ":"c","Ċ":"c","ċ":"c","Č":"c","č":"c","Ð":"d","Ď":"d","ď":"d","ð":"d","Ĝ":"g","ĝ":"g","Ğ":"g","ğ":"g","Ġ":"g","ġ":"g","Ģ":"g","ģ":"g","Ĥ":"h","ĥ":"h","Ĵ":"j","ĵ":"j","Ķ":"k","ķ":"k","Ĺ":"l","ĺ":"l","Ļ":"l","ļ":"l","Ľ":"l","ľ":"l","ñ":"n","Ñ":"n","Ń":"n","ń":"n","Ņ":"n","ņ":"n","Ň":"n","ň":"n","Ŕ":"r","ŕ":"r","Ŗ":"r","ŗ":"r","Ř":"r","ř":"r","Ś":"s","ś":"s","Ŝ":"s","ŝ":"s","Ş":"s","ş":"s","Š":"s","š":"s","Ţ":"t","ţ":"t","Ť":"t","ť":"t","Ŵ":"w","ŵ":"w","Ź":"z","ź":"z","Ż":"z","ż":"z","Ž":"z","ž":"z","ß":"s","æ":"a","Æ":"a","Þ":"t","þ":"t","Ø":"o","ø":"o"};var Ge=v(398),We=v(256),qe=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class Ye{constructor(e,t){this.wordStemmer=e,this.searchIndex=t,this.MAX_DISTANCE=20}getPositionsResults(e){return qe(this,void 0,void 0,(function*(){const t=[],n=yield this.wordStemmer.getStems(e);if(n.length>0){const e=yield Promise.all(n.map((e=>qe(this,void 0,void 0,(function*(){var t;return null!==(t=yield this.searchIndex.getPositions(e))&&void 0!==t?t:[]}))))),i=e.length*this.MAX_DISTANCE;for(;this.noneAreEmpty(e);){const n=e.map(this.getFirstElement),r=n.every(this.inOrderCalc),o=Math.min(...n),s=Math.max(...n);r&&s-o<=i?(e.forEach(this.removeFirstElement),t.push(this.buildResult(n))):e.forEach((e=>{e[0]===o&&this.removeFirstElement(e)}))}}return t}))}noneAreEmpty(e){return e.every((e=>e.length>0))}getFirstElement(e){return e[0]}removeFirstElement(e){e.shift()}inOrderCalc(e,t,n){return 0===t||n[t-1]<e}buildResult(e){return{getPositions:()=>Promise.resolve(e)}}}var Ke=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class Xe extends Error{constructor(e){super(e),this.name="TimeoutError"}}class Ze extends Error{constructor(e,t){super(e),this.statusCode=t,this.name="ServerError"}}class Je{}Je.GATEWAY_TIMEOUT_STATUS_CODE=504,Je.fetchJson=(e,t,n,i)=>Ke(void 0,void 0,void 0,(function*(){return(yield Je.fetch(e,t,n,i)).json()})),Je.fetch=(e,t,n,i)=>Ke(void 0,void 0,void 0,(function*(){let r=new Response;try{r=yield fetch(e,Je.constructRequestInit(t,n,i))}catch(e){throw navigator.onLine||Je.dispatchOfflineEvent(),e}if(r.ok)return r;{const e=[...r.headers];if(r.status===Je.GATEWAY_TIMEOUT_STATUS_CODE)throw Je.dispatchOfflineEvent(),new Xe(`[TimeoutError] Timeout occurred while calling the service. Response Headers = ${e}.`);throw new Ze(`[ServerError] Error occurred while calling the service. Response Headers = ${e}.`,r.status)}})),Je.constructRequestInit=(e,t,n)=>{const i=Je.constructHeader(e,t);return Object.assign(Object.assign({method:t?"POST":"GET"},i?{headers:i}:{}),n?{body:n}:{})},Je.constructHeader=(e,t)=>Object.assign(Object.assign({},e),t?{Accept:"application/json","Content-Type":"application/json"}:{}),Je.dispatchOfflineEvent=()=>{window.dispatchEvent(new CustomEvent("customOffline"))};class Qe{constructor(e){this.positionMapper=e}addLocation(e){const t=this.positionMapper;let n;return Object.assign(Object.assign({},e),{getLocation(){return n||(n=new Promise((n=>{e.getPositions().then((e=>t.convertPositionToLocation(e[0]).then((e=>{n(e)})).catch((()=>{n(void 0)}))))}))),n}})}addPage(e){const t=this.positionMapper;let n;return Object.assign(Object.assign({},e),{getPage(){return n||(n=e.getPositions().then((e=>t.convertPositionToPage(e[0]).then((e=>e||void 0))))),n}})}}class et{static create(e,t,n,i){return{getResults(r,o,s){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return(yield e.getPositionsResults(s)).map((e=>{const s=t.addContext(r,o,e),a=n.addLocation(s);return i.addPage(a)}))}))}}}}class tt{constructor(e){var t;this.HEADER_SIZE=28,this.MAGIC="AZSA",this.wordsFile=e.wordsFile,this.propertiesFile=e.propertiesFile,this.positionsFile=e.positionsFile,this.maximumPosition=null!==(t=e.maximumPosition)&&void 0!==t?t:Number.MAX_SAFE_INTEGER,this.positionsDataView=new DataView(this.positionsFile),this.directory=this.parseDirectory(),this.properties=this.parseProperties(),this.wordsBufferLocation=this.parseWords(),this.searchCache=new Map}getPositions(e){let t=this.searchCache.get(e);if(!t){const n=this.wordsBufferLocation.get(e);n&&n.length>0&&(t=this.readPositions(n),this.searchCache.set(e,t))}return Promise.resolve(t?t.slice():void 0)}getProperty(e){return this.properties.get(e)}parseDirectory(){if(this.positionsFile.byteLength<this.HEADER_SIZE)throw new Error("Index positions file is too small");this.validateMagic();const e=this.positionsFile.byteLength-this.HEADER_SIZE,t=this.positionsDataView.getUint32(e),n=this.positionsDataView.getUint32(e+4),i=this.positionsDataView.getUint32(e+8);if(this.positionsFile.byteLength!==t)throw new Error("Index positions file size do not match header");let r=n;const o=new Map;for(;r<n+i;){const e=this.parseDirectoryEntry(r);o.set(e.name,e),r+=e.entryLength}const s=this.readEntry(o.get("BytesPerEntity")),a=this.readEntry(o.get("MinimumTitleEntityValue")),c=o.get("SearchBoundaryPositions"),u=o.get("Positions");if(!c||!u)throw new Error("Missing required entries");return{bytesPerEntity:s,minimumTitleEntityValue:a,searchBoundaryPositions:{offset:c.offset,length:c.length},positions:{offset:u.offset,length:u.length}}}validateMagic(){const e=new TextDecoder,t=new Uint8Array(this.positionsFile,0,this.MAGIC.length);if(e.decode(t)!==this.MAGIC)throw new Error("Invalid magic value")}parseDirectoryEntry(e){const t=new TextDecoder,n=this.positionsDataView.getUint32(e),i=this.positionsDataView.getUint32(e+4),r=this.positionsDataView.getUint8(e+8),o=new Uint8Array(this.positionsFile,e+9,r);return{name:t.decode(o),offset:n,length:i,entryLength:r+9}}readEntry(e){if(!e)throw new Error("Invalid entry");if(1===e.length)return this.positionsDataView.getUint8(e.offset);if(2===e.length)return this.positionsDataView.getUint16(e.offset);if(4===e.length)return this.positionsDataView.getUint32(e.offset);throw new Error("Invalid entry length")}parseProperties(){const e=/(.*?)=(.*)/,t=new Map;return this.propertiesFile.split("\n").forEach((n=>{if(n){const i=e.exec(n);i&&3===i.length&&t.set(i[1],i[2])}})),t}parseWords(){const e=new Map;return this.wordsFile.split("\n").forEach((t=>{if(t){const n=t.split(":");if(n&&3===n.length){const t={offset:parseInt(n[0],10),length:parseInt(n[1],10)};e.set(n[2],t)}}})),e}readPositions(e){const t=[],n=this.directory.bytesPerEntity,i=this.directory.positions.offset+e.offset*n;for(let r=0;r<e.length;r++){const e=i+r*n;this.readPosition(e)<=this.maximumPosition&&t.push(this.readPosition(e))}return t}readPosition(e){const t=this.directory.minimumTitleEntityValue,n=this.positionsDataView;switch(this.directory.bytesPerEntity){case 1:return n.getUint8(e)+t;case 2:return n.getUint16(e)+t;case 3:return(n.getUint8(e)<<16)+n.getUint16(e+1)+t;case 4:return n.getUint32(e)+t;default:throw new Error("Unsupported BPE")}}}var nt=v(547),it=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class rt{constructor(e,t){this.searchIndexInfo=e,this.maximumPosition=t}getSearchIndex(){return this.searchIndexPromise||(this.searchIndexPromise=new Promise(((e,t)=>{const n=this.searchIndexInfo.s3Url.replace(/http:\/\//,"https://");fetch(n).then((t=>it(this,void 0,void 0,(function*(){if(!t.ok)throw new Error("SearchIndex request response not 2xx");{const n=yield t.arrayBuffer(),i=yield this.decryptSubtle(n,this.searchIndexInfo.decryptionKey,this.searchIndexInfo.decryptionIV),r=yield(0,nt.loadAsync)(i),o={maximumPosition:this.maximumPosition},s=[];if(r.forEach(((e,t)=>{e.endsWith(".words")?s.push(t.async("text").then((e=>o.wordsFile=e))):e.endsWith(".properties")?s.push(t.async("text").then((e=>o.propertiesFile=e))):e.endsWith(".positions")&&s.push(t.async("arraybuffer").then((e=>o.positionsFile=e)))})),yield Promise.all(s),!this.containsFileParameters(o))throw new Error("Failed to download index files");e(new tt(o))}})))).catch((e=>{t(e),this.searchIndexPromise=void 0}))}))),this.searchIndexPromise}containsFileParameters(e){return!!(e.positionsFile&&e.propertiesFile&&e.wordsFile)}decryptSubtle(e,t,n){return it(this,void 0,void 0,(function*(){const i=this.base64ToArrayBuffer(t),r=this.base64ToArrayBuffer(n),o=yield window.crypto.subtle.importKey("raw",i,"AES-CBC",!1,["decrypt"]);return yield window.crypto.subtle.decrypt({name:"AES-CBC",iv:r},o,e)}))}base64ToArrayBuffer(e){const t=window.atob(e),n=t.length,i=new Uint8Array(n);for(let e=0;e<n;e++)i[e]=t.charCodeAt(e);return i.buffer}}var ot=v(637);class st{constructor(e){var t;this.language=e;const n=st.LANG_TO_ALGORITHM.get(e);if(!(n&&(0,ot.algorithms)().includes(n)&&ze[e]))throw new Error("Unsupported language: "+e);this.stemmer=(0,ot.newStemmer)(n),this.stopWords=ze[e],this.langAccentMap=null!==(t=He[e])&&void 0!==t?t:{}}getStems(e){const t=[];return this.sanitize(e).split(/[\s\n@-]+/).forEach((e=>{const n="en"===this.language?this.englishFilter(e):e;if(n.length>0&&-1===this.stopWords.indexOf(n)){const e=this.stemmer.stem(n);"en"===this.language?t.push(e):t.push(this.sanitize(e))}})),Promise.resolve(t)}sanitize(e){return e.replace(/[^A-Za-z0-9 ]/g,(e=>this.langAccentMap[e]||Ve[e]||e)).replace(/[^A-Za-z0-9\s\n.@'-]/g,"").toLowerCase()}englishFilter(e){return e.replace(/'s$|'|\.(?!\d)/g,"")}}st.LANG_TO_ALGORITHM=new Map([["da","danish"],["de","german"],["en","porter"],["es","spanish"],["fi","finnish"],["fr","french"],["hu","hungarian"],["it","italian"],["nl","dutch"],["no","norwegian"],["pt","portuguese"],["ro","romanian"],["sv","swedish"],["tr","turkish"]]);var at=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class ct{static getSearchIndex(e,t){return at(this,void 0,void 0,(function*(){const n=t?ct.SRS_AUTHENTICATED_ROOT_URL:ct.SRS_UNAUTHENTICATED_ROOT_URL,i=ct.toURLSearchParams(e).toString();return ct.authenticatedFetch(`${n}getSearchIndex?${i}`,t)}))}static getSearchContext(e,t){return at(this,void 0,void 0,(function*(){const n=t?ct.SRS_AUTHENTICATED_ROOT_URL:ct.SRS_UNAUTHENTICATED_ROOT_URL;return ct.authenticatedFetchPost(`${n}getSearchContext`,JSON.stringify(Object.assign(Object.assign({},e),{clientVersion:ct.CLIENT_VERSION})),t)}))}static authenticatedFetch(e,t){return at(this,void 0,void 0,(function*(){return Je.fetchJson(e,ct.constructHeaders(t))}))}static authenticatedFetchPost(e,t,n){return Je.fetchJson(e,ct.constructHeaders(n),!0,t)}static toURLSearchParams(e){const t=new URLSearchParams;return Object.keys(e).map((n=>t.append(n,e[n]))),t}static constructHeaders(e){return e?{"X-ADP-Session-Token":e}:void 0}}ct.SRS_AUTHENTICATED_ROOT_URL="/service/mobile/reader/",ct.SRS_UNAUTHENTICATED_ROOT_URL="/service/web/content/",ct.CLIENT_VERSION="20000100";class ut{constructor(e){this.contextService=e}addContext(e,t,n){const i=this.contextService;let r;return Object.assign(Object.assign({},n),{getContext(){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(!r){const o=yield n.getPositions();try{const n=yield i.getSearchContext(e,t,[o]);r=n[0]}catch(e){r=""}}return r}))}})}}var lt=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class ht{getSearchContext(e,t,n,i,r,o){return lt(this,void 0,void 0,(function*(){const s=yield ct.getSearchContext({asin:e,positions:n,refEmId:i,revision:t,yjACR:r},o);return this.processContexts(s.searchContexts)}))}processContexts(e){return lt(this,void 0,void 0,(function*(){const t=[];for(const n of e){const e=yield this.decryptContext(n);t.push(e)}return t}))}decryptContext(e){return lt(this,void 0,void 0,(function*(){const t=e.substring(0,24),n=e.substring(24,48),i=e.substring(48,e.length),r=this.base64StringToArrayBuffer(n),o=yield window.crypto.subtle.importKey("raw",this.base64StringToArrayBuffer(t),{name:"AES-GCM"},!0,["decrypt"]),s=this.base64StringToArrayBuffer(i),a=yield window.crypto.subtle.decrypt({name:"AES-GCM",iv:r,tagLength:128},o,s);return new TextDecoder("utf-8").decode(a)}))}base64StringToArrayBuffer(e){const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n.buffer}}class dt{getSearchIndexInfo(e,t,n,i,r){var o;return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const s=yield ct.getSearchIndex({asin:e,contentVersion:t,formatVersion:n,facet:null!=i?i:"YJ"},r);return null!==(o=s.errorCode)&&void 0!==o?o:{decryptionIV:s.decryptionIV,decryptionKey:s.decryptionKey,decryptionMethod:s.decryptionMethod,indexSize:s.indexSize,s3Url:s.s3Url}}))}}var ft=v(13),pt=v(133);const gt=e=>{l.q.updatePathPrefix(e.path),l.q.updateLanguage(e.language)}})(),m})(),e.exports=i(n(45038),n(26823),n(30051),n(9905),n(11677),n(98057),n(21339),n(65609),n(8992),n(69756),n(96811),n(67294),n(62051),n(49715))},45038:function(module){var e;"undefined"!=typeof self&&self,e=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=47)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);class r{constructor(e,t,n,i){this.top=e,this.bottom=t,this.left=n,this.right=i}static applyTransformationToBoundingBoxPoints(e,t){const n=e[i.b.HorizontalScaling],o=e[i.b.VerticalScaling],s=e[i.b.HorizontalTranslation],a=e[i.b.VerticalTranslation],c=t.top*o+a,u=t.bottom*o+a,l=t.left*n+s,h=t.right*n+s;return new r(c,u,l,h)}static getBoudningBoxByPath(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;const s=e.split(" ");for(let e=0;e<s.length;e++)if(""!=s[e]){const r=this.isLetter(s[e][0])?s[e].substr(1).split(","):s[e].split(",");if(r.length>=2)for(let e=0;e<r.length;e++)e%2==0?(t=Math.min(parseFloat(r[e]),t),i=Math.max(parseFloat(r[e]),i)):(n=Math.min(parseFloat(r[e]),n),o=Math.max(parseFloat(r[e]),o))}return new r(n,o,t,i)}compute(e){return 0===this.top&&0===this.bottom&&0===this.left&&0==this.right?e:0===e.top&&0===e.bottom&&0===e.left&&0==e.right?this:new r(Math.min(this.top,e.top),Math.max(this.bottom,e.bottom),Math.min(this.left,e.left),Math.max(this.right,e.right))}static isLetter(e){return e.toLowerCase()!=e.toUpperCase()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var i,r=n(3),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e[e.HorizontalScaling=0]="HorizontalScaling",e[e.VerticalSkewing=1]="VerticalSkewing",e[e.HorizontalSkewing=2]="HorizontalSkewing",e[e.VerticalScaling=3]="VerticalScaling",e[e.HorizontalTranslation=4]="HorizontalTranslation",e[e.VerticalTranslation=5]="VerticalTranslation"}(i||(i={}));class s{static getDpi(){if(s.dpi<0){const e=document.createElement("div"),t=e.style;t.height="1in",t.width="1in",t.top="-100%",t.left="-100%",t.position="absolute",document.body.appendChild(e);const n=e.offsetHeight;document.body.removeChild(e),s.dpi=n}return s.dpi}static getPixelRatio(e){if(s.pixelRatio<0){e.height=20,e.width=20;const t=window.devicePixelRatio||1,n=e.getContext("2d");Object(r.b)(n);const i=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;s.pixelRatio=t/i}return s.pixelRatio}static canvasToBlob(e){const t=e;if(t.toBlob)return new Promise((t=>{e.toBlob((e=>{Object(r.b)(e),t(e)}))}));if(t.convertToBlob)return e.convertToBlob();throw Error("canvasToBlob: canvas cannot be converted to a Blob")}static canvasToImage(e,t,n){return o(this,void 0,void 0,(function*(){const i=yield s.canvasToBlob(e),r=URL.createObjectURL(i);return this.blobToImage(r,t,n).finally((()=>URL.revokeObjectURL(r)))}))}static blobToImage(e,t,n){return o(this,void 0,void 0,(function*(){return new Promise(((i,r)=>{const o=new Image;return o.src=e,o.style.objectFit="cover",o.style.objectPosition="top",void 0!==t&&(o.style.width=t+"px"),void 0!==n&&(o.style.height=n+"px"),o.onload=()=>{i(o)},o.onerror=e=>{r(e)},o}))}))}}s.dpi=-1,s.pixelRatio=-1},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}i.EXECUTION="ExecutionTime",i.ERROR="ErrorCount",i.NETWORK_ERROR_NOT_FOUND="404",i.NETWORK_ERROR_BAD_REQUEST="400",i.NETWORK_ERROR_SERVER_ERROR="500",i.RENDER_PAGE="RenderPage",i.LOAD_IMAGE="LoadImage",i.PREVIOUS_PAGE="PreviousPage",i.NEXT_PAGE="NextPage",i.FILL_VIEW="FillView",i.ADD_ANNOTATION="AddAnnotation",i.REMOVE_ANNOTATION="RemoveAnnotation",i.CLEAR_TEXT_SELECTION="ClearTextSelection",i.GET_TABLE_OF_CONTENTS="GetTableOfContents",i.GET_METADATA="GetMetadata",i.GET_MANIFEST="GetManifest",i.GET_LOCATION_MAP="GetLocationMap",i.GET_PAGE_POSITION_RANGE="GetPagePositionRange",i.UPDATE_RENDER_OPTIONS="UpdateRenderOptions",i.GET_CURRENT_BOOK_PROVIDER="GetCurrentBookProvider",i.GO_TO_PAGE="GoToPage",i.GO_TO_POSITION="GoToPosition",i.APPLY_ANTI_MOIRE_FILTER="ApplyAntiMoireFilter"},function(e,t,n){"use strict";function i(e,t){if(null==e)throw new Error(null!=t?t:"Expected 'val' to be defined, but received "+e)}function r(e,t){if(!e)throw new Error(null!=t?t:'Expected "val" to be true, but it was false')}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);class r{static getDimensions(e){return{width:e.right-e.left,height:e.bottom-e.top}}static convertToAbsolutePosition(e,t){const n=[e.left,e.top,1],i=this.convertXPositionToAbsolute(n,t),r=this.convertYPositionToAbsolute(n,t),o=[e.right,e.bottom,1];return{top:r,left:i,right:this.convertXPositionToAbsolute(o,t),bottom:this.convertYPositionToAbsolute(o,t)}}static convertXPositionToAbsolute(e,t){return t[i.b.HorizontalScaling]*e[0]+t[i.b.HorizontalSkewing]*e[1]+t[i.b.HorizontalTranslation]*e[2]}static convertYPositionToAbsolute(e,t){return t[i.b.VerticalSkewing]*e[0]+t[i.b.VerticalScaling]*e[1]+t[i.b.VerticalTranslation]*e[2]}static round(e){return{bottom:Math.round(e.bottom),left:Math.round(e.left),right:Math.round(e.right),top:Math.round(e.top)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){this.path2d="",this.subPathPoints=0,this.subPaths=0}moveTo(e,t){this.subPaths++,this.subPathPoints=0,this.addPathPoint(),this.path2d+=`M ${e} ${t}`}lineTo(e,t){this.addPathPoint(),this.path2d+=`L ${e} ${t}`}relativeLineTo(e,t){this.addPathPoint(),this.path2d+=`l ${e} ${t}`}addEllipticalArc(e,t,n,i,r,o,s){const a=e+n*Math.cos(r/180*Math.PI),c=t+i*Math.sin(r/180*Math.PI),u=e+n*Math.cos(o/180*Math.PI),l=t+i*Math.sin(o/180*Math.PI);let h=(o-r)%360;h<0&&(h+=360);const d=!s&&h>180||s&&h<180;this.subPathPoints<=1?this.moveTo(a,c):this.lineTo(a,c),this.addPathPoint(),this.path2d+=`A ${n} ${i} 0 ${d?1:0} ${s?0:1} ${u} ${l}`}addPathPoint(){(this.subPaths>0||this.subPathPoints>0)&&(this.path2d+=" "),this.subPathPoints++}closePath(){this.addPathPoint(),this.path2d+="z"}build(){return new Path2D(this.path2d)}}},function(e,t,n){"use strict";function i(e){const t=e.h,n=e.s,i=e.v,r=Math.floor(6*t),o=6*t-r,s=i*(1-n),a=i*(1-o*n),c=i*(1-(1-o)*n);let u,l,h;switch(r%6){case 0:u=i,l=c,h=s;break;case 1:u=a,l=i,h=s;break;case 2:u=s,l=i,h=c;break;case 3:u=s,l=a,h=i;break;case 4:u=c,l=s,h=i;break;case 5:u=i,l=s,h=a;break;default:throw new Error("Error converting HSV to RGB")}return{r:Math.round(255*u),g:Math.round(255*l),b:Math.round(255*h)}}function r(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),o=Math.min(t,n,i),s=r;let a=r;const c=r-o,u=0==r?0:c/r;if(r==o)a=0;else{switch(r){case t:a=(n-i)/c+(n<i?6:0);break;case n:a=(i-t)/c+2;break;case i:a=(t-n)/c+4}a/=6}return{h:a,s:u,v:s}}function o(e){let t=e.replace("#","");return 3===t.length&&(t=`${t[0]}${t[0]}${t[1]}${t[1]}${t[2]}${t[2]}`),{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:parseInt(t.substring(6,8),16)/255}}function s(e){let t=e.r.toString(16),n=e.g.toString(16),i=e.b.toString(16),r=Math.round(255*e.a).toString(16);return 1===t.length&&(t="0"+t),1===n.length&&(n="0"+n),1===i.length&&(i="0"+i),1===r.length&&(r="0"+r),"#"+t+n+i+r}n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}))},function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.Forward="Forward",e.Backward="Backward",e.Absolute="Absolute"}(i||(i={})),function(e){e.Position="Position",e.Page="Page"}(r||(r={}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Top=0]="Top",e[e.Left=1]="Left",e[e.Bottom=2]="Bottom",e[e.Right=3]="Right"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(3),r=n(12),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e,t,n,i=!0){this.asin=e,this.pages=new Map,this.layoutPages=new Map,this.tokens=new Map,this.panels=new Map,this.pageIndex=0,this.theme="",this.unscrambleImages=!1,this.host=`${i?"https":"http"}://${t}:${n}`}gotoPage(e){this.pageIndex=e}nextPage(){this.pageIndex++}previousPage(){this.pageIndex--}getImage(e){return o(this,void 0,void 0,(function*(){return yield this.initPromise,new Promise(((t,n)=>o(this,void 0,void 0,(function*(){const i=this.buildUrl("/get-image",{asin:this.asin,theme:this.theme,image:e}),o=this.buildUrl("/get-image-manifest",{asin:this.asin,theme:this.theme,image:e});try{const e=yield fetch(i);if(this.unscrambleImages){const i=yield fetch(o);if(e.ok&&i.ok){const n=yield e.blob(),o=yield i.json(),s=new r.a,a=yield s.unscramble(n,o);t(a)}else n("Failed to load image or manifest")}else e.ok?t(yield e.blob()):n()}catch(e){n(e)}}))))}))}getPage(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.pages.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-page-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.pages.set(e.pageIndex,e))),t=this.pages.get(e)}return Object(i.b)(t,"Unable to find page "+e),t}))}getLayoutPage(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.layoutPages.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-layout-page-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.layoutPages.set(e.pageIndex,e))),t=this.layoutPages.get(e)}return Object(i.b)(t,"Unable to find page "+e),t}))}getFonts(){return o(this,void 0,void 0,(function*(){return yield this.initPromise,Object(i.b)(this.fonts,"Fonts should be loaded"),this.fonts}))}getTokens(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.tokens.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-tokens-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.tokens.set(e.pageIndex,e))),t=this.tokens.get(e)}return Object(i.b)(t,"Unable to find page tokens"),Promise.resolve(t)}))}getPanels(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.panels.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-panels-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.panels.set(e.pageIndex,e))),t=this.panels.get(e)}return Object(i.b)(t,"Unable to find page panels"),Promise.resolve(t)}))}getLocationMap(){return o(this,void 0,void 0,(function*(){const e=this.buildUrl("/get-location-map",{asin:this.asin,theme:this.theme}),t=yield fetch(e);return yield t.json()}))}getTableOfContent(){return o(this,void 0,void 0,(function*(){return yield this.initPromise,Object(i.b)(this.toc),this.toc}))}getMetadata(){return o(this,void 0,void 0,(function*(){return yield this.initPromise,Object(i.b)(this.metadata),this.metadata}))}getManifest(){return o(this,void 0,void 0,(function*(){return{manifestComplete:!0,formatVersion:3,revision:1,asin:"stub",bookType:"Reflowable",rendererType:"stub",contentType:"stub",bookFormat:"stub",publisherPanel:!1,acr:"stub"}}))}render(e){var t;return o(this,void 0,void 0,(function*(){this.theme=null!==(t=e.theme)&&void 0!==t?t:"custom";const n=this.buildUrl("/render",{settings:JSON.stringify(e),theme:this.theme,asin:this.asin});return this.initPromise=fetch(n).then((()=>{this.fonts=new Promise(((e,t)=>{const n=this.buildUrl("/get-glyphs",{asin:this.asin,theme:this.theme});fetch(n).then((t=>{t.json().then((t=>{e(t)}))})).catch((e=>t(e)))})),this.toc=new Promise(((e,t)=>{const n=this.buildUrl("/get-toc",{asin:this.asin,theme:this.theme});fetch(n).then((t=>{t.json().then((t=>{e(t)}))})).catch((e=>t(e)))})),this.metadata=new Promise(((e,t)=>{const n=this.buildUrl("/get-metadata",{asin:this.asin,theme:this.theme});fetch(n).then((t=>{t.json().then((t=>{e(t)}))})).catch((e=>t(e)))})),void 0!==e.pageIndex?this.pageIndex=e.pageIndex:void 0!==e.positionId&&(this.pageIndex=0)}))}))}buildUrl(e,t){const n=new URLSearchParams(t).toString();return`${this.host}/karamelgen${e}?${n}`}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e,t,n,i,r){this.devBookDataLoader=e,this.tokens=i,this.page=t,this.layoutPage=n,this.panels=r}getImage(e){return this.devBookDataLoader.getImage(e)}getMetadata(){return this.devBookDataLoader.getMetadata()}getManifest(){return this.devBookDataLoader.getManifest()}getLocationMap(){return this.devBookDataLoader.getLocationMap()}getPage(){return this.page}getLayoutPage(){return this.layoutPage}getTableOfContent(){return this.devBookDataLoader.getTableOfContent()}getTokens(){return this.tokens}getPanels(){return this.panels}getFonts(){return this.devBookDataLoader.getFonts()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0),r=n(2),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e,t){this.nodeRenderers=e.nodeRenderers,this.decorationRender=e.decorationRender,this.metricsUtil=t}render(e){return o(this,void 0,void 0,(function*(){return yield this.metricsUtil.asyncExecuteMetrics(r.a.RENDER_PAGE,(()=>o(this,void 0,void 0,(function*(){const t=yield e.bookProvider.getPage();e.context.fillStyle=t.fillColor,e.context.fillRect(0,0,t.width,t.height),e.options=this.createRenderRequestOptions(t);const n=t.children;return{rect:yield this.renderChildNodes(e,n),startPositionId:t.startPositionId,endPositionId:t.endPositionId,pageFillColor:t.fillColor,pageInkColor:t.inkColor}}))))}))}createRenderRequestOptions(e){const t={};return e.startPositionId<=1&&(t.excludeDecoration=(e,t)=>t&&0===e.elementId),t.inkColor=e.inkColor,t}renderChildNodes(e,t){return o(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);if(t&&t.length>0){const i=yield this.renderTimeboxed(t,(t=>o(this,void 0,void 0,(function*(){return t.rect?yield this.renderDecorations(e,t,!0):void 0}))));n=n.compute(i);const r=yield this.renderTimeboxed(t,(t=>o(this,void 0,void 0,(function*(){const n=yield this.renderDecorations(e,t,!1),i=yield this.renderNode(e,t);return n.compute(i)}))));n=n.compute(r)}return n}))}renderTimeboxed(e,t){return new Promise(((n,r)=>{const s=new i.a(0,0,0,0);setTimeout((()=>o(this,void 0,void 0,(function*(){return yield this.renderTimeboxedRecursive(s,e,0,t,n,r)}))))}))}renderTimeboxedRecursive(e,t,n,i,r,a){return o(this,void 0,void 0,(function*(){try{let c=e;const u=performance.now();for(;performance.now()-u<s.MAX_EXECUTION_TIME&&n<t.length;){const e=t[n],r=yield i(e);r&&(c=c.compute(r)),n++}n<t.length?setTimeout((()=>o(this,void 0,void 0,(function*(){return yield this.renderTimeboxedRecursive(c,t,n,i,r,a)})))):r(c)}catch(e){a(e)}}))}renderNode(e,t){var n;return o(this,void 0,void 0,(function*(){let r=new i.a(0,0,0,0);const o=this.nodeRenderers[t.type];if(!o)return r;const s=e.context;s.save();try{return this.applyClipPath(t,s),this.applyTransform(t,s),s.globalAlpha=null!==(n=t.opacity)&&void 0!==n?n:1,r=r.compute(yield o.render(e,t))}finally{s.restore()}}))}renderDecorations(e,t,n){var r,s,a;return o(this,void 0,void 0,(function*(){let o=new i.a(0,0,0,0);if(n&&!t.backDecoration||!n&&!t.frontDecoration||(null===(s=null===(r=e.options)||void 0===r?void 0:r.excludeDecoration)||void 0===s?void 0:s.call(r,t,n)))return o;const c=e.context;c.save();try{return this.applyTransform(t,c),c.globalAlpha=null!==(a=t.opacity)&&void 0!==a?a:1,n&&t.backDecoration?o=o.compute(yield this.decorationRender.renderDecorations(e,t.backDecoration,t.type,t.transform)):!n&&t.frontDecoration&&(o=o.compute(yield this.decorationRender.renderDecorations(e,t.frontDecoration,t.type,t.transform))),o}finally{c.restore()}}))}applyTransform(e,t){if(e.transform){const[n,i,r,o,s,a]=e.transform;t.transform(n,i,r,o,s,a)}}applyClipPath(e,t){const n=e.clipPath;if(n){const e=new Path2D;e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip(e)}}}s.MAX_EXECUTION_TIME=5},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);class r{unscramble(e,t){const n=URL.createObjectURL(e);return i.a.blobToImage(n).then((e=>{const n=document.createElement("canvas");return n.width=t.width,n.height=t.height,this.drawTiles(e,n.getContext("2d"),t.tiles),i.a.canvasToBlob(n)})).finally((()=>URL.revokeObjectURL(n)))}drawTiles(e,t,n){for(const i of n){const n=i.data,r=n[4],o=n[5];t.drawImage(e,n[2],n[3],r,o,n[0],n[1],r,o)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i extends Error{constructor(e){super(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(1),r=n(0),o=n(4),s=n(5),a=n(2),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class u{constructor(e,t){this.DEFAULT_COLOR="#FFFFFF",this.pixelRatio=e.pixelRatio,this.rectRenderer=e.rectRenderer,this.lineRenderer=e.lineRenderer,this.styleModifier=e.styleModifier,this.metricsUtil=t}renderDecorations(e,t,n,i){return c(this,void 0,void 0,(function*(){let o=new r.a(0,0,0,0);for(const r of t)switch(r.type){case"fillStroke":o=o.compute(this.renderRectFillStroke(e,r,i));break;case"line":const t=JSON.parse(JSON.stringify(r));this.adaptLineDecorationByStrokeIfNeed(t,n),o=o.compute(this.renderLineDecoration(e,t,t.strokeColor,i));break;case"linkLine":const s=JSON.parse(JSON.stringify(r));this.adaptLineDecorationByStrokeIfNeed(s,n),o=o.compute(this.renderLineDecoration(e,s,s.unvisitedColor,i));break;case"backgroundImage":const a=r;o=o.compute(yield this.renderBackgroundImage(e,a,i));break;case"shadow":o=o.compute(this.renderShadow(e,r,i))}return o}))}renderRectFillStroke(e,t,n){const i=e.context;i.save();try{const n=t.radii,r=new Array(4),o=new Array(4),s=new Array(4),a=new Array(4),c=new Array(4),u=[t.strokeTop,t.strokeLeft,t.strokeBottom,t.strokeRight];for(let e=0;e<u.length;e++){const t=u[e];void 0===t?(r[e]="unknown",o[e]=0,c[e]="#00000000"):(r[e]=t.strokeStyle,o[e]=t.strokeWidth,c[e]=t.strokeColor),s[e]=void 0===n?0:n[e].xRadius,a[e]=void 0===n?0:n[e].yRadius}t.fillColor&&(i.strokeStyle=t.fillColor);const l=this.getFill(e,t);this.rectRenderer.fillStroke(i,t.rect,r,o,s,a,c,l)}finally{i.restore()}let o=new r.a(t.rect.top,t.rect.bottom,t.rect.left,t.rect.right);return n&&(o=r.a.applyTransformationToBoundingBoxPoints(n,o)),o}adaptLineDecorationByStrokeIfNeed(e,t){"run"!==t&&"text"!==t&&"textline"!==t||(e.strokeStartPoint.y===e.strokeEndPoint.y?(e.strokeStartPoint.y=e.strokeStartPoint.y-e.strokeWidth/2,e.strokeEndPoint.y=e.strokeEndPoint.y-e.strokeWidth/2):(e.strokeStartPoint.x=e.strokeStartPoint.x-e.strokeWidth/2,e.strokeEndPoint.x=e.strokeStartPoint.x-e.strokeWidth/2))}renderLineDecoration(e,t,n,i){const o=e.context,s=t.strokeStartPoint,a=s.x,c=s.y,u=t.strokeEndPoint,l=u.x,h=u.y,d=t.strokeStyle;let f=new r.a(c,h,a,l);o.save();try{if("thinthick"===d||"thickthin"===d){const e=this.styleModifier.getLineWidthsFromStyle(d,t.strokeWidth),i=e.externalLine,s=e.gap,u=e.internalLine,p=c===h,g=p?l-a:h-c,v=c,m={style:t.strokeStyle,x:a,y:v,isHorizontal:p,length:g,width:i,color:n};this.lineRenderer.draw(o,m);const y=v+i+s,w={style:t.strokeStyle,x:a,y:y,isHorizontal:p,length:g,width:u,color:n};this.lineRenderer.draw(o,w),f=new r.a(c,y+u,a,l)}else{const e=c===h,i=e?l-a:h-c,s=t.strokeWidth,u={style:t.strokeStyle,x:a,y:c,isHorizontal:e,length:i,width:s,color:n};this.lineRenderer.draw(o,u),f=new r.a(c,h+s,a,l)}}finally{o.restore()}return i&&(f=r.a.applyTransformationToBoundingBoxPoints(i,f)),f}renderBackgroundImage(e,t,n){return c(this,void 0,void 0,(function*(){const o=t.rect,s=t.imageReference;try{yield this.metricsUtil.asyncExecuteMetrics(a.a.LOAD_IMAGE,(()=>c(this,void 0,void 0,(function*(){const n=yield e.bookProvider.getImage(s);if("undefined"==typeof createImageBitmap){const r=URL.createObjectURL(n);yield i.a.blobToImage(r).then((n=>this.drawImage(e,n,t))).finally((()=>URL.revokeObjectURL(r)))}else yield createImageBitmap(n).then((n=>this.drawImage(e,n,t)))}))))}catch(e){}let u=new r.a(o.top,o.bottom,o.left,o.right);return n&&(u=r.a.applyTransformationToBoundingBoxPoints(n,u)),u}))}drawImage(e,t,n){var i,r,s,a;const c=e.context;c.save();try{const e=n.rect,{width:u,height:l}=o.a.getDimensions(e),h=new Path2D;h.rect(e.left,e.top,u,l),c.clip(h);const d=n.scale,f=d.x,p=d.y;c.scale(f,p);const g=(n.origin.x+e.left)/f,v=(n.origin.y+e.top)/p,m=t.width,y=t.height,w=null!==(i=n.rowCount)&&void 0!==i?i:1,b=null!==(r=n.columnCount)&&void 0!==r?r:1;for(let e=0;e<w;++e)for(let i=0;i<b;++i){const r=g+i*(null!==(s=n.imageWidth)&&void 0!==s?s:0),o=v+e*(null!==(a=n.imageHeight)&&void 0!==a?a:0);c.drawImage(t,r,o,m,y)}}finally{c.restore()}}getFill(e,t){if(void 0!==t.gradient){const n=this.createGradient(e,t);return n.addColorStop(0,this.DEFAULT_COLOR),t.gradient.stopColorList.forEach((e=>{n.addColorStop(e.offset,e.stopColor)})),n}if(void 0!==t.fillColor)return t.fillColor}createGradient(e,t){var n;const i=null!==(n=t.rect)&&void 0!==n?n:{left:0,right:0,bottom:0,top:0},r=i.right-i.left,o=i.bottom-i.top;if(void 0!==t.gradient&&"radial"===t.gradient.gradientType){const t=(i.left+i.right)/2,n=(i.top+i.bottom)/2,s=Math.max(r,o)/2;return e.context.createRadialGradient(t,n,0,t,n,s)}return void 0!==t.gradient&&"vertical"===t.gradient.gradientType?e.context.createLinearGradient(0,i.top,0,i.bottom):e.context.createLinearGradient(i.left,0,i.bottom,0)}renderShadow(e,t,n){const i=e.context;i.save();try{const e=t.rect,n=new Array(4),r=new Array(4);if(t.radii){const e=t.radii;for(let t=0;t<e.length;t++)n[t]=e[t].xRadius,r[t]=e[t].yRadius}t.shadowInset?this.drawInsetShadow(i,e,t,n,r):this.drawOutsetShadow(i,e,t,n,r),this.unsetShadow(i)}finally{i.restore()}return new r.a(0,0,0,0)}drawInsetShadow(e,t,n,i,r){var s,a;n.radii?this.clip(e,t,!1,i,r):this.clip(e,t,!1);const c=e.canvas.width;t.left-=c,t.right-=c;const u=t.left,l=t.top;this.setShadow(e,n,c);const{width:h,height:d}=o.a.getDimensions(t),f=null!==(s=n.shadowBlur)&&void 0!==s?s:0,p=null!==(a=n.shadowSpread)&&void 0!==a?a:0,g=Math.max(Math.abs(n.shadowOrigin.x),Math.abs(n.shadowOrigin.y)),v=Math.max(g,Math.max(0,f-p));e.lineWidth=2*(p+v),e.strokeRect(u-v,l-v,h+2*v,d+2*v),t.left+=c,t.right+=c}drawOutsetShadow(e,t,n,i,r){const s=t.left,a=t.top,{width:c,height:u}=o.a.getDimensions(t);let l;n.radii?(l=this.createRoundedRectPath(e,t,i,r),this.clip(e,t,!0,i,r)):(l=new Path2D,l.rect(s,a,c,u),this.clip(e,t,!0)),this.setShadow(e,n),e.fill(l)}clip(e,t,n,i,r){const s=t.left,a=t.top,{width:c,height:u}=o.a.getDimensions(t);let l=new Path2D;if(i&&r?l=this.createRoundedRectPath(e,t,i,r):l.rect(s,a,c,u),n){const t=e.canvas.width,n=e.canvas.height;l.rect(s-t,a-n,c+2*t,u+2*n)}e.clip(l,"evenodd")}setShadow(e,t,n=0){var i,r;e.shadowColor=t.shadowColor,e.shadowBlur=this.pixelRatio*(null!==(i=t.shadowBlur)&&void 0!==i?i:0),0!==n&&(e.shadowBlur+=null!==(r=t.shadowSpread)&&void 0!==r?r:0,e.shadowBlur/=2),e.shadowOffsetX=this.pixelRatio*(t.shadowOrigin.x+n),e.shadowOffsetY=this.pixelRatio*t.shadowOrigin.y}unsetShadow(e){e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}createRoundedRectPath(e,t,n,i){const r=o.a.round(t);e.lineCap="butt";const a=new s.a;return a.moveTo(r.left+n[0],r.top),a.addEllipticalArc(r.left+n[0],r.top+i[0],n[0],i[0],270,180,!0),a.relativeLineTo(0,r.bottom-r.top-i[0]-i[1]),a.addEllipticalArc(r.left+n[1],r.bottom-i[1],n[1],i[1],180,90,!0),a.relativeLineTo(r.right-r.left-n[1]-n[2],0),a.addEllipticalArc(r.right-n[2],r.bottom-i[2],n[2],i[2],90,0,!0),a.relativeLineTo(0,-(r.bottom-r.top-i[2]-i[3])),a.addEllipticalArc(r.right-n[3],r.top+i[3],n[3],i[3],0,-90,!0),a.relativeLineTo(-(r.right-r.left-n[0]-n[3]),0),a.build()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(6);class r{getLineWidthsFromStyle(e,t){switch(e){case"double":const e=Math.floor(t/3);return{externalLine:e,gap:e,internalLine:e};case"ridge":case"groove":{const e=Math.ceil(t/2);return{externalLine:e,gap:0,internalLine:t-e}}case"thickthin":{const e=Math.ceil(t/7),n=Math.ceil((t-e)/3);return{externalLine:t-e-n,gap:n,internalLine:e}}case"thinthick":const n=Math.ceil(t/7),i=Math.ceil((t-n)/3);return{externalLine:n,gap:i,internalLine:t-n-i};default:return{externalLine:t,gap:0,internalLine:0}}}isStyleWithTwoLines(e){return"double"===e||"thickthin"===e||"thinthick"===e||"ridge"===e||"groove"===e}getColorModification(e,t){const n=Object(i.b)(t),r=Object(i.d)(n),o=n.a;let s=Math.min(1,r.v+.2);const a=Math.max(0,s-.4);let c;if(s=Math.min(1,a+.4),0===e){const e=Object(i.a)({h:r.h,s:r.s,v:s});c=Object(i.c)({r:e.r,g:e.g,b:e.b,a:o})}else{if(1!==e)throw new Error("Color modification not supported: "+e);{const e=Object(i.a)({h:r.h,s:r.s,v:a});c=Object(i.c)({r:e.r,g:e.g,b:e.b,a:o})}}return c}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e){this.context=e}get canvas(){return this.context.canvas}get globalAlpha(){return this.context.globalAlpha}set globalAlpha(e){this.context.globalAlpha=e}get globalCompositeOperation(){return this.context.globalCompositeOperation}set globalCompositeOperation(e){this.context.globalCompositeOperation=e}get fillStyle(){return this.context.fillStyle}set fillStyle(e){this.context.fillStyle=e}get strokeStyle(){return this.context.strokeStyle}set strokeStyle(e){this.context.strokeStyle=e}get filter(){return this.context.filter}set filter(e){this.context.filter=e}get imageSmoothingEnabled(){return this.context.imageSmoothingEnabled}set imageSmoothingEnabled(e){this.context.imageSmoothingEnabled=e}get imageSmoothingQuality(){return this.context.imageSmoothingQuality}set imageSmoothingQuality(e){this.context.imageSmoothingQuality=e}get lineCap(){return this.context.lineCap}set lineCap(e){this.context.lineCap=e}get lineDashOffset(){return this.context.lineDashOffset}set lineDashOffset(e){this.context.lineDashOffset=e}get lineJoin(){return this.context.lineJoin}set lineJoin(e){this.context.lineJoin=e}get lineWidth(){return this.context.lineWidth}set lineWidth(e){this.context.lineWidth=e}get miterLimit(){return this.context.miterLimit}set miterLimit(e){this.context.miterLimit=e}get shadowBlur(){return this.context.shadowBlur}set shadowBlur(e){this.context.shadowBlur=e}get shadowColor(){return this.context.shadowColor}set shadowColor(e){this.context.shadowColor=e}get shadowOffsetX(){return this.context.shadowOffsetX}set shadowOffsetX(e){this.context.shadowOffsetX=e}get shadowOffsetY(){return this.context.shadowOffsetY}set shadowOffsetY(e){this.context.shadowOffsetY=e}get direction(){return this.context.direction}set direction(e){this.context.direction=e}get font(){return this.context.font}set font(e){this.context.font=e}get textAlign(){return this.context.textAlign}set textAlign(e){this.context.textAlign=e}get textBaseline(){return this.context.textBaseline}set textBaseline(e){this.context.textBaseline=e}drawImage(e,t,n,i,r,o,s,a,c){this.context.drawImage(...arguments)}beginPath(){this.context.beginPath(...arguments)}clip(e,t){this.context.clip(...arguments)}fill(e,t){this.context.fill(...arguments)}isPointInPath(e,t,n,i){return this.context.isPointInPath(...arguments)}isPointInStroke(e,t,n){return this.context.isPointInStroke(...arguments)}stroke(e){this.context.stroke(...arguments)}createLinearGradient(e,t,n,i){return this.context.createLinearGradient(...arguments)}createPattern(e,t){return this.context.createPattern(...arguments)}createRadialGradient(e,t,n,i,r,o){return this.context.createRadialGradient(...arguments)}createImageData(e,t){return this.context.createImageData(...arguments)}getImageData(e,t,n,i){return this.context.getImageData(...arguments)}putImageData(e,t,n,i,r,o,s){this.context.putImageData(...arguments)}arc(e,t,n,i,r,o){this.context.arc(...arguments)}arcTo(e,t,n,i,r){this.context.arcTo(...arguments)}bezierCurveTo(e,t,n,i,r,o){this.context.bezierCurveTo(...arguments)}closePath(){this.context.closePath(...arguments)}ellipse(e,t,n,i,r,o,s,a){this.context.ellipse(...arguments)}lineTo(e,t){this.context.lineTo(...arguments)}moveTo(e,t){this.context.moveTo(...arguments)}quadraticCurveTo(e,t,n,i){this.context.quadraticCurveTo(...arguments)}rect(e,t,n,i){this.context.rect(...arguments)}getLineDash(){return this.context.getLineDash(...arguments)}setLineDash(e){this.context.setLineDash(...arguments)}clearRect(e,t,n,i){this.context.clearRect(...arguments)}fillRect(e,t,n,i){this.context.fillRect(...arguments)}strokeRect(e,t,n,i){this.context.strokeRect(...arguments)}restore(){this.context.restore(...arguments)}save(){this.context.save(...arguments)}fillText(e,t,n,i){this.context.fillText(...arguments)}measureText(e){return this.context.measureText(...arguments)}strokeText(e,t,n,i){this.context.strokeText(...arguments)}getTransform(){return this.context.getTransform(...arguments)}resetTransform(){this.context.resetTransform(...arguments)}rotate(e){this.context.rotate(...arguments)}scale(e,t){this.context.scale(...arguments)}setTransform(e,t,n,i,r,o){this.context.setTransform(...arguments)}transform(e,t,n,i,r,o){this.context.transform(...arguments)}translate(e,t){this.context.translate(...arguments)}drawFocusIfNeeded(e,t){this.context.drawFocusIfNeeded(...arguments)}scrollPathIntoView(e){this.context.scrollPathIntoView(...arguments)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(16);n(48);class r extends i.a{constructor(e){super(e),this.path=new Path2D,this.subPath=new Path2D,this.isSubPathEmtpy=!0}build(){return this.addSubPath(),new Path2D(this.path)}addSubPath(e){e?this.path.addPath(e):this.isSubPathEmtpy||(this.path.addPath(this.subPath),this.subPath=new Path2D,this.isSubPathEmtpy=!0)}beginPath(){super.beginPath(),this.addSubPath()}closePath(){super.closePath(),this.subPath.closePath(),this.isSubPathEmtpy=!1}arc(e,t,n,i,r,o){super.arc(e,t,n,i,r,o),this.subPath.arc(e,t,n,i,r,o),this.isSubPathEmtpy=!1}arcTo(e,t,n,i,r){super.arcTo(e,t,n,i,r),this.subPath.arcTo(e,t,n,i,r),this.isSubPathEmtpy=!1}bezierCurveTo(e,t,n,i,r,o){super.bezierCurveTo(e,t,n,i,r,o),this.subPath.bezierCurveTo(e,t,n,i,r,o),this.isSubPathEmtpy=!1}ellipse(e,t,n,i,r,o,s,a){super.ellipse(e,t,n,i,r,o,s,a),this.subPath.ellipse(e,t,n,i,r,o,s,a),this.isSubPathEmtpy=!1}lineTo(e,t){super.lineTo(e,t),this.subPath.lineTo(e,t),this.isSubPathEmtpy=!1}moveTo(e,t){super.moveTo(e,t),this.subPath.moveTo(e,t),this.isSubPathEmtpy=!1}quadraticCurveTo(e,t,n,i){super.quadraticCurveTo(e,t,n,i),this.subPath.quadraticCurveTo(e,t,n,i),this.isSubPathEmtpy=!1}rect(e,t,n,i){super.rect(e,t,n,i),this.subPath.rect(e,t,n,i),this.isSubPathEmtpy=!1}resetTransform(){this.addSubPath(),super.resetTransform()}rotate(e){this.addSubPath(),super.rotate(e)}scale(e,t){this.addSubPath(),super.scale(e,t)}setTransform(e,t,n,i,r,o){this.addSubPath(),super.setTransform(...arguments)}transform(e,t,n,i,r,o){this.addSubPath(),super.transform(e,t,n,i,r,o)}translate(e,t){this.addSubPath(),super.translate(e,t)}fill(e,t){e&&"string"!=typeof e&&this.addSubPath(e)}stroke(e){e&&this.addSubPath(e)}drawImage(e,t,n,i,r,o,s,a,c){let u=!0;i?o?this.subPath.rect(o,s,a,c):this.subPath.rect(t,n,i,r):"number"==typeof e.width&&"number"==typeof e.height?this.subPath.rect(t,n,e.width,e.height):u=!1,u&&(this.isSubPathEmtpy=!1)}fillRect(e,t,n,i){super.rect(e,t,n,i),this.rect(e,t,n,i)}strokeRect(e,t,n,i){super.rect(e,t,n,i),this.rect(e,t,n,i)}restore(){this.addSubPath(),super.restore()}clip(e,t){}clearRect(e,t,n,i){}fillText(e,t,n,i){}strokeText(e,t,n,i){}putImageData(e,t,n,i,r,o,s){}}},function(module,__webpack_exports__,__nested_webpack_require_33236__){"use strict";__nested_webpack_require_33236__.d(__webpack_exports__,"a",(function(){return DefaultGlyphRenderer}));var _etc_content_bounding_box__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_33236__(0),_utils_assert__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_33236__(3),__awaiter=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class DefaultGlyphRenderer{constructor(e){this.pathsCache=new Map,this.pixelRatio=e.pixelRatio}render(e,t,n,i,r){return __awaiter(this,void 0,void 0,(function*(){const t=n.glyphs[r.glyphId];Object(_utils_assert__WEBPACK_IMPORTED_MODULE_1__.b)(t,"Unknown glyph "+r.glyphId);const o=this.buildGlyphCacheKey(n,r.glyphId,r.fontSize);if(!("js"===t.type&&t.code||"path"===t.type&&t.path))return new _etc_content_bounding_box__WEBPACK_IMPORTED_MODULE_0__.a(0,0,0,0);{const s=e.context;s.save();try{return this.renderGlyph(o,s,n,t,i,r)}finally{s.restore()}}}))}renderGlyph(glyphKey,ctx,font,glyph,fontScale,glyphDescriptor){this.applyShadows(ctx,glyphDescriptor);const x=glyphDescriptor.x,y=glyphDescriptor.y;ctx.translate(x,y),ctx.scale(fontScale,fontScale);const rotation=glyphDescriptor.glyphRotation;if(0!==rotation){const e=-rotation*DefaultGlyphRenderer.DEG_TO_RAD;ctx.rotate(e)}let cacheDescriptor=this.pathsCache.get(glyphKey);if(!cacheDescriptor){if("path"===glyph.type)cacheDescriptor={path2D:new Path2D(glyph.path),boundingRect:this.findPathBoundingBox(glyph.path)};else{const e=glyph.rect;cacheDescriptor={code:glyph.code,boundingRect:{minX:e.left,minY:e.top,width:e.right-e.left,height:e.bottom-e.top}}}this.pathsCache.set(glyphKey,cacheDescriptor)}if(ctx.beginPath(),cacheDescriptor.path2D)if(ctx.fill(cacheDescriptor.path2D),font.fontAlgBold){const e=ctx.strokeStyle,t=ctx.strokeStyle!=ctx.fillStyle;t&&(ctx.strokeStyle=ctx.fillStyle);const n=ctx.lineWidth;ctx.lineWidth=font.fontWeight/1e3/fontScale,ctx.stroke(cacheDescriptor.path2D),ctx.lineWidth=n,t&&(ctx.strokeStyle=e),ctx.stroke(cacheDescriptor.path2D)}else glyphDescriptor.stroke&&ctx.stroke(cacheDescriptor.path2D);else cacheDescriptor.code&&(ctx.fill(),eval(cacheDescriptor.code));const boundingRect=cacheDescriptor.boundingRect;this.unsetShadow(ctx);let left=boundingRect.minX,top=boundingRect.minY,right=left+boundingRect.width,bottom=top+boundingRect.height;return rotation&&([left,top]=[top,-left],[right,bottom]=[bottom,-right]),new _etc_content_bounding_box__WEBPACK_IMPORTED_MODULE_0__.a(top*fontScale+y,bottom*fontScale+y,left*fontScale+x,right*fontScale+x)}findPathBoundingBox(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;const o=e.split(" ");for(let e=0;e<o.length;e++){const s=o[e].split(",");switch(o[e][0]){case"Z":break;case"C":t=Math.min(parseFloat(s[4]),t),i=Math.max(parseFloat(s[4]),i),n=Math.min(parseFloat(s[5]),n),r=Math.max(parseFloat(s[5]),r);case"Q":t=Math.min(parseFloat(s[2]),t),i=Math.max(parseFloat(s[2]),i),n=Math.min(parseFloat(s[3]),n),r=Math.max(parseFloat(s[3]),r);case"M":case"L":t=Math.min(parseFloat(s[0].substr(1)),t),i=Math.max(parseFloat(s[0].substr(1)),i),n=Math.min(parseFloat(s[1]),n),r=Math.max(parseFloat(s[1]),r)}}return{minX:t,minY:n,width:i-t,height:r-n}}applyShadows(e,t){var n;const i=t.textShadows;if(i)for(const r of i){e.shadowColor=r.shadowColor,e.shadowBlur=this.pixelRatio*(null!==(n=r.shadowBlur)&&void 0!==n?n:1),e.shadowOffsetX=this.pixelRatio*r.shadowOrigin.x,e.shadowOffsetY=this.pixelRatio*r.shadowOrigin.y;let i=t.contextRotation-t.glyphRotation;i<0&&(i+=360);const o=e.shadowOffsetX;i>=90&&i<180?(e.shadowOffsetX=-1*e.shadowOffsetY,e.shadowOffsetY=o):i>=180&&i<270?(e.shadowOffsetX=-1*e.shadowOffsetY,e.shadowOffsetY=-1*o):i>=270&&(e.shadowOffsetX=e.shadowOffsetY,e.shadowOffsetY=-1*o)}}unsetShadow(e){e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}buildGlyphCacheKey(e,t,n){return[e.fontKey,t,n].join("/")}clearCache(){this.pathsCache.clear()}}DefaultGlyphRenderer.DEG_TO_RAD=Math.PI/180},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(2),a=n(20),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class u{constructor(e,t){this.metricsUtil=t,this.pixelRatio=e.pixelRatio,this.rectRenderer=e.rectRenderer}render(e,t){return c(this,void 0,void 0,(function*(){const n=e.context,o=t.imageReference;let a=new i.a(0,0,0,0);if(t.imageClip){this.adjustClip(t);const e=t.imageClip,i=new Path2D;i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip(i)}try{a=yield this.metricsUtil.asyncExecuteMetrics(s.a.LOAD_IMAGE,(()=>c(this,void 0,void 0,(function*(){const i=yield e.bookProvider.getImage(o);if("undefined"==typeof createImageBitmap){const e=URL.createObjectURL(i);return r.a.blobToImage(e).then((e=>this.drawImage(n,e,t))).finally((()=>URL.revokeObjectURL(e)))}return createImageBitmap(i).then((e=>this.drawImage(n,e,t)))}))))}catch(e){this.drawImagePlaceHolder(n,t),a=this.getBoundingBoxForEmptyImage(n,t)}return t.transform&&(a=i.a.applyTransformationToBoundingBoxPoints(t.transform,a)),a}))}getBoundingBoxForEmptyImage(e,t){var n;const r=null!==(n=t.rect)&&void 0!==n?n:t.clipPath;return void 0!==r?new i.a(r.top,r.bottom,r.left,r.right):new i.a(0,0,0,0)}drawImagePlaceHolder(e,t){try{e.save();const n=t.fillColor,i=t.strokeColor;let r=0,s=0,a=0,c=0,u=t.rect;u&&(t.transform&&(u=o.a.convertToAbsolutePosition(u,t.transform)),r=u.top,s=u.left,({width:a,height:c}=o.a.getDimensions(u))),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),e.fillStyle=n,e.fillRect(s,r,a,c),e.strokeStyle=i;const l=e.lineWidth/2;e.strokeRect(s+l,r+l,a-e.lineWidth,c-e.lineWidth)}finally{e.restore()}}drawImage(e,t,n){e.save();try{const r=n.rect;if(r){const c=this.getImageOffsetFromBackDecoration(n);let u={left:r.left+c.left,top:r.top+c.top,bottom:r.bottom-c.bottom,right:r.right-c.right};u=o.a.round(u);const{width:l,height:h}=o.a.getDimensions(u);return this.metricsUtil.recordCountMetrics(s.a.APPLY_ANTI_MOIRE_FILTER,Object(a.a)({width:l,height:h})?1:0),e.drawImage(t,u.left,u.top,l,h),new i.a(u.top,u.bottom,u.left,u.right)}return e.drawImage(t,0,0),new i.a(0,t.height,0,t.width)}finally{e.restore()}}getImageOffsetFromBackDecoration(e){const t=e.backDecoration,n=t&&t.length>0&&"fillStroke"===t[0].type?t[0]:void 0;return{top:n&&n.strokeTop?n.strokeTop.strokeWidth:0,left:n&&n.strokeLeft?n.strokeLeft.strokeWidth:0,bottom:n&&n.strokeBottom?n.strokeBottom.strokeWidth:0,right:n&&n.strokeRight?n.strokeRight.strokeWidth:0}}adjustClip(e){if(e.imageClip){const t=e.rect,n=e.imageClip;t.top=-n.top,t.left=-n.left,t.bottom-=n.top,t.right-=n.left,n.bottom-=n.top,n.right-=n.left,n.top=0,n.left=0}}}},function(e,t,n){"use strict";function i({width:e,height:t,antiMoireThreshold:n=.65}){const{innerHeight:i,innerWidth:r,devicePixelRatio:o}=window;return e*n>=r*o||t*n>=i*o}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n(17),o=n(1),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const a=new Array;class c{constructor(e){this.pageRenderer=e}render(e,t){return s(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);const r=e.context;r.save();try{const i=new Set,o=yield this.generateClips(e,t,i),s=this.generateShapes(e,t,o,i);n=this.getShapeBoundingBox(t),e.context.scale(t.scaleX,t.scaleY);for(const t of s)yield this.renderShape(e,t)}finally{r.restore()}return n}))}renderShape(e,t){return s(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);const r=e.context;r.save();try{if(t.clipPath&&r.clip(t.clipPath,t.clipRule),t.childNodes)n=yield this.pageRenderer.renderChildNodes(e,t.childNodes);else{const e=t.fillData,n=t.strokeData;if(t.transform){const[e,n,i,o,s,a]=t.transform;r.transform(e,n,i,o,s,a)}e&&(r.fillStyle=e.fillColor,r.fill(t.path,e.fillRule)),n&&(r.lineWidth=n.strokeWidth,r.strokeStyle=n.strokeColor,r.lineJoin=n.strokeLineJoin,r.lineCap=n.strokeLineCap,r.miterLimit=n.strokeMiterLimit,r.lineDashOffset=n.strokeDashOffset,r.setLineDash(n.strokeDashArray),r.stroke(t.path))}}finally{r.restore()}return n}))}generateClips(e,t,n){var i;return s(this,void 0,void 0,(function*(){const o=new Array;if(t.clips)for(const s of t.clips){const a=new Path2D;for(const o of s)if(void 0!==o.elementId){let s=null===(i=t.children)||void 0===i?void 0:i.filter((e=>e.elementId===o.elementId));if(s){const i=e.context;i.save();try{if(t.transform){i.resetTransform();const[e,n,r,o,s,a]=t.transform;i.transform(e,n,r,o,s,a)}s=this.adjustRunNodes(s),n.add(o.elementId);const c=new r.a(i),u={context:c,bookProvider:e.bookProvider,options:e.options};yield this.pageRenderer.renderChildNodes(u,s),a.addPath(c.build())}finally{i.restore()}}}else a.addPath(new Path2D(o.path));o.push(a)}return o}))}generateShapes(e,t,n,i){var r,o,s,c,u,l,h,d,f,p,g,v;const m=new Array;if(t.shapes)for(const y of t.shapes){let w;const b="none"===y.clipRule?void 0:y.clipRule;if(void 0!==y.clipPathIndex&&y.clipPathIndex>=0&&y.clipPathIndex<n.length&&(w=n[y.clipPathIndex]),void 0!==y.elementId){const e=null===(r=t.children)||void 0===r?void 0:r.filter((e=>e.elementId===y.elementId));i.add(y.elementId),m.push({childNodes:null!=e?e:new Array,path:void 0,clipPath:w,clipRule:null!=b?b:"nonzero"})}else{const t=new Path2D(y.path);let n,i;if(y.fillRule||y.fillColor){const t="none"===y.fillRule?void 0:y.fillRule;n={fillRule:null!=t?t:"nonzero",fillColor:null!==(c=null!==(o=y.fillColor)&&void 0!==o?o:null===(s=e.options)||void 0===s?void 0:s.inkColor)&&void 0!==c?c:"#000000FF"}}if(void 0!==y.strokeWidth&&0!==y.strokeWidth){const t="none"===y.strokeLineJoin?void 0:y.strokeLineJoin,n="none"===y.strokeLineCap?void 0:y.strokeLineCap;i={strokeWidth:y.strokeWidth,strokeColor:null!==(h=null!==(u=y.strokeColor)&&void 0!==u?u:null===(l=e.options)||void 0===l?void 0:l.inkColor)&&void 0!==h?h:"#000000FF",strokeLineJoin:null!=t?t:"miter",strokeLineCap:null!=n?n:"butt",strokeMiterLimit:null!==(d=y.strokeMiterLimit)&&void 0!==d?d:10,strokeDashOffset:null!==(f=y.strokeDashOffset)&&void 0!==f?f:0,strokeDashArray:null!==(p=y.strokeDashArray)&&void 0!==p?p:a}}n||i||(n={fillColor:null!==(v=null===(g=e.options)||void 0===g?void 0:g.inkColor)&&void 0!==v?v:"#000000FF",fillRule:"nonzero"}),m.push({childNodes:void 0,path:t,clipPath:w,clipRule:null!=b?b:"nonzero",fillData:n,strokeData:i,transform:y.transform})}}return m}getShapeBoundingBox(e){let t=new i.a(0,0,0,0);if(e.shapes)for(const n of e.shapes)if(n.path){let r=i.a.getBoudningBoxByPath(n.path);e.transform&&(r=i.a.applyTransformationToBoundingBoxPoints(e.transform,r)),t=t.compute(r)}return t}adjustRunNodes(e){const t=JSON.parse(JSON.stringify(e));for(const e of t)if("run"===e.type&&e.transform){const t=e;t.descent&&(e.transform[o.b.VerticalTranslation]-=t.descent)}return t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n(3),o=n(1),s=n(4),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c{constructor(e){this.fontCache=new Map,this.decorationRenderer=e.decorationRenderer,this.fontSize=e.fontSize,this.glyphRenderer=e.fontRender}render(e,t){return a(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);if(t.textBackDecoration){const i=yield this.decorationRenderer.renderDecorations(e,t.textBackDecoration,t.type,t.transform);n=n.compute(i)}const r=yield this.renderText(e,t);if(n=n.compute(r),t.textFrontDecoration){const i=yield this.decorationRenderer.renderDecorations(e,t.textFrontDecoration,t.type,t.transform);n=n.compute(i)}return n}))}renderText(e,t){var n,o,c,u,l,h;return a(this,void 0,void 0,(function*(){const a=yield e.bookProvider.getFonts();this.setFonts(a);const d=null!==(n=t.fontSize)&&void 0!==n?n:this.fontSize,f=t.glyphs;if(!f)return new i.a(0,0,0,0);{const n=e.context;n.save();try{const a=f.length,p=t.fontFamily,g=t.fontStyle,v=t.fontStretch,m=t.fontWeight,y=t.fontClass,w=t.textShadows,b=this.getRotationAngle(t),_={fontFamily:p,fontStretch:v,fontStyle:g,fontWeight:m,fontClass:y},k=this.fontCache.get(t.fontKey);Object(r.b)(k);const E=d/k.unitsPerEm,S=null!==(o=t.glyphRotation)&&void 0!==o?o:0,T=t.stroke;void 0!==T&&(n.lineWidth=Math.round(T.strokeWidth/E),n.strokeStyle=T.strokeColor),n.fillStyle=t.textColor;const P=new Array;for(let n=0;n<a;n++){const i=f[n],r=null!==(u=null===(c=t.yPosition)||void 0===c?void 0:c[n])&&void 0!==u?u:0,o=null!==(h=null===(l=t.xPosition)||void 0===l?void 0:l[n])&&void 0!==h?h:0,s={glyphId:String(i),x:o,y:r,glyphRotation:S,fontSize:d,stroke:t.stroke,textShadows:w,contextRotation:b},a=this.glyphRenderer.render(e,_,k,E,s);P.push(a)}let C=new i.a(0,0,0,0);for(const e of P){const t=yield e;C=C.compute(t)}if(t.transform){const e=t.transform,n=s.a.convertToAbsolutePosition(C,e),r=Math.min(n.top,n.bottom),o=Math.max(n.top,n.bottom),a=Math.min(n.left,n.right),c=Math.max(n.left,n.right);C=new i.a(r,o,a,c)}return C}finally{n.restore()}}}))}getRotationAngle(e){if(e.transform){const t=e.transform;let n=Math.atan2(t[o.b.VerticalSkewing],t[o.b.HorizontalScaling]);return n<0&&(n+=2*Math.PI),180*n/Math.PI}return 0}setFonts(e){this.fonts&&this.fonts===e||(this.fontCache.clear(),this.glyphRenderer.clearCache(),e.forEach((e=>{this.fontCache.set(e.fontKey,e)})),this.fonts=e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(13);class r extends i.a{constructor(){super("Pool has been cleared, request is no longer valid."),this.name="ClearedPoolError"}}class o{constructor(e,t,n){this.available=new Array,this.taken=new Set,this.pendingPromises=new Array,this.provider=e,this.reset=t,this.maxSize=n}acquire(){return new Promise(((e,t)=>{let n=this.available.shift();!n&&this.taken.size<this.maxSize&&(n=this.provider()),n?(this.taken.add(n),e(n)):this.pendingPromises.push({resolve:e,reject:t})}))}release(e){if(this.taken.has(e)){this.reset(e);const t=this.pendingPromises.shift();t?t.resolve(e):(this.taken.delete(e),this.available.push(e))}}clear(){this.available.length=0,this.taken.clear(),this.pendingPromises.forEach((e=>{e.reject(new r)})),this.pendingPromises.length=0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{draw(e,t){const n=this.getNormalizedLineWidth(t);switch(t.style){case"dotted":const r=t.width>0?i.DOT_SPACING_FACTOR*n:t.width;this.drawDottedLine(e,t.x,t.y,t.isHorizontal,t.length,n,r,!t.isHorizontal,t.color);break;case"dashed":const o=t.isHorizontal?n+1:1;this.drawDashedLine(e,t.x,t.y,t.isHorizontal,t.length,n,i.COLOR_SEGMENT_FACTOR*n,i.TRANSPARENT_SEGMENT_FACTOR*n,o,t.color);break;default:this.drawSolidLine(e,t.x,t.y,t.isHorizontal,t.length,n,t.color)}}drawDottedLine(e,t,n,i,r,o,s,a,c){if(0===r||0===o||0===s)return!1;e.save();try{const u=a?r+2*o:r,l=s-o,h=(u-o)/(Math.max(2,Math.round((u+l)/(o+s)))-1),d=o/2,f=a?h-d:d;e.strokeStyle=c,e.lineCap="round",e.lineWidth=o,e.beginPath(),e.setLineDash([0,h]),i?(e.moveTo(t+f,n+d),e.lineTo(t+r,n+d)):(e.moveTo(t+d,n+f),e.lineTo(t+d,n+r)),e.stroke()}finally{e.restore()}return!0}drawSolidLine(e,t,n,i,r,o,s){if(0===r||0===o)return!1;e.save();try{e.lineCap="butt",e.lineWidth=Math.round(o),e.strokeStyle=s;const a=o/2;e.beginPath(),i?this.movetoAndRelativeLineTo(e,t,n+a,r,0):this.movetoAndRelativeLineTo(e,t+a,n,0,r),e.stroke()}finally{e.restore()}return!0}drawDashedLine(e,t,n,i,r,o,s,a,c,u){if(0===o||0===r||0===s||0===a)return!1;{const l=r-2*c;let h=0,d=0,f=0,p=0;if(l<0)h=r;else if(l<a)h=c+l;else if(0==c)if(l<a)h=c+l;else{const e=Math.floor((l+s)/(a+s)),t=e*a+(e-1)*s;h=c+(l-t)/2,d=c+(l-t+1)/2}else if(l<a+2)h=c+l;else{const e=c>0?l:l-2;if(e<=0)h=c+e;else{const t=Math.floor((e+s)/(a+s)),n=t*a+(t-1)*s;h=c+(e-n)/2,d=c+(e-n+1)/2}}r<=a+1?(h=r,d=0):h==s?h=0:f=a,p=r-h-d-f,e.lineCap="butt",e.strokeStyle=u,e.lineWidth=Math.max(1,Math.round(o));const g=[s,a];g[0]=s,g[1]=a;const v=o/2;return h>0&&(e.beginPath(),i?this.movetoAndRelativeLineTo(e,t,n+v,h,0):this.movetoAndRelativeLineTo(e,t+v,n,0,h),e.stroke()),p>0&&(e.beginPath(),e.setLineDash(g),i?this.movetoAndRelativeLineTo(e,t+h+f,n+v,p,0):this.movetoAndRelativeLineTo(e,t+v,n+h+f,0,p),e.stroke()),d>0&&(e.beginPath(),i?this.movetoAndRelativeLineTo(e,t+h+f+p,n+v,d,0):this.movetoAndRelativeLineTo(e,t+v,n+h+f+p,0,d),e.stroke()),!0}}movetoAndRelativeLineTo(e,t,n,i,r){e.moveTo(t,n),e.lineTo(t+i,n+r)}getNormalizedLineWidth(e){const t=e.width;return"dotted"===e.style||"dashed"===e.style?this.getDottedDashedLineWidth(t):t}getDottedDashedLineWidth(e){const t=Math.round(e);return 0!==t||this.epsilonEqual(0,t)?Math.max(1,t):1}epsilonEqual(e,t){return Math.abs(e-t)<1e-4}}i.DOT_SPACING_FACTOR=2,i.COLOR_SEGMENT_FACTOR=4,i.TRANSPARENT_SEGMENT_FACTOR=2},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(26),r=n(27),o=n(5),s=n(4);class a{constructor(e,t){this.lineRenderer=e,this.styleModifier=t,this.cornerRenderer=new i.a,this.sideRenderer=new r.a(e)}fillStroke(e,t,n,i,r,o,s,a){this.fill(e,t,r,o,a),this.strokeRectangle2(e,t,n,i,r,o,s)}strokeBasic(e,t,n,i){try{e.save(),e.strokeStyle=n;const r=s.a.round(t),{width:o,height:a}=s.a.getDimensions(r);this.lineRenderer.draw(e,{x:r.left,y:r.top,color:n,isHorizontal:!0,length:o,style:"solid",width:i}),this.lineRenderer.draw(e,{x:r.left,y:r.bottom-i,color:n,isHorizontal:!0,length:o,style:"solid",width:i}),this.lineRenderer.draw(e,{x:r.left,y:Math.floor(r.top+i),color:n,isHorizontal:!1,length:Math.ceil(a-2*i),style:"solid",width:i}),this.lineRenderer.draw(e,{x:r.right-i,y:Math.floor(r.top+i),color:n,isHorizontal:!1,length:Math.ceil(a-2*i),style:"solid",width:i})}finally{e.restore()}}strokeRectangle2(e,t,n,i,r,o,s){const a=[this.styleModifier.getLineWidthsFromStyle(n[0],i[0]),this.styleModifier.getLineWidthsFromStyle(n[1],i[1]),this.styleModifier.getLineWidthsFromStyle(n[2],i[2]),this.styleModifier.getLineWidthsFromStyle(n[3],i[3])],c=[...s],u=[...s],l=[0,0,0,0],h=[0,0,0,0];let d=!1;for(let e=0;e<4;++e)i[e]>0&&(this.getInternalRadius(e,a,r,o,l,h),this.getColors(e,n,s,c,u)),d=d||this.styleModifier.isStyleWithTwoLines(n[e]);if(this.stroke(e,t,n,i,r,o,c,a,!0),d){const i={left:t.left+a[1].externalLine+a[1].gap,top:t.top+a[0].externalLine+a[0].gap,right:t.right-a[3].externalLine-a[3].gap,bottom:t.bottom-a[2].externalLine-a[2].gap},r=[a[0].internalLine,a[1].internalLine,a[2].internalLine,a[3].internalLine];this.stroke(e,i,n,r,l,h,u,a,!1)}}getInternalRadius(e,t,n,i,r,o){const s=e<2?t[1].externalLine+t[1].gap:t[3].externalLine+t[3].gap,a=0==e||3==e?t[0].externalLine+t[0].gap:t[2].externalLine+t[2].gap;r[e]=Math.max(0,n[e]-s),o[e]=Math.max(0,i[e]-a)}getColors(e,t,n,i,r){const o=this.styleModifier.getColorModification(0,n[e]),s=this.styleModifier.getColorModification(1,n[e]);"inset"==t[e]?i[e]=e<2?s:o:"outset"==t[e]?i[e]=e<2?o:s:"groove"==t[e]?e<2?(i[e]=s,r[e]=o):(i[e]=o,r[e]=s):"ridge"==t[e]&&(e<2?(i[e]=o,r[e]=s):(i[e]=s,r[e]=o))}stroke(e,t,n,i,r,o,a,c,u){e.save();try{const l=s.a.round(t),h="unknown"==n[0]?0:i[0]/2,d="unknown"==n[1]?0:i[1]/2,f="unknown"==n[2]?0:i[2]/2,p="unknown"==n[3]?0:i[3]/2,g=new Array(4),v=new Array(4),m=new Array(4),y=new Array(4);y[0]=y[1]=y[2]=y[3]=!1,g[0]=0==r[0]?0:Math.max(r[0],i[1]),g[1]=0==r[1]?0:Math.max(r[1],i[1]),g[2]=0==r[2]?0:Math.max(r[2],i[3]),g[3]=0==r[3]?0:Math.max(r[3],i[3]),m[0]=Math.max(r[0],i[1]),m[1]=Math.max(r[1],i[1]),m[2]=Math.max(r[2],i[3]),m[3]=Math.max(r[3],i[3]),v[0]=Math.max(o[0],i[0]),v[1]=Math.max(o[1],i[2]),v[2]=Math.max(o[2],i[2]),v[3]=Math.max(o[3],i[0]);const w=u&&c[0].gap>0;w&&(e.save(),this.setRectContextClippingForExternalLine(e,0,t,c),e.clip()),h>0&&this.sideRenderer.drawSide(e,0,i,n,a,g,m,y,l,0,3),w&&e.restore();const b=u&&c[2].gap>0;b&&(e.save(),this.setRectContextClippingForExternalLine(e,2,t,c),e.clip()),f>0&&this.sideRenderer.drawSide(e,2,i,n,a,g,m,y,l,1,2),b&&e.restore();const _=u&&c[1].gap>0;_&&(e.save(),this.setRectContextClippingForExternalLine(e,1,t,c),e.clip()),d>0&&this.sideRenderer.drawSide(e,1,i,n,a,v,v,y,l,0,1),_&&e.restore();const k=u&&c[3].gap>0;let E,S,T,P,C,x;k&&(e.save(),this.setRectContextClippingForExternalLine(e,3,t,c),e.clip()),p>0&&this.sideRenderer.drawSide(e,3,i,n,a,v,v,y,l,3,2),k&&e.restore();for(let s=0;s<4;s++){const h=u&&c[s].gap>0;h&&this.clipCorner(e,s,t,c);const d=r[s],f=o[s];if(d+f>0||y[s]){T=s<2?i[1]:i[3],x=s<2?a[1]:a[3],E=s<2?l.left:l.right,P=0==s||3==s?i[0]:i[2],C=0==s||3==s?a[0]:a[2],S=0==s||3==s?l.top:l.bottom;const t=2==s||3==s?-1:1,r=1==s||2==s?-1:1;this.cornerRenderer.drawSolidCorner(e,{style:n[s],xBound:E,yBound:S,xRadius:d,yRadius:f,widthHorizontal:P,widthVertical:T,xFlip:t,yFlip:r,colorHorizontal:C,colorVertical:x})}h&&e.restore()}}finally{e.restore()}}clipCorner(e,t,n,i){switch(e.save(),t){case 0:this.setRectContextClippingForExternalLine(e,0,n,i),this.setRectContextClippingForExternalLine(e,1,n,i),e.clip();break;case 1:this.setRectContextClippingForExternalLine(e,1,n,i),this.setRectContextClippingForExternalLine(e,2,n,i),e.clip();break;case 2:this.setRectContextClippingForExternalLine(e,3,n,i),this.setRectContextClippingForExternalLine(e,2,n,i),e.clip();break;case 3:this.setRectContextClippingForExternalLine(e,0,n,i),this.setRectContextClippingForExternalLine(e,3,n,i),e.clip();break;default:throw new Error("Error trying to clip incorrect corner "+t)}}setRectContextClippingForExternalLine(e,t,n,i){switch(t){case 0:e.rect(n.left,n.top,n.right-n.left,i[0].externalLine);break;case 1:e.rect(n.left,n.top,i[1].externalLine,n.bottom-n.top);break;case 2:e.rect(n.left,n.bottom-i[2].externalLine,n.right-n.left,i[2].externalLine);break;case 3:e.rect(n.right-i[3].externalLine,n.top,i[3].externalLine,n.bottom-n.top);break;default:throw new Error("Error setting context to clip external line "+t)}}fill(e,t,n,i,r){if(r){e.save();try{const a=s.a.round(t),c=new o.a;c.moveTo(a.left+n[0],a.top),c.addEllipticalArc(a.left+n[0],a.top+i[0],n[0],i[0],270,180,!0),c.relativeLineTo(0,a.bottom-a.top-i[0]-i[1]),c.addEllipticalArc(a.left+n[1],a.bottom-i[1],n[1],i[1],180,90,!0),c.relativeLineTo(a.right-a.left-n[1]-n[2],0),c.addEllipticalArc(a.right-n[2],a.bottom-i[2],n[2],i[2],90,0,!0),c.relativeLineTo(0,-(a.bottom-a.top-i[2]-i[3])),c.addEllipticalArc(a.right-n[3],a.top+i[3],n[3],i[3],0,-90,!0),c.relativeLineTo(-(a.right-a.left-n[0]-n[3]),0),e.lineCap="butt",e.fillStyle=r,e.fill(c.build())}finally{e.restore()}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(5);class r{drawSolidCorner(e,t){const n=t.xFlip,r=t.yFlip,o=t.xRadius,s=t.yRadius,a=t.xBound,c=t.yBound;let u=r>0?270:90;e.lineCap="butt",e.fillStyle=t.colorHorizontal,e.beginPath();const l=o-t.widthVertical,h=s-t.widthHorizontal;let d=n*r<0,f=45;s>0&&(f=180*Math.atan(o/s)/Math.PI);let p=45;h>0&&(p=180*Math.atan(l/h)/Math.PI);let g=new i.a;l>0&&h>0?g.addEllipticalArc(a+o*n,c+s*r,l,h,u-p*n*r,u,d):(g.moveTo(a+t.widthVertical*n,c+t.widthHorizontal*r),l>0&&g.relativeLineTo(l*n,0));const v=Math.max(o,t.widthVertical);g.lineTo(a+v*n,c+t.widthHorizontal*r),g.relativeLineTo(0,-t.widthHorizontal*r),v>o&&g.relativeLineTo(-1*(v-o)*n,0),o>0&&s>0?g.addEllipticalArc(a+o*n,c+s*r,o,s,u,u-f*n*r,!d):g.lineTo(a,c),t.colorHorizontal!=t.colorVertical&&(g.closePath(),e.fill(g.build()),g=new i.a,e.lineCap="butt",e.fillStyle=t.colorVertical,e.beginPath()),u=n>0?180:0,d=n*r>0,l>0&&h>0?g.addEllipticalArc(a+o*n,c+s*r,l,h,u+(90-p)*n*r,u,d):(g.moveTo(a+t.widthVertical*n,c+t.widthHorizontal*r),l>0&&g.relativeLineTo(l*n,0));const m=Math.max(s,t.widthHorizontal);g.lineTo(a+t.widthVertical*n,c+m*r),g.relativeLineTo(-t.widthVertical*n,0),m>s&&g.relativeLineTo(0,-1*(m-s)*r),o>0&&s>0?g.addEllipticalArc(a+o*n,c+s*r,o,s,u,u+(90-f)*n*r,!d):g.lineTo(a,c),g.closePath(),e.fill(g.build())}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(8);class r{constructor(e){this.lineRenderer=e}drawSide(e,t,n,i,r,o,s,a,c,u,l){const h=n[t],d=i[t],f=r[t];let p,g;"dashed"===d||"dotted"===d?(p=o[u],g=p+o[l]):(p=s[u],g=p+s[l],a[t]=!0);const v=this.getLinesPropertiesFromBorderStyle(t,c,d,h,f,p,g);for(let t=0;t<v.length;++t)this.lineRenderer.draw(e,v[t])}getLinesPropertiesFromBorderStyle(e,t,n,r,o,s,a){const c=new Array,u={side:e,rectBounds:t,style:n,width:r,color:o,offSet:s,lengthAdjustment:a};let l,h,d,f;switch(e){case i.a.Top:l=!0,h=u.rectBounds.left+u.offSet,d=u.rectBounds.top,f=u.rectBounds.right-u.rectBounds.left-u.lengthAdjustment;break;case i.a.Left:l=!1,h=u.rectBounds.left,d=u.rectBounds.top+u.offSet,f=u.rectBounds.bottom-u.rectBounds.top-u.lengthAdjustment;break;case i.a.Bottom:l=!0,h=u.rectBounds.left+u.offSet,d=u.rectBounds.bottom-u.width,f=u.rectBounds.right-u.rectBounds.left-u.lengthAdjustment;break;case i.a.Right:l=!1,h=u.rectBounds.right-u.width,d=u.rectBounds.top+u.offSet,f=u.rectBounds.bottom-u.rectBounds.top-u.lengthAdjustment;break;default:throw new Error("Error getting side properties")}return c.push({isHorizontal:l,width:u.width,style:u.style,color:u.color,x:h,y:d,length:f}),c}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),r=n(3);class o{constructor(e){this.pixelRatio=e}static fromDocument(){const e=i.a.getPixelRatio(document.createElement("canvas"));return new o(e)}static withPixelRatio(e){return new o(e)}buildContext(e,t){const n=document.createElement("canvas");n.width=e*this.pixelRatio,n.height=t*this.pixelRatio,n.style.width=e+"px",n.style.height=t+"px";const i=n.getContext("2d",{alpha:!1});return Object(r.b)(i),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),i}buildOptimizedContext(e,t){if("undefined"==typeof OffscreenCanvas){const n=this.buildContext(e,t);return Object(r.b)(n),n}{const n=new OffscreenCanvas(e*this.pixelRatio,t*this.pixelRatio).getContext("2d",{alpha:!1});return Object(r.b)(n),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),n}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(7),r=n(9),o=n(10),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class a{constructor(e="localhost",t=8080){this.hostName=e,this.port=t}get(e,t,n,r){return s(this,void 0,void 0,(function*(){return n.type===i.b.Position?this.getByPositionId(e,t,n,r):this.getByPageIndex(e,t,n,r)}))}getByPageIndex(e,t,n,a){return s(this,void 0,void 0,(function*(){const t=new r.a(e,this.hostName,this.port);yield t.render(Object.assign(Object.assign({},a),{pageCount:n.direction===i.a.Backward?-n.pageCount:n.pageCount,pageIndex:n.pageIndex})),t.gotoPage(n.pageIndex);const s=new Array;for(let e=0;e<n.pageCount;e++){const e=t.getPage(),n=t.getLayoutPage(),i=t.getTokens(),r=t.getPanels();s.push(new o.a(t,e,n,i,r)),t.nextPage()}return s}))}getByPositionId(e,t,n,o){return s(this,void 0,void 0,(function*(){const t=new r.a(e,this.hostName,this.port);return yield t.render(Object.assign(Object.assign({},o),{pageCount:n.direction===i.a.Backward?-n.pageCount:n.pageCount,positionId:n.startPositionId})),a.adapt(n,t)}))}static adapt(e,t){const n=new Array,r=e.direction===i.a.Backward?e.skipPageCount-e.pageCount:e.skipPageCount;for(let e=0;e<r;e++)t.nextPage();for(let i=0;i<e.pageCount;i++){const e=t.getPage(),i=t.getLayoutPage(),r=t.getTokens(),s=t.getPanels();n.push(new o.a(t,e,i,r,s)),t.nextPage()}return n}}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{recordTimeMetrics(e,t){console.log("Emit time metric: "+e+": "+t+"ms")}recordCountMetrics(e,t){console.log("Emit count metric: "+e+": "+t)}}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(2);class r{constructor(e){this.metricsService=e}asyncExecuteMetrics(e,t){return function(e,t,n,i){return new(n||(n=Promise))((function(t,r){function o(e){try{a(i.next(e))}catch(e){r(e)}}function s(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(e){e(i)}))).then(o,s)}a((i=i.apply(e,[])).next())}))}(this,0,void 0,(function*(){const n=new Date;let r;try{return r=yield t(),r}catch(t){throw this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}`,1),t}finally{this.metricsService.recordTimeMetrics(`${e}:${i.a.EXECUTION}`,(new Date).getTime()-n.getTime()),r&&r instanceof Response&&this.handleNetworkErrors(e,r)}}))}syncExecuteMetrics(e,t){const n=new Date;let r;try{return r=t(),r}catch(t){throw this.recordCountMetrics(`${e}:${i.a.ERROR}`,1),t}finally{this.recordTimeMetrics(`${e}:${i.a.EXECUTION}`,(new Date).getTime()-n.getTime()),r&&r instanceof Response&&this.handleNetworkErrors(e,r)}}recordCountMetrics(e,t){this.metricsService.recordCountMetrics(e,t)}recordTimeMetrics(e,t){this.metricsService.recordTimeMetrics(e,t)}handleNetworkErrors(e,t){if(t.status&&!t.ok)switch(String(t.status)){case i.a.NETWORK_ERROR_BAD_REQUEST:this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}:${i.a.NETWORK_ERROR_BAD_REQUEST}`,1);break;case i.a.NETWORK_ERROR_NOT_FOUND:this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}:${i.a.NETWORK_ERROR_NOT_FOUND}`,1);break;case i.a.NETWORK_ERROR_SERVER_ERROR:this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}:${i.a.NETWORK_ERROR_SERVER_ERROR}`,1)}}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),r=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class o{constructor(){this.glyphCache=new Map,this.pixelRatio=2}clearCache(){this.glyphCache.clear()}setupApi(e){return{addFont:e.cwrap("addFont","boolean",["string","number","number"]),selectFont:e.cwrap("selectFont","boolean",["string"]),renderGlyph:e.cwrap("renderGlyph","boolean",["number"]),getGlyphRows:e.cwrap("getGlyphRows","number",[]),getGlyphWidth:e.cwrap("getGlyphWidth","number",[]),getGlyphPitch:e.cwrap("getGlyphPitch","number",[]),getGlyphFormat:e.cwrap("getGlyphFormat","number",[]),getGlyphBitmapLeft:e.cwrap("getGlyphBitmapLeft","number",[]),getGlyphBitmapTop:e.cwrap("getGlyphBitmapTop","number",[]),getGlyphBitmap:e.cwrap("getGlyphBitmap","number",[]),clearAllFonts:e.cwrap("clearAllFonts","number",[])}}init(){return this.loadingPromise||(this.loadingPromise=new Promise(((e,t)=>{try{this.wasmModule={},window.Module=this.wasmModule,this.wasmModule.onRuntimeInitialized=()=>{this.freeTypeApi=this.setupApi(this.wasmModule),e()};const t=document.createElement("script");t.type="text/javascript",t.src="freetype.js",document.head.append(t)}catch(e){t(e)}})).then((()=>this.loadFont()))),this.loadingPromise}loadFont(){return fetch("/Bookerly-Regular.ttf").then((e=>e.arrayBuffer())).then((e=>{const t=new Uint8Array(e),n=this.wasmModule._malloc(t.byteLength);if(this.wasmModule.HEAPU8.set(t,n),!this.freeTypeApi.addFont("Bookerly",n,t.byteLength))throw new Error('Failed to load font "Bookerly"');console.log("Font Bookerly loaded")}))}copyFreeTypeGlyphToCanvas(e,t,n,i){const r=this.getScratchCanvas(t,n),o=r.getContext("2d"),s=o.getImageData(0,0,t,n);for(let r=0;r<n;r++)for(let n=0;n<t;n++){const o=4*(r*t+n);s.data[o+0]=0,s.data[o+1]=0,s.data[o+2]=0,s.data[o+3]=Math.round((a=e[r*i+n]/255,Math.pow((1-a)*Math.pow(0,2)+a*Math.pow(255,2),.5)))}var a;return o.putImageData(s,0,0),r}render(e,t,n,o,s){return r(this,void 0,void 0,(function*(){return yield this.renderGlyph(e.context,Number(s.glyphId),s.fontSize,s.x,s.y),new i.a(0,0,0,0)}))}renderGlyph(e,t,n,i,o){return r(this,void 0,void 0,(function*(){this.freeTypeApi.selectFont("Bookerly");let r=Math.floor(i);const s=i-r;let a=Math.round(4*s),c=a/4;4==a&&(r++,a=0,c=0);let u=this.glyphCache.get(t);if(!u){if(document.getElementById("testdiv").offsetWidth,!this.freeTypeApi.renderGlyph(t,this.pixelRatio*n,440*this.pixelRatio,c,0))throw new Error("RenderGlyph failed: GID = "+t);const e=this.freeTypeApi.getGlyphRows(),i=this.freeTypeApi.getGlyphWidth(),r=this.freeTypeApi.getGlyphPitch(),o=this.freeTypeApi.getGlyphBitmapLeft(),s=this.freeTypeApi.getGlyphBitmapTop(),a=this.freeTypeApi.getGlyphBitmap();if(0==e||0==i)u={bitmap:void 0,bitmapLeft:0,bitmapTop:0,rows:0,width:0};else{const t=new Uint8Array(this.wasmModule.HEAPU8.subarray(a,a+r*e));u={bitmap:yield this.copyFreeTypeGlyphToCanvas(t,i,e,r),bitmapLeft:o/this.pixelRatio,bitmapTop:s/this.pixelRatio,rows:e/this.pixelRatio,width:i/this.pixelRatio}}this.glyphCache.set(t,u)}u&&u.bitmap&&e.drawImage(u.bitmap,r+u.bitmapLeft,Math.round(o)-u.bitmapTop,u.width,u.rows)}))}getScratchCanvas(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n.style.width=e+"px",n.style.height=t+"px",n.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),n}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(1),r=n(23),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e){this.options=e;const t=null!=e.canvasPoolSize&&e.canvasPoolSize>0?e.canvasPoolSize:s.MAX_POOL_SIZE;this.contextPool=new r.b((()=>{const e=this.options.canvasService.buildContext(this.options.pageWidth,this.options.pageHeight);return e.getImageData(0,0,1,1),e}),(e=>e.clearRect(0,0,e.canvas.width,e.canvas.height)),t)}updateSurfaceOptions(e){this.options.pageWidth==e.pageWidth&&this.options.pageHeight==e.pageHeight||this.contextPool.clear(),this.options=Object.assign(Object.assign({},this.options),e)}render(e){return o(this,void 0,void 0,(function*(){return this.renderInMainThread(e)}))}renderInMainThread(e){return o(this,void 0,void 0,(function*(){const t=yield this.contextPool.acquire();try{const n={context:t,bookProvider:e},r=yield this.options.pageRenderer.render(n);let o=this.options.pageHeight;if(1===this.options.navigationMode){const t=r.rect;o=Math.ceil(t.bottom),(yield e.getPage()).height=o}const s=yield e.getLayoutPage();this.adjustColumnRects(s.children,0);const a=this.createPageContainer(t.canvas.height,r.pageFillColor);if(this.options.mountPageCanvas)a.appendChild(t.canvas),this.convertCanvasInBackground(t,o);else{const e=yield i.a.canvasToImage(t.canvas,this.options.pageWidth,o);a.appendChild(e),this.contextPool.release(t)}return Object.assign(Object.assign({},r),{pageElement:a})}catch(e){throw console.error("An error occurred when trying to render the page",e),this.contextPool.release(t),e}}))}createPageContainer(e,t){const n=document.createElement("div");return n.className=e>=this.options.pageHeight?"kg-full-page-img":"kg-short-page-img",n.dataset.backgroundColor=t,n}convertCanvasInBackground(e,t){setTimeout((()=>o(this,void 0,void 0,(function*(){try{const n=yield i.a.canvasToImage(e.canvas,this.options.pageWidth,t);try{yield n.decode()}catch(e){console.error("image cannot be decoded",e)}e.canvas.replaceWith(n)}catch(e){console.error("An error occurred when converting the canvas into image",e)}finally{this.contextPool.release(e)}}))))}adjustColumnRects(e,t){for(let n=0;n<e.length;n++){const i=e[n];"column"===i.type&&(e[n]=this.adjustColumnRect(i,t))}}adjustColumnRect(e,t){const n=e.children;n&&this.adjustColumnRects(n,t);const i=Object.assign(Object.assign({},e.dimensions),{top:e.dimensions.top-t});return Object.assign(Object.assign({},e),{rect:i,children:n})}}s.MAX_POOL_SIZE=4},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(11),r=n(18),o=n(19),s=n(14),a=n(22),c=n(24),u=n(25),l=n(21),h=n(15);class d{static build(e,t){const n=new c.a,d=new h.a,f=new u.a(n,d),p=new s.a(Object.assign(Object.assign({},e),{rectRenderer:f,lineRenderer:n,styleModifier:d}),t),g=new r.a(e),v=new a.a(Object.assign(Object.assign({},e),{fontRender:g,decorationRenderer:p})),m=new o.a(Object.assign(Object.assign({},e),{rectRenderer:f}),t),y={run:v,image:m},w=new i.a({nodeRenderers:y,decorationRender:p},t),b={run:v,image:m,kvg:new l.a(w)};return new i.a({nodeRenderers:b,decorationRender:p},t)}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{static getHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}static getWidth(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}static determineDPI(){const e=document.createElement("div"),t=e.style;t.height="1in",t.left="-100%",t.position="absolute",t.top="-100%",t.height="1in",t.width="1in",document.body.append(e);const n=e.offsetHeight;return e.remove(),n}}},function(e,t,n){"use strict";n.r(t);var i=n(28);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o=n(29);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);var s=n(1);n.d(t,"TransformIndex",(function(){return s.b})),n.d(t,"CanvasUtils",(function(){return s.a}));var a=n(30);n.d(t,"DefaultCanvasService",(function(){return a.a}));var c=n(7);n.d(t,"Direction",(function(){return c.a})),n.d(t,"NavigationType",(function(){return c.b}));var u=n(9);n.d(t,"DevBookDataLoader",(function(){return u.a}));var l=n(10);n.d(t,"DevBookProviderAdapter",(function(){return l.a}));var h=n(31);n.d(t,"DevBookProviderFactory",(function(){return h.a}));var d=n(12);n.d(t,"ImageUnscrambler",(function(){return d.a}));var f=n(32);for(var r in f)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return f[e]}))}(r);var p=n(13);n.d(t,"InformativeError",(function(){return p.a}));var g=n(33);n.d(t,"ConsoleMetricsService",(function(){return g.a}));var v=n(2);n.d(t,"MetricsConstants",(function(){return v.a}));var m=n(34);for(var r in m)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return m[e]}))}(r);var y=n(35);n.d(t,"MetricsUtil",(function(){return y.a}));var w=n(14);n.d(t,"DecorationRenderer",(function(){return w.a}));var b=n(15);n.d(t,"DecorationStyleModifier",(function(){return b.a}));var _=n(0);n.d(t,"ContentBoundingBox",(function(){return _.a}));var k=n(16);n.d(t,"CanvasRenderingContext2DWrapper",(function(){return k.a}));var E=n(17);n.d(t,"PathBuilderContext2D",(function(){return E.a}));var S=n(4);n.d(t,"RectUtils",(function(){return S.a}));var T=n(36);for(var r in T)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return T[e]}))}(r);var P=n(5);n.d(t,"SvgBuilder",(function(){return P.a}));var C=n(18);n.d(t,"DefaultGlyphRenderer",(function(){return C.a}));var x=n(37);for(var r in x)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return x[e]}))}(r);var I=n(38);n.d(t,"FreeTypeGlyphRenderer",(function(){return I.a}));var R=n(39);for(var r in R)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return R[e]}))}(r);var O=n(40);for(var r in O)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return O[e]}))}(r);var A=n(19);n.d(t,"ImageRenderer",(function(){return A.a}));var $=n(21);n.d(t,"KVGRenderer",(function(){return $.a}));var L=n(41);for(var r in L)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer","ImageRenderer","KVGRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return L[e]}))}(r);var M=n(22);n.d(t,"RunRenderer",(function(){return M.a}));var j=n(42);n.d(t,"PageImageRenderer",(function(){return j.a}));var D=n(43);n.d(t,"PageRendererFactory",(function(){return D.a}));var N=n(11);n.d(t,"PageRenderer",(function(){return N.a}));var F=n(44);for(var r in F)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer","ImageRenderer","KVGRenderer","RunRenderer","PageImageRenderer","PageRendererFactory","PageRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return F[e]}))}(r);var B=n(24);n.d(t,"LineRenderer",(function(){return B.a}));var U=n(45);for(var r in U)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer","ImageRenderer","KVGRenderer","RunRenderer","PageImageRenderer","PageRendererFactory","PageRenderer","LineRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return U[e]}))}(r);var z=n(26);n.d(t,"RectCornerRenderer",(function(){return z.a}));var H=n(25);n.d(t,"RectRenderer",(function(){return H.a}));var V=n(8);n.d(t,"SidePosition",(function(){return V.a}));var G=n(27);n.d(t,"RectSideRenderer",(function(){return G.a}));var W=n(20);n.d(t,"shouldTriggerAntiMoireFilter",(function(){return W.a}));var q=n(6);n.d(t,"HSVtoRGB",(function(){return q.a})),n.d(t,"RGBtoHSV",(function(){return q.d})),n.d(t,"HexToRGBA",(function(){return q.b})),n.d(t,"RGBAToHexA",(function(){return q.c}));var Y=n(3);n.d(t,"assertIsDefined",(function(){return Y.b})),n.d(t,"assert",(function(){return Y.a}));var K=n(23);n.d(t,"ClearedPoolError",(function(){return K.a})),n.d(t,"Pool",(function(){return K.b}));var X=n(46);n.d(t,"WindowUtils",(function(){return X.a}))},function(e,t){null==CanvasRenderingContext2D.prototype.ellipse&&(CanvasRenderingContext2D.prototype.ellipse=function(e,t,n,i,r,o,s,a){this.save(),this.translate(e,t),this.rotate(r),this.scale(n,i),this.arc(0,0,1,o,s,a),this.restore()}),"function"==typeof Path2D&&"function"==typeof(new Path2D).addPath||function(){function e(e){if(this.ops_=[],null!=e)if("string"==typeof e)try{this.ops_=parser.parse(e)}catch(e){}else{if(!e.hasOwnProperty("ops_"))throw"Error: "+typeof e+"is not a valid argument to Path";this.ops_=e.ops_.slice(0)}}parser=function(){function e(e,t,n,i,r,o){this.message=e,this.expected=t,this.found=n,this.offset=i,this.line=r,this.column=o,this.name="SyntaxError"}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,i=arguments.length>1?arguments[1]:{},r={},o={svg_path:be},s=be,a=r,c=null,u=function(e){return ct},l=/^[Mm]/,h={type:"class",value:"[Mm]",description:"[Mm]"},d=function(e,t){var n=e;ut&&(n="M",ut=!1),ct.push({type:"moveTo",args:dt(n,t[0])});for(var i=1;i<t.length;i++)ct.push({type:"lineTo",args:dt(e,t[i])})},f=function(e,t){return mt(e,t)},p=/^[Zz]/,g={type:"class",value:"[Zz]",description:"[Zz]"},v=function(){ct.push({type:"closePath",args:[]})},m=/^[Ll]/,y={type:"class",value:"[Ll]",description:"[Ll]"},w=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"lineTo",args:dt(e,t[n])})},b=/^[Hh]/,_={type:"class",value:"[Hh]",description:"[Hh]"},k=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"lineTo",args:gt(e,t[n])})},E=/^[Vv]/,S={type:"class",value:"[Vv]",description:"[Vv]"},T=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"lineTo",args:vt(e,t[n])})},P=/^[Cc]/,C={type:"class",value:"[Cc]",description:"[Cc]"},x=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"bezierCurveTo",args:ft(e,t[n])})},I=function(e,t,n){return e.concat(t,n)},R=/^[Ss]/,O={type:"class",value:"[Ss]",description:"[Ss]"},A=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"bezierCurveTo",args:pt().concat(ft(e,t[n]))})},$=function(e,t){return e.concat(t)},L=/^[Qq]/,M={type:"class",value:"[Qq]",description:"[Qq]"},j=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"quadraticCurveTo",args:ft(e,t[n])})},D=/^[Tt]/,N={type:"class",value:"[Tt]",description:"[Tt]"},F=function(e,t){for(var n=0;n<t.length;n++){var i=pt();ct.push({type:"quadraticCurveTo",args:i.concat(ft(e,t[n]))}),at=i.slice(0)}},B=/^[Aa]/,U={type:"class",value:"[Aa]",description:"[Aa]"},z=function(e,t){for(var n=0;n<t.length;n++){var i=[st.slice()],r=[dt(e,t[n].slice(-2))];absArgs=i.concat(t[n].slice(0,-2),r),Rt.apply(this,absArgs)}},H=function(e,t,n,i,r,o){return[parseFloat(e),parseFloat(t),parseFloat(ht(n).join("")),parseInt(i),parseInt(r),o[0],o[1]]},V=function(e,t){return[e,t]},G=function(e){return parseFloat(ht(e).join(""))},W="0",q={type:"literal",value:"0",description:'"0"'},Y="1",K={type:"literal",value:"1",description:'"1"'},X=",",Z={type:"literal",value:",",description:'","'},J=".",Q={type:"literal",value:".",description:'"."'},ee=/^[eE]/,te={type:"class",value:"[eE]",description:"[eE]"},ne="+",ie={type:"literal",value:"+",description:'"+"'},re="-",oe={type:"literal",value:"-",description:'"-"'},se=/^[0-9]/,ae={type:"class",value:"[0-9]",description:"[0-9]"},ce=function(e){return e.join("")},ue=/^[ \t\n\r]/,le={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},he=0,de=0,fe={line:1,column:1,seenCR:!1},pe=0,ge=[],ve=0;if("startRule"in i){if(!(i.startRule in o))throw new Error("Can't start parsing from rule \""+i.startRule+'".');s=o[i.startRule]}function me(e){return de!==e&&(de>e&&(de=0,fe={line:1,column:1,seenCR:!1}),function(e,n,i){var r,o;for(r=n;r<i;r++)"\n"===(o=t.charAt(r))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(fe,de,e),de=e),fe}function ye(e){he<pe||(he>pe&&(pe=he,ge=[]),ge.push(e))}function we(n,i,r){var o=me(r),s=r<t.length?t.charAt(r):null;return null!==i&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(i),new e(null!==n?n:function(e,t){var n,i=new Array(e.length);for(n=0;n<e.length;n++)i[n]=e[n].description;return"Expected "+(e.length>1?i.slice(0,-1).join(", ")+" or "+i[e.length-1]:i[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(i,s),i,s,r,o.line,o.column)}function be(){var e,t,n,i,o;for(e=he,t=[],n=ot();n!==r;)t.push(n),n=ot();if(t!==r)if((n=_e())===r&&(n=c),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r?e=t=u(n):(he=e,e=a)}else he=e,e=a;else he=e,e=a;return e}function _e(){var e,t,n,i,o;if(e=he,(t=ke())!==r){for(n=he,i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=_e())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function ke(){var e,t,n,i,o;if(e=he,(t=Te())!==r){for(n=he,i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ee())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function Ee(){var e,t,n,i,o;if(e=he,(t=Se())!==r){for(n=he,i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ee())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function Se(){var e;return(e=Ce())===r&&(e=xe())===r&&(e=Re())===r&&(e=Ae())===r&&(e=$e())===r&&(e=je())===r&&(e=Fe())===r&&(e=ze())===r&&(e=Ve()),e}function Te(){var e,n,i,o;if(e=he,l.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(h)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Pe())!==r?e=n=d(n,o):(he=e,e=a)}else he=e,e=a;return e}function Pe(){var e,t,n,i,o;return e=he,(t=qe())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Ie())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ce(){var e;return p.test(t.charAt(he))?(e=t.charAt(he),he++):(e=r,0===ve&&ye(g)),e!==r&&(e=v()),e}function xe(){var e,n,i,o;if(e=he,m.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(y)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ie())!==r?e=n=w(n,o):(he=e,e=a)}else he=e,e=a;return e}function Ie(){var e,t,n,i,o;return e=he,(t=qe())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Ie())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Re(){var e,n,i,o;if(e=he,b.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(_)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Oe())!==r?e=n=k(n,o):(he=e,e=a)}else he=e,e=a;return e}function Oe(){var e,t,n,i,o;return e=he,(t=Ye())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Oe())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ae(){var e,n,i,o;if(e=he,E.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(S)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Oe())!==r?e=n=T(n,o):(he=e,e=a)}else he=e,e=a;return e}function $e(){var e,n,i,o;if(e=he,P.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(C)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Le())!==r?e=n=x(n,o):(he=e,e=a)}else he=e,e=a;return e}function Le(){var e,t,n,i,o;return e=he,(t=Me())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Le())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Me(){var e,t,n,i,o,s;return e=he,(t=qe())!==r?((n=Je())===r&&(n=c),n!==r&&(i=qe())!==r?((o=Je())===r&&(o=c),o!==r&&(s=qe())!==r?e=t=I(t,i,s):(he=e,e=a)):(he=e,e=a)):(he=e,e=a),e}function je(){var e,n,i,o;if(e=he,R.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(O)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=De())!==r?e=n=A(n,o):(he=e,e=a)}else he=e,e=a;return e}function De(){var e,t,n,i,o;return e=he,(t=Ne())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=De())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ne(){var e,t,n,i;return e=he,(t=qe())!==r?((n=Je())===r&&(n=c),n!==r&&(i=qe())!==r?e=t=$(t,i):(he=e,e=a)):(he=e,e=a),e}function Fe(){var e,n,i,o;if(e=he,L.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(M)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Be())!==r?e=n=j(n,o):(he=e,e=a)}else he=e,e=a;return e}function Be(){var e,t,n,i,o;return e=he,(t=Ue())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Be())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ue(){var e,t,n,i;return e=he,(t=qe())!==r?((n=Je())===r&&(n=c),n!==r&&(i=qe())!==r?e=t=$(t,i):(he=e,e=a)):(he=e,e=a),e}function ze(){var e,n,i,o;if(e=he,D.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(N)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=He())!==r?e=n=F(n,o):(he=e,e=a)}else he=e,e=a;return e}function He(){var e,t,n,i,o;return e=he,(t=qe())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=He())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ve(){var e,n,i,o;if(e=he,B.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(U)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ge())!==r?e=n=z(n,o):(he=e,e=a)}else he=e,e=a;return e}function Ge(){var e,t,n,i,o;return e=he,(t=We())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Ge())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function We(){var e,t,n,i,o,s,u,l,h,d,f;return e=he,(t=Ke())!==r?((n=Je())===r&&(n=c),n!==r&&(i=Ke())!==r?((o=Je())===r&&(o=c),o!==r&&(s=Xe())!==r&&Je()!==r&&(u=Ze())!==r?((l=Je())===r&&(l=c),l!==r&&(h=Ze())!==r?((d=Je())===r&&(d=c),d!==r&&(f=qe())!==r?e=t=H(t,i,s,u,h,f):(he=e,e=a)):(he=e,e=a)):(he=e,e=a)):(he=e,e=a)):(he=e,e=a),e}function qe(){var e,t,n,i;return e=he,(t=Ye())!==r?((n=Je())===r&&(n=c),n!==r&&(i=Ye())!==r?e=t=V(t,i):(he=e,e=a)):(he=e,e=a),e}function Ye(){var e;return(e=Xe())!==r&&(e=G(e)),e}function Ke(){var e;return(e=et())===r&&(e=rt()),e}function Xe(){var e,t,n;return e=he,(t=it())===r&&(t=c),t!==r&&(n=et())!==r?e=t=[t,n]:(he=e,e=a),e===r&&(e=he,(t=it())===r&&(t=c),t!==r&&(n=rt())!==r?e=t=[t,n]:(he=e,e=a)),e}function Ze(){var e;return 48===t.charCodeAt(he)?(e=W,he++):(e=r,0===ve&&ye(q)),e===r&&(49===t.charCodeAt(he)?(e=Y,he++):(e=r,0===ve&&ye(K))),e}function Je(){var e,t,n,i,o;if(e=he,t=[],(n=ot())!==r)for(;n!==r;)t.push(n),n=ot();else t=a;if(t!==r)if((n=Qe())===r&&(n=c),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r?e=t=[t,n,i]:(he=e,e=a)}else he=e,e=a;else he=e,e=a;if(e===r)if(e=he,(t=Qe())!==r){for(n=[],i=ot();i!==r;)n.push(i),i=ot();n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function Qe(){var e;return 44===t.charCodeAt(he)?(e=X,he++):(e=r,0===ve&&ye(Z)),e}function et(){var e,t,n;return e=he,(t=tt())!==r?((n=nt())===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)):(he=e,e=a),e===r&&(e=he,(t=rt())!==r&&(n=nt())!==r?e=t=[t,n]:(he=e,e=a)),e}function tt(){var e,n,i,o;return e=he,(n=rt())===r&&(n=c),n!==r?(46===t.charCodeAt(he)?(i=J,he++):(i=r,0===ve&&ye(Q)),i!==r&&(o=rt())!==r?e=n=[n,i,o]:(he=e,e=a)):(he=e,e=a),e===r&&(e=he,(n=rt())!==r?(46===t.charCodeAt(he)?(i=J,he++):(i=r,0===ve&&ye(Q)),i!==r?e=n=[n,i]:(he=e,e=a)):(he=e,e=a)),e}function nt(){var e,n,i,o;return e=he,ee.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(te)),n!==r?((i=it())===r&&(i=c),i!==r&&(o=rt())!==r?e=n=[n,i,o]:(he=e,e=a)):(he=e,e=a),e}function it(){var e;return 43===t.charCodeAt(he)?(e=ne,he++):(e=r,0===ve&&ye(ie)),e===r&&(45===t.charCodeAt(he)?(e=re,he++):(e=r,0===ve&&ye(oe))),e}function rt(){var e,n;if(e=[],se.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(ae)),n!==r)for(;n!==r;)e.push(n),se.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(ae));else e=a;return e!==r&&(e=ce(e)),e}function ot(){var e;return ue.test(t.charAt(he))?(e=t.charAt(he),he++):(e=r,0===ve&&ye(le)),e}var st=[0,0],at=[0,0],ct=[],ut=!0,lt="";function ht(e){for(var t=[],n=0;n<e.length;n++)e[n]instanceof Array?t.push.apply(t,ht(e[n])):t.push(e[n]);return t}function dt(e,t){return-1==="mlazhvcsqt".indexOf(e)?st=t:(st[0]+=t[0],st[1]+=t[1]),lt=e,st.slice(0)}function ft(e,t){for(var n=[],i=st.slice(0),r=0;r<t.length;r+=2){st=i.slice(0);var o=dt(e,t.slice(r,r+2));n=n.concat(o),r==t.length-4&&(at=o.slice(0))}return n}function pt(){-1=="CcSsQqTt".indexOf(lt)&&(at=st.slice(0));var e=[0,0];return e[0]=2*st[0]-at[0],e[1]=2*st[1]-at[1],e}function gt(e,t){var n=[t,0];return"H"==e&&(n[1]=st[1]),dt(e,n)}function vt(e,t){var n=[0,t];return"V"==e&&(n[0]=st[0]),dt(e,n)}function mt(e,t){var n=[e];if(t&&t.length>1)for(var i=t[1],r=0;r<i.length;r++)n.push(i[r]);return n}function yt(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function wt(e,t){return e[0]*t[0]+e[1]*t[1]}function bt(e,t){return wt(e,t)/(yt(e)*yt(t))}function _t(e,t,n){return Math.min(Math.max(e,t),n)}function kt(e,t){var n=1;return e[0]*t[1]-e[1]*t[0]<0&&(n=-1),n*Math.acos(_t(bt(e,t),-1,1))}function Et(e,t){var n=Math.cos(t),i=Math.sin(t);return[n*e[0]+i*e[1],-1*i*e[0]+n*e[1]]}function St(e,t){var n=Math.cos(t),i=Math.sin(t);return[n*e[0]-i*e[1],i*e[0]+n*e[1]]}function Tt(e,t){return[(e[0]-t[0])/2,(e[1]-t[1])/2]}function Pt(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}function Ct(e,t){return[e[0]*t[0],e[1]*t[1]]}function xt(e,t){return[e*t[0],e*t[1]]}function It(e,t){return[e[0]+t[0],e[1]+t[1]]}function Rt(e,t,n,i,r,o,s){if(0!=t&&0!=n){i*=Math.PI/180,t=Math.abs(t),n=Math.abs(n);var a=Et(Tt(e,s),i),c=Ct(a,a),u=Math.pow(t,2),l=Math.pow(n,2),h=Math.sqrt(c[0]/u+c[1]/l);h>1&&(t*=h,n*=h,u=Math.pow(t,2),l=Math.pow(n,2));var d=Math.sqrt(Math.abs(u*l-u*c[1]-l*c[0])/(u*c[1]+l*c[0]));r==o&&(d*=-1);var f=xt(d,[t*a[1]/n,-n*a[0]/t]),p=It(St(f,i),Pt(e,s)),g=[(a[0]-f[0])/t,(a[1]-f[1])/n],v=[(-1*a[0]-f[0])/t,(-1*a[1]-f[1])/n],m=kt([1,0],g),y=m,w=m+kt(g,v);ct.push({type:"save",args:[]},{type:"translate",args:[p[0],p[1]]},{type:"rotate",args:[i]},{type:"scale",args:[t,n]},{type:"arc",args:[0,0,1,y,w,1-o]},{type:"restore",args:[]})}else ct.push({type:"lineTo",args:s})}if((n=s())!==r&&he===t.length)return n;throw n!==r&&he<t.length&&ye({type:"end",description:"end of input"}),we(null,ge,pe)}}}();var t=["closePath","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","rect","arc","arcTo","ellipse","isPointInPath","isPointInStroke"];function n(e){return function(){this.ops_.push({type:e,args:Array.prototype.slice.call(arguments,0)})}}for(var i=0;i<t.length;i++){var r=t[i];e.prototype[r]=n(r)}e.prototype.addPath=function(e,t){var n=!1;t&&null!=t.a&&null!=t.b&&null!=t.c&&null!=t.d&&null!=t.e&&null!=t.f&&(n=!0,this.ops_.push({type:"save",args:[]}),this.ops_.push({type:"transform",args:[t.a,t.b,t.c,t.d,t.e,t.f]})),this.ops_=this.ops_.concat(e.ops_),n&&this.ops_.push({type:"restore",args:[]})},original_fill=CanvasRenderingContext2D.prototype.fill,original_stroke=CanvasRenderingContext2D.prototype.stroke,original_clip=CanvasRenderingContext2D.prototype.clip,original_is_point_in_path=CanvasRenderingContext2D.prototype.isPointInPath,original_is_point_in_stroke=CanvasRenderingContext2D.prototype.isPointInStroke,CanvasRenderingContext2D.prototype.fill=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}original_fill.apply(this,Array.prototype.slice.call(arguments,1))}else original_fill.apply(this,arguments)},CanvasRenderingContext2D.prototype.stroke=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}original_stroke.call(this)}else original_stroke.call(this)},CanvasRenderingContext2D.prototype.clip=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}original_clip.apply(this,Array.prototype.slice.call(arguments,1))}else original_clip.apply(this,arguments)},CanvasRenderingContext2D.prototype.isPointInPath=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}return original_is_point_in_path.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_path.apply(this,arguments)},CanvasRenderingContext2D.prototype.isPointInStroke=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}return original_is_point_in_stroke.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_stroke.apply(this,arguments)},Path2D=e}()}])},module.exports=e()},26823:function(e){"use strict";e.exports=class{constructor(e){let t={exportFormat:"JSON",text:JSON.stringify({note:"Generated by Katal Localization",direction:"ltr",resources:{}})};this.options=Object.assign({},t,e),this.data=JSON.parse(this.options.text),this.validate()}validate(){const e=Object.values(this.data.resources).filter((e=>e.value&&e.value.pluralItems));if(e&&e.length)throw new Error('Unable to process this PUFF-J. Plurals are not supported yet.\n\nPlease use ICU format with `i18next-icu` package. Example resource in ICU format:\n"apples_in_basket": "{appleCount, plural, =0 {You have no apples in a basket} one {You have {appleCount} apple in a basket} other {You have {appleCount} apples in a basket}}"')}get(e,t){if(!this.data.resources[e])return;const n=this.data.resources[e],i=["string","number"];if(i.includes(typeof n))return n;const r=n.value;if(i.includes(typeof r))return r;const o=r.selectItems,s=t.selectItemsValue;let a;return a=s?o[s]:o,a}getStringIds(){return Object.keys(this.data.resources)}insert(e,t,n){if(!n||0===Object.keys(n).length){if(this.get(e,n))throw new Error("Cannot insert translation when one already exists");return void(this.data.resources[e]=t)}let i=this.data.resources[e];if(!i)return void(this.data.resources[e]={value:{param:n.selectItemsParameter,selectItems:{[n.selectItemsValue]:t}}});if(i.value.param!==n.selectItemsParameter)throw new Error(`Cannot insert the same string id twice because the previously-inserted string was configured to switch on "${i.value.param}" but the second string is switched on "${n.selectItemsParameter}"`);const r=this.get(e,n);if(r&&t!==r)throw new Error(`Cannot insert the same string id (${e}) to the same selectItem value (${JSON.stringify(n)}). This string id appears more than once with multiple values ("${t}" vs "${r}")`);i.value.selectItems[n.selectItemsValue]=t}remove(e,t){t&&0!==Object.keys(t).length?(delete this.data.resources[e].value.selectItems[t.selectItemsValue],0===Object.keys(this.data.resources[e].value.selectItems).length&&delete this.data.resources[e]):delete this.data.resources[e]}copyFrom(e){Object.keys(e.data.resources).forEach((t=>{if(this.data.resources[t])throw new Error(`Cannot copy string id '${t}' out of PUFF-J as it already exists`);this.data.resources[t]=e.data.resources[t]}))}setRTL(){this.data.direction="rtl"}toObject(){return this.data}toString(){return JSON.stringify(this.data,null,4)}}},30051:function(e,t,n){var i;self,i=(e,t,n,i,r,o)=>(()=>{var s={522:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});class i extends Error{}},863:()=>{},606:()=>{},800:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var i=n(522),r=n(389),o=n(567);class s{constructor(e){this.options=e}build(){var e;const t=s.formatToBookFormat(this.options.bookInformation.format);switch(s.FORMAT_RENDERER_MAP.get(t)){case r.g4.KARAMEL:return Promise.resolve().then(n.bind(n,818)).then((e=>{var t;return null===(t=this.options.rendererSettings.rendererMetricsService)||void 0===t||t.recordCountMetrics(`${o.P.KARAMEL_RENDERER}:${o.P.COUNT}`,1),new e.KaramelBookRenderer(this.options)}));case r.g4.STUCCO:return Promise.resolve().then(n.bind(n,945)).then((e=>{var t;return null===(t=this.options.rendererSettings.rendererMetricsService)||void 0===t||t.recordCountMetrics(`${o.P.STUCCO_RENDERER}:${o.P.COUNT}`,1),new e.StuccoBookRenderer(this.options)}));case r.g4.YJ_HTML:if(!this.options.bookInformation.revision)throw"Can't use YJ renderer because revisionId is missing.";return Promise.resolve().then(n.bind(n,548)).then((({YJHTMLRenderer:e})=>{var t;return null===(t=this.options.rendererSettings.rendererMetricsService)||void 0===t||t.recordCountMetrics(`${o.P.YJHTML_RENDERER}:${o.P.COUNT}`,1),new e(this.options)}));case r.g4.PRINT:return Promise.resolve().then(n.bind(n,191)).then((({PrintRenderer:e})=>{var t;return null===(t=this.options.rendererSettings.rendererMetricsService)||void 0===t||t.recordCountMetrics(`${o.P.PRINT_RENDERER}:${o.P.COUNT}`,1),new e(this.options)}));default:throw null===(e=this.options.rendererSettings.rendererMetricsService)||void 0===e||e.recordCountMetrics(`${o.P.NO_RENDERER}:${o.P.COUNT}`,1),new i.c(`No renderer found for the following format: ${t}`)}}static formatToBookFormat(e){if(e.toLowerCase().startsWith("mobi"))return"MOBI";if("YJ"===e||"YJ_HTML"===e||"IMAGE_JPG"===e)return e;throw new Error("Not Supported Format")}}s.FORMAT_RENDERER_MAP=new Map([["MOBI",r.g4.STUCCO],["YJ",r.g4.KARAMEL],["IMAGE_JPG",r.g4.PRINT],["YJ_HTML",r.g4.YJ_HTML]])},556:(e,t,n)=>{"use strict";var i;n.d(t,{U:()=>r,g:()=>i}),function(e){e.Location="Location",e.Page="Page"}(i||(i={}));class r extends Error{}},345:(e,t,n)=>{"use strict";n.d(t,{BC:()=>a,JC:()=>s,Lo:()=>r,Z0:()=>i});var i,r,o=n(389);!function(e){e.READY="ready",e.LOADING="loading",e.ERROR="error"}(i||(i={})),function(e){e.JUMP="jump",e.NAVIGATE="navigate"}(r||(r={}));const s=e=>{switch(e){case"reading":default:return o.Ch.READING;case"end":return o.Ch.END}},a=e=>{switch(e){case i.LOADING:return o.QS.STATUS_LOADING;case i.READY:return o.QS.STATUS_IDLE;case i.ERROR:default:return o.QS.STATUS_ERROR}}},620:(e,t,n)=>{"use strict";n.d(t,{L:()=>i,q:()=>r});const i={navigationModes:[],navigationDirections:[],marginTop:!1,marginRight:!1,marginBottom:!1,marginLeft:!1,viewportHeight:!1,viewportWidth:!1,viewportTopOffset:!1,colorThemes:[],fontFamilies:[],fontSize:!1,maxNumberColumns:!1,isRendererPropagatedZoom:!1,pageStyle:!1,zoomPercent:!1,localizedStrings:!1,animatePageTurn:!1,guidedViewSettings:!1,zoomViewSettings:!1,wordsOnScreen:!1};function r(e,t,n){return{navigationMode:n.navigationModes.includes(t.navigationMode)?t.navigationMode:e.navigationMode,navigationDirection:n.navigationDirections.includes(t.navigationDirection)?t.navigationDirection:e.navigationDirection,chevronStyle:n.chevronStyle&&t.chevronStyle?t.chevronStyle:e.chevronStyle,marginTop:n.marginTop&&void 0!==t.marginTop?t.marginTop:e.marginTop,marginRight:n.marginRight&&void 0!==t.marginRight?t.marginRight:e.marginRight,marginBottom:n.marginBottom&&void 0!==t.marginBottom?t.marginBottom:e.marginBottom,marginLeft:n.marginLeft&&void 0!==t.marginLeft?t.marginLeft:e.marginLeft,viewportHeight:n.viewportHeight&&void 0!==t.viewportHeight?t.viewportHeight:e.viewportHeight,viewportWidth:n.viewportWidth&&void 0!==t.viewportWidth?t.viewportWidth:e.viewportWidth,viewportTopOffset:n.viewportTopOffset&&void 0!==t.viewportTopOffset?t.viewportTopOffset:e.viewportTopOffset,colorTheme:n.colorThemes.includes(t.colorTheme)?t.colorTheme:e.colorTheme,fontFamily:n.fontFamilies.includes(t.fontFamily)?t.fontFamily:e.fontFamily,fontSize:n.fontSize&&void 0!==t.fontSize?t.fontSize:e.fontSize,maxNumberColumns:n.maxNumberColumns&&void 0!==t.maxNumberColumns?t.maxNumberColumns:e.maxNumberColumns,isRendererPropagatedZoom:n.isRendererPropagatedZoom&&void 0!==t.isRendererPropagatedZoom?t.isRendererPropagatedZoom:e.isRendererPropagatedZoom,pageStyle:n.pageStyle&&void 0!==t.pageStyle?t.pageStyle:e.pageStyle,zoomPercent:n.zoomPercent&&void 0!==t.zoomPercent&&!t.isRendererPropagatedZoom?t.zoomPercent:e.zoomPercent,localizedStrings:n.localizedStrings&&void 0!==t.localizedStrings?t.localizedStrings:e.localizedStrings,animatePageTurn:n.animatePageTurn&&void 0!==t.animatePageTurn?t.animatePageTurn:e.animatePageTurn,guidedViewSettings:n.guidedViewSettings&&void 0!==t.guidedViewSettings?t.guidedViewSettings:e.guidedViewSettings,zoomViewSettings:n.zoomViewSettings&&void 0!==t.zoomViewSettings?t.zoomViewSettings:e.zoomViewSettings,viewingMode:n.viewingMode&&void 0!==t.viewingMode?t.viewingMode:e.viewingMode}}},547:(e,t,n)=>{"use strict";var i,r;n.d(t,{J:()=>r,a:()=>i}),function(e){e.Create="create",e.Update="update",e.Delete="delete",e.Bulk="bulk"}(i||(i={})),function(e){e.Note="kindle.note",e.Highlight="kindle.highlight",e.Bookmark="kindle.bookmark",e.SearchResult="kindle.search",e.GraphicalHighlight="kindle.graphical_highlight"}(r||(r={}))},389:(e,t,n)=>{"use strict";var i,r,o,s;n.d(t,{Ch:()=>o,QS:()=>s,Wi:()=>r,g4:()=>i}),function(e){e.KARAMEL="karamel",e.STUCCO="stucco",e.PRINT="print",e.YJ_HTML="yj-html"}(i||(i={})),function(e){e[e.Reflowable=1]="Reflowable",e[e.Paginated=2]="Paginated",e[e.VerticalScrolling=4]="VerticalScrolling",e[e.FixedFormat=8]="FixedFormat",e[e.FitToWidth=16]="FitToWidth",e[e.GuidedView=32]="GuidedView",e[e.TwoPageMode=64]="TwoPageMode",e[e.PinchToZoom=128]="PinchToZoom",e[e.Search=256]="Search",e[e.ZoomableContent=512]="ZoomableContent"}(r||(r={})),function(e){e[e.READING=0]="READING",e[e.END=1]="END"}(o||(o={})),function(e){e[e.STATUS_LOADING=0]="STATUS_LOADING",e[e.STATUS_IDLE=1]="STATUS_IDLE",e[e.STATUS_ERROR=2]="STATUS_ERROR"}(s||(s={}))},462:()=>{},918:(e,t,n)=>{"use strict";n.d(t,{$z:()=>r,CK:()=>i,ZM:()=>s,nk:()=>o});class i extends Error{constructor(e,t){super(e),this.name=`${t}ContentUnsupported`,this.stack=(new Error).stack,Object.setPrototypeOf(this,i.prototype)}}class r extends Error{constructor(e,t){super(e),this.name=`${t}FailedToGetBookManifestError`,this.stack=(new Error).stack,Object.setPrototypeOf(this,r.prototype)}}class o extends Error{constructor(e,t){super(e),this.name=`${t}ContentNotAllowed`,this.stack=(new Error).stack,Object.setPrototypeOf(this,o.prototype)}}class s extends Error{constructor(e,t){super(e),this.name=`${t}GeoLocationNotAllowed`,this.stack=(new Error).stack,Object.setPrototypeOf(this,s.prototype)}}},80:()=>{},444:()=>{},241:()=>{},129:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});class i{constructor(){this.pageTokens={}}getToken(e){var t;return null!==(t=this.pageTokens[e])&&void 0!==t?t:null}setToken(e,t){this.pageTokens[e]=t}}},387:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,p:()=>r});const i={White:"#000",Night:"#ACACAC",Sepia:"#5D4232",Green:"#3B4B43",Dark:"#ACACAC",Grey:"#FFFFFF"},r={White:"rgb(255, 255, 255)",Night:"rgb(18, 18, 18)",Sepia:"rgb(231, 222, 199)",Green:"rgb(197, 231, 206)",Dark:"rgb(0, 0, 0)",Grey:"rgb(99, 99, 99)"}},492:(e,t,n)=>{"use strict";var i;function r(e){return["rtl","ltr","lrtb","tbrl"].includes(e)}n.d(t,{j:()=>r,l:()=>i}),function(e){e.VERTICAL_RTL="vertical-rl",e.VERTICAL_LTR="vertical-lr",e.HORIZONTAL_RTL="horizontal-rl",e.HORIZONTAL_LTR="horizontal-lr"}(i||(i={}))},456:()=>{},839:(e,t,n)=>{"use strict";n.d(t,{W5:()=>r,fR:()=>s,nl:()=>o});var i=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class r extends Error{constructor(e){super(e),this.name="TimeoutError"}}class o extends Error{constructor(e,t){super(e),this.statusCode=t,this.name="ServerError"}}class s{static fetchJson(e,t){return i(this,void 0,void 0,(function*(){return s.fetch(e,t).then((e=>e.json()))}))}static fetch(e,t){return i(this,void 0,void 0,(function*(){return fetch(e,t).then((e=>{if(e.ok)return e;{const t=[...e.headers];if(e.status===s.GATEWAY_TIMEOUT_STATUS_CODE)throw s.dispatchOfflineEvent(),new r(`[TimeoutError] Timeout occurred while calling the service. Response Headers = ${t}.`);throw new o(`[ServerError] Error occurred while calling the service. Response Headers = ${t}.`,e.status)}})).catch((e=>{throw navigator.onLine||s.dispatchOfflineEvent(),e}))}))}}s.GATEWAY_TIMEOUT_STATUS_CODE=504,s.dispatchOfflineEvent=()=>{window.dispatchEvent(new CustomEvent("customOffline"))}},514:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,r:()=>o});var i,r=n(87);!function(e){e.GET_BOOK_DATA="book-data",e.GO_TO_PAGE="go-to-page",e.GET_RANDOM_PAGE="random-page",e.GET_POSITION_DATA="position-data"}(i||(i={}));class o{}o.fetchBookData=e=>{const t={asin:e};return o.fetchFromSearchInside(i.GET_BOOK_DATA,t)},o.fetchPage=e=>o.fetchFromSearchInside(i.GO_TO_PAGE,e),o.fetchRandomPage=(e,t)=>{const n={asin:e,buyingAsin:t};return o.fetchFromSearchInside(i.GET_RANDOM_PAGE,n)},o.fetchSearchHighlights=(e,t,n,r)=>{return a=function*(){const s={asin:e,query:t,token:null!=r?r:null,page:n};return yield o.fetchFromSearchInside(i.GET_POSITION_DATA,s)},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{r(a.next(e))}catch(e){t(e)}}function i(e){try{r(a.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof s?r:new s((function(e){e(r)}))).then(n,i)}r((a=a.apply(void 0,[])).next())}));var s,a},o.fetchFromSearchInside=(e,t)=>{const n={credentials:"include",headers:new Headers({Accept:"application/json"})},i=o.constructQueryString(t),s=window.location.pathname.startsWith("/litb")?"/litb":"/sample";return(0,r.A_)(`${s}/print/${e}?${i}`,n).then((e=>e.json())).then((e=>e)).catch((e=>Promise.reject(e)))},o.constructQueryString=e=>Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&")},453:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var i=n(514),r=n(839),o=n(43),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class a{static karamelReading(e,t,n){return s(this,void 0,void 0,(function*(){const i=Object.assign(Object.assign({},e),{karamelVersion:e.version,kindleSessionId:t});delete i.version,delete i.encryptionId;const r=o.L().domain;return a.fetch(`https://${r}${a.SRS_AUTHENTICATED_ROOT_URL}karamelReading?${new URLSearchParams(i)}&clientVersion=${a.CLIENT_VERSION}`,n)}))}static renderBook(e,t){return s(this,void 0,void 0,(function*(){const n=Object.assign(Object.assign({},e),{token:t.token});delete n.encryptionId;const i=o.L().domain,r=yield a.fetch(`https://${i}${a.KARAMEL_SERVICE_ROOT_URL}render?${new URLSearchParams(n)}`),s=new Response(r.body,r);return s.headers.set("karamel-rendering-token",JSON.stringify(t)),s}))}static getFileUrl(e,t){return s(this,void 0,void 0,(function*(){const n=o.L().domain,i=t?a.SRS_AUTHENTICATED_ROOT_URL:a.SRS_UNAUTHENTICATED_ROOT_URL;return a.fetchJson(`https://${n}${i}getFileUrl?${new URLSearchParams(e)}`,t)}))}static getPrintPageUrl(e,t){var n;return s(this,void 0,void 0,(function*(){const r=void 0===e.page||e.token?e:Object.assign(Object.assign({},e),{token:null!==(n=null==t?void 0:t.getToken(e.page))&&void 0!==n?n:null});return i.r.fetchFromSearchInside(i.M.GO_TO_PAGE,r)}))}static fetchJson(e,t){return r.fR.fetchJson(e,a.constructHeaders(t))}static fetch(e,t){return r.fR.fetch(e,a.constructHeaders(t))}static constructHeaders(e){return e?{headers:{"X-ADP-Session-Token":e}}:void 0}}a.SRS_AUTHENTICATED_ROOT_URL="/service/mobile/reader/",a.SRS_UNAUTHENTICATED_ROOT_URL="/service/web/content/",a.KARAMEL_SERVICE_ROOT_URL="/renderer/",a.CLIENT_VERSION="20000100"},369:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});class i{constructor(e){this.metricsService=e,this.recordTimeMetrics=this.metricsService.recordTimeMetrics.bind(this.metricsService),this.recordCountMetrics=this.metricsService.recordCountMetrics.bind(this.metricsService)}asyncTimeExecution(e,t){return n=this,r=function*(){const n=Date.now();try{return yield t()}catch(t){throw this.recordErrorCountMetrics(e,1),t}finally{const t=Date.now();this.recordTimeMetrics(`${e}:ExecutionTime`,t-n)}},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{a(r.next(e))}catch(e){t(e)}}function s(e){try{a(r.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}a((r=r.apply(n,[])).next())}));var n,i,r}recordErrorCountMetrics(e,t,n){this.recordErrorMetrics("ErrorCount",e,t,n)}recordErrorMetrics(e,t,n,i){i?this.recordCountMetrics(`${t}:${e}:${i}`,n):this.recordCountMetrics(`${t}:${e}`,n)}}},498:(e,t,n)=>{"use strict";n.d(t,{aX:()=>c,cr:()=>u,kl:()=>h,qw:()=>a});var i=n(389),r=n(453),o=n(839),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class a extends Error{constructor(e){super(e),this.name=this.constructor.name}}class c extends Error{constructor(e){super(e),this.name=this.constructor.name}}class u extends Error{constructor(e){super(e),this.name=this.constructor.name}}class l{constructor(){this.locationMapIsLoaded=!1}getServiceFetch(){return(e,t)=>s(this,void 0,void 0,(function*(){switch(e){case i.g4.STUCCO:return r.D.getFileUrl(t,this.adpToken);case i.g4.KARAMEL:{const e=Object.assign(Object.assign({},t),{locationMap:`${!this.locationMapIsLoaded}`});if(!this.karamelTokenProvider){if(!this.adpToken||!this.sessionId)throw new c;return this.locationMapIsLoaded=!0,r.D.karamelReading(e,this.sessionId,this.adpToken)}return this.renderBookUsingToken(e,this.karamelTokenProvider)}case i.g4.PRINT:return r.D.getPrintPageUrl(t,this.printTokenProvider);default:throw new a}}))}renderBookUsingToken(e,t){return s(this,void 0,void 0,(function*(){try{return yield this.callRenderBook(e,t)}catch(n){if(n instanceof o.nl&&n.statusCode===l.KARAMEL_TOKEN_EXPIRED_STATUS_CODE)return this.karamelToken=void 0,this.callRenderBook(e,t);throw n}}))}callRenderBook(e,t){return s(this,void 0,void 0,(function*(){if(null==this.karamelToken||Date.now()+l.TOKEN_EXPIRED_THRESHOLD>this.karamelToken.expiresAt)try{this.karamelToken=yield t.getToken()}catch(e){throw new u(JSON.stringify(e))}if(!this.karamelToken)throw new c;return this.locationMapIsLoaded=!0,r.D.renderBook(e,this.karamelToken)}))}getCdnPrefetchInfo(){var e,t,n,i;return{cdn:null===(e=this.cdnPrefetchInfo)||void 0===e?void 0:e.cdn,resources:null===(t=this.cdnPrefetchInfo)||void 0===t?void 0:t.resources,karamelToken:null!==(i=null===(n=this.cdnPrefetchInfo)||void 0===n?void 0:n.karamelToken)&&void 0!==i?i:this.karamelToken}}setAdpToken(e){this.adpToken=e}setKaramelToken(e){this.karamelToken=e}setCdnPrefetchInfo(e){this.cdnPrefetchInfo=e}setSessionId(e){this.sessionId=e}setKaramelTokenProvider(e){this.karamelTokenProvider=e}setPrintTokenProvider(e){this.printTokenProvider=e}}l.TOKEN_EXPIRED_THRESHOLD=5e3,l.KARAMEL_TOKEN_EXPIRED_STATUS_CODE=419;class h{withADPToken(e){return this.adpToken=e,this}withSessionId(e){return this.sessionId=e,this}withKaramelTokenProvider(e){return this.karamelTokenProvider=e,this}withKaramelToken(e){return this.karamelToken=e,this}withCdnPrefetchInfo(e){return this.cdnPrefetchInfo=e,this}withPrintTokenProvider(e){return this.printTokenProvider=e,this}populate(e){e.setKaramelTokenProvider(this.karamelTokenProvider),e.setSessionId(this.sessionId),e.setAdpToken(this.adpToken),e.setKaramelToken(this.karamelToken),e.setCdnPrefetchInfo(this.cdnPrefetchInfo),e.setPrintTokenProvider(this.printTokenProvider)}build(){const e=new l;return this.populate(e),e}}},33:(e,t,n)=>{"use strict";function i(e,t,n){let i,r,o=0,s=e.length-1;for(;o<=s;)if(i=Math.floor((o+s)/2),r=n(e[i],t),r<0)o=i+1;else{if(!(r>0))return i;s=i-1}return s>=0?s:o}n.d(t,{r:()=>i})},553:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});const i="k.amazon.com"},479:(e,t,n)=>{"use strict";function i(e){return new Promise(((t,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{t(i.result)},i.onerror=()=>{n("Failed to read blob as data URL.")}}))}function r(e,t){return e/t*72}function o(e){return new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))}))}n.d(t,{_V:()=>s,fL:()=>i,oj:()=>r,tO:()=>o});const s=e=>{const t={};return e.forEach((({position:e,start:n,end:i,startY:r,endY:o})=>{var s;void 0!==n&&void 0!==i&&void 0!==r&&void 0!==o&&(t[e]=[...null!==(s=t[e])&&void 0!==s?s:[],[n,r,i-n,o-r]])})),t}},275:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});class i{constructor(){this.completed=!1,this.promise=new Promise(((e,t)=>{this.resolver=e,this.rejecter=t}))}resolve(e){if(this.completed)throw"Cannot resolve Deferred, it is already completed.";this.resolver(e),this.completed=!0}reject(e){if(this.completed)throw"Cannot reject Deferred, it is already completed.";this.rejecter(e),this.completed=!0}getPromise(){return this.promise}isCompleted(){return this.completed}}},713:(e,t,n)=>{"use strict";n.d(t,{DA:()=>O,Dt:()=>u,Gu:()=>y,Js:()=>b,LZ:()=>c,Nc:()=>I,Qz:()=>a,RG:()=>i,T8:()=>o,Tv:()=>m,V5:()=>f,YF:()=>k,Yr:()=>C,_1:()=>l,aQ:()=>s,fM:()=>S,fq:()=>_,gj:()=>x,gn:()=>d,gp:()=>E,iB:()=>R,jE:()=>P,nz:()=>p,sg:()=>h,si:()=>T,u4:()=>v,uA:()=>w,vU:()=>g});var i,r=n(824);!function(e){e[e.Android=0]="Android",e[e.iOS=1]="iOS",e[e.unknown=2]="unknown"}(i||(i={}));const o=()=>matchMedia("(orientation: portrait)").matches?"Portrait":matchMedia("(orientation: landscape)").matches?"Landscape":"Portrait",s=e=>{matchMedia("(orientation: landscape)").addListener((t=>{e(t.matches)}))},a=()=>window.innerWidth>768,c=e=>{switch(e){case"Landscape":return window.innerWidth>768;case"Portrait":return window.innerHeight>768}},u=()=>-1!==window.navigator.userAgent.indexOf("Android"),l=()=>-1!==window.navigator.userAgent.indexOf("iPad")||f()&&window.navigator.maxTouchPoints>2,h=()=>-1!==window.navigator.userAgent.indexOf("iPhone")||-1!==window.navigator.userAgent.indexOf("iPod"),d=()=>l()||h(),f=()=>-1!==window.navigator.userAgent.indexOf("Mac OS X"),p=()=>d()&&!/criOS|fxiOS/i.test(navigator.userAgent),g=()=>/Firefox|fxiOS/i.test(navigator.userAgent),v=()=>-1!==window.navigator.userAgent.indexOf("Silk"),m=()=>/Samsung/i.test(navigator.userAgent),y=()=>!!window.smash,w=()=>u()?i.Android:d()?i.iOS:i.unknown,b=()=>/msie\s|trident\/|edge\//i.test(window.navigator.userAgent),_=()=>/Trident\/[78]\.0/.test(window.navigator.userAgent),k=()=>{const e=navigator.userAgent,t=e.indexOf("Android"),n=parseFloat(e.slice(t+8));return t>=0&&n<3},E=()=>p()?Math.min(window.innerHeight,window.document.documentElement.clientHeight):document.documentElement.clientHeight,S=()=>document.documentElement.clientWidth,T=(e=!0)=>{if(d()&&!y()){const t=E(),n=document.getElementById("mainContainer"),i=document.documentElement.clientHeight-window.innerHeight;n&&(e&&window.scrollTo(window.scrollX,window.scrollY-i),n.style.height=`${t}px`,n.style.position="relative")}},P=()=>{if(d()&&!y()){const e=S(),t=document.getElementById("mainContainer");t&&(t.style.width=`${e}px`,t.style.position="relative")}},C=()=>{if(d()&&!y()){const e=S(),t=E(),n=document.documentElement.clientHeight-window.innerHeight,i=document.getElementById("mainContainer");i&&(window.scrollTo(window.scrollX,window.scrollY-n),i.style.width=`${e}px`,i.style.height=`${t}px`,i.style.position="relative")}},x=()=>{const e=S();return E()>=r.JB&&e>=r.QO},I=()=>S()>=r.Bl,R=()=>Math.round(E()*window.devicePixelRatio),O=()=>Math.round(S()*window.devicePixelRatio)},124:(e,t,n)=>{"use strict";n.d(t,{Jf:()=>s,WF:()=>o,ww:()=>i});var i,r=n(87);!function(e){e[e.STATUS_LOADING_FONT=0]="STATUS_LOADING_FONT",e[e.STATUS_LOADING_FONT_DONE=1]="STATUS_LOADING_FONT_DONE",e[e.STATUS_LOADING_FONT_ERROR=2]="STATUS_LOADING_FONT_ERROR"}(i||(i={}));const o=()=>/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)?["woff"]:["woff2"];class s{constructor(){this.fontsBaseUrl="",this.fontIndex=null,this.fontFormats=o(),"undefined"!=typeof litbReaderFonts&&(this.fontIndex=this.initFontIndex()),this.fontsBaseUrl=(()=>{const e=document.getElementById("assetsCfUrl");return e?e.getAttribute("data-assets-cf-url")+"/assets/fonts":""})()}getFontIndex(){return this.fontIndex?Promise.resolve(this.fontIndex):(0,r.A_)(this.fontsBaseUrl+"/fonts.json",{}).then((e=>e.json())).then((e=>{for(const t of Object.keys(e))e[t].forEach((e=>{e.fontFiles&&e.fontFiles.forEach((e=>{e.url=this.fontsBaseUrl+"/"+e.fileName}))}));return Promise.resolve(e)}))}selectFontFormat(e){for(const t of e)if(-1!==this.fontFormats.indexOf(t.format))return t;throw new Error("Unable to find suitable font format")}initFontIndex(){const e={};for(const t of Object.keys(litbReaderFonts))e[t]=litbReaderFonts[t].map((e=>{const t=litbReaderFontsMap.find((t=>t.fontFamily===e.fontFamily&&t.fontWeight===e.fontWeight&&t.fontStyle===e.fontStyle&&t.fontStretch===e.fontStretch));if(!t)throw`Missing font face '${e.fontFamily}' for weight = ${e.fontWeight}, style = ${e.fontStyle}, stretch = ${e.fontStretch} in font face URL map`;return{fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontStretch:e.fontStretch,fontMetrics:e.fontMetrics,fontFiles:t.fontFiles}}));return e}}},597:(e,t,n)=>{"use strict";n.d(t,{g:()=>c,u:()=>a});var i=n(809);const r=["gu","hi","ml","mr","ta"],o=Object.freeze({en:{defaultFont:"Bookerly",fonts:["Bookerly","AmazonEmber","OpenDyslexic"]},ja:{defaultFont:"TBMincho",fonts:["TBMincho","TBGothic"]},zh:{defaultFont:"STSongSC",fonts:["STSongSC","STHeitiSC"]},"zh-hant":{defaultFont:"STHeitiTC",fonts:["STHeitiTC","STSongTC"]}}),s=e=>null!=e&&["en","ja","zh","zh-hant"].includes(e),a=(e,t)=>(0,i.w)(e,(e=>r.includes(e)?[]:s(e)?o[e].fonts:o.en.fonts)(t)),c=(e,t)=>{const n=s(e)?o[e]:o.en;return null!=t&&n.fonts.includes(t)?t:n.defaultFont}},809:(e,t,n)=>{"use strict";n.d(t,{q:()=>i,w:()=>r});const i=(e,t)=>{const n=Object.keys,r=typeof e;return e&&t&&"object"===r&&r===typeof t?n(e).length===n(t).length&&n(e).every((n=>i(e[n],t[n]))):e===t},r=(e,t)=>e.filter((e=>t.includes(e)))},902:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});class i{constructor(e){this.locations=e}positionToLocation(e){return Math.max(1,this.findLocationInMap(e))}locationToPosition(e){return this.locations[e-1]}findLocationInMap(e){const t=this.locations.length;if(0==t||this.locations[0]>=e)return 1;if(this.locations[t-1]<=e)return t;let n=0,i=t-1;for(;n<i-1;){const t=Math.floor((i+n)/2);this.locations[t]>e?i=t:n=t}return this.locations[i]<=e?i+1:n+1}}var r=n(556),o=n(33);class s{constructor(e){this.locationMap=e,this.labelsMap=new Map,this.pageLabelToNavUnitIndex=new Map,this.constructLabelsMap(),e.locations&&e.locations.length&&(this.locationsConverter=new i(e.locations))}convertPageToPosition(e){const t=this.labelsMap.get(e);return t?Promise.resolve(t):Promise.resolve(0)}convertPositionToPage(e){let t="";const n=this.locationMap.navigationUnit;return n&&e>=n[0].startPosition&&(t=n[(0,o.r)(n,e,s.compareTo)].label),Promise.resolve(t)}convertLocationToPosition(e){var t;const n=null===(t=this.locationsConverter)||void 0===t?void 0:t.locationToPosition(e);if(void 0!==n)return Promise.resolve(n);throw Error(`Location ${e} is invalid for this book`)}convertPositionToLocation(e){var t;const n=null===(t=this.locationsConverter)||void 0===t?void 0:t.positionToLocation(e);if(void 0!==n)return Promise.resolve(n);throw Error(`Position ${e} has no location on this book`)}getLastNavigationUnitStartPosition(){let e=0;const t=this.locationMap.navigationUnit;return t&&(e=t[t.length-1].startPosition),Promise.resolve(e)}getLastLocationPosition(){const e=this.locationMap.locations;return Promise.resolve(e[e.length-1])}getMaximumPageLabel(){const e=this.locationMap.navigationUnit;if(e){const t=[];for(const n of e){const e=Number(n.label);Number.isNaN(e)||t.push(e)}return 0===t.length?e[e.length-1].label:String(Math.max(...t))}return""}getTotalLocations(){return this.locationMap.locations.length}getTotalNavigationUnits(){return this.locationMap.navigationUnit?this.locationMap.navigationUnit.length:0}getNavigationUnitTypes(){var e;const t=[];return this.locationMap.locations&&this.locationMap.locations.length&&t.push(r.g.Location),(null===(e=this.locationMap.navigationUnit)||void 0===e?void 0:e.length)&&t.push(r.g.Page),t}getPageIndexInNavigationUnits(e){const t=this.pageLabelToNavUnitIndex.get(e);return void 0!==t?t:0}getNavigationUnitInitialPositionByIndex(e){const t=this.locationMap.navigationUnit;return t&&t[e]?t[e].startPosition:0}getNavigationUnitLabelByIndex(e){const t=this.locationMap.navigationUnit;if(t&&t[e])return t[e].label}validatePage(e){return this.labelsMap.has(e)}validateLocation(e){return e>0&&e<=this.locationMap.locations.length}static compareTo(e,t){return e.startPosition-t}constructLabelsMap(){const e=this.locationMap.navigationUnit;if(e)for(let t=0;t<e.length;t++)this.labelsMap.set(e[t].label,e[t].startPosition),this.pageLabelToNavUnitIndex.set(e[t].label,t)}}},43:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,a:()=>i});const i={LOCAL:{marketplace:"US",domain:"k.amazon.com",region:"us-east-1",storeLink:"www.amazon.com/dp/",thankYouLink:"www.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"ATVPDKIKX0DER"},US:{marketplace:"US",domain:"read.amazon.com",region:"us-east-1",storeLink:"www.amazon.com/dp/",thankYouLink:"www.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"ATVPDKIKX0DER"},JP:{marketplace:"JP",domain:"read.amazon.co.jp",region:"ap-northeast-1",storeLink:"www.amazon.co.jp/dp/",thankYouLink:"www.amazon.co.jp/kindle-dbs/thankYouPage",marketplaceId:"A1VC38T7YXB528"},CA:{marketplace:"CA",domain:"read.amazon.ca",region:"us-east-1",storeLink:"www.amazon.ca/dp/",thankYouLink:"www.amazon.ca/kindle-dbs/thankYouPage",marketplaceId:"A2EUQ1WTGCTBG2"},BR:{marketplace:"BR",domain:"ler.amazon.com.br",region:"eu-west-1",storeLink:"www.amazon.com.br/dp/",thankYouLink:"www.amazon.com.br/kindle-dbs/thankYouPage",marketplaceId:"A2Q3Y263D00KWC"},AU:{marketplace:"AU",domain:"read.amazon.com.au",region:"ap-northeast-1",storeLink:"www.amazon.com.au/dp/",thankYouLink:"www.amazon.com.au/kindle-dbs/thankYouPage",marketplaceId:"A39IBJ37TRP1C6"},MX:{marketplace:"MX",domain:"leer.amazon.com.mx",region:"us-east-1",storeLink:"www.amazon.com.mx/dp/",thankYouLink:"www.amazon.com.mx/kindle-dbs/thankYouPage",marketplaceId:"A1AM78C64UM0Y8"},UK:{marketplace:"GB",domain:"read.amazon.co.uk",region:"eu-west-1",storeLink:"www.amazon.co.uk/dp/",thankYouLink:"www.amazon.co.uk/kindle-dbs/thankYouPage",marketplaceId:"A1F83G8C2ARO7P"},DE:{marketplace:"DE",domain:"lesen.amazon.de",region:"eu-west-1",storeLink:"www.amazon.de/dp/",thankYouLink:"www.amazon.de/kindle-dbs/thankYouPage",marketplaceId:"A1PA6795UKMFR9"},FR:{marketplace:"FR",domain:"lire.amazon.fr",region:"eu-west-1",storeLink:"www.amazon.fr/dp/",thankYouLink:"www.amazon.fr/kindle-dbs/thankYouPage",marketplaceId:"A13V1IB3VIYZZH"},IT:{marketplace:"IT",domain:"leggi.amazon.it",region:"eu-west-1",storeLink:"www.amazon.it/dp/",thankYouLink:"www.amazon.it/kindle-dbs/thankYouPage",marketplaceId:"APJ6JRA9NG5V4"},ES:{marketplace:"ES",domain:"leer.amazon.es",region:"eu-west-1",storeLink:"www.amazon.es/dp/",thankYouLink:"www.amazon.es/kindle-dbs/thankYouPage",marketplaceId:"A1RKKUPIHCS9HS"},NL:{marketplace:"NL",domain:"lezen.amazon.nl",region:"eu-west-1",storeLink:"www.amazon.nl/dp/",thankYouLink:"www.amazon.nl/kindle-dbs/thankYouPage",marketplaceId:"A1805IZSGTT6HS"},IN:{marketplace:"IN",domain:"read.amazon.in",region:"eu-west-1",storeLink:"www.amazon.in/dp/",thankYouLink:"www.amazon.in/kindle-dbs/thankYouPage",marketplaceId:"A21TJRUUN4KGV"},CN:{marketplace:"CN",domain:"read.amazon.cn",region:"ap-northeast-1",storeLink:"www.amazon.cn/dp/",thankYouLink:"www.amazon.cn/kindle-dbs/thankYouPage",marketplaceId:"AAHKV2X7AFYLW"},USPreProd:{marketplace:"US",domain:"read-preprod.amazon.com",region:"us-east-1",storeLink:"pre-prod.amazon.com/dp/",thankYouLink:"pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"ATVPDKIKX0DER"},JPPreProd:{marketplace:"JP",domain:"read-pre-prod-jp.amazon.com",region:"ap-northeast-1",storeLink:"jp-pre-prod.amazon.com/dp/",thankYouLink:"jp-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1VC38T7YXB528"},CAPreProd:{marketplace:"CA",domain:"read-pre-prod-ca.amazon.com",region:"us-east-1",storeLink:"ca-pre-prod.amazon.com/dp/",thankYouLink:"ca-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A2EUQ1WTGCTBG2"},BRPreProd:{marketplace:"BR",domain:"read-pre-prod-br.amazon.com",region:"eu-west-1",storeLink:"br-pre-prod.amazon.com/dp/",thankYouLink:"br-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A2Q3Y263D00KWC"},AUPreProd:{marketplace:"AU",domain:"read-pre-prod-au.amazon.com",region:"ap-northeast-1",storeLink:"au-pre-prod.amazon.com/dp/",thankYouLink:"au-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A39IBJ37TRP1C6"},MXPreProd:{marketplace:"MX",domain:"read-pre-prod-mx.amazon.com",region:"us-east-1",storeLink:"mx-pre-prod.amazon.com/dp/",thankYouLink:"mx-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1AM78C64UM0Y8"},UKPreProd:{marketplace:"GB",domain:"read-pre-prod-uk.amazon.com",region:"eu-west-1",storeLink:"uk-pre-prod.amazon.com/dp/",thankYouLink:"uk-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1F83G8C2ARO7P"},DEPreProd:{marketplace:"DE",domain:"read-pre-prod-de.amazon.com",region:"eu-west-1",storeLink:"de-pre-prod.amazon.com/dp/",thankYouLink:"de-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1PA6795UKMFR9"},FRPreProd:{marketplace:"FR",domain:"read-pre-prod-fr.amazon.com",region:"eu-west-1",storeLink:"fr-pre-prod.amazon.com/dp/",thankYouLink:"fr-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A13V1IB3VIYZZH"},ITPreProd:{marketplace:"IT",domain:"read-pre-prod-it.amazon.com",region:"eu-west-1",storeLink:"it-pre-prod.amazon.com/dp/",thankYouLink:"it-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"APJ6JRA9NG5V4"},ESPreProd:{marketplace:"ES",domain:"read-pre-prod-es.amazon.com",region:"eu-west-1",storeLink:"es-pre-prod.amazon.com/dp/",thankYouLink:"es-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1RKKUPIHCS9HS"},NLPreProd:{marketplace:"NL",domain:"lezen-nl-preprod.dub.xcorp.amazon.com",region:"eu-west-1",storeLink:"nl-pre-prod.amazon.com/dp/",thankYouLink:"nl-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A1805IZSGTT6HS"},INPreProd:{marketplace:"IN",domain:"read-pre-prod-in.amazon.com",region:"eu-west-1",storeLink:"in-pre-prod.amazon.com/dp/",thankYouLink:"in-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"A21TJRUUN4KGV"},CNPreProd:{marketplace:"CN",domain:"read-pre-prod-cn.amazon.com",region:"ap-northeast-1",storeLink:"cn-pre-prod.amazon.com/dp/",thankYouLink:"cn-pre-prod.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"AAHKV2X7AFYLW"},USInteg:{marketplace:"US",domain:"read.integ.amazon.com",region:"us-east-1",storeLink:"development.amazon.com/dp/",thankYouLink:"development.amazon.com/kindle-dbs/thankYouPage",marketplaceId:"ATVPDKIKX0DER"}},r=()=>{switch(window.location.hostname){case i.US.domain:return i.US;case i.JP.domain:return i.JP;case i.CA.domain:return i.CA;case i.BR.domain:return i.BR;case i.AU.domain:return i.AU;case i.MX.domain:return i.MX;case i.UK.domain:return i.UK;case i.DE.domain:return i.DE;case i.FR.domain:return i.FR;case i.IT.domain:return i.IT;case i.ES.domain:return i.ES;case i.NL.domain:return i.NL;case i.IN.domain:return i.IN;case i.CN.domain:return i.CN;case i.USPreProd.domain:return i.USPreProd;case i.JPPreProd.domain:return i.JPPreProd;case i.CAPreProd.domain:return i.CAPreProd;case i.BRPreProd.domain:return i.BRPreProd;case i.AUPreProd.domain:return i.AUPreProd;case i.MXPreProd.domain:return i.MXPreProd;case i.UKPreProd.domain:return i.UKPreProd;case i.DEPreProd.domain:return i.DEPreProd;case i.FRPreProd.domain:return i.FRPreProd;case i.ITPreProd.domain:return i.ITPreProd;case i.ESPreProd.domain:return i.ESPreProd;case i.NLPreProd.domain:return i.NLPreProd;case i.INPreProd.domain:return i.INPreProd;case i.CNPreProd.domain:return i.CNPreProd;case i.USInteg.domain:return i.USInteg;case i.LOCAL.domain:return Object.assign(Object.assign({},i.LOCAL),{domain:window.location.host});default:return i.US}}},567:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});class i{}i.EXECUTION_TIME="ExecutionTime",i.COUNT="Count",i.ERROR_COUNT="ErrorCount",i.SUCCESS="Success",i.ERROR="Error",i.STUCCO="Stucco",i.YJHTML="YjHTML",i.PRINT="Print",i.STUCCO_RENDERER="StuccoRenderer",i.KARAMEL_RENDERER="KaramelRenderer",i.YJHTML_RENDERER="YjHtmlRenderer",i.PRINT_RENDERER="PrintRenderer",i.NO_RENDERER="NoRenderer",i.LOADED_FONTS="LoadedFonts",i.RENDERER_INITIALIZED="RendererInitialized",i.ZOOMABLE_CONTENT_ERROR="ZoomableContentError",i.ZOOMABLE_ENTER="ZoomableEnter",i.ZOOMABLE_EXIT="ZoomableExit",i.ZOOMABLE_NEXT="ZoomableNext",i.ZOOMABLE_PREVIOUS="ZoomablePrevious",i.SURPRISE_ME="SurpriseMeClick"},906:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var i=n(567);class r{constructor(e,t="",n=""){this.metricsService=e,this.prefix=t,this.separator=n}recordCountMetrics(e,t=1){this.metricsService.recordCountMetrics(this.prefix+this.separator+e,t)}loadedFonts(e){this.recordCountMetrics(i.P.LOADED_FONTS+this.separator+i.P.SUCCESS,e?1:0),e||this.recordCountMetrics(i.P.LOADED_FONTS+this.separator+i.P.ERROR,1)}rendererInitialized(e){this.recordCountMetrics(i.P.RENDERER_INITIALIZED+this.separator+i.P.SUCCESS,e?1:0),e||this.recordCountMetrics(i.P.RENDERER_INITIALIZED+this.separator+i.P.ERROR,1)}}},87:(e,t,n)=>{"use strict";n.d(t,{A_:()=>s,WY:()=>r,j0:()=>a});const i=e=>{if(!e.ok||e.status>=400){const t={type:"generic",response:e};return Promise.reject(t)}return Promise.resolve(e)},r=(e,t)=>{const n=Object.assign({mode:"cors",credentials:"same-origin"},t);return fetch(e,n).catch((e=>{if(navigator.onLine){const t={type:"connection",error:e};return Promise.reject(t)}const t={type:"offline",error:e};return Promise.reject(t)})).then(i)},o=(e,t,n=0)=>r(e,t).catch((i=>3===n?Promise.reject(i):new Promise(((i,r)=>{setTimeout((()=>{o(e,t,n+1).then(i).catch(r)}),3e3)})))),s=(e,t={})=>o(e,t),a=(e,t,n={})=>{const i=new Headers(n.headers);i.set("Content-Type","application/json");const r={headers:i,method:"POST"};return r.body=JSON.stringify(t),s(e,r)}},824:(e,t,n)=>{"use strict";n.d(t,{Bl:()=>r,JB:()=>s,QO:()=>i,oz:()=>o});const i=768,r=999,o=992,s=512},191:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PrintRenderer:()=>x});var i=n(323),r=n(620),o=n(389),s=n(345),a=n(233),c=n.n(a),u=n(803),l=n.n(u),h=n(514),d=n(492),f=n(918),p=n(129),g=n(567);class v extends Error{constructor(e,t){super(e),this.nextPageToTry=t}}class m{constructor(e,t,n,i,r){this.asin=e,this.serviceFetch=t,this.onAddAnnotationsRange=n,this.localizedStrings=i,this.metricsUtils=r,this.printTokenProvider=new p.x,this.pageToRequestMap={}}getMetadata(){return this.getBookManifest().then((e=>this.constructBookMetadata(e)))}getTableOfContents(){return this.getBookManifest().then((e=>{var t,n;if(e.tableOfContents.length>0){const r=e.tableOfContents.slice();return"print"===e.type&&r.push({label:null!==(n=null===(t=this.localizedStrings)||void 0===t?void 0:t.surpriseMeLabel)&&void 0!==n?n:"Surprise Me!",position:i.SURPRISE_ME_POSITION,disabled:!1}),r}return[]}))}getPageProgressionDirection(e){return(0,d.j)(e)?e:"lrtb"}getBookManifest(){return this.bookManifestPromise||(this.bookManifestPromise=this.getManifest()),this.bookManifestPromise}getManifest(){return this.bookManifestPromise||(this.bookManifestPromise=h.r.fetchBookData(this.asin).then((e=>(this.bookManifest=w(e),this.bookManifest))).catch((e=>{throw new f.$z(`Failed to get manifest for print asin: [${this.asin}], ${e}`,g.P.PRINT)}))),this.bookManifestPromise}getManifestIfAvailable(){return this.bookManifest}getPage(e,t){if(t in this.pageToRequestMap)return this.pageToRequestMap[t];const n=this.printTokenProvider.getToken(t);return this.pageToRequestMap[t]=this.fetchPage(e,e,t,n).then((e=>(delete this.pageToRequestMap[t],e))),this.pageToRequestMap[t]}fetchPage(e,t,n,i){const r={asin:e,buyingAsin:t,page:n,token:i};return this.serviceFetch?this.serviceFetch(o.g4.PRINT,r):h.r.fetchPage(r)}getRandomPage(){return e=this,n=function*(){const e=yield h.r.fetchRandomPage(this.asin,this.asin);return this.printTokenProvider.setToken(e.pageNumber,e.token),e},new((t=void 0)||(t=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}a((n=n.apply(e,[])).next())}));var e,t,n}getPageUrls(e){return this.getPage(this.asin,e).then((({jumboImageUrls:e,nextPageToTry:t,error:n})=>{var i;if(!n)return e;if("PAGE_NOT_AVAILABLE_TITLE"===(null===(i=n.title)||void 0===i?void 0:i.key))throw new v(n.text.key,t)}))}requestPageHighlights(e){this.onAddAnnotationsRange&&this.onAddAnnotationsRange(e,e)}constructBookMetadata(e){const t=this.getPageProgressionDirection(e.progressionDirection);return{asin:this.asin,bookmarks:e.bookmarks,numberOfPages:e.numberOfPages,language:"",coverUrl:"",pageProgressionDirection:t,navigationDirection:t,hasKindleEdition:e.hasKindleEdition,pageLabelSet:e.pageLabelSet,searchable:e.searchable,srl:-1,zoomable:e.zoomable}}}const y=e=>{let t;return e&&e.split("),(").forEach((e=>{const[n,r,o]=e.replace(")","").replace("(","").split(",");r===i.PageLabel.A&&(t={firstPageIdx:parseInt(n,10),pageLabel:r,actualPageNumber:parseInt(o,10)})})),t},w=e=>{if(e.error&&e.error.text)throw new Error(e.error.text.key);const t=_(e.xPages),n=b(e.bookmarks,t);return{bookmarks:e.bookmarks,imageUrls:e.jumboImageUrls,title:e.title,pages:e.litbPages||[1],numberOfPages:e.numPages,tableOfContents:n,progressionDirection:e.orientation,isFPS:!!e.isFPS,type:e.type,embargoedPages:t,pageLabelSet:e.pageLabelSet,firstPageInfo:y(e.pageLabelSet),searchable:e.searchable,zoomable:e.zoomable,hasKindleEdition:e.hasKindleEdition}},b=(e,t)=>e.map((e=>{const[n,i]=e;return{label:n,position:i,disabled:-1!==t.indexOf(i)}})),_=e=>{if(e){const t=e.split(",").filter((e=>e&&e.length>0));return c()(t,(e=>{if(e&&e.indexOf("-")>-1){const[t,n]=e.split("-").map((e=>parseInt(e,10)));return l()(t,n+1)}return[parseInt(e,10)]}))}return[]};var k=n(479),E=n(906),S=n(141),T=n.n(S),P=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const C={navigationMode:"Scroll",navigationDirection:"Vertical",marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,isRendererPropagatedZoom:!1,pageStyle:"margin-bottom: 6px; box-shadow: 0 0 4px 0 rgba(0,0,0,0.5)",zoomPercent:100};class x{constructor(e){var t,n,i,a,c,u,l,h,d;this.status=o.QS.STATUS_LOADING,this.cachedAnnotationPages=new Set,this.emitSurpriseMeMetric=T()((()=>{var e;null===(e=this.metricsUtils)||void 0===e||e.recordCountMetrics(g.P.SURPRISE_ME)}));const f=e.rendererSettings.rendererMetricsService;this.metricsUtils=f&&new E.J(f,g.P.PRINT);const p=null!==(n=null===(t=e.rendererSettings.renderingService)||void 0===t?void 0:t.getServiceFetch())&&void 0!==n?n:e.rendererSettings.serviceFetch;this.bookService=new m(e.bookInformation.asin,p,null===(i=e.rendererSettings.rendererCallBacks)||void 0===i?void 0:i.onAddAnnotationsRange,e.renderSettings.localizedStrings,this.metricsUtils);const v=null===(a=e.rendererSettings.rendererCallBacks)||void 0===a?void 0:a.onEndOfBook,y=null!==(c=e.rendererSettings.scrollContainer)&&void 0!==c?c:e.rendererSettings.container;this.viewerConfig={onReadingStatusChanged:v?e=>{v((0,s.JC)(e))}:void 0,onZoom:t=>{var n,i;return null===(i=null===(n=e.rendererSettings.rendererCallBacks)||void 0===n?void 0:n.onZoom)||void 0===i?void 0:i.call(n,t)},viewerRoot:e.rendererSettings.container,scrollContainer:e.rendererSettings.scrollContainer,onClick:null===(u=e.rendererSettings.rendererCallBacks)||void 0===u?void 0:u.onClick,onDoubleClick:null===(l=e.rendererSettings.rendererCallBacks)||void 0===l?void 0:l.onDoubleClick},this.renderSettings=(0,r.q)(C,e.renderSettings,this.getSupportedSettings()),this.onPositionChange=null===(h=e.rendererSettings.rendererCallBacks)||void 0===h?void 0:h.onPositionChange,this.onInitialization=null===(d=e.rendererSettings.rendererCallBacks)||void 0===d?void 0:d.onInitialization,y.addEventListener("scroll",(()=>{var t,n;return null===(n=null===(t=e.rendererSettings.rendererCallBacks)||void 0===t?void 0:t.onScroll)||void 0===n?void 0:n.call(t)}))}render(){return P(this,void 0,void 0,(function*(){if(this.initializationPromise)return this.initializationPromise;yield this.getMetadata();let e=!1;return this.initializationPromise=new Promise(((t,n)=>{this.viewerConfig.onRenderStatusChanged=(i,r)=>{var a,c;this.status=(0,s.BC)(i),e||(i===s.Z0.READY?(this.onInitialization&&this.onInitialization(o.QS.STATUS_IDLE),e=!0,null===(a=this.metricsUtils)||void 0===a||a.rendererInitialized(!0),t()):i===s.Z0.ERROR&&(this.onInitialization&&this.onInitialization(o.QS.STATUS_ERROR),e=!0,null===(c=this.metricsUtils)||void 0===c||c.rendererInitialized(!1),n(new Error(`Failed to initialize the print renderer. ${r}`))))},this.bookViewerPrint=new i.BookViewerPrint(this.viewerConfig,this.bookService,this.renderSettings)})),this.initializationPromise}))}goToPosition(e){var t,n;return P(this,void 0,void 0,(function*(){yield this.render(),yield null===(t=this.bookViewerPrint)||void 0===t?void 0:t.goToPosition(e),null===(n=this.onPositionChange)||void 0===n||n.call(this,e,e),e===i.SURPRISE_ME_POSITION&&this.emitSurpriseMeMetric()}))}getSettings(){return Object.assign({},this.renderSettings)}updateSettings(e){return P(this,void 0,void 0,(function*(){this.renderSettings=(0,r.q)(this.renderSettings,e,this.getSupportedSettings()),this.bookViewerPrint&&this.bookViewerPrint.applyRenderSettings(this.renderSettings)}))}getMetadata(){return this.bookService.getMetadata()}getTableOfContents(){return this.bookService.getTableOfContents()}getSupportedSettings(){return{navigationModes:["Paginated"],navigationDirections:["Horizontal"],marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,viewportHeight:!0,viewportWidth:!0,viewportTopOffset:!0,colorThemes:[],fontFamilies:[],fontSize:!1,maxNumberColumns:!1,isRendererPropagatedZoom:!0,pageStyle:!0,zoomPercent:!0,localizedStrings:!0,animatePageTurn:!1,guidedViewSettings:!1,zoomViewSettings:!1,viewingMode:!1,wordsOnScreen:!1}}getStatus(){return this.status}getReadingLocation(){return Promise.resolve(void 0)}canChangeUserSettings(){return!1}canAnnotate(){return!0}setAnnotations(e){var t,n;e.length||(null===(t=this.bookViewerPrint)||void 0===t||t.clearHighlights(),this.cachedAnnotationPages=new Set);const i=e.filter((e=>{var t;return!(null===(t=this.cachedAnnotationPages)||void 0===t?void 0:t.has(e.position))})),r=(0,k._V)(i);null===(n=this.bookViewerPrint)||void 0===n||n.addHighlights(r),i.forEach((e=>this.cachedAnnotationPages.add(e.position)))}canSearch(){var e,t;return null!==(t=null===(e=this.bookService.getManifestIfAvailable())||void 0===e?void 0:e.searchable)&&void 0!==t&&t}}},818:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KaramelBookRenderer:()=>y,MINIMUM_SIDE_MARGIN:()=>m});var i=n(762),r=n(389),o=n(620);class s extends Error{constructor(...e){super(...e)}}class a{static convertToC(e){const t=[];return e.entries&&e.entries.forEach((e=>{t.push(this.convertToC(e))})),{position:e.tocPositionId,label:e.label,disabled:!1,subitems:t}}static fontChoiceToFontFamily(e){return"AmazonEmber"===e?"Amazon Ember":e}static getKaramelContentType(e){switch(e){case"EBOK":return"FullBook";case"EBSP":return"Sample";default:throw new s("Content Type not supported in Karamel")}}static getKaramelTheme(e){var t;return null!==(t=a.THEME_MAP.get(e))&&void 0!==t?t:"default"}static mapNavigationMode(e){return a.NAVIGATION_MODE_MAP[e]}static mapNavigationDirection(e){return a.NAVIGATION_DIRECTION_MAP[e]}}a.THEME_MAP=new Map([["White","default"],["Night","night"],["Sepia","sepia"],["Green","green"],["Dark","dark"],["Grey","grey"]]),a.NAVIGATION_MODE_MAP={Paginated:0,Scroll:1},a.NAVIGATION_DIRECTION_MAP={Horizontal:"Horizontal",Vertical:"Vertical"};var c=n(479),u=n(547),l=n(902);const h={navigationModes:["Paginated","Scroll"],navigationDirections:["Horizontal","Vertical"],chevronStyle:!0,marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,viewportHeight:!0,viewportWidth:!0,viewportTopOffset:!1,colorThemes:["White","Night","Dark","Green","Sepia","Grey"],fontFamilies:["Bookerly","AmazonEmber","OpenDyslexic","TBMincho","TBGothic","STHeitiSC","STSongSC","STHeitiTC","STSongTC"],fontSize:!0,maxNumberColumns:!0,isRendererPropagatedZoom:!1,pageStyle:!1,zoomPercent:!1,animatePageTurn:!0,guidedViewSettings:!0,zoomViewSettings:!0,viewingMode:!0,wordsOnScreen:!0},d={fontFamilies:[],fontSize:!1,wordsOnScreen:!1},f={navigationMode:"Paginated",navigationDirection:"Horizontal",marginTop:20,marginRight:20,marginBottom:20,marginLeft:20,viewportHeight:400,viewportWidth:600,colorTheme:"White",fontFamily:"Bookerly",fontSize:11,maxNumberColumns:2,viewingMode:"FullPage",guidedViewSettings:{isEnabled:!0}};var p=n(597),g=n(166),v=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const m=20;class y{constructor(e){this.renderSettings=f,this.renderSettings=(0,o.q)(f,e.renderSettings,h),this.container=e.rendererSettings.container,this.setMargins(this.renderSettings),this.options=this.constructClientOptions(Object.assign(Object.assign({},e),{renderSettings:Object.assign(Object.assign({},this.renderSettings),{marginRight:m,marginLeft:m,viewportWidth:this.renderSettings.viewportWidth-this.renderSettings.marginLeft-this.renderSettings.marginRight})})),this.client=i.DefaultKaramelClientFactory.build(this.options),this.client&&e.rendererSettings.rendererCallBacks&&this.wireCallbacksToClientEvents(this.client,e.rendererSettings.rendererCallBacks),"EBSP"===e.bookInformation.contentType&&(this.tocPromise=g.Xi.getToC(e.bookInformation.asin,e.bookInformation.revision))}goToPosition(e){return v(this,void 0,void 0,(function*(){yield this.client.goToPositionId(e)}))}render(){return v(this,void 0,void 0,(function*(){return this.client.goToPositionId()}))}getSettings(){return Object.assign({},this.renderSettings)}setMargins(e){this.container.style.left=e.marginLeft+"px",this.container.style.width=e.viewportWidth-e.marginLeft-e.marginRight+"px",this.container.style.top=e.marginTop+"px",this.container.style.height=e.viewportHeight-e.marginTop-e.marginBottom+"px"}updateSettings(e){return v(this,void 0,void 0,(function*(){const t=this.renderSettings.marginLeft!==e.marginLeft||this.renderSettings.marginRight!==e.marginRight||this.renderSettings.marginTop!==e.marginTop||this.renderSettings.marginBottom!==e.marginBottom,n=this.renderSettings.viewportWidth!==e.viewportWidth||this.renderSettings.viewportHeight!==e.viewportHeight;this.renderSettings=(0,o.q)(this.renderSettings,e,this.getSupportedSettings()),(t||n)&&this.setMargins(this.renderSettings);const i=Object.assign(Object.assign({},this.options.bookRenderOptions),{marginTop:0,marginRight:(0,c.oj)(m,y.DEFAULT_DPI),marginBottom:0,marginLeft:(0,c.oj)(m,y.DEFAULT_DPI),pageWidth:this.renderSettings.viewportWidth-this.renderSettings.marginLeft-this.renderSettings.marginRight,pageHeight:this.renderSettings.viewportHeight-this.renderSettings.marginTop-this.renderSettings.marginBottom,fontFamily:a.fontChoiceToFontFamily(this.renderSettings.fontFamily),fontSize:(0,c.oj)(this.renderSettings.fontSize,y.DEFAULT_DPI),theme:a.getKaramelTheme(this.renderSettings.colorTheme),maxNumberColumns:this.renderSettings.maxNumberColumns,viewingMode:this.renderSettings.viewingMode}),r=Object.assign(Object.assign({},this.options.guidedViewOptions),{isEnabled:this.renderSettings.guidedViewSettings.isEnabled,animationDuration:this.renderSettings.guidedViewSettings.animationDuration,letterboxingColor:this.renderSettings.guidedViewSettings.letterboxingColor,showFullPageOnEnter:this.renderSettings.guidedViewSettings.showFullPageOnEnter,showFullPageOnExit:this.renderSettings.guidedViewSettings.showFullPageOnExit}),s=this.renderSettings.zoomViewSettings?Object.assign(Object.assign({},this.options.zoomViewOptions),{animationDuration:this.renderSettings.zoomViewSettings.animationDuration,maxZoomRatio:this.renderSettings.zoomViewSettings.maxZoomRatio,initialZoomRatio:this.renderSettings.zoomViewSettings.initialZoomRatio,doubleClickZoomRatio:this.renderSettings.zoomViewSettings.doubleClickZoomRatio}):void 0;this.options=Object.assign(Object.assign({},this.options),{navigationMode:a.mapNavigationMode(this.renderSettings.navigationMode),navigationDirection:a.mapNavigationDirection(this.renderSettings.navigationDirection),animatePageTurn:this.renderSettings.animatePageTurn,bookRenderOptions:i,guidedViewOptions:r,zoomViewOptions:s}),yield this.client.updateRenderOptions({bookRenderOptions:this.options.bookRenderOptions,navigationOptions:{navigationMode:this.options.navigationMode,navigationDirection:this.options.navigationDirection,animatePageTurn:this.options.animatePageTurn},guidedViewOptions:this.options.guidedViewOptions,zoomViewOptions:this.options.zoomViewOptions})}))}getSupportedSettings(){var e,t;return"FixedFormat"===(null===(e=this.metadata)||void 0===e?void 0:e.bookType)?Object.assign(Object.assign({},h),d):null!=(null===(t=this.metadata)||void 0===t?void 0:t.language)?Object.assign(Object.assign({},h),{fontFamilies:(0,p.u)(h.fontFamilies,this.metadata.language)}):h}clearSelection(){return v(this,void 0,void 0,(function*(){yield this.client.clearSelection()}))}setAnnotations(e){const t=e.map((e=>class{static convertAnnotationToDecoration(e){return{startPositionId:e.start,endPositionId:e.end,type:this.getDecorationType(e.type),highlightColor:e.highlightColor}}static getDecorationType(e){switch(e){case u.J.Bookmark:return"bookmark";case u.J.Highlight:return"highlight";case u.J.Note:return"note";case u.J.SearchResult:return"search";default:throw new Error(`Annotation type ${e} not supported`)}}}.convertAnnotationToDecoration(e)));this.client.setDecorations(t)}getMetadata(){return v(this,void 0,void 0,(function*(){const e=yield this.client.getMetadata(),t=yield this.client.getManifest(),n="rtl"===e.progressionDirection?"rtl":"ltr",i={language:e.lang,asin:this.options.asin,srl:e.srl,pageProgressionDirection:n,navigationDirection:n,bookType:t.bookType,acr:t.acr,firstPosition:e.firstPositionId,endPosition:e.lastPositionId,publisherPanel:t.publisherPanel};return this.metadata=i,i}))}getTableOfContents(){return v(this,void 0,void 0,(function*(){if(this.tocPromise)try{return yield this.tocPromise}catch(e){this.tocPromise=void 0}return this.client.getTableOfContents().map((e=>a.convertToC(e)))}))}wireCallbacksToClientEvents(e,t){e.on("onPageChange",(e=>{t&&t.onPositionChange&&t.onPositionChange(e.startPositionId,e.endPositionId,e.wordsInPage)})),e.on("onClick",(e=>{(null==t?void 0:t.onClick)&&t.onClick(e)})),e.on("onDoubleClick",(e=>{(null==t?void 0:t.onDoubleClick)&&t.onDoubleClick(e)})),e.on("onSwipeLeft",(e=>{(null==t?void 0:t.onSwipeLeft)&&t.onSwipeLeft(e)})),e.on("onSwipeRight",(e=>{(null==t?void 0:t.onSwipeRight)&&t.onSwipeRight(e)})),e.on("onSwipeUp",(e=>{(null==t?void 0:t.onSwipeUp)&&t.onSwipeUp(e)})),e.on("onSwipeDown",(e=>{(null==t?void 0:t.onSwipeDown)&&t.onSwipeDown(e)})),e.on("onScroll",(()=>{(null==t?void 0:t.onScroll)&&t.onScroll()})),e.on("onHighlightClick",(e=>{(null==t?void 0:t.onHighlightClick)&&t.onHighlightClick(e.highlightStartPosition,e.highlightEndPosition,e.highlightRangeClass)})),e.on("onNoteClick",(e=>{(null==t?void 0:t.onNoteClick)&&t.onNoteClick(e)})),e.on("onSelectionEnded",(e=>{t&&t.onSelectionEnded&&t.onSelectionEnded(e.tokens,e.container,e.selectionClass)})),e.on("onInBookLinkClick",(e=>{t&&t.onInternalLinkClick&&t.onInternalLinkClick(e)})),e.on("onPositionOutOfRange",(e=>{t&&t.onPositionOutOfRange&&t.onPositionOutOfRange(e)})),e.on("onViewingModeChange",(e=>{t&&t.onViewingModeChange&&t.onViewingModeChange(e)})),e.on("onExceedingBoundsChanged",(e=>{t&&t.onExceedingBoundsChanged&&t.onExceedingBoundsChanged(e.exceeding)}))}constructClientOptions(e){var t,n,o;const s=e.bookInformation,u=e.renderSettings,l=e.rendererSettings,h=null!==(n=null===(t=l.renderingService)||void 0===t?void 0:t.getServiceFetch())&&void 0!==n?n:l.serviceFetch,d=new i.ServiceBookProviderFactory(a.getKaramelContentType(s.contentType),(e=>{if(h)return h(r.g4.KARAMEL,e);throw new Error("Missing Service Fetch")}),l.rendererMetricsService,null===(o=l.renderingService)||void 0===o?void 0:o.getCdnPrefetchInfo());let f="2.0";l.imageSecurityEnabled&&(f="2.5"),l.requireGuidedViewMetadata&&(f="3.0");const p=this.renderSettings.zoomViewSettings?{animationDuration:this.renderSettings.zoomViewSettings.animationDuration,maxZoomRatio:this.renderSettings.zoomViewSettings.maxZoomRatio,initialZoomRatio:this.renderSettings.zoomViewSettings.initialZoomRatio,doubleClickZoomRatio:this.renderSettings.zoomViewSettings.doubleClickZoomRatio}:void 0;return{asin:s.asin,revision:s.revision,container:l.container,fullPage:l.fullPage,interactionLayer:l.interactionLayer,navigationMode:a.mapNavigationMode(u.navigationMode),navigationDirection:a.mapNavigationDirection(u.navigationDirection),bookProviderFactory:d,animatePageTurn:u.animatePageTurn,enableInteractivity:l.enableInteractivity,enablePinchHandler:l.enablePinchHandler,metricsService:l.rendererMetricsService,requireHighResolutionImages:l.requireHighResolutionImages,renderBatchSize:l.renderBatchSize,bundleImages:l.bundleImages,mountPageCanvas:l.mountPageCanvas,canvasPoolSize:l.canvasPoolSize,canvasPixelRatio:l.canvasPixelRatio,enablePagePanning:l.enablePagePanning,bookRenderOptions:{version:f,dpi:y.DEFAULT_DPI,fontSize:(0,c.oj)(u.fontSize,y.DEFAULT_DPI),fontFamily:a.fontChoiceToFontFamily(u.fontFamily),lineHeight:1.4,marginTop:0,marginBottom:0,marginLeft:(0,c.oj)(u.marginLeft,y.DEFAULT_DPI),marginRight:(0,c.oj)(u.marginRight,y.DEFAULT_DPI),pageWidth:u.viewportWidth,pageHeight:u.viewportHeight-u.marginTop-u.marginBottom,includeLocationMap:!0,maxNumberColumns:u.maxNumberColumns,theme:a.getKaramelTheme(u.colorTheme)},skipNavigationToInternalLink:e.skipNavigationToInternalLink,guidedViewOptions:{isEnabled:this.renderSettings.guidedViewSettings.isEnabled,animationDuration:this.renderSettings.guidedViewSettings.animationDuration,letterboxingColor:this.renderSettings.guidedViewSettings.letterboxingColor,showFullPageOnEnter:this.renderSettings.guidedViewSettings.showFullPageOnEnter,showFullPageOnExit:this.renderSettings.guidedViewSettings.showFullPageOnExit},zoomViewOptions:p}}getPagePositionRange(){var e,t;return{startPosition:Number(null===(e=this.client.getCurrentPage())||void 0===e?void 0:e.startPositionId),endPosition:Number(null===(t=this.client.getCurrentPage())||void 0===t?void 0:t.endPositionId)}}canAnnotate(){return!0}getPositionMapper(){return new l.w(this.client.getLocationMap())}goToNextPage(){return this.client.nextPage()}goToPreviousPage(){return this.client.previousPage()}hasNextPage(){return this.client.hasNextPage()}hasPreviousPage(){return this.client.hasPreviousPage()}canSearch(){var e;return"FixedFormat"!==(null===(e=this.metadata)||void 0===e?void 0:e.bookType)}isReady(){return this.client.isReady()}disablePinchHandler(){return this.client.disablePinchHandler()}enablePinchHandler(){return this.client.enablePinchHandler()}}y.DEFAULT_DPI=160},945:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StuccoBookRenderer:()=>L});var i,r,o,s=n(616),a=n.n(s);!function(e){e[e.STATUS_ERROR=0]="STATUS_ERROR",e[e.STATUS_LOADING=1]="STATUS_LOADING",e[e.STATUS_PAGINATING=2]="STATUS_PAGINATING",e[e.STATUS_PAGINATED=3]="STATUS_PAGINATED",e[e.STATUS_DONE=4]="STATUS_DONE"}(i||(i={})),function(e){e[e.ERROR_LOAD_FAILURE=0]="ERROR_LOAD_FAILURE",e[e.ERROR_CONTAINER_NOT_FOUND=1]="ERROR_CONTAINER_NOT_FOUND",e[e.ERROR_UNABLE_TO_GET_BOOK_CONTENT=2]="ERROR_UNABLE_TO_GET_BOOK_CONTENT",e[e.ERROR_UNABLE_TO_GET_WORD_RECTS=3]="ERROR_UNABLE_TO_GET_WORD_RECTS",e[e.ERROR_TIMEOUT_WHILE_LOADING_BOOK_CONTENT=4]="ERROR_TIMEOUT_WHILE_LOADING_BOOK_CONTENT",e[e.ERROR_UNKNOWN=5]="ERROR_UNKNOWN"}(r||(r={})),function(e){e.PAGE_LOAD_INCOMPLETE_FLAG_NAME="PageLoadIncomplete"}(o||(o={}));var c=n(124),u=n(87);class l extends c.Jf{getFontFaces(e){return this.getFontIndex().then((t=>Promise.all(t[e].map((t=>{const n=this.selectFontFormat(t.fontFiles),i=new URL(n.url);i.searchParams.set("f","2");const r=n.url?i.href:n.fileName?n.fileName:"";return(0,u.A_)(r,{}).then((e=>e.blob())).then((n=>({fontFamily:e,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontStretch:t.fontStretch,fontData:n,fontMetrics:t.fontMetrics})))})))))}}var h=n(620),d=n(389),f=n(387),p=n(492),g=n(713),v=n(597),m=n(479),y=n(556);class w{constructor(e,t){this.locationConverter=e,this.totalNavigationUnits=t}convertLocationToPosition(e){return(0,m.tO)(this.locationConverter.positionFromLocation(e))}convertPositionToLocation(e){return(0,m.tO)(this.locationConverter.locationFromPosition(e))}convertPageToPosition(e){return Promise.resolve(0)}convertPositionToPage(e){return Promise.resolve("")}getPageIndexInNavigationUnits(e){return 0}getNavigationUnitInitialPositionByIndex(e){return 0}getNavigationUnitLabelByIndex(e){}getLastNavigationUnitStartPosition(){return this.convertLocationToPosition(this.totalNavigationUnits)}getLastLocationPosition(){return this.convertLocationToPosition(this.totalNavigationUnits)}getMaximumPageLabel(){return""}getTotalLocations(){return this.totalNavigationUnits}getTotalNavigationUnits(){return this.totalNavigationUnits}getNavigationUnitTypes(){return[y.g.Location]}validatePage(e){return!1}validateLocation(e){return e>0&&e<=this.totalNavigationUnits}}var b=n(275);const _={navigationModes:["Paginated"],navigationDirections:["Horizontal"],marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,viewportHeight:!0,viewportWidth:!0,viewportTopOffset:!1,colorThemes:["White"],fontFamilies:[],fontSize:!1,maxNumberColumns:!0,isRendererPropagatedZoom:!1,pageStyle:!1,zoomPercent:!1,animatePageTurn:!1,guidedViewSettings:!1,zoomViewSettings:!1,viewingMode:!1,wordsOnScreen:!1},k=["Bookerly","AmazonEmber","TBMincho","TBGothic","STHeitiSC","STSongSC","STHeitiTC","STSongTC"];var E=n(567),S=n(906),T=n(918),P=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const C=[6,9,12,14,16,18,20],x={columns:{num:2,gap:30},backgroundColor:"white",textColor:"black"},I="next",R="prev",O={navigationMode:"Paginated",navigationDirection:"Horizontal",colorTheme:"White",fontFamily:void 0,fontSize:17.6,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,maxNumberColumns:2},A=e=>{const t=[];for(const n of C){const i=parseFloat((e*n/14).toFixed(1));t.push(i)}return{fontSizes:t,fontSizeUnits:"px"}},$=e=>"data:application/font-woff2;base64"+e.substring(e.indexOf(","));class L{constructor(e){var t,n,r,o,s;this.renderSettings=O,this.requestedSettings=O,this.supportedSettings=_,this.stuccoInitialized=!1,this.stuccoStatus=i.STATUS_LOADING,this.fontStatus=c.ww.STATUS_LOADING_FONT_DONE,this.refreshForced=!1,this.pagePositionRange=void 0,this.zoomableList=null,this.currentZoomableIndex=0,this.zoomedState=!1,this.zoomableDirection=null,this.pendingOperations=[],this.bookInformation=e.bookInformation,this.factoryOptions=e,this.stucco=KindleRenderer;const a=this.factoryOptions.rendererSettings.rendererMetricsService;this.metricsUtils=a&&new S.J(a,E.P.STUCCO),this.endOfBookCallback=null===(t=e.rendererSettings.rendererCallBacks)||void 0===t?void 0:t.onEndOfBook,this.onPositionChange=null===(n=e.rendererSettings.rendererCallBacks)||void 0===n?void 0:n.onPositionChange,this.onRendererStatusChanged=null===(r=e.rendererSettings.rendererCallBacks)||void 0===r?void 0:r.onRendererStatusChanged,this.onInitialization=null===(o=e.rendererSettings.rendererCallBacks)||void 0===o?void 0:o.onInitialization,this.onFontLoadingStatusChanged=null===(s=e.rendererSettings.rendererCallBacks)||void 0===s?void 0:s.onFontLoadingStatusChanged,this.renderId=e.rendererSettings.container.id,this.container=e.rendererSettings.container,this.fontLoader=new l,this.requestedSettings=e.renderSettings,this.renderSettings=(0,h.q)(this.renderSettings,e.renderSettings,this.getSupportedSettings()),this.updateMargins(this.renderSettings)}getMetadata(){return this.getStuccoMetadata().then((e=>{var t,n,i,r,o,s,a,c,u,l,h;const d="comic"===(null===(n=null===(t=e.headerMetadata)||void 0===t?void 0:t.bookType)||void 0===n?void 0:n.toLowerCase())||"children"===(null===(r=null===(i=e.headerMetadata)||void 0===i?void 0:i.bookType)||void 0===r?void 0:r.toLowerCase()),f=L.getPageProgressionDirection(e);return{asin:e.asin,comicBook:"comic"===(null===(s=null===(o=e.headerMetadata)||void 0===o?void 0:o.bookType)||void 0===s?void 0:s.toLowerCase()),childrenBook:"children"===(null===(c=null===(a=e.headerMetadata)||void 0===a?void 0:a.bookType)||void 0===c?void 0:c.toLowerCase()),coverPosition:e.positions.cover,coverUrl:e.cover,endPosition:e.endPosition,language:L.getLanguage(e),pageProgressionDirection:f,navigationDirection:f,srl:(null===(l=null===(u=this.bookInformation)||void 0===u?void 0:u.stuccoBookInformation)||void 0===l?void 0:l.startReadingPosition)||e.positions.srl,startPosition:e.startPosition,regionMagnification:"true"===(null===(h=e.headerMetadata)||void 0===h?void 0:h.regionMagnification),bookType:d?"FixedFormat":"Reflowable"}}))}getCapabilities(){return this.getStuccoMetadata().then((e=>{var t,n;if("true"===(null===(t=e.headerMetadata)||void 0===t?void 0:t.fixedLayout)){let t=d.Wi.FixedFormat|d.Wi.Paginated;return"true"===(null===(n=e.headerMetadata)||void 0===n?void 0:n.regionMagnification)&&(t|=d.Wi.ZoomableContent),t}return d.Wi.Reflowable|d.Wi.Paginated|d.Wi.TwoPageMode}))}getTableOfContents(){return this.getStuccoBookInfoProviderFactory().then((e=>{let t=[];return e.getManifest((n=>{if(n.ncxResource){const i=n.resourceManifest[n.ncxResource.toString()].name;let r={};e.getResourceUrls((e=>{r=e}),(()=>{throw new Error("Failed to get resource URLs.")}),[i]),t=this.getTocItems(r[i])}}),(()=>{throw new T.$z("Failed to get book manifest.",E.P.STUCCO)})),t}))}render(){return P(this,void 0,void 0,(function*(){yield this.initializeStuccoData();let e=!1;return new Promise(((t,n)=>{var r,o;this.renderSettings.fontFamily||(this.renderSettings.fontFamily=(e=>{var t;const n=null===(t=null==e?void 0:e.headerMetadata)||void 0===t?void 0:t.app_contentLanguageTag;return v.g(n||null,null)})(this.stuccoMetadata));const s=this.bookInformation,a=this.bookInfoProviderFactory,c=jQuery.Deferred().resolve(null===(r=s.stuccoBookInformation)||void 0===r?void 0:r.startReadingPosition),u={version:"99.0",bookInfo:a,containerId:this.renderId,startingPositionDfd:c.promise()},l={statusCallback:r=>P(this,void 0,void 0,(function*(){var o,s,a,c;this.setStuccoStatus(r.status),this.zoomedState&&r.status===i.STATUS_DONE&&this.activateZoomableOnPageTurn(),e||r.status!==i.STATUS_DONE&&r.status!==i.STATUS_ERROR||(r.status===i.STATUS_DONE?(this.onInitialization&&this.onInitialization(d.QS.STATUS_IDLE),this.handlePositionChanges(),null===(o=this.metricsUtils)||void 0===o||o.rendererInitialized(!0),t(),yield this.getFontFamilySettings(this.renderSettings.fontFamily)):(this.onInitialization&&this.onInitialization(d.QS.STATUS_ERROR),null===(s=this.metricsUtils)||void 0===s||s.rendererInitialized(!1),n(new Error(`Failed to initialize Stucco renderer. Stucco error id: ${null!==(a=r.errorCode)&&void 0!==a?a:"unknown"}. Stucco error msg: ${JSON.stringify(null!==(c=r.errorMsg)&&void 0!==c?c:"unknown")}.`))),this.zoomableList=this.stucco.getZoomableList(),e=!0),r.status===i.STATUS_DONE&&this.handlePositionChanges()})),contentInterfaceCallbacks:{gotoPosition:e=>P(this,void 0,void 0,(function*(){return yield this.goToPosition(e),e}))}},h=Object.assign(Object.assign(Object.assign({},x),A(this.renderSettings.fontSize)),{fontFamily:this.renderSettings.fontFamily,columns:{num:L.getNumberOfColumns(null!==(o=this.renderSettings.maxNumberColumns)&&void 0!==o?o:2,this.renderSettings.viewportWidth,this.renderSettings.viewportHeight),gap:30}});this.stucco.initialize(u,h,l,null)}))}))}redraw(){return new Promise((e=>{this.stucco.onWindowResize(),e()}))}clear(){this.stucco&&this.stucco.shutdown()}goToPosition(e){return P(this,void 0,void 0,(function*(){this.stuccoInitialized||(yield this.render()),this.stucco.gotoPosition(e)}))}goToNextPage(){let e=!0;if(this.zoomedState&&this.zoomableList?e=this.goToNextZoomable():this.isRendererReady()&&!this.hasNextPage()?this.endOfBookCallback&&this.endOfBookCallback(d.Ch.END):(e=this.stucco.nextScreen(),this.clearZoomables()),this.hasNextPage()||this.getStatus()===d.QS.STATUS_LOADING){if(e)return Promise.resolve();{const e=new b.B;return this.pendingOperations.push(e),e.getPromise()}}return Promise.reject()}goToPreviousPage(){let e=!0;if(this.zoomedState&&this.zoomableList?e=this.goToPrevZoomable():(this.endOfBookCallback&&this.endOfBookCallback(d.Ch.READING),e=this.stucco.previousScreen(),this.clearZoomables()),this.hasPreviousPage()||this.getStatus()===d.QS.STATUS_LOADING){if(e)return Promise.resolve();{const e=new b.B;return this.pendingOperations.push(e),e.getPromise()}}return Promise.reject()}hasNextPage(){return this.zoomedState&&this.zoomableList&&this.zoomableList.length>0&&this.currentZoomableIndex<this.zoomableList.length-1||this.stucco.hasNextScreen()}hasPreviousPage(){return this.zoomedState&&this.zoomableList&&this.zoomableList.length>0&&this.currentZoomableIndex>0||this.stucco.hasPreviousScreen()}updateSettings(e){var t;return P(this,void 0,void 0,(function*(){this.requestedSettings=Object.assign(Object.assign({},this.requestedSettings),e);const n=(0,h.q)(this.renderSettings,e,this.getSupportedSettings());n.fontFamily&&n.fontSize&&(yield this.setFont(n.fontFamily,n.fontSize));const i=n.colorTheme||"White",r={columns:{num:L.getNumberOfColumns(null!==(t=n.maxNumberColumns)&&void 0!==t?t:2,n.viewportWidth,n.viewportHeight),gap:30},backgroundColor:f.p[i],textColor:f.X[i]},o=this.renderSettings.marginTop!==n.marginTop||this.renderSettings.marginBottom!==n.marginBottom||this.renderSettings.marginLeft!==n.marginLeft||this.renderSettings.marginRight!==n.marginRight;o&&this.updateMargins(n),(o||this.renderSettings.viewportWidth!==n.viewportWidth||this.renderSettings.viewportHeight!==n.viewportHeight)&&this.stucco.onWindowResize(),this.renderSettings=n,this.stucco.updateSettings(r)}))}updateMargins(e){this.container.style.top=e.marginTop+"px",this.container.style.paddingBottom=e.marginTop+e.marginBottom+"px",this.container.style.left=e.marginLeft+"px",this.container.style.paddingRight=e.marginLeft+e.marginRight+"px"}setFont(e,t){return P(this,void 0,void 0,(function*(){e===this.renderSettings.fontFamily&&t===this.renderSettings.fontSize||(this.renderSettings.fontFamily=e,this.renderSettings.fontSize=t,this.setFontLoadingStatus(c.ww.STATUS_LOADING_FONT),yield this.getFontFamilySettings(e).then((e=>{this.setFontLoadingStatus(c.ww.STATUS_LOADING_FONT_DONE),this.stucco.updateSettings(Object.assign(Object.assign({},e),A(t)))})))}))}getSettings(){return Object.assign({},this.renderSettings)}getSupportedSettings(){return this.supportedSettings}updateSupportedSettings(e){this.supportedSettings=e,this.updateSettings(this.requestedSettings)}updateSupportedSettingsFromMetadata(){var e;return P(this,void 0,void 0,(function*(){const t=yield this.getStuccoMetadata(),n="true"===(null===(e=t.headerMetadata)||void 0===e?void 0:e.fixedLayout);this.updateSupportedSettings(Object.assign(Object.assign(Object.assign({},this.supportedSettings),n?{}:(e=>{const t=(0,v.u)(k,e);return t.length>0?{fontFamilies:t,fontSize:!0}:{}})(L.getLanguage(t))),{maxNumberColumns:n}))}))}handleClick(e,t){return this.stucco.handleClick(e,t)}handleDoubleClick(e,t){this.clickZoomableContent(e,t)}hasZoomableContent(){return!!this.zoomableList&&this.zoomableList.length>0}isZoomed(){return this.zoomedState}getStatus(){return L.convertRendererStatus(this.stuccoStatus,this.fontStatus)}retryStuccoIntialization(e,t=5,n=1e3){return new Promise(((i,r)=>{e().then(i).catch((o=>{setTimeout((()=>{1!==t?this.retryStuccoIntialization(e,t-1,n).then(i,r):r(o)}),n)}))}))}getManifestCallback(e){return P(this,void 0,void 0,(function*(){return new Promise(((t,n)=>e.getMetadata((i=>P(this,void 0,void 0,(function*(){var r,o,s,a,c,u;i?(this.stuccoMetadata=i,this.locationConverter=e.getLocationConverter(),this.stuccoMetadata.endLocation=null!==(u=null!==(o=null===(r=this.stuccoMetadata.locationsInfo)||void 0===r?void 0:r.numOfLocations)&&void 0!==o?o:yield null===(s=this.locationConverter)||void 0===s?void 0:s.locationFromPosition(null!==(c=null===(a=this.stuccoMetadata)||void 0===a?void 0:a.endPosition)&&void 0!==c?c:0))&&void 0!==u?u:0,this.updateSupportedSettingsFromMetadata(),t()):n(new Error("Failed to get stucco metadata: metadata object is undefined."))}))),(()=>{n(new Error("Failed to get stucco metadata."))}))))}))}initializeStuccoData(){return this.stuccoDataPromise||(this.stuccoDataPromise=new Promise(((e,t)=>{var n,i;const r=this.factoryOptions,o=null!==(i=null===(n=r.rendererSettings.renderingService)||void 0===n?void 0:n.getServiceFetch())&&void 0!==i?i:r.rendererSettings.serviceFetch,s=e=>{if(o)return o(d.g4.STUCCO,e);throw new Error("Missing Service Fetch")};this.bookInformation.asin||t(new Error("asin cannot be empty"));const a=KindleReaderBookInfoProviderFactory(),c=this.bookInformation,{stuccoBookInformation:u}=c,l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(c,["stuccoBookInformation"]);this.retryStuccoIntialization((()=>a.initialize(Object.assign(Object.assign(Object.assign({},l),u),{srl:null==u?void 0:u.startReadingPosition}),s))).then((()=>{this.bookInfoProviderFactory=a,this.getManifestCallback(a).then(e).catch(t)})).catch((e=>t(new Error("Failed to initialize stucco book info provider factory. "+JSON.stringify(e)))))}))),this.stuccoDataPromise}getStuccoMetadata(){return this.stuccoMetadata?Promise.resolve(this.stuccoMetadata):this.initializeStuccoData().then((()=>this.stuccoMetadata))}getStuccoBookInfoProviderFactory(){return this.bookInfoProviderFactory?Promise.resolve(this.bookInfoProviderFactory):this.initializeStuccoData().then((()=>this.bookInfoProviderFactory))}getTocItems(e){const t=[];return(new DOMParser).parseFromString(e,"text/xml").querySelectorAll("navPoint").forEach((e=>{const n=e.querySelector(":scope > navLabel > text"),i=e.querySelector(":scope > content");if(n&&i&&i.hasAttribute("src")){const e=n.textContent,r=parseInt(i.getAttribute("src"),10);e&&a()(r)&&t.push({label:e,position:r,disabled:!1})}})),t}clickZoomableContent(e,t){var n,i,r,o;const s=this.stucco.getZoomableAt(e,t);this.zoomedState&&(this.zoomableList&&this.zoomableList.length&&this.zoomableList[this.currentZoomableIndex]&&this.handleZoomableDeactivate(this.zoomableList[this.currentZoomableIndex]),this.currentZoomableIndex=-1,this.zoomedState=!1,null===(n=this.metricsUtils)||void 0===n||n.recordCountMetrics(E.P.ZOOMABLE_EXIT)),s&&s.activate?(this.zoomableList&&this.zoomableList.length||this.prepareZoomables(),this.zoomableList&&this.zoomableList.length&&(this.currentZoomableIndex=this.zoomableList.findIndex((e=>e.isSame(s))),this.zoomableList[this.currentZoomableIndex]&&(this.handleZoomableActivate(this.zoomableList[this.currentZoomableIndex]),this.zoomedState=!0,null===(i=document.getElementById(this.renderId))||void 0===i||i.setAttribute("zoomed","1"),null===(r=this.metricsUtils)||void 0===r||r.recordCountMetrics(E.P.ZOOMABLE_ENTER,1)),this.endOfBookCallback&&this.endOfBookCallback(d.Ch.READING))):null===(o=document.getElementById(this.renderId))||void 0===o||o.setAttribute("zoomed","0")}handleZoomableActivate(e){var t;try{e.activate()}catch(e){null===(t=this.metricsUtils)||void 0===t||t.recordCountMetrics(E.P.ZOOMABLE_CONTENT_ERROR),console.error("Failed to activate zoomable",e)}}handleZoomableDeactivate(e){var t;try{e.deactivate()}catch(e){null===(t=this.metricsUtils)||void 0===t||t.recordCountMetrics(E.P.ZOOMABLE_CONTENT_ERROR),console.error("Failed to deactivate zoomable",e)}}goToNextZoomable(){var e;return!!this.zoomableList&&(null===(e=this.metricsUtils)||void 0===e||e.recordCountMetrics(E.P.ZOOMABLE_NEXT),0===this.zoomableList.length?this.goToFirstZoomableOnNextPage():(this.handleZoomableDeactivate(this.zoomableList[this.currentZoomableIndex]),this.endOfBookCallback&&this.endOfBookCallback(d.Ch.READING),this.currentZoomableIndex<this.zoomableList.length-1?(this.handleZoomableActivate(this.zoomableList[++this.currentZoomableIndex]),!0):this.goToFirstZoomableOnNextPage()))}goToPrevZoomable(){var e;return!!this.zoomableList&&(null===(e=this.metricsUtils)||void 0===e||e.recordCountMetrics(E.P.ZOOMABLE_PREVIOUS),0===this.zoomableList.length?this.goToLastZoomableOnPrevPage():(this.handleZoomableDeactivate(this.zoomableList[this.currentZoomableIndex]),this.endOfBookCallback&&this.endOfBookCallback(d.Ch.READING),this.currentZoomableIndex>0?(this.handleZoomableActivate(this.zoomableList[--this.currentZoomableIndex]),!0):this.goToLastZoomableOnPrevPage()))}goToFirstZoomableOnNextPage(){if(this.clearZoomables(),this.stucco.hasNextScreen()){this.zoomableDirection=I;const e=this.stucco.nextScreen();return e&&this.activateZoomableOnPageTurn(),e}return this.endOfBookCallback&&(this.zoomedState=!1,this.endOfBookCallback(d.Ch.END)),!1}goToLastZoomableOnPrevPage(){if(this.clearZoomables(),this.hasPreviousPage()){this.zoomableDirection=R;const e=this.stucco.previousScreen();return e&&this.activateZoomableOnPageTurn(),e}return!1}clearZoomables(){this.zoomableList=null}prepareZoomables(){this.zoomableList=this.stucco.getZoomableList(),this.zoomedState=this.zoomedState&&!!this.zoomableList}activateZoomableOnPageTurn(){this.prepareZoomables(),this.zoomableList&&this.zoomableList.length>0&&(this.zoomableDirection===R?(this.currentZoomableIndex=this.zoomableList.length-1,this.handleZoomableActivate(this.zoomableList[this.currentZoomableIndex])):this.zoomableDirection===I&&(this.currentZoomableIndex=0,this.handleZoomableActivate(this.zoomableList[this.currentZoomableIndex])),this.zoomableDirection=null)}isRendererReady(){return this.stuccoStatus===i.STATUS_PAGINATED||this.stuccoStatus===i.STATUS_DONE}loadFontFaces(e){return this.fontLoader.getFontFaces(e).then((t=>Promise.all(t.map((t=>m.fL(t.fontData).then((n=>({fontFamily:e,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontStretch:t.fontStretch,fontDataUrl:$(n)})))))))).then((e=>{var t;return null===(t=this.metricsUtils)||void 0===t||t.loadedFonts(!0),this.onFontLoadingStatusChanged&&this.onFontLoadingStatusChanged(c.ww.STATUS_LOADING_FONT_DONE),e})).catch((()=>{var e;throw null===(e=this.metricsUtils)||void 0===e||e.loadedFonts(!1),this.onFontLoadingStatusChanged&&this.onFontLoadingStatusChanged(c.ww.STATUS_LOADING_FONT_ERROR),new Error("Failed to load fonts.")}))}getFontFamilySettings(e){return"TBGothic"!==e&&"TBMincho"!==e||!g.gn()&&!g.V5()?this.loadFontFaces(e).then((t=>({fontFamily:e,fontFaces:t}))):Promise.resolve({fontFamily:"TBGothic"===e?"Hiragino Sans":"Hiragino Mincho ProN",fontFaces:[]})}setFontLoadingStatus(e){this.fontStatus=e,this.resolveRendererStatus(this.stuccoStatus,this.fontStatus)}setStuccoStatus(e){if(this.stuccoStatus=e,this.stuccoStatus!==i.STATUS_DONE&&this.stuccoStatus!==i.STATUS_PAGINATED&&this.stuccoStatus!==i.STATUS_ERROR||(this.pendingOperations.forEach((e=>e.resolve())),this.pendingOperations.length=0),this.stuccoStatus===i.STATUS_ERROR){if(!this.stuccoInitialized&&!this.refreshForced)return this.refreshForced=!0,this.stucco.onWindowResize(),void this.resolveRendererStatus(this.stuccoStatus,this.fontStatus);const e=`pageFailedRendering: Stucco Error ${i.STATUS_ERROR}`;throw new Error(e)}this.stuccoStatus!==i.STATUS_DONE&&this.stuccoStatus!==i.STATUS_PAGINATED||(this.stuccoInitialized=!0),this.resolveRendererStatus(this.stuccoStatus,this.fontStatus)}resolveRendererStatus(e,t){const n=L.convertRendererStatus(e,t);this.onRendererStatusChanged&&this.onRendererStatusChanged(n)}static convertRendererStatus(e,t){let n;return n=e===i.STATUS_LOADING||e===i.STATUS_PAGINATING?d.QS.STATUS_LOADING:d.QS.STATUS_IDLE,n}static getPageProgressionDirection(e){var t,n;return(null===(t=e.headerMetadata)||void 0===t?void 0:t.app_PrimaryWritingMode)===p.l.VERTICAL_RTL||(null===(n=e.headerMetadata)||void 0===n?void 0:n.app_PrimaryWritingMode)===p.l.HORIZONTAL_RTL?"rtl":"ltr"}static getLanguage(e){var t;return(null===(t=e.headerMetadata)||void 0===t?void 0:t.app_contentLanguageTag)?e.headerMetadata.app_contentLanguageTag:e.language?e.language:(console.error("Language is not defined"),"")}handlePositionChanges(){var e,t;const n=this.getPagePositionRange(),i=(null==n?void 0:n.endPosition)!==(null===(e=this.pagePositionRange)||void 0===e?void 0:e.endPosition)||(null==n?void 0:n.startPosition)!==(null===(t=this.pagePositionRange)||void 0===t?void 0:t.startPosition);this.onPositionChange&&i&&(this.pagePositionRange=this.getPagePositionRange(),this.onPositionChange(this.pagePositionRange.startPosition,this.pagePositionRange.endPosition))}getPagePositionRange(){var e,t;return{startPosition:null===(e=this.stucco.getPagePositionRange())||void 0===e?void 0:e.currentTopOfPage,endPosition:null===(t=this.stucco.getPagePositionRange())||void 0===t?void 0:t.currentBottomOfPage}}canChangeUserSettings(){return!1}canAnnotate(){return!1}getPositionMapper(){var e;if(this.locationConverter&&this.stuccoMetadata)return new w(this.locationConverter,null!==(e=this.stuccoMetadata.endLocation)&&void 0!==e?e:0);throw new Error("Location converter and stucco metadata must be defined first")}static getNumberOfColumns(e,t,n){return t<n?1:e}canSearch(){return!1}}},166:(e,t,n)=>{"use strict";n.d(t,{Xi:()=>f});var i=n(87),r=n(43),o=n(492),s=n(918),a=n(567);const c="styles.css",u="fonts.json",l="toc.json",h=new Map;h.set("us-east-1","d374oxlv7wyffd"),h.set("eu-west-1","d2i0w0hu6hvxgc"),h.set("ap-northeast-1","d2574jtht5dtd0");const d=(e,t)=>{const n=r.L().region,i=h.get(n)||h.get("us-east-1");return new URL(e+"/"+t,"https://"+i+".cloudfront.net/").toString()};class f{constructor(e,t){this.asin=e,this.revisionId=t,this.bookDirUrl=d(e,t)}getMetadata(){return this.getManifest().then((e=>{const t=new URL(e.coverImage,d(this.asin,this.revisionId)+"/").toString(),n=(0,o.j)(e.progressionDirection)?e.progressionDirection:"ltr";return{asin:this.asin,coverUrl:t,language:e.language,srl:e.srl,pageProgressionDirection:n,navigationDirection:n}}))}getTableOfContents(){return this.getManifest().then((e=>e.resources.some((e=>e.name===l))?this.getResourceAsObject(l).then((e=>e.map((e=>f.mapTocItem(e))))):[]))}static getToC(e,t){return n=this,o=function*(){const n=d(e,t)+"/"+l,r=yield(0,i.WY)(n,{});return(yield r.json()).map((e=>f.mapTocItem(e)))},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{a(o.next(e))}catch(e){t(e)}}function s(e){try{a(o.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,s)}a((o=o.apply(n,[])).next())}));var n,r,o}static mapTocItem(e){return{position:e.pid,label:e.label,disabled:!e.inSample,subitems:e.subitems?e.subitems.map((e=>f.mapTocItem(e))):void 0}}getContent(){if(this.contentPromise)return this.contentPromise;const e=new URL(this.bookDirUrl+"/content.json");return this.contentPromise=(0,i.A_)(e.toString(),{}).then((e=>e.json())),this.contentPromise}getManifest(){return this.getContent().then((e=>0===Object.keys(e).length?Promise.reject("Manifest is empty"):{language:e.language,writingMode:e.writingMode,progressionDirection:e.progressionDirection,srl:e.srl,coverImage:e.coverImage,sections:e.sections.map((e=>({startPosition:e.startPosition,endPosition:e.endPosition}))),resources:g(e)})).catch((e=>{throw new s.$z(`Failed to get book manifest for YJ book with asin: [${this.asin}]. ${e}`,a.P.YJHTML)}))}getSectionContent(e){return this.getContent().then((t=>t.sections[e].content))}getAllContent(){return this.getContent().then((e=>e.sections.map((e=>e.content))))}getResourceUrl(e){const t=this.bookDirUrl+"/"+e;return Promise.resolve(t)}getResourceAsString(e){if(e===c)return this.getContent().then((e=>e.stylesheet));if(e===u)return Promise.reject("cannot fetch "+e+" as string");{const t=new URL(this.bookDirUrl+"/"+e);return(0,i.A_)(t.toString(),{}).then((e=>e.text()))}}getResourceAsBlob(e){if(e===c||e===u)return Promise.reject("cannot fetch "+e+" as blob");{const t=new URL(this.bookDirUrl+"/"+e);return(0,i.A_)(t.toString(),{}).then((e=>e.blob()))}}getResourceAsObject(e){if(e===c)return Promise.reject("cannot fetch "+e+" as object");if(e===u)return this.getContent().then((e=>p(e)?e.fonts:[]));{const t=new URL(this.bookDirUrl+"/"+e);return(0,i.A_)(t.toString(),{}).then((e=>e.json()))}}}const p=e=>!!(e.fonts.length&&e.fonts.length>0),g=e=>{const t=[];t.push({assetType:"stylesheet",name:c,mimeType:"text/css"});for(const n of e.images)t.push({assetType:"image",name:n.name,mimeType:n.mimeType,imageWidth:n.width,imageHeight:n.height});if(p(e)){t.push({assetType:"font_index",name:u,mimeType:"application/json"});for(const n of e.fonts)for(const e of n.fontFiles)t.push({assetType:"font",name:e.fileName,mimeType:"font/"+e.format})}return t.push({assetType:"toc",name:l,mimeType:"application/json"}),t}},548:(e,t,n)=>{"use strict";n.r(t),n.d(t,{YJHTMLRenderer:()=>y});var i=n(323),r=n(124),o=n(389),s=n(345),a=n(620),c=n(166),u=n(556);const l="Position mapper operation unsupported in YJ HTML Renderer";class h{constructor(e,t){this.renderer=e,this.maximumLocation=t}convertLocationToPosition(e){return Promise.resolve(this.renderer.pixelToPid(e))}convertPositionToLocation(e){return Promise.resolve(this.renderer.pidToPixel(e))}convertPageToPosition(e){throw new u.U(l)}convertPositionToPage(e){throw new u.U(l)}getPageIndexInNavigationUnits(e){throw new u.U(l)}getNavigationUnitInitialPositionByIndex(e){throw new u.U(l)}getNavigationUnitLabelByIndex(e){throw new u.U(l)}getLastNavigationUnitStartPosition(){throw new u.U(l)}getLastLocationPosition(){return Promise.resolve(this.maximumLocation)}getMaximumPageLabel(){throw new u.U(l)}getTotalLocations(){throw new u.U(l)}getTotalNavigationUnits(){throw new u.U(l)}getNavigationUnitTypes(){return[u.g.Location]}validatePage(e){throw new u.U(l)}validateLocation(e){throw new u.U(l)}}var d=n(567),f=n(906),p=n(597);const g={navigationModes:["Scroll"],navigationDirections:["Vertical"],marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,viewportHeight:!0,viewportWidth:!0,viewportTopOffset:!1,colorThemes:["White","Night","Green","Sepia"],fontFamilies:["Bookerly","AmazonEmber"],fontSize:!0,maxNumberColumns:!1,isRendererPropagatedZoom:!1,pageStyle:!1,zoomPercent:!1,animatePageTurn:!1,guidedViewSettings:!1,zoomViewSettings:!1,viewingMode:!1,wordsOnScreen:!1};var v=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const m={navigationMode:"Scroll",navigationDirection:"Vertical",colorTheme:"White",fontFamily:"Bookerly",fontSize:17.6,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0};class y{constructor(e){var t,n,i,u,l,h,p,v,y;this.renderSettings=m,this.requestedSettings=m,this.supportedSettings=g,this.status=o.QS.STATUS_LOADING,this.bookViewer=null,this.bookViewerPromise=void 0,this.positionMapper=void 0,this.bookInformation=e.bookInformation;const{asin:b,revision:_}=this.bookInformation,k=e.rendererSettings.rendererMetricsService;this.metricsUtils=k&&new f.J(k,d.P.YJHTML),this.requestedSettings=e.renderSettings,this.renderSettings=(0,a.q)(m,e.renderSettings,this.getSupportedSettings()),this.bookProvider=new c.Xi(b,_),this.fontLoader=new r.Jf,this.endOfBookCallback=null===(t=e.rendererSettings.rendererCallBacks)||void 0===t?void 0:t.onEndOfBook,this.onPositionChange=null===(n=e.rendererSettings.rendererCallBacks)||void 0===n?void 0:n.onPositionChange,this.onRendererStatusChanged=null===(i=e.rendererSettings.rendererCallBacks)||void 0===i?void 0:i.onRendererStatusChanged,this.onInitialization=null===(u=e.rendererSettings.rendererCallBacks)||void 0===u?void 0:u.onInitialization,this.onFontLoadingStatusChanged=null===(l=e.rendererSettings.rendererCallBacks)||void 0===l?void 0:l.onFontLoadingStatusChanged,this.onScroll=null===(h=e.rendererSettings.rendererCallBacks)||void 0===h?void 0:h.onScroll;const E=e.rendererSettings.container,S=null!==(p=e.rendererSettings.scrollContainer)&&void 0!==p?p:E;this.viewerConfig={supportedFontFormats:(0,r.WF)(),onLinkClicked:w,onReadingStatusChanged:this.endOfBookCallback?e=>{var t;null===(t=this.endOfBookCallback)||void 0===t||t.call(this,(0,s.JC)(e))}:void 0,onRenderStatusChanged:e=>{var t;return null===(t=this.onRendererStatusChanged)||void 0===t?void 0:t.call(this,(0,s.BC)(e))},viewerRoot:E,scrollContainer:S,onClick:null===(v=e.rendererSettings.rendererCallBacks)||void 0===v?void 0:v.onClick,onDoubleClick:null===(y=e.rendererSettings.rendererCallBacks)||void 0===y?void 0:y.onDoubleClick},S.addEventListener("scroll",(()=>{var e;null===(e=this.onScroll)||void 0===e||e.call(this),this.handlePositionChanges()}))}render(){if(this.bookViewerPromise)return this.bookViewerPromise;let e=!1;return this.bookViewerPromise=new Promise(((t,n)=>{this.fontLoader.getFontIndex().then((a=>{var c;this.viewerConfig.readerFonts=a,null===(c=this.metricsUtils)||void 0===c||c.loadedFonts(!0),this.onFontLoadingStatusChanged&&this.onFontLoadingStatusChanged(r.ww.STATUS_LOADING_FONT_DONE),this.viewerConfig.onRenderStatusChanged=(i,r)=>{var a;this.status=(0,s.BC)(i),e||(i===s.Z0.READY?(this.onInitialization&&this.onInitialization(o.QS.STATUS_IDLE),e=!0,this.onInitialized(),t()):i===s.Z0.ERROR&&(this.onInitialization&&this.onInitialization(o.QS.STATUS_ERROR),e=!0,null===(a=this.metricsUtils)||void 0===a||a.rendererInitialized(!1),n(new Error(`Failed to load renderer. ${r}`))))},this.bookViewer=new i.BookViewerReflowable(this.viewerConfig,this.bookProvider,E(this.renderSettings))})).catch((e=>{var t;this.onFontLoadingStatusChanged&&(null===(t=this.metricsUtils)||void 0===t||t.loadedFonts(!1),this.onFontLoadingStatusChanged(r.ww.STATUS_LOADING_FONT_ERROR)),n(e)}))})),this.bookViewerPromise}clear(){this.bookViewer&&this.bookViewer.clear()}redraw(e,t){return this.bookViewer?this.status===o.QS.STATUS_ERROR?Promise.reject("Renderer failed to initialize."):(e&&(this.renderSettings=Object.assign({},e)),this.viewerConfig.scrollContainer=t,this.bookViewer.clear(),this.bookViewer=new i.BookViewerReflowable(this.viewerConfig,this.bookProvider,E(this.renderSettings)),Promise.resolve()):Promise.reject("Renderer not initialized yet.")}highlightSearchResult(e){this.bookViewer&&this.bookViewer.highlightSearchResult(e)}clearSearchHighlights(){this.bookViewer&&this.bookViewer.clearSearchHighlights()}getReadingLocation(){return this.bookViewer?Promise.resolve(b(this.bookViewer.getCurrentReadingLocationData())):Promise.reject()}getStatus(){return this.status}handlePositionChanges(){var e,t,n;if(!this.bookViewer)return;const i=b(this.bookViewer.getCurrentReadingLocationData());(null==i?void 0:i.currentPositionRange)&&(null===(e=this.onPositionChange)||void 0===e||e.call(this,null===(t=i.currentPositionRange)||void 0===t?void 0:t.currentTopOfPage,null===(n=i.currentPositionRange)||void 0===n?void 0:n.currentBottomOfPage))}goToPosition(e,t){return v(this,void 0,void 0,(function*(){if(!this.bookViewer)throw"Renderer not initialized.";this.bookViewer.goToPosition(e,null==t?void 0:t.focus)}))}onInitialized(){var e,t;this.updateSupportedSettingsFromMetadata(),null===(e=this.bookViewer)||void 0===e||e.applyRenderSettings(E(this.renderSettings)),this.createPositionMapper(),null===(t=this.metricsUtils)||void 0===t||t.rendererInitialized(!0)}updateSupportedSettings(e){this.supportedSettings=e,this.updateSettings(this.requestedSettings)}updateSupportedSettingsFromMetadata(){return v(this,void 0,void 0,(function*(){const e=yield this.getMetadata();var t;this.updateSupportedSettings(Object.assign(Object.assign({},this.supportedSettings),{fontFamilies:(t=e.language,null==t?[]:(0,p.u)(g.fontFamilies,t))}))}))}createPositionMapper(){return v(this,void 0,void 0,(function*(){const e=yield this.getReadingLocation();e.maximumPosition&&this.bookViewer&&(this.positionMapper=new h(this.bookViewer,e.maximumPosition),this.handlePositionChanges())}))}getPositionMapper(){if(this.positionMapper)return this.positionMapper;throw new Error("Renderer must be initialized before requesting the position mapper")}updateSettings(e){return v(this,void 0,void 0,(function*(){this.requestedSettings=Object.assign(Object.assign({},this.requestedSettings),e),this.renderSettings=(0,a.q)(this.renderSettings,e,this.getSupportedSettings()),yield this.applySettings()}))}getSettings(){return Object.assign({},this.renderSettings)}getSupportedSettings(){return this.supportedSettings}applySettings(){var e;return v(this,void 0,void 0,(function*(){return yield this.render(),null===(e=this.bookViewer)||void 0===e?void 0:e.applyRenderSettings(E(this.renderSettings))}))}getTableOfContents(){return v(this,void 0,void 0,(function*(){return this.bookProvider.getTableOfContents()}))}canChangeUserSettings(){return!1}canAnnotate(){return!1}canSearch(){return!1}getMetadata(){return this.bookProvider.getMetadata()}}const w=e=>{window.open(e)},b=e=>{const t={currentPositionRange:void 0,minimumPosition:e.minimumPosition,maximumPosition:e.maximumPosition};return void 0!==e.currentPositionRange.firstVisiblePid&&(t.currentPositionRange={currentTopOfPage:e.currentPositionRange.firstVisiblePid,currentBottomOfPage:e.currentPositionRange.firstVisiblePid}),t};var _;!function(e){e[e.Default=0]="Default",e[e.Night=1]="Night",e[e.Sepia=2]="Sepia",e[e.Green=3]="Green"}(_||(_={}));const k=new Map([["White",_.Default],["Night",_.Night],["Sepia",_.Sepia],["Green",_.Green],["Dark",_.Night]]),E=e=>({colorTheme:k.get(e.colorTheme||"White")||_.Default,font:e.fontFamily||"Bookerly",fontSize:e.fontSize,marginTop:e.marginTop||0,marginRight:e.marginRight||0,marginBottom:e.marginBottom||0,marginLeft:e.marginLeft||0,viewportHeight:e.viewportHeight,viewportWidth:e.viewportWidth,viewportTopOffset:e.viewportTopOffset||0})},323:e=>{"use strict";e.exports=t},762:t=>{"use strict";t.exports=e},233:e=>{"use strict";e.exports=i},616:e=>{"use strict";e.exports=o},141:e=>{"use strict";e.exports=n},803:e=>{"use strict";e.exports=r}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return s[e](n,n.exports,c),n.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return(()=>{"use strict";c.r(u),c.d(u,{Action:()=>l.a,AnnotationType:()=>l.J,BACKGROUND_THEME_MAP:()=>y.p,COLOR_THEME_MAP:()=>y.X,Capabilities:()=>h.Wi,ContentNotAllowed:()=>f.nk,ContentUnSupported:()=>f.CK,DEV_HOST_NAME:()=>C.I,DefaultBookRendererFactory:()=>r.Q,Deferred:()=>I.B,FailedToGetBookManifestError:()=>f.$z,FontLoader:()=>O.Jf,FontLoadingStatus:()=>O.ww,GeoLocationNotAllowed:()=>f.ZM,HtmlRenderStatusEnums:()=>s.Z0,KaramelPositionMapper:()=>L.w,KaramelTokenProviderError:()=>T.cr,LARGE_WIDTH:()=>F.oz,LITB_PRINT_METHOD:()=>k.M,MEDIUM_HEIGHT:()=>F.JB,MEDIUM_LARGE_WIDTH:()=>F.Bl,MEDIUM_WIDTH:()=>F.QO,MetricsConstants:()=>j.P,MetricsUtils:()=>D.J,MobileOS:()=>R.RG,NO_SUPPORTED_SETTINGS:()=>a.L,NavigationAction:()=>s.Lo,NavigationUnitType:()=>o.g,NetworkFetch:()=>_.fR,PrintRendererClient:()=>k.r,PrintTokenProvider:()=>m.x,ReadingStatus:()=>h.Ch,RendererClient:()=>E.D,RendererMetricsServiceWrapper:()=>S.f,RendererNotFoundError:()=>e.c,RendererServiceFetchNotFoundError:()=>T.qw,RendererStatus:()=>h.QS,RendererType:()=>h.g4,RenderingServiceBuilder:()=>T.kl,RenderingServiceMissingArgsError:()=>T.aX,ServerError:()=>_.nl,TimeoutError:()=>_.W5,UnavailablePositionMappingError:()=>o.U,WritingMode:()=>w.l,adjustHeight:()=>R.si,adjustViewPort:()=>R.Yr,adjustWidth:()=>R.jE,annotationsToPrintHighlights:()=>x._V,binarySearch:()=>P.r,blobToDataUrl:()=>x.fL,calculateNewRenderingSettings:()=>a.q,convertReadingStatus:()=>s.JC,convertRenderStatus:()=>s.BC,deepEquals:()=>$.q,deferredToPromise:()=>x.tO,filterFontFamiliesByLanguage:()=>A.u,getMarketplace:()=>M.L,getMobileOS:()=>R.uA,getOrientation:()=>R.T8,getPhysicalWindowHeight:()=>R.iB,getPhysicalWindowWidth:()=>R.DA,getRequest:()=>N.A_,getSupportedFontFormats:()=>O.WF,getWindowHeight:()=>R.gp,getWindowWidth:()=>R.fM,intersect:()=>$.w,isAndroid:()=>R.Dt,isFirefox:()=>R.vU,isIE11:()=>R.fq,isIOS:()=>R.gn,isIOSSafari:()=>R.nz,isInternetExplorerOrEdge:()=>R.Js,isLandscapeWideEnoughForTwoPage:()=>R.LZ,isLargeOrLargerScreen:()=>R.Nc,isMShop:()=>R.Gu,isMac:()=>R.V5,isMediumOrLargerScreen:()=>R.gj,isOldAndroid:()=>R.YF,isPageProgressionDirection:()=>w.j,isSamsungInternet:()=>R.Tv,isSilk:()=>R.u4,isWidthEnoughForTwoPage:()=>R.Qz,isiPad:()=>R._1,isiPhone:()=>R.sg,marketplaceInfo:()=>M.a,onOrientationChange:()=>R.aQ,pixelToPoints:()=>x.oj,postRequest:()=>N.j0,request:()=>N.WY,resolveFont:()=>A.g});var e=c(522),t=c(863),n={};for(const e in t)["default","RendererNotFoundError"].indexOf(e)<0&&(n[e]=()=>t[e]);c.d(u,n);var i=c(606);n={};for(const e in i)["default","RendererNotFoundError"].indexOf(e)<0&&(n[e]=()=>i[e]);c.d(u,n);var r=c(800),o=c(556),s=c(345),a=c(620),l=c(547),h=c(389),d=c(462);n={};for(const e in d)["default","RendererNotFoundError","DefaultBookRendererFactory","NavigationUnitType","UnavailablePositionMappingError","HtmlRenderStatusEnums","NavigationAction","convertReadingStatus","convertRenderStatus","NO_SUPPORTED_SETTINGS","calculateNewRenderingSettings","Action","AnnotationType","Capabilities","ReadingStatus","RendererStatus","RendererType"].indexOf(e)<0&&(n[e]=()=>d[e]);c.d(u,n);var f=c(918),p=c(80);n={};for(const e in p)["default","RendererNotFoundError","DefaultBookRendererFactory","NavigationUnitType","UnavailablePositionMappingError","HtmlRenderStatusEnums","NavigationAction","convertReadingStatus","convertRenderStatus","NO_SUPPORTED_SETTINGS","calculateNewRenderingSettings","Action","AnnotationType","Capabilities","ReadingStatus","RendererStatus","RendererType","ContentNotAllowed","ContentUnSupported","FailedToGetBookManifestError","GeoLocationNotAllowed"].indexOf(e)<0&&(n[e]=()=>p[e]);c.d(u,n);var g=c(444);n={};for(const e in g)["default","RendererNotFoundError","DefaultBookRendererFactory","NavigationUnitType","UnavailablePositionMappingError","HtmlRenderStatusEnums","NavigationAction","convertReadingStatus","convertRenderStatus","NO_SUPPORTED_SETTINGS","calculateNewRenderingSettings","Action","AnnotationType","Capabilities","ReadingStatus","RendererStatus","RendererType","ContentNotAllowed","ContentUnSupported","FailedToGetBookManifestError","GeoLocationNotAllowed"].indexOf(e)<0&&(n[e]=()=>g[e]);c.d(u,n);var v=c(241);n={};for(const e in v)["default","RendererNotFoundError","DefaultBookRendererFactory","NavigationUnitType","UnavailablePositionMappingError","HtmlRenderStatusEnums","NavigationAction","convertReadingStatus","convertRenderStatus","NO_SUPPORTED_SETTINGS","calculateNewRenderingSettings","Action","AnnotationType","Capabilities","ReadingStatus","RendererStatus","RendererType","ContentNotAllowed","ContentUnSupported","FailedToGetBookManifestError","GeoLocationNotAllowed"].indexOf(e)<0&&(n[e]=()=>v[e]);c.d(u,n);var m=c(129),y=c(387),w=c(492),b=c(456);n={};for(const e in b)["default","RendererNotFoundError","DefaultBookRendererFactory","NavigationUnitType","UnavailablePositionMappingError","HtmlRenderStatusEnums","NavigationAction","convertReadingStatus","convertRenderStatus","NO_SUPPORTED_SETTINGS","calculateNewRenderingSettings","Action","AnnotationType","Capabilities","ReadingStatus","RendererStatus","RendererType","ContentNotAllowed","ContentUnSupported","FailedToGetBookManifestError","GeoLocationNotAllowed","PrintTokenProvider","BACKGROUND_THEME_MAP","COLOR_THEME_MAP","WritingMode","isPageProgressionDirection"].indexOf(e)<0&&(n[e]=()=>b[e]);c.d(u,n);var _=c(839),k=c(514),E=c(453),S=c(369),T=c(498),P=c(33),C=c(553),x=c(479),I=c(275),R=c(713),O=c(124),A=c(597),$=c(809),L=c(902),M=c(43),j=c(567),D=c(906),N=c(87),F=c(824)})(),u})(),e.exports=i(n(76304),n(20419),n(49892),n(12231),n(32457),n(46647))},20419:function(e){var t;self,t=()=>{return e={310:e=>{"use strict";function t(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,n,i){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");i||(i={}),"object"==typeof n&&(i=n,n=void 0),null!=n&&(i.code=n);try{return t(e,i)}catch(n){i.message=e.message,i.stack=e.stack;const r=function(){};return r.prototype=Object.create(Object.getPrototypeOf(e)),t(new r,i)}}},168:(e,t,n)=>{var i;!function(r,o,s,a){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h=Math.round,d=Math.abs,f=Date.now;function p(e,t,n){return setTimeout(_(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==a)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function m(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var y=m((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===a)&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),w=m((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function b(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&c(i,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function k(e,t){return"function"==typeof e?e.apply(t&&t[0]||a,t):e}function E(e,t){return e===a?t:e}function S(e,t,n){v(x(t),(function(t){e.addEventListener(t,n,!1)}))}function T(e,t,n){v(x(t),(function(t){e.removeEventListener(t,n,!1)}))}function P(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function I(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function R(e){return Array.prototype.slice.call(e,0)}function O(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];I(r,s)<0&&i.push(e[o]),r[o]=s,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function A(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:t)in e)return i;o++}return a}var $=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var M="ontouchstart"in r,j=A(r,"PointerEvent")!==a,D=M&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N=["x","y"],F=["clientX","clientY"];function B(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){k(e.options.enable,[e])&&n.handler(t)},this.init()}function U(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,s=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=z(t)),r>1&&!n.firstMultiple?n.firstMultiple=z(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,c=s?s.center:o.center,u=t.center=H(i);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=q(c,u),t.distance=W(c,u),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=G(t.deltaX,t.deltaY);var l,h,p=V(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=p.x,t.overallVelocityY=p.y,t.overallVelocity=d(p.x)>d(p.y)?p.x:p.y,t.scale=s?(l=s.pointers,W((h=i)[0],h[1],F)/W(l[0],l[1],F)):1,t.rotation=s?function(e,t){return q(t[1],t[0],F)+q(e[1],e[0],F)}(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,s=e.lastInterval||t,c=t.timeStamp-s.timeStamp;if(8!=t.eventType&&(c>25||s.velocity===a)){var u=t.deltaX-s.deltaX,l=t.deltaY-s.deltaY,h=V(c,u,l);i=h.x,r=h.y,n=d(h.x)>d(h.y)?h.x:h.y,o=G(u,l),e.lastInterval=t}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var g=e.element;P(t.srcEvent.target,g)&&(g=t.srcEvent.target),t.target=g}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function z(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:H(t),deltaX:e.deltaX,deltaY:e.deltaY}}function H(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:h(n/t),y:h(i/t)}}function V(e,t,n){return{x:t/e||0,y:n/e||0}}function G(e,t){return e===t?1:d(e)>=d(t)?e<0?2:4:t<0?8:16}function W(e,t,n){n||(n=N);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function q(e,t,n){n||(n=N);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(L(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4},K="mousedown",X="mousemove mouseup";function Z(){this.evEl=K,this.evWin=X,this.pressed=!1,B.apply(this,arguments)}b(Z,B,{handler:function(e){var t=Y[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var J={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q={2:"touch",3:"pen",4:"mouse",5:"kinect"},ee="pointerdown",te="pointermove pointerup pointercancel";function ne(){this.evEl=ee,this.evWin=te,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ee="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),b(ne,B,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=J[i],o=Q[e.pointerType]||e.pointerType,s="touch"==o,a=I(t,e.pointerId,"pointerId");1&r&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):12&r&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))}});var ie={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function re(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function oe(e,t){var n=R(e.touches),i=R(e.changedTouches);return 12&t&&(n=O(n.concat(i),"identifier",!0)),[n,i]}b(re,B,{handler:function(e){var t=ie[e.type];if(1===t&&(this.started=!0),this.started){var n=oe.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var se={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ae="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=ae,this.targetIds={},B.apply(this,arguments)}function ue(e,t){var n=R(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=R(e.changedTouches),a=[],c=this.target;if(o=n.filter((function(e){return P(e.target,c)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),12&t&&delete i[s[r].identifier],r++;return a.length?[O(o.concat(a),"identifier",!0),a]:void 0}function le(){B.apply(this,arguments);var e=_(this.handler,this);this.touch=new ce(this.manager,e),this.mouse=new Z(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function he(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,de.call(this,t)):12&e&&de.call(this,t)}function de(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function fe(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}b(ce,B,{handler:function(e){var t=se[e.type],n=ue.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}),b(le,B,{handler:function(e,t,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)he.call(this,t,n);else if(r&&fe.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var pe=A(l.style,"touchAction"),ge=pe!==a,ve=function(){if(!ge)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function me(e,t){this.manager=e,this.set(t)}function ye(e){this.options=c({},this.defaults,e||{}),this.id=$++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function we(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function be(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function _e(e,t){var n=t.manager;return n?n.get(e):e}function ke(){ye.apply(this,arguments)}function Ee(){ke.apply(this,arguments),this.pX=null,this.pY=null}function Se(){ke.apply(this,arguments)}function Te(){ye.apply(this,arguments),this._timer=null,this._input=null}function Pe(){ke.apply(this,arguments)}function Ce(){ke.apply(this,arguments)}function xe(){ye.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ie(e,t){return(t=t||{}).recognizers=E(t.recognizers,Ie.defaults.preset),new Re(e,t)}function Re(e,t){this.options=c({},Ie.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(j?ne:D?ce:M?le:Z))(this,U),this.touchAction=new me(this,this.options.touchAction),Oe(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Oe(e,t){var n,i=e.element;i.style&&(v(e.options.cssProps,(function(r,o){n=A(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}me.prototype={set:function(e){"compute"==e&&(e=this.compute()),ge&&this.manager.element.style&&ve[e]&&(this.manager.element.style[pe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){k(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(C(e,"none"))return"none";var t=C(e,"pan-x"),n=C(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":C(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=C(i,"none")&&!ve.none,o=C(i,"pan-y")&&!ve["pan-y"],s=C(i,"pan-x")&&!ve["pan-x"];if(r){var a=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(a&&c&&u)return}if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},ye.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=_e(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=_e(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===I(t,e=_e(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=_e(e,this);var t=I(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+we(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+we(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!k(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b(ke,ye,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32}}),b(Ee,ke,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===s?1:s<0?8:16,n=s!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return ke.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=be(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(Se,ke,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),b(Te,ye,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(Pe,ke,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(Ce,ke,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ee.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=be(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(xe,ye,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||W(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ie.VERSION="2.0.7",Ie.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Pe,{enable:!1}],[Se,{enable:!1},["rotate"]],[Ce,{direction:6}],[Ee,{direction:6},["swipe"]],[xe],[xe,{event:"doubletap",taps:2},["tap"]],[Te]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Re.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof ye)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=I(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==a&&t!==a){var n=this.handlers;return v(x(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==a){var n=this.handlers;return v(x(e),(function(e){t?n[e]&&n[e].splice(I(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&Oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Ie,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Re,Input:B,TouchAction:me,TouchInput:ce,MouseInput:Z,PointerEventInput:ne,TouchMouseInput:le,SingleTouchInput:re,Recognizer:ye,AttrRecognizer:ke,Tap:xe,Pan:Ee,Swipe:Ce,Pinch:Se,Rotate:Pe,Press:Te,on:S,off:T,each:v,merge:w,extend:y,assign:c,inherit:b,bindFn:_,prefixed:A}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Ie,(i=function(){return Ie}.call(t,n,t,e))===a||(e.exports=i)}(window,document)},369:(e,t,n)=>{"use strict";var i=n(310),r=n(617),o=Object.prototype.hasOwnProperty;function s(e){return e&&"EPROMISERETRY"===e.code&&o.call(e,"retried")}e.exports=function(e,t){var n,o;return"object"==typeof e&&"function"==typeof t&&(n=t,t=e,e=n),o=r.operation(t),new Promise((function(t,n){o.attempt((function(r){Promise.resolve().then((function(){return e((function(e){throw s(e)&&(e=e.retried),i(new Error("Retrying"),"EPROMISERETRY",{retried:e})}),r)})).then(t,(function(e){s(e)&&(e=e.retried,o.retry(e||new Error))||n(e)}))}))}))}},617:(e,t,n)=>{e.exports=n(303)},303:(e,t,n)=>{var i=n(961);t.operation=function(e){var n=t.timeouts(e);return new i(n,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],r=0;r<t.retries;r++)i.push(this.createTimeout(r,t));return e&&e.forever&&!i.length&&i.push(this.createTimeout(r,t)),i.sort((function(e,t){return e-t})),i},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,i=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return Math.min(i,t.maxTimeout)},t.wrap=function(e,n,i){if(n instanceof Array&&(i=n,n=null),!i)for(var r in i=[],e)"function"==typeof e[r]&&i.push(r);for(var o=0;o<i.length;o++){var s=i[o],a=e[s];e[s]=function(i){var r=t.operation(n),o=Array.prototype.slice.call(arguments,1),s=o.pop();o.push((function(e){r.retry(e)||(e&&(arguments[0]=r.mainError()),s.apply(this,arguments))})),r.attempt((function(){i.apply(e,o)}))}.bind(e,a),e[s].options=n}}},961:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),n=this._timeouts.shift()}var i=this,r=setTimeout((function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout((function(){i._operationTimeoutCb(i._attempts)}),i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)}),n);return this._options.unref&&r.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){this.attempt(e)},t.prototype.start=function(e){this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,i=0;i<this._errors.length;i++){var r=this._errors[i],o=r.message,s=(e[o]||0)+1;e[o]=s,s>=n&&(t=r,n=s)}return t}},178:(e,t,n)=>{var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickHandler=t.DOUBLE_CLICK_TIMEOUT=void 0,t.DOUBLE_CLICK_TIMEOUT=300,t.ClickHandler=function(){var e=this;this.clickCount=0,this.handleClickEvent=function(n,i,r,o){if(i){var s=e.getCoordinates(i,n);e.clickCount++,2===e.clickCount?(null==o||o({x:s.x,y:s.y}),clearTimeout(e.clickTimer),e.clickCount=0):e.clickTimer=window.setTimeout((function(){null==r||r({x:s.x,y:s.y}),e.clickCount=0}),t.DOUBLE_CLICK_TIMEOUT)}},this.getCoordinates=function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}}}.apply(t,[n,t]),void 0===i||(e.exports=i)},14:(e,t,n)=>{var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollModel=void 0;var n=function(){function e(e){this.extraEventListeners=[],this.scrollModelConfig=e,this.scrollContainer=e.scrollContainer}return e.prototype.clear=function(){this.scrollEventListener&&this.getContainer().removeEventListener("scroll",this.scrollEventListener),this.touchStartEventListener&&(this.getContainer().removeEventListener("touchstart",this.touchStartEventListener),this.removeTouchStartedEventListeners())},e.prototype.disableScroll=function(){this.scrollContainer&&(this.scrollContainer.style.overflow="hidden")},e.prototype.enableScroll=function(){this.scrollContainer&&(this.scrollContainer.style.overflow="")},e.prototype.addEventListener=function(e,t){this.getContainer().addEventListener(e,t),this.extraEventListeners.push([e,t])},e.prototype.attachEventListeners=function(){this.attachScrollEventListener(),this.attachTouchEventListener()},e.prototype.getScrollX=function(){return this.scrollContainer?this.scrollContainer.scrollLeft:window.scrollX},e.prototype.getScrollY=function(){return this.scrollContainer?this.scrollContainer.scrollTop:window.pageYOffset},e.prototype.getLeftOffset=function(){return this.scrollContainer?this.scrollContainer.getBoundingClientRect().left:0},e.prototype.getTopOffset=function(){return this.scrollContainer?this.scrollContainer.getBoundingClientRect().top:0},e.prototype.getContainerWidth=function(){return this.scrollContainer?this.scrollContainer.clientWidth:window.innerWidth},e.prototype.setScrollY=function(e){this.scrollTo(0,e)},e.prototype.scrollTo=function(e,t){this.scrollContainer?(this.scrollContainer.scrollLeft=e,this.scrollContainer.scrollTop=t):this.getContainer().scrollTo(e,t)},e.prototype.isAtEndOfBook=function(){return Math.floor(this.getContainerScrollHeight()-(this.getScrollY()+this.getContainerHeight()))<=0},e.prototype.removeTouchStartedEventListeners=function(){var e=this;this.getContainer().removeEventListener("touchmove",this.touchMoveEventListener),this.getContainer().removeEventListener("touchend",this.touchEndEventListener),this.getContainer().removeEventListener("touchcancel",this.touchEndEventListener),this.extraEventListeners.forEach((function(t){var n=t[0],i=t[1];e.getContainer().removeEventListener(n,i)}))},e.prototype.attachTouchEventListener=function(){var e=this,t=!1,n=0;this.touchStartEventListener=function(t){if(e.isAtEndOfBook()){var i=t.changedTouches[0];n=i.clientY,e.getContainer().addEventListener("touchmove",e.touchMoveEventListener),e.getContainer().addEventListener("touchend",e.touchEndEventListener),e.getContainer().addEventListener("touchcancel",e.touchCancelEventListener)}},this.touchMoveEventListener=function(e){var i=e.changedTouches[0];10<=n-i.clientY&&(t=!0)},this.touchEndEventListener=function(n){t&&e.scrollModelConfig.scrollCallback(),t=!1,e.removeTouchStartedEventListeners()},this.touchCancelEventListener=function(){t=!1,e.removeTouchStartedEventListeners()},this.getContainer().addEventListener("touchstart",this.touchStartEventListener)},e.prototype.attachScrollEventListener=function(){var e=this,t=!1;this.scrollEventListener=function(n){e.scrollModelConfig.scrollCallback(),t||(t=!0,setTimeout((function(){e.scrollModelConfig.throttledScrollCallback&&e.scrollModelConfig.throttledScrollCallback(),t=!1}),250))},this.getContainer().addEventListener("scroll",this.scrollEventListener)},e.prototype.getContainerScrollHeight=function(){return this.scrollContainer?this.scrollContainer.scrollHeight:document.documentElement.scrollHeight},e.prototype.getContainerHeight=function(){return this.scrollContainer?this.scrollContainer.clientHeight:window.innerHeight},e.prototype.getContainer=function(){return this.scrollContainer?this.scrollContainer:window},e}();t.ScrollModel=n}.apply(t,[n,t]),void 0===i||(e.exports=i)},586:(e,t,n)=>{var i,r;i=[n,t,n(98),n(977)],r=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearSearchHighlights=t.highlightSearchResult=void 0;var r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"],o=function(){function e(e){this.closeTags=[],this.descendantInfoIdx=0,this.htmlPieces=[],this.rootNode=e,this.rootString=this.rootNode.outerHTML}return e.prototype.transformString=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent},e.prototype.getDescendants=function(){for(var e=this.rootNode.querySelectorAll("*"),t=[],n=0;n<e.length;n++){var i=a(e[n]);t.push({descendant:e[n],idx:n,tag:i})}return t},e.prototype.nextIndex=function(e,t){var n=this.rootString.length-1;this.descendantInfoIdx<e.length&&(n=this.rootString.indexOf(e[this.descendantInfoIdx].tag.open,t));var i=this.closeTags[this.closeTags.length-1],r=this.rootString.indexOf(i,t),o=t;if(n<r){var s=this.rootString.substring(t,n);this.htmlPieces.push(this.transformString(s)),this.htmlPieces.push(e[this.descendantInfoIdx].tag.open),e[this.descendantInfoIdx].tag.close&&this.closeTags.push(e[this.descendantInfoIdx].tag.close),o=n+e[this.descendantInfoIdx].tag.open.length-1,this.descendantInfoIdx++}else n>r&&(s=this.rootString.substring(t,r),this.htmlPieces.push(this.transformString(s)),this.htmlPieces.push(i),o=r+i.length-1,this.closeTags.length&&this.closeTags.pop());return o},e.prototype.findHtmlPieces=function(){var e=this.getDescendants(),t=a(this.rootNode);t.close&&this.closeTags.push(t.close),this.htmlPieces.push(t.open);for(var n=t.open.length;n<this.rootString.length;n++)n=this.nextIndex(e,n);return t.close&&this.htmlPieces.push(t.close),this.htmlPieces},e}(),s=function(){function e(e,t){this.appearanceIndex=e.appearancesInPid,this.htmlPieces=t,this.keyword=e.keyword.toLowerCase(),this.keywordPositions=[],this.keywordStartPositionCandidates=[],this.tempKeywordInfo={keyword:"",appearanceIndex:0},this.visitedHtmlPieceIdx=[]}return e.prototype.updateStartPositionCandidates=function(e,t){var n={htmlPieceIdx:t,characterIdx:e};this.keywordStartPositionCandidates.some((function(e){return e===n}))||this.keywordStartPositionCandidates.push(n)},e.prototype.getKeywordStatus=function(e){return this.tempKeywordInfo.keyword+=e,this.tempKeywordInfo.keyword===this.keyword?(this.tempKeywordInfo.appearanceIndex++,this.tempKeywordInfo.appearanceIndex===this.appearanceIndex?i.KeywordStatus.FOUND:i.KeywordStatus.IMPOSSIBLE):0===this.keyword.indexOf(this.tempKeywordInfo.keyword)?i.KeywordStatus.POSSIBLE:i.KeywordStatus.IMPOSSIBLE},e.prototype.nextKeywordStartPosition=function(e){var t=this.keywordStartPositionCandidates.shift();return this.visitedHtmlPieceIdx=this.visitedHtmlPieceIdx.slice(0,e+1),t},e.prototype.newKeywordPositionInfo=function(e,t,n){for(var r=e;r<t.length;r++){var o=t[r];o===this.keyword[0]&&this.tempKeywordInfo.keyword.length&&this.updateStartPositionCandidates(r,n),this.keywordPositions.push({htmlPieceIdx:n,characterIdx:r});var s=this.getKeywordStatus(o);if(s===i.KeywordStatus.FOUND)return{status:s,nextKeywordStartPosition:null};if(s===i.KeywordStatus.IMPOSSIBLE&&(this.tempKeywordInfo.keyword="",this.keywordPositions=[],this.keywordStartPositionCandidates.length))return{status:s,nextKeywordStartPosition:this.nextKeywordStartPosition(n)}}return{status:i.KeywordStatus.POSSIBLE,nextKeywordStartPosition:null}},e.prototype.findKeywordPositions=function(){for(var e=0,t=1,n=null;t!==this.htmlPieces.length-1;)if(this.htmlPieces[t].length){var r=this.htmlPieces[t].toLowerCase();if(this.visitedHtmlPieceIdx.some((function(e){return e===t}))||(e=0,this.visitedHtmlPieceIdx.push(t)),(n=this.newKeywordPositionInfo(e,r,t)).status===i.KeywordStatus.FOUND)return this.keywordPositions;var o=n.nextKeywordStartPosition;o?(t=o.htmlPieceIdx,e=o.characterIdx):t+=2}else t+=2;return this.keywordPositions},e}(),a=function(e){var t=e.tagName,n=e.outerHTML,i=e.innerHTML;if(r.some((function(e){return e===t.toLowerCase()})))return{open:n,close:null};var o="</".concat(t.toLowerCase(),">");return{open:n.substring(0,n.length-(i+o).length),close:o}},c=function(e,t,n){var i=e.slice(0,t),r=e.slice(t+1,e.length);return i+n.outerHTML+r},u=function(e,t){var i=document.createElement("span"),r=n.COLOR_THEMES_STYLE[n.ColorTheme[t]].searchHighlightStyle;return i.className="search-tag",i.innerHTML=e,i.style.textDecoration=r.textDecoration,i.style.backgroundColor=r.backgroundColor,i};t.highlightSearchResult=function(e,t){var n='[data-pid="'.concat(e.pidIndex,'"]'),i=document.querySelector(n),r=new o(i).findHtmlPieces(),a=new s(e,r).findKeywordPositions();i.outerHTML=function(e,t,n){for(var i=e.length-1;i>=0;i--){var r=e[i].htmlPieceIdx,o=t[r],s=e[i].characterIdx,a=u(o[s],n);t[r]=c(o,s,a)}return t.join("")}(a,r,t)},t.clearSearchHighlights=function(){var e=document.getElementsByClassName("search-tag");if(e.length>0)for(var t=e.length-1;t>=0;t--){var n=a(e[t]),i=e[t],r=i.parentElement,o=r.innerHTML,s=o.indexOf(e[t].outerHTML),c=s+n.open.length,u=s+n.open.length+n.close.length+i.innerHTML.length;r.innerHTML=o.substring(0,s)+o[c]+o.substring(u,o.length)}}}.apply(t,i),void 0===r||(e.exports=r)},977:(e,t,n)=>{var i;i=function(e,t){"use strict";var n,i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.DisclaimerType=t.KeywordStatus=t.PageLabel=void 0,(r=t.PageLabel||(t.PageLabel={})).A="a",r.R="r",r.I="i",(i=t.KeywordStatus||(t.KeywordStatus={}))[i.FOUND=0]="FOUND",i[i.IMPOSSIBLE=1]="IMPOSSIBLE",i[i.POSSIBLE=2]="POSSIBLE",(n=t.DisclaimerType||(t.DisclaimerType={}))[n.GENERIC=0]="GENERIC",n[n.SPECIFIC_PAGES_MISSING=1]="SPECIFIC_PAGES_MISSING"}.apply(t,[n,t]),void 0===i||(e.exports=i)},709:(e,t,n)=>{var i,r;i=[n,t,n(369)],r=function(e,t,n){"use strict";function i(e){return 11.93*e}Object.defineProperty(t,"__esModule",{value:!0}),t.attemptWithRetries=t.isMouseEvent=t.clamp=t.mapYJFontWeight=t.isBlockImage=t.getLargeFontSizeFactor=t.getAlphabetWidth=t.getFirstElementChild=t.binarySearch=void 0,t.binarySearch=function(e,t,n){for(var i,r=0,o=e.length-1;r<=o;){var s=t(e[i=Math.floor(r+(o-r)/2)]);if(s===n)return i;n<s?o=i-1:r=i+1}return Math.min(r,e.length-1)},t.getFirstElementChild=function(e){for(var t=e.childNodes,n=0;n<t.length;n++){var i=t[n];if(i.nodeType===Node.ELEMENT_NODE)return i}return null},t.getAlphabetWidth=i,t.getLargeFontSizeFactor=function(e,t,n){var r=0,o=i(e),s=t/o,a=1.2*n/o,c=Math.min(s,a);return c<1.3&&(r=1.3-c),r<=0?1:r<=.35?1-1.5*r:r<=.55?.5-1*(r-.35):Math.max(0,.3-1.5*(r-.55))},t.isBlockImage=function(e){return"DIV"===e.parentElement.tagName&&1===e.parentElement.childNodes.length};var r={thin:"100",ultra_light:"200",light:"300",book:"normal",normal:"normal",medium:"500",semi_bold:"600",bold:"bold",ultra_bold:"800",heavy:"900",ultra_heavy:"1000"};t.mapYJFontWeight=function(e){return r[e]||"normal"},t.clamp=function(e,t,n){return Math.max(t,Math.min(e,n))},t.isMouseEvent=function(e){return"x"in e},t.attemptWithRetries=function(e,t){var i=0;return n(e,(function(e,n){return i=n,t().catch(e)})).catch((function(e){return Promise.reject(new Error("Failed ".concat(i," attempts: ").concat(e)))}))}}.apply(t,i),void 0===r||(e.exports=r)},41:(e,t,n)=>{var i;i=function(e,t){"use strict";var n,i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.isEqualRenderSettings=t.showContent=t.callReadingStatusChanged=t.callRenderStatusChanged=t.PageLoadStatus=t.ReadStatus=t.Status=void 0,(r=t.Status||(t.Status={})).READY="ready",r.LOADING="loading",r.ERROR="error",(i=t.ReadStatus||(t.ReadStatus={})).END="end",i.READING="reading",(n=t.PageLoadStatus||(t.PageLoadStatus={})).UNLOADED="unloaded",n.LOADING="loading",n.LOADED="loaded",t.callRenderStatusChanged=function(e,t,n){if(e.onRenderStatusChanged)return e.onRenderStatusChanged(t,n)},t.callReadingStatusChanged=function(e,t){if(e.onReadingStatusChanged)return e.onReadingStatusChanged(t)},t.showContent=function(e,t){e.style.visibility=t?"visible":"hidden"},t.isEqualRenderSettings=function(e,t){for(var n in e)if(e[n]!==t[n])return!1;return!0}}.apply(t,[n,t]),void 0===i||(e.exports=i)},144:function(e,t,n){var i,r,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};i=[n,t,n(14),n(977),n(41),n(455),n(178)],r=function(e,t,n,i,r,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BookViewerPrint=t.SURPRISE_ME_POSITION=void 0,t.SURPRISE_ME_POSITION=-999;var c=function(e){return!e||"Embargoed Page"===e},u=function(e,t){if(e.pageLabel===i.PageLabel.A)return t-e.firstPageIdx+e.actualPageNumber},l=function(){function e(e,t,i){var r=this;this.searchHighlights=[],this.bookProvider=t,this.viewerConfig=e,this.viewerRoot=e.viewerRoot,this.renderSettings=i,this.pages=[],this.defaultWidth=this.viewerRoot.clientWidth,this.scrollModel=new n.ScrollModel({scrollCallback:function(){return r.callReadingStatusChangedOnScroll()},scrollContainer:this.viewerConfig.scrollContainer}),this.gestureHandler=new s.GestureHandlerScale(this.viewerRoot,this.scrollModel,this.onPageZoom.bind(this)),this.intersectionObserver=new IntersectionObserver((function(e){return r.loadMorePages(e)}),{threshold:.1}),this.clickHandler=new a.ClickHandler,this.applyRenderSettings(this.renderSettings),this.displayBook()}return e.prototype.setDefaultWidth=function(e){var t,n,i=e;if(this.coverAspectRatio){var r=this.coverAspectRatio*this.scrollModel.getContainerHeight()+(null!==(t=this.renderSettings.marginRight)&&void 0!==t?t:0)+(null!==(n=this.renderSettings.marginLeft)&&void 0!==n?n:0);i=Math.min(i,r)}this.defaultWidth=i,this.gestureHandler.setInitialWidth(i)},e.prototype.goToPosition=function(e,n){var i=this,r=this.getPageContainer(e);if(r){this.requestPageHighlights(e);var o=this.viewerRoot.clientWidth-this.scrollModel.getContainerWidth();this.scrollModel.scrollTo(o/2,r.offsetTop)}else"Embargoed Page"!==this.pages[e]&&(e===t.SURPRISE_ME_POSITION?this.bookProvider.getRandomPage().then((function(e){i.setPages(e.jumboImageUrls),i.goToPosition(e.pageNumber)})):e>=0&&(this.pages[e]=this.pages[e]||"Loading Page",this.fetchPage(e).then((function(){i.fetchNeighborPages(e,!0)}))))},e.prototype.applyRenderSettings=function(e){var t=this;e.localizedStrings!==this.renderSettings.localizedStrings&&this.setLocalizedStrings(e.localizedStrings),this.renderSettings=o(o({},this.renderSettings),e),this.viewerRoot.style.paddingRight="".concat(this.renderSettings.marginRight,"px"),this.viewerRoot.style.paddingLeft="".concat(this.renderSettings.marginLeft,"px"),this.renderSettings.viewportWidth!==this.defaultWidth&&(this.setDefaultWidth(this.renderSettings.viewportWidth),this.displayBook()),e.isRendererPropagatedZoom||new Promise((function(e){t.gestureHandler.zoom(t.getScaleFromZoomPercent()),e()}))},e.prototype.clear=function(){this.viewerRoot.innerHTML="",this.scrollModel.clear(),this.gestureHandler.disconnect()},e.prototype.setSearchInfo=function(e){},e.prototype.clearSearchHighlights=function(){},e.prototype.clearHighlights=function(){document.querySelectorAll(".search-highlight").forEach((function(e){return e.remove()})),this.searchHighlights=[]},e.prototype.setLocalizedStrings=function(e){this.renderSettings.localizedStrings=e,this.resetSampleDisclaimers()},e.prototype.callRenderStatusReady=function(){this.pageLoaded&&this.rendererInitialized&&(this.onInitialized(),(0,r.callRenderStatusChanged)(this.viewerConfig,r.Status.READY))},e.prototype.onInitialized=function(){var e=this;setTimeout((function(){return e.setDefaultWidth(e.viewerRoot.clientWidth)}),0)},e.prototype.displayBook=function(){var e=this;(0,r.callRenderStatusChanged)(this.viewerConfig,r.Status.LOADING),this.bookProvider.getManifest().then((function(t){return e.manifest=t,e.initializePages(t.pages,t.embargoedPages,t.imageUrls)})).then((function(){e.appendPages(),e.appendSampleDisclaimers(),e.attachClickEventHandling(),e.scrollModel.attachEventListeners(),e.rendererInitialized||(e.rendererInitialized=!0,e.callRenderStatusReady())})).catch((function(t){(0,r.callRenderStatusChanged)(e.viewerConfig,r.Status.ERROR,t)}))},e.prototype.initializePages=function(e,t,n){var i=this;return new Promise((function(r){if(n){for(var o in e.forEach((function(e){i.pages[e]="Loading Page"})),t.forEach((function(e){i.pages[e]="Embargoed Page"})),n)i.isPendingPage(parseInt(o,10))&&(i.pages[o]=n[o]);r()}else i.fetchPage(e[0]).then((function(){r()}))}))},e.prototype.appendPages=function(){var e=this;this.viewerRoot.innerHTML="",this.pages.forEach((function(t,n){var i=e.createPageContainer(n);if(!c(t)){if(function(e){return"Loading Page"===e}(t))i.insertAdjacentHTML("beforeend",e.getSpinner(n));else{var r=e.getPageImage(n,t),o=n===e.manifest.pages[0],s=function(){e.coverAspectRatio=r.naturalWidth/r.naturalHeight,e.setDefaultWidth(e.renderSettings.viewportWidth)};r.onload=function(){o&&s(),e.hideSpinner(n),e.pageLoaded||(e.pageLoaded=!0,e.callRenderStatusReady())},o&&new ResizeObserver((function(e,t){r.naturalWidth&&r.naturalHeight&&(t.disconnect(),s())})).observe(r),i.appendChild(r),i.insertAdjacentHTML("beforeend",e.getSpinner(n)),e.gestureHandler.observe(i,e.getGestureOptions())}e.viewerRoot.insertAdjacentElement("beforeend",i),e.intersectionObserver.observe(i)}}))},e.prototype.appendSampleDisclaimers=function(){for(var e,t,n=1;n<=this.manifest.numberOfPages;n++){var r=this.pages[n];if(c(r))e||(e=n),t=n;else if(e&&t){var o;o=this.manifest.firstPageInfo&&e>this.manifest.firstPageInfo.firstPageIdx?this.createDisclaimer(this.getSampleDisclaimerText(i.DisclaimerType.SPECIFIC_PAGES_MISSING,{startMissingPageIdx:e,endMissingPageIdx:t,firstPageInfo:this.manifest.firstPageInfo})):this.createDisclaimer(this.getSampleDisclaimerText(i.DisclaimerType.GENERIC));var s=this.getPageContainer(n);this.viewerRoot.insertBefore(o,s),e=null,t=null}}},e.prototype.stylePageContainer=function(e){e.setAttribute("style","margin-bottom: 10px; box-shadow: 0 0 4px 0 rgba(0,0,0,0.50); overflow: hidden; position: relative;")},e.prototype.getPageImage=function(e,t){var n=document.createElement("img");return n.alt="Page ".concat(e),n.src=t,n.draggable=!1,n.style.display="block",n.style.height="100%",n.style.width="100%",n.style.objectFit="contain",n},e.prototype.loadMorePages=function(e){var t=this;e.forEach((function(e){if(e.isIntersecting){var n=e.target.dataset.page;if(n){var i=parseInt(n,10);t.fetchNeighborPages(i),t.fetchNeighborHighlights(i)}}}))},e.prototype.fetchNeighborPages=function(e,t){var n=this;this.fetchPage(e-1).then((function(){return n.navigateToPage(e,t)})),this.fetchPage(e).then((function(){return n.navigateToPage(e,t)})),this.fetchPage(e+1).then((function(){return n.navigateToPage(e,t)}))},e.prototype.fetchNeighborHighlights=function(e){this.requestPageHighlights(e-1),this.requestPageHighlights(e),this.requestPageHighlights(e+1)},e.prototype.isPendingPage=function(e){return!this.pages[e]||"Loading Page"===this.pages[e]},e.prototype.isValidPage=function(e,t){return t?e>0&&e<=t:this.manifest.pages.indexOf(e)>-1},e.prototype.fetchPage=function(e,t){var n=this;return void 0===t&&(t=5),this.isPendingPage(e)&&this.isValidPage(e,this.manifest.numberOfPages)?this.bookProvider.getPageUrls(e).then((function(e){e&&n.setPages(e)})).catch((function(e){var i=e.nextPageToTry;if((null!=i?i:-1)>=0&&t>0)return n.fetchPage(i,t-1)})):Promise.resolve()},e.prototype.requestPageHighlights=function(e){var t,n;return c(e.toString())||null===(n=(t=this.bookProvider).requestPageHighlights)||void 0===n||n.call(t,e),Promise.resolve()},e.prototype.addHighlights=function(e){var t=this,n=function(n){var r=i.getPageContainer(parseInt(n,10));if(!r)return"continue";r.querySelectorAll(".search-highlight").forEach((function(e){return e.remove()})),i.searchHighlights[n]=e[n],i.searchHighlights[n].forEach((function(e){var n=100/1024;r.appendChild(t.createHighlight({left:"".concat(e[0]*n,"%"),top:"".concat(e[1]*n,"%"),width:"".concat(e[2]*n,"%"),height:"".concat(e[3]*n,"%")}))}))},i=this;for(var r in e)n(r)},e.prototype.setPages=function(e){for(var t in e){var n=parseInt(t,10);this.isPendingPage(n)&&this.setPage(n,e[n])}},e.prototype.setPage=function(e,t){var n=this;this.pages[e]=t;var i=this.getPageImage(e,t);i.onload=function(){n.hideSpinner(e),n.pageLoaded||(n.pageLoaded=!0,n.callRenderStatusReady())};var r=this.getPageContainer(e);if(!r){var o=this.getLastRenderedPageNumber();r=this.createPageContainer(e),o<e?this.viewerRoot.appendChild(r):this.viewerRoot.insertBefore(r,this.getNextAvailablePage(e)),this.intersectionObserver.observe(r)}var s=r.querySelectorAll(".search-highlight");r.innerHTML="",r.appendChild(i),r.insertAdjacentHTML("beforeend",this.getSpinner(e)),s.forEach((function(e){r.appendChild(e)})),this.gestureHandler.observe(r,this.getGestureOptions()),this.resetSampleDisclaimers()},e.prototype.clearSamplePageDisclaimers=function(){document.querySelectorAll(".sample-page-disclaimer").forEach((function(e){e.remove()}))},e.prototype.callReadingStatusChangedOnScroll=function(){this.scrollModel.isAtEndOfBook()?(0,r.callReadingStatusChanged)(this.viewerConfig,r.ReadStatus.END):(0,r.callReadingStatusChanged)(this.viewerConfig,r.ReadStatus.READING)},e.prototype.createPageContainer=function(e){var t=document.createElement("div");return t.dataset.page=e.toString(),this.stylePageContainer(t),t},e.prototype.createHighlight=function(e){var t=document.createElement("div");return t.className="search-highlight",t.style.position="absolute",t.style.background="rgba(0,0,0,0.20)",t.style.borderBottom="2px solid #000000",t.style.left=e.left,t.style.top=e.top,t.style.width=e.width,t.style.height=e.height,t},e.prototype.createDisclaimer=function(e){var t=document.createElement("div");return t.innerHTML=e,t.style.backgroundColor="#CDE6E0",t.style.textAlign="center",t.style.fontSize="14px",t.style.paddingTop="7px",t.style.paddingBottom="7px",t.style.marginBottom="10px",t.className="sample-page-disclaimer",t},e.prototype.getNextAvailablePage=function(e){for(var t=e+1;c(this.pages[t])&&t<this.pages.length;)t++;return this.getPageContainer(t)},e.prototype.getLastRenderedPageNumber=function(){for(var e=this.pages.length-1;e>=0;e--)if(!c(this.pages[e])&&this.getPageContainer(e))return e;return 0},e.prototype.navigateToPage=function(e,t){t&&this.goToPosition(e)},e.prototype.getScaleFromZoomPercent=function(){return this.renderSettings.zoomPercent/100},e.prototype.getGestureOptions=function(){return{defaultWidth:this.defaultWidth,viewportTopOffset:this.renderSettings.viewportTopOffset}},e.prototype.getPageContainer=function(e){return document.querySelector('[data-page="'.concat(e,'"]'))},e.prototype.getSampleDisclaimerText=function(e,t){if(!this.renderSettings.localizedStrings)return"";switch(e){case i.DisclaimerType.SPECIFIC_PAGES_MISSING:if(!t||!this.renderSettings.localizedStrings.getMissingPageMessage||!this.renderSettings.localizedStrings.getMissingPagesMessage)return"";var n=u(t.firstPageInfo,t.startMissingPageIdx);if(t.startMissingPageIdx===t.endMissingPageIdx)return this.renderSettings.localizedStrings.getMissingPageMessage(n);var r=u(t.firstPageInfo,t.endMissingPageIdx);return this.renderSettings.localizedStrings.getMissingPagesMessage(n,r);case i.DisclaimerType.GENERIC:default:return this.renderSettings.localizedStrings.genericSampleMessage||""}},e.prototype.onPageZoom=function(e,t){this.viewerConfig.onZoom(100*e),this.viewerConfig.isManga||this.gestureHandler.zoom(e,t)},e.prototype.getSpinner=function(e){return'\n            <div id="'.concat(this.getSpinnerId(e),'" style="position: absolute; left: 0; right: 0; bottom: 0; top: 0; height: 40px; width: 40px; margin: auto; animation: spin 1s linear infinite;">\n                <svg version="1.1" id="Layer_1" x="0px" y="0px"\n                    viewBox="0 0 80 80" enable-background="new 0 0 80 80" xml:space="preserve">\n                    <path id="spinner-').concat(e,'" fill="#B8B8B8" d="M40,72C22.4,72,8,57.6,8,40C8,22.4,22.4,8,40,8c17.6,0,32,14.4,32,32c0,1.1-0.9,2-2,2s-2-0.9-2-2c0-15.4-12.6-28-28-28S12,24.6,12,40s12.6,28,28,28c1.1,0,2,0.9,2,2S41.1,72,40,72z"/>\n                </svg>\n            </div>\n        ')},e.prototype.getSpinnerId=function(e){return"PrintSpinner".concat(e)},e.prototype.hideSpinner=function(e){document.getElementById(this.getSpinnerId(e)).style.display="none"},e.prototype.resetSampleDisclaimers=function(){this.clearSamplePageDisclaimers(),this.appendSampleDisclaimers()},e.prototype.attachClickEventHandling=function(){var e=this;this.viewerRoot.addEventListener("click",(function(t){e.clickHandler.handleClickEvent(t,e.viewerConfig.scrollContainer,e.viewerConfig.onClick,e.viewerConfig.onDoubleClick)}))},e}();t.BookViewerPrint=l}.apply(t,i),void 0===r||(e.exports=r)},455:(e,t,n)=>{var i,r;i=[n,t,n(168),n(709)],r=function(e,t,n,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GestureHandlerScale=void 0,function(e){e.PINCH="pinch",e.PINCH_CANCEL="pinchcancel",e.PINCH_END="pinchend",e.PINCH_MOVE="pinchmove"}(r||(r={}));var o="".concat(r.PINCH," ").concat(r.PINCH_MOVE),s=function(){function e(e,t,n){this.displayImageScale=1,this.pinchStartEventListener=this.onPinchStart.bind(this),this.touchPadPinchEventListener=this.onTouchPadPinchZoom.bind(this),this.panStartEventListener=this.onPanStart.bind(this),this.panMoveEventListener=this.onPanMove.bind(this),this.panEndEventListener=this.onPanEnd.bind(this),this.doubleTapEventListener=this.onDoubleTap.bind(this),this.panning=!1,this.viewerRoot=e,this.observedElements=[],this.onZoom=n,this.scrollModel=t,this.initialize(),this.attachEventListeners()}return e.prototype.observe=function(e,t){this.observedElements.push(e),this.initialWidth||(this.initialWidth=t.defaultWidth)},e.prototype.setInitialWidth=function(e){this.initialWidth=e,this.viewerRoot.parentElement.style.width="".concat(e*this.getScale(),"px")},e.prototype.disconnect=function(){this.removeEventListeners(),this.observedElements=[]},e.prototype.zoom=function(e,t,n,r){var o=this;if((0,i.clamp)(e,1,2)!==this.displayImageScale){var s=t;if(!s||s===this.getViewerRoot()){var a=this.observedElements.filter((function(e){return o.elementIsInViewport(e)})),c=a.map(this.getElementHeightInViewport.bind(this)),u=0;a.forEach((function(e,t){c[t]>u&&(u=c[t],s=e)}))}var l=this.getScrollModel().getLeftOffset()-s.getBoundingClientRect().left,h=this.getScrollModel().getTopOffset()-s.getBoundingClientRect().top,d=this.getScale();this.setScale(e),this.getViewerRoot().parentElement.style.width="".concat(this.initialWidth*this.getScale(),"px");var f=this.getZoomedScrollX(s,l,d,n),p=this.getZoomedScrollY(s,h,d,r);this.centerPage(f,p)}},e.prototype.getScrollModel=function(){return this.scrollModel},e.prototype.getViewerRoot=function(){return this.viewerRoot},e.prototype.getScale=function(){return this.displayImageScale},e.prototype.setScale=function(e){this.displayImageScale=(0,i.clamp)(e,1,2),1===this.displayImageScale?this.getViewerRoot().style.cursor="auto":this.getViewerRoot().style.cursor="pointer"},e.prototype.centerPage=function(e,t){var n=this.getScrollModel(),i=this.getViewerRoot().clientWidth-n.getContainerWidth();n.scrollTo(e||i/2,t||n.getScrollY())},e.prototype.initialize=function(){this.manager=new n.Manager(this.getViewerRoot(),{touchAction:"pan-x pan-y"}),this.manager.add(new n.Pinch({enable:!0})),this.manager.add(new n.Tap({event:"doubletap",taps:2}))},e.prototype.attachEventListeners=function(){this.manager.on(o,this.pinchStartEventListener),this.manager.on("doubletap",this.doubleTapEventListener),this.getViewerRoot().addEventListener("gesturechange",this.pinchStartEventListener),this.getViewerRoot().addEventListener("wheel",this.touchPadPinchEventListener),this.getViewerRoot().addEventListener("mousedown",this.panStartEventListener),this.getViewerRoot().addEventListener("mousemove",this.panMoveEventListener),this.getViewerRoot().addEventListener("mouseup",this.panEndEventListener),this.getViewerRoot().addEventListener("mouseleave",this.panEndEventListener)},e.prototype.removeEventListeners=function(){this.manager.off(o,this.pinchStartEventListener),this.manager.off("doubletap",this.doubleTapEventListener),this.getViewerRoot().removeEventListener("gesturechange",this.pinchStartEventListener),this.getViewerRoot().removeEventListener("wheel",this.touchPadPinchEventListener),this.getViewerRoot().removeEventListener("mousedown",this.panStartEventListener),this.getViewerRoot().removeEventListener("mousemove",this.panMoveEventListener),this.getViewerRoot().removeEventListener("mouseup",this.panEndEventListener),this.getViewerRoot().removeEventListener("mouseleave",this.panEndEventListener)},e.prototype.onDoubleTap=function(e){e.preventDefault();var t=this.getScrollingElement(e.target);this.getScale()<2?this.zoom(2,t,e.center.x,e.center.y):this.zoom(1,t,e.center.x,e.center.y),this.onZoom&&this.onZoom(this.displayImageScale,t)},e.prototype.onPinchStart=function(e){e.preventDefault();var t=e.scale>1?1:-1;this.setScale(.01*t+this.getScale()),this.getViewerRoot().parentElement.style.width="".concat(this.initialWidth*this.getScale(),"px");var n=this.getViewerRoot().clientWidth-this.getScrollModel().getContainerWidth();this.getScrollModel().scrollTo(n/2,this.getScrollModel().getScrollY())},e.prototype.onTouchPadPinchZoom=function(e){e.ctrlKey&&(e.preventDefault(),this.handlePinchZoom(this.getScale()-.01*e.deltaY,e.target,e.clientX,e.clientY))},e.prototype.handlePinchZoom=function(e,t,n,i){if(t){var r=this.getScrollingElement(t);this.zoom(e,r,n,i),this.onZoom&&this.onZoom(this.displayImageScale,r)}},e.prototype.onPanStart=function(e){this.panning=((0,i.isMouseEvent)(e)||1===e.touches.length)&&this.getScale()>1,this.setPointerPosition(e)},e.prototype.onPanMove=function(e){if(this.panning){e.preventDefault();var t=this.getScrollModel(),n=this.pointerPosition.x-a(e),i=this.pointerPosition.y-c(e);t.scrollTo(t.getScrollX()+n,t.getScrollY()+i),this.setPointerPosition(e)}},e.prototype.onPanEnd=function(){this.panning=!1},e.prototype.setPointerPosition=function(e){(0,i.isMouseEvent)(e)?this.pointerPosition={x:e.x,y:e.y}:this.pointerPosition={x:e.touches[0].clientX,y:e.touches[0].clientY}},e.prototype.getScrollingElement=function(e){var t=e;return t&&"IMG"===t.nodeName&&(t=t.parentElement),t},e.prototype.getZoomedScrollX=function(e,t,n,i){var r=i?i-this.getScrollModel().getLeftOffset()+parseInt(this.getViewerRoot().style.paddingLeft):.5*this.initialWidth,o=(t+r)/n*this.getScale()-r;return e.offsetLeft+o},e.prototype.getZoomedScrollY=function(e,t,n,i){var r=i?i-this.getScrollModel().getTopOffset():.5*this.getScrollModel().getContainerHeight(),o=this.viewerRoot.getBoundingClientRect().top-this.getScrollModel().getTopOffset()+this.getScrollModel().getScrollY(),s=(t+r)/n*this.getScale()-r+o;return e.offsetTop+s},e.prototype.elementIsInViewport=function(e){var t=this.getElementPositionsRelativeToScrollContainer(e);return t.top>=-e.offsetHeight&&t.bottom<=this.getScrollModel().getContainerHeight()+e.offsetHeight},e.prototype.getElementPositionsRelativeToScrollContainer=function(e){var t=e.getBoundingClientRect();return{top:t.top-this.getScrollModel().getTopOffset(),bottom:t.bottom-this.getScrollModel().getTopOffset()}},e.prototype.getElementHeightInViewport=function(e){var t=this.getElementPositionsRelativeToScrollContainer(e),n=e.offsetHeight;t.top<0&&(n+=t.top);var i=this.getScrollModel().getContainerHeight();return t.bottom>i&&(n+=i-t.bottom),n},e}();t.GestureHandlerScale=s;var a=function(e){return(0,i.isMouseEvent)(e)?e.x:e.touches[0].clientX},c=function(e){return(0,i.isMouseEvent)(e)?e.y:e.touches[0].clientY}}.apply(t,i),void 0===r||(e.exports=r)},156:(e,t,n)=>{var i,r;i=[n,t,n(144),n(452),n(977),n(41)],r=function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SURPRISE_ME_POSITION=t.BookViewerReflowable=t.BookViewerPrint=t.Status=t.PageLoadStatus=t.ReadStatus=t.PageLabel=void 0,Object.defineProperty(t,"BookViewerPrint",{enumerable:!0,get:function(){return n.BookViewerPrint}}),Object.defineProperty(t,"SURPRISE_ME_POSITION",{enumerable:!0,get:function(){return n.SURPRISE_ME_POSITION}}),Object.defineProperty(t,"BookViewerReflowable",{enumerable:!0,get:function(){return i.BookViewerReflowable}}),Object.defineProperty(t,"PageLabel",{enumerable:!0,get:function(){return r.PageLabel}}),Object.defineProperty(t,"ReadStatus",{enumerable:!0,get:function(){return o.ReadStatus}}),Object.defineProperty(t,"PageLoadStatus",{enumerable:!0,get:function(){return o.PageLoadStatus}}),Object.defineProperty(t,"Status",{enumerable:!0,get:function(){return o.Status}})}.apply(t,i),void 0===r||(e.exports=r)},452:function(e,t,n){var i,r,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};i=[n,t,n(178),n(98),n(336),n(14),n(709),n(586),n(722),n(323),n(403),n(41)],r=function(e,t,n,i,r,s,a,c,u,l,h,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BookViewerReflowable=t.DefaultRenderSettings=void 0,t.DefaultRenderSettings={font:"Bookerly",fontSize:16,lineHeightFactor:1.3525,leftAlign:!1,marginTop:20,marginRight:14.67,marginBottom:13.33,marginLeft:14.67,colorTheme:i.ColorTheme.Default,viewportHeight:0,viewportWidth:0,viewportTopOffset:0,linkStyle:"color: #0066c0; text-decoration: underline;",disabledLinkStyle:"color: gray; text-decoration: underline;",searchResultItem:null};var f={supportedFontFormats:["woff2"]},p=function(){function e(e,i,a){var c=this;this.viewerRoot=e.viewerRoot,this.bookProvider=i,this.sectionLoader=new r.SectionLoader(i),this.viewerConfig=o(o({},f),e),this.renderSettings=o(o({},t.DefaultRenderSettings),a);var u={scrollCallback:function(){return c.callReadingStatusChangedOnScroll()},throttledScrollCallback:function(){return c.setFirstVisibleElementPid()},scrollContainer:this.viewerConfig.scrollContainer};this.scrollModel=new s.ScrollModel(u),this.clickHandler=new n.ClickHandler,this.displayBook()}return e.prototype.clear=function(){for(var e=this.viewerRoot.firstChild;e;)this.viewerRoot.removeChild(e),e=this.viewerRoot.firstChild;document.getElementById("book-stylesheet").remove(),document.getElementById("reader-link-stylesheet").remove(),this.scrollModel.clear(),this.firstVisibleElementPid=0},e.prototype.clearStyleSheets=function(){document.contains(document.getElementById("book-stylesheet"))&&document.getElementById("book-stylesheet").remove(),document.contains(document.getElementById("reader-link-stylesheet"))&&document.getElementById("reader-link-stylesheet").remove()},e.prototype.goToPosition=function(e,t){if(this.pidSortedInfoList){var n=a.binarySearch(this.pidSortedInfoList,(function(e){return e.pid}),e),i=this.pidSortedInfoList[n],r=document.querySelector('[data-pid="'+i.pid+'"]');r?(this.scrollModel.setScrollY(i.pixelPositions.topMargin),t&&r.focus()):console.warn("PID element not found: "+i.pid)}},e.prototype.getCurrentReadingLocationData=function(){var e=this.getFirstVisibleElement();return{currentPositionRange:{firstVisiblePid:e.pid,topOfFirstVisiblePid:e.pixelPositions.top,bottomOfFirstVisiblePid:e.pixelPositions.bottom},minimumPosition:0,maximumPosition:this.bookManifest.sections[this.bookManifest.sections.length-1].endPosition}},e.prototype.displayBook=function(){var e=this;(0,d.callRenderStatusChanged)(this.viewerConfig,d.Status.LOADING),this.setupReaderFonts(),Promise.all([this.bookProvider.getManifest(),this.bookProvider.getResourceAsString("styles.css"),this.sectionLoader.getAllSections(),this.sectionLoader.getCoverImage(),this.ensureReaderFontLoaded(this.renderSettings.font),this.loadEmbeddedFonts()]).then((function(t){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[5];return e.bookManifest=n,e.embeddedFonts=s,(0,d.showContent)(e.viewerRoot,!1),e.clearStyleSheets(),document.head.appendChild(e.createBookStylesheetHTML(i)),document.head.appendChild(e.createReaderLinkStylesheetHTML()),e.viewerRoot.style.fontFamily="DefaultFont",e.attachClickEventHandling(),e.changeReaderFont(null,e.renderSettings.font),e.applyColorTheme(),e.appendCoverImage(o),e.appendSections(r),e.addAccessibilityTabIndexAttribute(),e.loadImages(),e.changeBackgroundImageUrls(),e.attachAnchorEventHandling(n.sections),e.fixUpLinkStyles(),e.applyLinkStyles(),e.applyHyphenation(n.language),e.applyRenderSettingsInternal(e.renderSettings).then((function(){e.scrollModel.attachEventListeners(),e.goToPosition(n.srl),(0,d.showContent)(e.viewerRoot,!0),e.setFirstVisibleElementPid(),(0,d.callRenderStatusChanged)(e.viewerConfig,d.Status.READY)}))})).catch((function(t){(0,d.callRenderStatusChanged)(e.viewerConfig,d.Status.ERROR,t)}))},e.prototype.highlightSearchResult=function(e){this.clearSearchHighlights(),this.renderSettings.searchResultItem=e,c.highlightSearchResult(e,this.renderSettings.colorTheme)},e.prototype.clearSearchHighlights=function(){c.clearSearchHighlights(),this.renderSettings.searchResultItem=null},e.prototype.attachAnchorEventHandling=function(e){for(var t=this,n=this.viewerRoot.getElementsByTagName("a"),i=function(i){var r=n[i];r.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation();var i=r.href.match(/^book:(\d+)$/);if(i){var o=parseInt(i[1],10);o>=e[e.length-1].endPosition?t.callOutOfBoundsAnchor():t.goToPosition(o)}else t.callLinkClicked(r.href)}))},r=0;r<n.length;r++)i(r)},e.prototype.addAccessibilityTabIndexAttribute=function(){for(var e=this.viewerRoot.querySelectorAll("[data-pid]"),t=0;t<e.length;t++)e[t].setAttribute("tabindex",(1e3+t).toString())},e.prototype.fixUpLinkStyles=function(){for(var e=this.viewerRoot.getElementsByTagName("a"),t=0;t<e.length;t++)e[t].classList.add("book-content-link");var n=this.viewerRoot.getElementsByTagName("span");for(t=0;t<n.length;t++){var i=n[t];"text-decoration: underline"===i.getAttribute("style")&&(i.removeAttribute("style"),i.classList.add("book-content-disabled-link"))}},e.prototype.buildPidPixelMaps=function(){for(var e=[],t=this.viewerRoot.querySelectorAll("[data-pid]"),n=0;n<t.length;n++){var i=t[n],r=parseInt(i.dataset.pid,10),o=!!i.dataset.imageName,s=getComputedStyle(i),a=i.getBoundingClientRect(),c=this.viewerRoot.getBoundingClientRect().top+this.renderSettings.viewportTopOffset,u=a.top-c,l=a.bottom-c,h={topMargin:u-parseFloat(s.marginTop),bottom:l,top:u};e.push({pid:r,pixelPositions:h,isImage:o})}this.pidSortedInfoList=e.sort((function(e,t){return e.pid-t.pid})),this.pixelSortedInfoList=e.sort((function(e,t){return e.pixelPositions.top-t.pixelPositions.top}))},e.prototype.determineImageSnapElement=function(e){var t=e,n=this.pixelSortedInfoList[t-1];if(n.isImage){var i=this.scrollModel.getScrollY();i<n.pixelPositions.bottom&&i>n.pixelPositions.top&&(t-=1)}return t},e.prototype.getFirstVisibleElement=function(){var e=a.binarySearch(this.pixelSortedInfoList,(function(e){return e.pixelPositions.top}),this.scrollModel.getScrollY());return(e=Math.min(e,this.pixelSortedInfoList.length-1))>=1&&(e=this.determineImageSnapElement(e)),this.pixelSortedInfoList[e]},e.prototype.pidToPixel=function(e){var t=a.binarySearch(this.pidSortedInfoList,(function(e){return e.pid}),e);return this.pidSortedInfoList[t].pixelPositions.top},e.prototype.pixelToPid=function(e){var t=a.binarySearch(this.pixelSortedInfoList,(function(e){return e.pixelPositions.top}),e);return this.pixelSortedInfoList[t].pid},e.prototype.getFirstVisibleElementPid=function(){return this.getFirstVisibleElement().pid},e.prototype.applyRenderSettingsInternal=function(e){var n=this;if(e.viewportHeight<=0||e.viewportWidth<=0)throw new Error("Viewport height and/or viewport width is missing.");var i=o(o({},t.DefaultRenderSettings),e),r=this.renderSettings.font,s=r!==i.font,a=this.isReaderFontLoaded(i.font),c=this.renderSettings.colorTheme!==i.colorTheme,u=this.renderSettings.linkStyle,l=this.renderSettings.disabledLinkStyle,h=u!==i.linkStyle||l!==i.disabledLinkStyle;return this.renderSettings=o(o({},this.renderSettings),i),s&&!a&&(0,d.callRenderStatusChanged)(this.viewerConfig,d.Status.LOADING),this.ensureReaderFontLoaded(i.font).then((function(){(0,d.isEqualRenderSettings)(n.renderSettings,i)&&(s&&n.changeReaderFont(r,i.font),c&&(n.applyColorTheme(),i.searchResultItem&&n.highlightSearchResult(i.searchResultItem)),n.applyFontSize(i.fontSize),n.applyLineHeight(i.lineHeightFactor),n.resizeIndents(i),n.updateDropcaps(i),n.applyMargins(),n.applyAlignment(),n.fixImageDimensions(n.bookManifest.resources),n.fixTableCells(),n.addOverflowXAroundTable(),h&&n.applyLinkStyles(),n.buildPidPixelMaps(),s&&!a&&(0,d.callRenderStatusChanged)(n.viewerConfig,d.Status.READY))}))},e.prototype.applyRenderSettings=function(e){var t=this;return this.applyRenderSettingsInternal(e).then((function(){t.goToPosition(t.firstVisibleElementPid)}))},e.prototype.applyHyphenation=function(e){this.viewerRoot.lang=e,this.viewerRoot.style.hyphens="auto",this.viewerRoot.style["-webkit-hyphens"]="auto",this.viewerRoot.style["-ms-hyphens"]="auto",this.viewerRoot.style["overflow-wrap"]="break-word",this.viewerRoot.style["word-wrap"]="break-word"},e.prototype.applyFontSize=function(e){document.documentElement.style.fontSize=e+"px"},e.prototype.applyLinkStyles=function(){var e=document.getElementById("reader-link-stylesheet");e&&e.remove(),document.head.appendChild(this.createReaderLinkStylesheetHTML())},e.prototype.applyLineHeight=function(e){for(var t=this.viewerRoot.querySelectorAll("div"),n=0;n<t.length;n++){var i=t[n];if(i.dataset.lh){var r=parseFloat(i.dataset.lh);i.style.lineHeight=(e*r).toString()}}},e.prototype.resizeIndents=function(e){this.viewerRoot.querySelectorAll("[data-resize-indent]").forEach((function(t){if(!("initIndent"in t.dataset)){var n=getComputedStyle(t),i=parseFloat(n.textIndent)/parseFloat(n.fontSize);t.dataset.initIndent=i+"em"}var r=a.getLargeFontSizeFactor(e.fontSize,e.viewportWidth,e.viewportHeight)*parseFloat(t.dataset.initIndent);t.style.textIndent=r+"em"}))},e.prototype.applyMargins=function(){this.sectionsContainer.style.margin=this.renderSettings.marginTop+"px "+this.renderSettings.marginRight+"px "+this.renderSettings.marginBottom+"px "+this.renderSettings.marginLeft+"px"},e.prototype.applyAlignment=function(){for(var e=this.viewerRoot.querySelectorAll("[data-is-justified]"),t=(this.renderSettings.viewportWidth-this.renderSettings.marginLeft-this.renderSettings.marginRight)/a.getAlphabetWidth(this.renderSettings.fontSize)>1.321,n=0;n<e.length;n++){var i=e[n];t&&!this.renderSettings.leftAlign?i.style.textAlign="justify":i.style.textAlign="left"}},e.prototype.updateDropcaps=function(e){u.applyDropcaps(this.viewerRoot,e,this.viewerConfig.readerFonts,this.embeddedFonts)},e.prototype.applyColorTheme=function(){var e=i.COLOR_THEMES_STYLE[i.ColorTheme[this.renderSettings.colorTheme]];this.viewerRoot.style.color=e.textColor,this.viewerRoot.style.background=e.backgroundColor},e.prototype.appendCoverImage=function(e){if(e){var t='<img alt="Book cover"data-pid="1" data-is-cover-image = "true"data-image-name="'+e+'"'+'style="width: 100%; height: 100%; object-fit: contain;\n                    padding-left: '.concat(this.renderSettings.marginLeft,"px;\n                    padding-right: ").concat(this.renderSettings.marginLeft,'px;\n                ">');this.viewerRoot.insertAdjacentHTML("beforeend",t)}},e.prototype.appendSections=function(e){this.sectionsContainer=document.createElement("div");for(var t=0;t<e.length;t++){var n='<div style="clear: both; margin-bottom: '+(t===e.length-1?0:"5em")+'">'+e[t]+"</div>";this.sectionsContainer.insertAdjacentHTML("beforeend",n)}this.viewerRoot.insertAdjacentElement("beforeend",this.sectionsContainer)},e.prototype.loadImages=function(){var e=this;this.viewerRoot.querySelectorAll("[data-image-name]").forEach((function(t){a.isBlockImage(t)&&(t.parentElement.style.width="100%",t.style.height&&(t.parentElement.style.minHeight=t.style.height)),e.bookProvider.getResourceUrl(t.dataset.imageName).then((function(e){t.src=e,t.hasAttribute("alt")&&!t.alt.match(/^\s*$/)||(t.alt=" ")}))}))},e.prototype.changeBackgroundImageUrls=function(){var e=this;this.viewerRoot.querySelectorAll("[data-background-image-name]").forEach((function(t){e.bookProvider.getResourceUrl(t.dataset.backgroundImageName).then((function(e){t.style.backgroundImage="url("+e+")"}))}))},e.prototype.fixImageDimensions=function(e){var t=this.viewerRoot.querySelector("[data-is-cover-image]");t&&(t.style.height=this.renderSettings.viewportHeight+"px",t.style.width=this.renderSettings.viewportWidth+"px");for(var n=this.sectionsContainer.getElementsByTagName("img"),i=function(t){var i=n[t];if("true"===i.dataset.imageHasTableParent)return"continue";i.style.removeProperty("width"),i.style.removeProperty("height");var o=e.filter((function(e){if(e.name===i.dataset.imageName)return e})),s=o[0].imageWidth,c=o[0].imageHeight;"false"===i.dataset.imageHasWidth&&(i.style.width="100%"),i.style.maxWidth="100%";var u=c/s*i.clientWidth;u>r.renderSettings.viewportHeight?(i.style.height=.9*r.renderSettings.viewportHeight+"px",i.style.width=s/c*r.renderSettings.viewportHeight*.9+"px"):(i.style.height=u+"px",i.style.width=i.clientWidth+"px"),a.isBlockImage(i)&&(i.parentElement.style.width="unset",i.parentElement.style.minHeight=u+"px")},r=this,o=0;o<n.length;o++)i(o)},e.prototype.fixTableCells=function(){l.fixTableCells(this.viewerRoot)},e.prototype.addOverflowXAroundTable=function(){h.addOverflowXAroundTable(this.viewerRoot)},e.prototype.createBookStylesheetHTML=function(e){var t=document.createElement("style");return t.id="book-stylesheet",t.type="text/css",t.appendChild(document.createTextNode(e)),t},e.prototype.createReaderLinkStylesheetHTML=function(){var e=document.createElement("style");e.id="reader-link-stylesheet",e.type="text/css";var t="a.book-content-link {"+this.renderSettings.linkStyle+"}span.book-content-disabled-link {"+this.renderSettings.disabledLinkStyle+"}";return e.appendChild(document.createTextNode(t)),e},e.prototype.selectFontFormat=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(-1!==this.viewerConfig.supportedFontFormats.indexOf(i.format))return i}throw new Error("Can't find suitable font format")},e.prototype.setupReaderFonts=function(){for(var e in this.readerFontFaces={},this.viewerConfig.readerFonts){var t=[];if(window.FontFace)for(var n=0,i=this.viewerConfig.readerFonts[e];n<i.length;n++){var r=i[n],o=this.selectFontFormat(r.fontFiles),s=new FontFace("DefaultFont","url("+o.url+")",{style:r.fontStyle,weight:r.fontWeight,stretch:r.fontStretch});t.push(s)}this.readerFontFaces[e]=t}},e.prototype.isReaderFontLoaded=function(e){for(var t=0,n=this.readerFontFaces[e];t<n.length;t++)if("loaded"!==n[t].status)return!1;return!0},e.prototype.ensureReaderFontLoaded=function(e){var t=this;return Promise.all(this.readerFontFaces[e].map((function(e){return t.loadFontFace(e)}))).then()},e.prototype.changeReaderFont=function(e,t){if(e)for(var n=0,i=this.readerFontFaces[e];n<i.length;n++){var r=i[n];document.fonts.delete(r)}for(var o=0,s=this.readerFontFaces[t];o<s.length;o++)r=s[o],document.fonts.add(r)},e.prototype.loadEmbeddedFonts=function(){var e=this;return this.bookProvider.getResourceAsObject("fonts.json").then((function(t){return Promise.all(t.map((function(t){var n=e.selectFontFormat(t.fontFiles);return e.bookProvider.getResourceUrl(n.fileName).then((function(e){var n=a.mapYJFontWeight(t.fontWeight),i=new FontFace(t.fontFamily,"url("+e+")",{style:t.fontStyle,weight:n,stretch:t.fontStretch});return document.fonts.add(i),i.load()})).catch((function(e){console.warn(e)}))}))).then((function(){return t}))}))},e.prototype.callLinkClicked=function(e){if(this.viewerConfig.onLinkClicked)return this.viewerConfig.onLinkClicked(e)},e.prototype.callOutOfBoundsAnchor=function(){if(this.viewerConfig.onOutOfBoundsAnchor)return this.viewerConfig.onOutOfBoundsAnchor()},e.prototype.callReadingStatusChangedOnScroll=function(){this.scrollModel.isAtEndOfBook()?(0,d.callReadingStatusChanged)(this.viewerConfig,d.ReadStatus.END):(0,d.callReadingStatusChanged)(this.viewerConfig,d.ReadStatus.READING)},e.prototype.setFirstVisibleElementPid=function(){this.firstVisibleElementPid=this.getFirstVisibleElementPid()},e.prototype.loadFontFace=function(e){var t=this;return a.attemptWithRetries({retries:3},(function(){return e.load()})).catch((function(n){var i,r=null!==(i=Object.keys(t.readerFontFaces).find((function(n){return-1!==t.readerFontFaces[n].indexOf(e)})))&&void 0!==i?i:e.family,o=t.selectFontFormat(t.viewerConfig.readerFonts[r].find((function(t){return t.fontStyle===e.style&&t.fontStretch===e.stretch&&t.fontWeight===e.weight})).fontFiles);return Promise.reject("Failed to load font ".concat(r,": ").concat(n,"                 style:").concat(e.style," weight:").concat(e.weight," stretch:").concat(e.stretch,"                 format:").concat(o?o.format:"unavailable"," url:").concat(o?o.url:"unavailable"))}))},e.prototype.attachClickEventHandling=function(){var e=this;this.viewerRoot.addEventListener("click",(function(t){e.clickHandler.handleClickEvent(t,e.viewerConfig.scrollContainer,e.viewerConfig.onClick,e.viewerConfig.onDoubleClick)}))},e}();t.BookViewerReflowable=p}.apply(t,i),void 0===r||(e.exports=r)},98:(e,t,n)=>{var i;i=function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.COLOR_THEMES_STYLE=t.ColorTheme=void 0,function(e){e[e.Default=0]="Default",e[e.Night=1]="Night",e[e.Sepia=2]="Sepia",e[e.Green=3]="Green"}(n=t.ColorTheme||(t.ColorTheme={})),t.COLOR_THEMES_STYLE={},t.COLOR_THEMES_STYLE[n[n.Default]]={textColor:"#000000",backgroundColor:"#ffffff",searchHighlightStyle:{backgroundColor:"#cacaca",textDecoration:"underline #000000"}},t.COLOR_THEMES_STYLE[n[n.Night]]={textColor:"#acacac",backgroundColor:"#121212",searchHighlightStyle:{backgroundColor:"#cacaca",textDecoration:"underline #000000"}},t.COLOR_THEMES_STYLE[n[n.Sepia]]={textColor:"#5d4232",backgroundColor:"#e7dec7",searchHighlightStyle:{backgroundColor:"#cacaca",textDecoration:"underline #000000"}},t.COLOR_THEMES_STYLE[n[n.Green]]={textColor:"#3a4b43",backgroundColor:"#c5e7ce",searchHighlightStyle:{backgroundColor:"#cacaca",textDecoration:"underline #000000"}}}.apply(t,[n,t]),void 0===i||(e.exports=i)},722:(e,t,n)=>{var i,r;i=[n,t,n(709)],r=function(e,t,n){"use strict";function i(e,t,n,i,r){for(var o=0,s=e;o<s.length;o++){var a=s[o];if(a.fontFamily===t&&(a.fontWeight===n||!a.fontWeight&&"normal"===n)&&(a.fontStyle===i||!a.fontStyle&&"normal"===i)&&(a.fontStretch===r||!a.fontStretch&&"normal"===r))return a.fontMetrics}return null}function r(e,t){for(var n=0,i=t.glyphMetrics;n<i.length;n++){var r=i[n];if(r.glyph===e)return r}}function o(e,t,n,i,r,o){s(e,t,n,i,r);for(var a=r;e.offsetWidth>.6*o&&a>1;)s(e,t,n,i,--a)}function s(e,t,n,i,o){if(1===o||!i||!n)return e.style.fontFamily="unset",e.style.cssFloat="unset",e.style.fontSize="unset",e.style.lineHeight="unset",void(e.style.marginTop="unset");for(var s=n.ascent/n.unitsPerEm,a=-n.descent/n.unitsPerEm,c=n.capHeight/n.unitsPerEm,u=i.capHeight/i.unitsPerEm,l=i.ascent/i.unitsPerEm,h=-i.descent/i.unitsPerEm,d=null,f=null,p=0,g=0,v=e.innerHTML;g<v.length;g++){var m=r(v[g],n);if(null==m){d=null,f=null,p=null;break}var y=m.yMax/n.unitsPerEm,w=-m.yMin/n.unitsPerEm;y>d&&(d=y),w>f&&(f=w),p+=(m.xMax-m.xMin)/n.unitsPerEm}var b=(o-1)*t+u,_=b/c,k=0;null!=f&&f*_>h&&(_=(b+h)/(c+f),k+=f);var E=s-a-(o*t-(t-(l+h))/2-h)/_+k;e.style.cssFloat="left",e.style.fontSize=_+"em",e.style.lineHeight=(s-a).toString(),e.style.marginTop=-E+"em",e.style.height=b/_+E+"em",p>0&&(e.style.width=p+"em"),e.style.marginRight=.6*(t-u)/_+"em"}function a(e,t,n){var i=getComputedStyle(e),r=parseFloat(i.lineHeight);r>0&&1===Math.round(e.clientHeight/r)?e.dataset.dcKnockout=t.offsetWidth+"px":delete e.dataset.dcKnockout;var o=e.previousElementSibling;if(o){var s=parseFloat(o.dataset.dcKnockout);s&&s+t.offsetWidth<=.6*n?t.style.marginLeft=s+"px":t.style.marginLeft="unset"}}Object.defineProperty(t,"__esModule",{value:!0}),t.applyDropcaps=void 0,t.applyDropcaps=function(e,t,r,s){for(var c=e.querySelectorAll("div"),u=0;u<c.length;u++){var l=c[u];if(l.dataset.dropcapFontFamily&&l.dataset.dropcapLines&&l.dataset.dropcapChars){var h=n.getFirstElementChild(l);if(h&&"SPAN"===h.tagName){var d=l.dataset.dropcapFontFamily,f=parseInt(l.dataset.dropcapLines),p=l.dataset.dropcapFontWeight||"normal",g=l.dataset.dropcapFontStyle||"normal",v=l.dataset.dropcapFontStretch||"normal",m=parseFloat(l.dataset.lh)*t.lineHeightFactor,y=i(r[t.font],t.font,p,g,v),w=y;"default"!==d&&(w=i(s,d,p,g,v)),null!=w&&(o(h,m,w,y,f,t.viewportWidth),a(l,h,t.viewportWidth))}}}}}.apply(t,i),void 0===r||(e.exports=r)},336:(e,t,n)=>{var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SectionLoader=void 0;var n=function(){function e(e){this.bookProvider=e,this.manifest=e.getManifest()}return e.prototype.getSectionIndexByPosition=function(e){return this.manifest.then((function(t){for(var n=0;n<t.sections.length;n++){var i=t.sections[n];if(e>=i.startPosition&&e<=i.endPosition)return n}return null}))},e.prototype.getSectionMetadata=function(e){return this.manifest.then((function(t){return t.sections[e]}))},e.prototype.isLastSection=function(e){return this.manifest.then((function(t){return t.sections.length===e+1}))},e.prototype.getSectionDataByIndex=function(e){return this.bookProvider.getSectionContent(e)},e.prototype.getSectionDataByPosition=function(e){var t=this;return this.getSectionIndexByPosition(e).then((function(e){return t.getSectionDataByIndex(e)}))},e.prototype.getAllSections=function(){var e=this;return this.bookProvider.getManifest().then((function(t){return Promise.all(t.sections.map((function(t,n){return e.bookProvider.getSectionContent(n)})))}))},e.prototype.getCoverImage=function(){return this.manifest.then((function(e){return e.coverImage}))},e}();t.SectionLoader=n}.apply(t,[n,t]),void 0===i||(e.exports=i)},323:(e,t,n)=>{var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fixTableCells=void 0,t.fixTableCells=function(e){!function(e){e.querySelectorAll("[data-has-padding-as-percentage]").forEach((function(e){var t=getComputedStyle(e);e.style.paddingLeft=t.paddingLeft,e.style.paddingRight=t.paddingRight}))}(e),function(e){e.querySelectorAll("[data-has-margin-as-percentage]").forEach((function(e){var t=getComputedStyle(e);e.style.marginLeft=t.marginLeft,e.style.marginRight=t.marginRight}))}(e)}}.apply(t,[n,t]),void 0===i||(e.exports=i)},403:(e,t,n)=>{var i;i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addOverflowXAroundTable=void 0,t.addOverflowXAroundTable=function(e){e.querySelectorAll("table").forEach((function(e){var t=document.createElement("div");t.style.overflowX="auto",e.parentNode.insertBefore(t,e),t.appendChild(e)}))}}.apply(t,[n,t]),void 0===i||(e.exports=i)}},t={},function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}(156);var e,t},e.exports=t()},76304:function(e,t,n){var i;"undefined"!=typeof self&&self,i=(e,t,n)=>(()=>{var i={3501:(e,t,n)=>{"use strict";n.d(t,{J:()=>y,T:()=>m});var i=n(9611),r=n(9779),o=n(27),s=n(373),a=n(7801),c=n(9108),u=n(2775),l=n(5162),h=n(4953),d=n(6942),f=n(3969),p=n(8334),g=n(7614),v=n(1900);const m=6;class y{static build(e){var t,n,y,w,b,_,k,E,S,T,P,C;const x=null!==(t=e.canvasService)&&void 0!==t?t:this.buildCanvasService(e.requireHighResolutionImages,e.canvasPixelRatio),I=null!==(n=e.bookRenderOptions.theme)&&void 0!==n?n:"default",R="custom"===I?e.themeData:u.M[I];if(!R)throw new Error('Theme was set to "custom" but no "themeData" were specified');const O=Object.assign(Object.assign(Object.assign({},e),e.bookRenderOptions),{pixelRatio:x.pixelRatio}),A=null!==(y=e.metricsService)&&void 0!==y?y:new r.ConsoleMetricsService,$=r.PageRendererFactory.build(O,new r.MetricsUtil(A)),L=Object.assign(Object.assign(Object.assign({},e),e.bookRenderOptions),{scale:null!==(w=e.scale)&&void 0!==w?w:1,pageRenderer:$,canvasService:x,enableWebWorker:!1,mountPageCanvas:null===(b=e.mountPageCanvas)||void 0===b||b}),M=new r.PageImageRenderer(L),j=null!==(_=e.bookProviderFactory)&&void 0!==_?_:new r.DevBookProviderFactory,D=new h.v,N=null!==(k=e.decorationRenderer)&&void 0!==k?k:new p.G({[o.g.ANNOTATION_TYPE_NOTE]:new a.j,[o.g.ANNOTATION_TYPE_HIGHLIGHT]:new c.y,[o.g.ANNOTATION_TYPE_SEARCH]:new v.v}),F=new s.b({bookRenderOptions:Object.assign({},e.bookRenderOptions),navigationOptions:{navigationDirection:e.navigationDirection,navigationMode:e.navigationMode,animatePageTurn:e.animatePageTurn},themeData:R,guidedViewOptions:e.guidedViewOptions,zoomViewOptions:e.zoomViewOptions}),B=null!==(E=e.decorationProvider)&&void 0!==E?E:new g.i,U=new l.B(e.asin,e.revision,{readAheadPageCount:null!==(S=e.renderBatchSize)&&void 0!==S?S:m,bundleImages:null!==(T=e.bundleImages)&&void 0!==T&&T,bookProviderFactory:j,pageImageRenderer:M,eventEmitter:D,clientRenderOptionsFactory:F,metricsService:A}),z=0==e.enableInteractivity?void 0:new f._V({container:e.container,interactionLayer:e.interactionLayer,fullPage:e.fullPage,decorationProvider:B,decorationRenderer:N,eventEmitter:D,canvasService:x,clientRenderOptionsFactory:F}),H=Object.assign(Object.assign({},e),{clientRenderOptionsFactory:F,scale:null!==(P=e.scale)&&void 0!==P?P:1,rendererController:U,eventEmitter:D,metricsService:A,decorationProvider:B,interactivityLayer:z,bookProviderFactory:j,selectionRenderer:null!==(C=e.selectionShapesRenderer)&&void 0!==C?C:new d.G({clientRenderOptionsFactory:F}),enableInteractivity:void 0===e.enableInteractivity||e.enableInteractivity});return new i.y(H)}static buildCanvasService(e=!1,t){const n=null!=t&&t>0?t:this.MINIMUM_FIXED_FORMAT_PIXEL_RATIO;return e&&window.devicePixelRatio<=n?r.DefaultCanvasService.withPixelRatio(n):r.DefaultCanvasService.fromDocument()}}y.MINIMUM_FIXED_FORMAT_PIXEL_RATIO=2},9611:(e,t,n)=>{"use strict";n.d(t,{y:()=>v});var i=n(27),r=n(4650),o=n(4289),s=n(2775),a=n(9779),c=n(3501),u=n(5988),l=n(4155),h=n(9665),d=n(4910),f=n(9343),p=n(2226),g=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class v{constructor(e){var t,n;this.busyDeferred=new d.B,this.onViewingModeChange=e=>g(this,void 0,void 0,(function*(){const t=this.options.clientRenderOptionsFactory.get();this.options.clientRenderOptionsFactory.set(Object.assign(Object.assign({},t),{bookRenderOptions:Object.assign(Object.assign({},t.bookRenderOptions),{viewingMode:e.viewingMode})})),yield this.updateClientServices(!1),this.options.eventEmitter.emit("onViewingModeChangeEnded",{viewingMode:e.viewingMode})})),this.options=e,this.navigationService=this.options.navigationService,this.interactionControllerFactory=this.options.interactionControllerFactory,this.bookMetadataProvider=this.options.bookMetadataProvider,this.metricsUtil=new a.MetricsUtil(e.metricsService),this.metricsService=e.metricsService;const o=e.clientRenderOptionsFactory.get();this.options.container.className+=` ${i.g.ROOT_ELEMENT_CLASS} ${i.g.ROOT_THEME_CLASS[null!==(t=o.bookRenderOptions.theme)&&void 0!==t?t:"custom"]}`,this.options.eventEmitter.on("onViewingModeChange",this.onViewingModeChange),this.nextPageThrottler=r.d.throttler((()=>this.doNextPage()),100),this.previousPageThrottler=r.d.throttler((()=>this.doPreviousPage()),100),this.options.eventEmitter.on("onInBookLinkClick",(e=>g(this,void 0,void 0,(function*(){const t=this.getLocationMap().locations,n=t[t.length-1],i=e.startPositionId>=n;this.options.eventEmitter.emit("onPositionOutOfRange",{outOfRange:i}),!i&&!this.options.skipNavigationToInternalLink&&(yield this.goToPositionId(e.startPositionId))})))),this.isPinchHandlerEnabled=null===(n=this.options.enablePinchHandler)||void 0===n||n}isReady(){return this.busyDeferred.isCompleted}on(e,t){this.options.eventEmitter.on(e,t)}emitFixedFormatPaginationMetric(e,t){var n,i,r;try{null===(n=this.options.metricsService)||void 0===n||n.recordCountMetrics(`${t}Page:FixedFormatPages`,e.fixedFormatPageCount())}catch(e){e instanceof p.s?null===(i=this.options.metricsService)||void 0===i||i.recordCountMetrics(`${t}Page:FixedFormatPages:${e.type}`,1):null===(r=this.options.metricsService)||void 0===r||r.recordCountMetrics(`${t}Page:FixedFormatPages:UnkownError`,1)}}hasPreviousPage(){var e;const t=null===(e=this.navigationService)||void 0===e?void 0:e.getCurrentView();return(0,a.assertIsDefined)(t,"hasPreviousPage can only be called after navigation"),!t.isFirst()}previousPage(){return g(this,void 0,void 0,(function*(){return this.metricsUtil.asyncExecuteMetrics(a.MetricsConstants.PREVIOUS_PAGE,(()=>{(0,a.assertIsDefined)(this.navigationService,"previousPage can only be called after navigation"),(0,a.assertIsDefined)(this.bookMetadata,"metadata should be defined before navigation"),this.checkIfClientIsBusy();const e=this.previousPageThrottler();return e.invoked?(!this.supportsGuidedView(this.bookMetadata)||this.navigationService instanceof l.q||this.options.metricsService.recordCountMetrics("GuidedView:Off:Page:Previous",1),e.result):Promise.reject(new f.yy)}))}))}doPreviousPage(){return g(this,void 0,void 0,(function*(){this.checkCallbackInProgress(),yield this.performBusyTask((()=>g(this,void 0,void 0,(function*(){var e,t;const n=this.getCurrentPage(),i=yield null===(e=this.navigationService)||void 0===e?void 0:e.goToPrevious();return"FixedFormat"===(null===(t=this.bookMetadata)||void 0===t?void 0:t.manifest.bookType)&&i&&(this.emitFixedFormatPaginationMetric(i,"Previous"),this.emitMetricForFalseBackwardPaginationBug(i.getRenderedPage().page,n)),i}))))}))}emitMetricForFalseBackwardPaginationBug(e,t){var n,i,r,o,s,a,c,u,l;1===(null===(n=e.children)||void 0===n?void 0:n.length)&&1===(null===(i=t.children)||void 0===i?void 0:i.length)&&(null===(o=null===(r=e.children)||void 0===r?void 0:r[0])||void 0===o?void 0:o.imageReference)&&(null===(a=null===(s=e.children)||void 0===s?void 0:s[0])||void 0===a?void 0:a.imageReference)===(null===(u=null===(c=t.children)||void 0===c?void 0:c[0])||void 0===u?void 0:u.imageReference)&&(null===(l=this.options.metricsService)||void 0===l||l.recordCountMetrics("FixedFormatFalseBackwardPaginationBug",1))}hasNextPage(){var e;const t=null===(e=this.navigationService)||void 0===e?void 0:e.getCurrentView();return(0,a.assertIsDefined)(t,"hasNextPage can only be called after navigation"),!t.isLast()}nextPage(){return g(this,void 0,void 0,(function*(){return this.metricsUtil.asyncExecuteMetrics(a.MetricsConstants.NEXT_PAGE,(()=>{(0,a.assertIsDefined)(this.navigationService,"nextPage can only be called after navigation"),(0,a.assertIsDefined)(this.bookMetadata,"metadata should be defined before navigation"),this.checkIfClientIsBusy();const e=this.nextPageThrottler();return e.invoked?(!this.supportsGuidedView(this.bookMetadata)||this.navigationService instanceof l.q||this.options.metricsService.recordCountMetrics("GuidedView:Off:Page:Next",1),e.result):Promise.reject(new f.yy)}))}))}doNextPage(){return g(this,void 0,void 0,(function*(){this.checkCallbackInProgress(),yield this.performBusyTask((()=>g(this,void 0,void 0,(function*(){var e,t,n;const i=null===(e=this.navigationService)||void 0===e?void 0:e.getCurrentView();return"FixedFormat"===(null===(t=this.bookMetadata)||void 0===t?void 0:t.manifest.bookType)&&i&&this.emitFixedFormatPaginationMetric(i,"Next"),null===(n=this.navigationService)||void 0===n?void 0:n.goToNext()}))))}))}getTableOfContents(){return this.metricsUtil.syncExecuteMetrics(a.MetricsConstants.GET_TABLE_OF_CONTENTS,(()=>this.getBookMetadata().tableOfContent))}getBookMetadata(){return(0,a.assertIsDefined)(this.bookMetadata,"Metadata is not available before rendering"),this.bookMetadata}getMetadata(){return this.metricsUtil.syncExecuteMetrics(a.MetricsConstants.GET_METADATA,(()=>this.getBookMetadata().metadata))}getManifest(){return this.metricsUtil.syncExecuteMetrics(a.MetricsConstants.GET_MANIFEST,(()=>this.getBookMetadata().manifest))}getCurrentPage(){var e;const t=null===(e=this.navigationService)||void 0===e?void 0:e.getCurrentView();return(0,a.assertIsDefined)(t,"getCurrentPage can only be called after navigation"),t.getRenderedPage().page}getLocationMap(){return this.metricsUtil.syncExecuteMetrics(a.MetricsConstants.GET_LOCATION_MAP,(()=>this.getBookMetadata().locationMap))}setDecorations(e){this.options.decorationProvider.setDecorations&&this.options.decorationProvider.setDecorations(e)}checkCallbackInProgress(){if(this.options.eventEmitter.isCallbackInProgress)throw new Error("An operation has been invoked on the client from a callback. This can affect performance and it is not allowed")}didBookRenderOptionsChange(e,t){return[...new Set([...Object.keys(e),...Object.keys(t)])].filter((e=>"viewingMode"!==e)).some((n=>e[n]!==t[n]))}updateRenderOptions(e){return g(this,void 0,void 0,(function*(){yield this.metricsUtil.asyncExecuteMetrics(a.MetricsConstants.UPDATE_RENDER_OPTIONS,(()=>g(this,void 0,void 0,(function*(){var t,n,r,o;this.checkCallbackInProgress();const c=this.options.clientRenderOptionsFactory.get(),u=null===(t=this.navigationService)||void 0===t?void 0:t.getCurrentPositionId(),l=null!==(n=c.bookRenderOptions.viewingMode)&&void 0!==n?n:v.DEFAULT_VIEWING_MODE,h=e.bookRenderOptions.viewingMode,d=null!==(r=c.bookRenderOptions.theme)&&void 0!==r?r:"default",f=null!==(o=e.bookRenderOptions.theme)&&void 0!==o?o:"default",p=d!==f,g=c.navigationOptions.navigationMode!==e.navigationOptions.navigationMode,m=c.navigationOptions.navigationDirection!==e.navigationOptions.navigationDirection,y=this.didBookRenderOptionsChange(c.bookRenderOptions,e.bookRenderOptions);if(p){const e=document.getElementsByClassName(i.g.ROOT_ELEMENT_CLASS).item(0);null==e||e.classList.remove(i.g.ROOT_THEME_CLASS[d]),null==e||e.classList.add(i.g.ROOT_THEME_CLASS[f])}const w="custom"===f?e.themeData:s.M[f];(0,a.assertIsDefined)(w,'Theme was set to "custom" but no "themeData" were specified'),this.options.clientRenderOptionsFactory.set(Object.assign(Object.assign(Object.assign({},c),e),{themeData:w})),p||g||y?g?yield this.updateClientServices(!0):yield this.goToPositionId(u):null!=h&&l!==h?this.options.eventEmitter.emit("onViewingModeChange",{viewingMode:h}):m&&(yield this.updateClientServices(!1))}))))}))}goToPositionId(e){return g(this,void 0,void 0,(function*(){yield this.metricsUtil.asyncExecuteMetrics(a.MetricsConstants.GO_TO_POSITION,(()=>g(this,void 0,void 0,(function*(){yield this.performBusyTask((()=>g(this,void 0,void 0,(function*(){this.navigationService||(this.bookMetadata||(this.bookMetadata=yield this.loadBookMetadata(e)),this.navigationService=yield this.buildNavigationService(this.bookMetadata),this.options.enableInteractivity&&this.initializeInteractionController(this.bookMetadata,this.navigationService)),yield this.navigationService.goToPositionId(e)}))))}))))}))}updateClientServices(e){return g(this,void 0,void 0,(function*(){let t,n;this.navigationService&&(n=this.navigationService.getCurrentIndex(),t=this.navigationService.getCurrentPositionId()),yield this.updateNavigationService(),(0,a.assertIsDefined)(this.navigationService,"navigation service must be defined"),yield this.updateInteractionControllerIfNecessary(this.navigationService),e?yield this.goToPositionId(t):(null==n&&(n=this.navigationService.getCurrentIndex()),yield this.navigationService.goToRelativePage(n,"Absolute"))}))}buildNavigationService(e){var t;const n=this.options.clientRenderOptionsFactory.get(),i=void 0!==n.zoomViewOptions&&"FixedFormat"===e.manifest.bookType,r={asin:this.options.asin,container:this.options.container,navigationDirection:n.navigationOptions.navigationDirection,progressionDirection:e.metadata.progressionDirection,eventEmitter:this.options.eventEmitter,layerFactories:[...null!==(t=this.options.layerFactories)&&void 0!==t?t:[]],rendererController:this.options.rendererController,clientRenderOptionsFactory:this.options.clientRenderOptionsFactory,metricsService:this.options.metricsService,fullPage:this.options.fullPage,animatePageTurn:n.navigationOptions.animatePageTurn,isZoomableContent:i,usePanningPaginationService:this.options.enablePagePanning};return u.p.build(n.navigationOptions.navigationMode,e.manifest,r)}updateNavigationService(){var e;return g(this,void 0,void 0,(function*(){null==this.bookMetadata&&(this.bookMetadata=yield this.loadBookMetadata()),yield null===(e=this.navigationService)||void 0===e?void 0:e.destroy(),this.navigationService=this.buildNavigationService(this.bookMetadata)}))}updateInteractionControllerIfNecessary(e){var t,n;return g(this,void 0,void 0,(function*(){(0,a.assertIsDefined)(this.interactionControllerFactory,"updateInteractionController can only be called after having an existing interactionControllerFactory.");const i=this.interactionControllerFactory.determineInteractionControllerType(this.options);(null===(t=this.interactionController)||void 0===t?void 0:t.constructor.prototype)===i?this.interactionController.updateNavigationService(e):(null===(n=this.interactionController)||void 0===n||n.destroy(),this.interactionController=this.interactionControllerFactory.buildWithType(this.options,e,i,this.isPinchHandlerEnabled))}))}loadBookMetadata(e){var t,n;return g(this,void 0,void 0,(function*(){return this.bookMetadataProvider||(this.bookMetadataProvider=new o.i({asin:this.options.asin,revision:this.options.revision,startReadingPosition:e,readAheadPageCount:null!==(t=this.options.renderBatchSize)&&void 0!==t?t:c.T,bookProviderFactory:this.options.bookProviderFactory,bookRenderOptions:this.options.clientRenderOptionsFactory.get().bookRenderOptions,bundleImages:null!==(n=this.options.bundleImages)&&void 0!==n&&n})),yield this.bookMetadataProvider.get()}))}clearSelection(){return g(this,void 0,void 0,(function*(){yield this.metricsUtil.asyncExecuteMetrics(a.MetricsConstants.CLEAR_TEXT_SELECTION,(()=>g(this,void 0,void 0,(function*(){var e,t;yield null===(t=null===(e=this.interactionController)||void 0===e?void 0:e.clearSelection)||void 0===t?void 0:t.call(e)}))))}))}supportsGuidedView(e){return"FixedFormat"===e.manifest.bookType&&e.manifest.publisherPanel}initializeInteractionController(e,t){this.interactionControllerFactory||(this.interactionControllerFactory=new h.y(e,this.metricsService)),this.interactionController=this.interactionControllerFactory.build(this.options,t,this.isPinchHandlerEnabled)}checkIfClientIsBusy(){if(!this.busyDeferred.isCompleted)throw new f.Tg}disablePinchHandler(){var e;this.isPinchHandlerEnabled=!1,null===(e=this.interactionController)||void 0===e||e.disablePinchHandler()}enablePinchHandler(){var e;this.isPinchHandlerEnabled=!0,null===(e=this.interactionController)||void 0===e||e.enablePinchHandler()}performBusyTask(e){this.busyDeferred=new d.B;const t=e();return t.catch((e=>this.metricsService.recordCountMetrics(`Karamel:Client:Error:${e.name}`,1))).finally((()=>this.busyDeferred.resolve())),t}}v.DEFAULT_VIEWING_MODE="FullPage"},3253:()=>{},9434:()=>{},1598:()=>{},9343:(e,t,n)=>{"use strict";n.d(t,{Lf:()=>a,Tg:()=>o,w8:()=>s,yy:()=>r});var i=n(9779);class r extends i.InformativeError{constructor(){super("The operation failed because of throttling."),this.name="ThrottlingException"}}class o extends i.InformativeError{constructor(){super("The operation failed because the client is busy."),this.name="BusyException"}}class s extends i.InformativeError{constructor(){super("Render result is no longer valid because the settings changed."),this.name="RenderSettingsChangedException"}}class a extends i.InformativeError{constructor(){super("View is no longer valid."),this.name="ViewNoLongerValidException"}}},5889:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});class i{constructor(e){this.options=e,this.loadingPromise=this.load()}get(){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return this.bookMetadata=yield this.loadingPromise,this.bookMetadata}))}}},4289:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var i=n(9779),r=n(5889);class o extends r._{constructor(e){super(e),this.options=e}load(){var e;return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const t=(yield this.options.bookProviderFactory.get(this.options.asin,this.options.revision,this.getNavigationOptions(this.options.startReadingPosition),this.options.bookRenderOptions))[0];return{locationMap:null!==(e=yield t.getLocationMap())&&void 0!==e?e:{locations:[],navigationUnit:[]},manifest:yield t.getManifest(),metadata:yield t.getMetadata(),tableOfContent:yield t.getTableOfContent()}}))}getNavigationOptions(e){return{direction:i.Direction.Absolute,pageCount:this.options.readAheadPageCount,skipPageCount:0,startPositionId:e,type:i.NavigationType.Position,bundleImages:this.options.bundleImages}}}},2817:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var i=n(9779),r=n(7253),o=n(9205),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class a{constructor(e,t){this.metricsUtil=e,this.imageDecipher=t,this.cache=new r.y}getImage(e){return s(this,void 0,void 0,(function*(){return this.cache.get(e)}))}addImages(e,t,n){this.cache.evict();for(const i of t)if(i&&!this.cache.has(i.url)){const t=this.metricsUtil.asyncExecuteMetrics("RequestImageFromCdnWithRetry"+(e.isEncrypted?":Encrypted":""),(()=>(0,o.J)((()=>this.requestImageFromCDN(i,e,n)))));this.cache.put(i.url,t),t.catch((()=>{this.cache.remove(i.url)}))}}recordNetworkSpeed(e,t,n){this.metricsUtil.recordCountMetrics("CDN:Encrypted:Count",n?1:0),this.metricsUtil.recordCountMetrics("DownloadImageSizeInBytes"+(n?":Encrypted":""),e),this.metricsUtil.recordTimeMetrics("DownloadImageTimeElapsedInMs"+(n?":Encrypted":""),t),this.metricsUtil.recordCountMetrics("DownloadImageNetworkSpeedInKBpS"+(n?":Encrypted":""),e/1024/(t/1e3))}requestImageFromCDN(e,t,n){var r;return s(this,void 0,void 0,(function*(){const o=null===(r=t.isEncrypted)||void 0===r||r;return this.metricsUtil.asyncExecuteMetrics("DownloadImageFromCDN"+(o?":Encrypted":""),(()=>s(this,void 0,void 0,(function*(){let r,s=Date.now();const a=o?t.authParameter:e.authParameter;(0,i.assertIsDefined)(a,"authParameter cannot be undefined.");let c=[t.baseUrl,e.url].join("/")+"?"+a;if(null!=n&&o){const e=n.token,t=encodeURIComponent(e),i=n.expiresAt;c=[c,`token=${t}`,`expiration=${i}`].join("&")}const u=yield this.metricsUtil.asyncExecuteMetrics("RequestImageFromCDN"+(o?":Encrypted":""),(()=>fetch(c)));let l;if(o){const e=yield this.metricsUtil.asyncExecuteMetrics("GetImageFromCDN:Encrypted",(()=>u.arrayBuffer()));s=Date.now()-s,r=e.byteLength;const t=yield this.metricsUtil.asyncExecuteMetrics("DecryptImageFromCDN",(()=>this.imageDecipher.decrypt(e,n)));l=new Blob([t])}else l=yield this.metricsUtil.asyncExecuteMetrics("GetImageFromCDN",(()=>u.blob())),s=Date.now()-s,r=l.size;return this.recordNetworkSpeed(r,s,o),l}))))}))}}},7253:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});class i{constructor(){this.MAX_SIZE=100,this.images=new Map,this.fifo=new Array}has(e){return this.images.has(e)}get(e){return this.images.get(e)}put(e,t){this.images.has(e)||(this.fifo.unshift(e),this.images.set(e,t))}remove(e){const t=this.fifo.indexOf(e);t>-1&&(this.fifo.splice(t,1),this.images.delete(e))}evict(){for(const e of this.fifo.splice(this.MAX_SIZE))this.images.delete(e)}}},5078:()=>{},5922:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});class i{constructor(e,t){this.serviceDataLoader=t,this.pageIndex=e}getLayoutPage(){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return this.serviceDataLoader.getLayoutPage(this.pageIndex)}))}getImage(e){return this.serviceDataLoader.getImage(e)}getMetadata(){return this.serviceDataLoader.getMetadata()}getManifest(){return this.serviceDataLoader.getManifest()}getPage(){return this.serviceDataLoader.getPage(this.pageIndex)}getTableOfContent(){return this.serviceDataLoader.getTableOfContent()}getTokens(){return this.serviceDataLoader.getTokens(this.pageIndex)}getPanels(){return this.serviceDataLoader.getPanels(this.pageIndex)}getFonts(){return this.serviceDataLoader.getFonts()}getLocationMap(){return this.serviceDataLoader.getLocationMap()}}},180:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var i=n(9779),r=n(5502),o=n(6270),s=n.n(o),a=n(8298),c=n(5941),u=n(2817);class l{constructor(e,t,n,r){this.contentType=e,this.serviceFetch=t,this.FIVE_SECONDS=5e3,this.imageDecipher=new a.N(new c.L),this.metricsUtil=new i.MetricsUtil(null!=n?n:new i.ConsoleMetricsService),this.memoizedServiceFetch=s()(this.serviceFetch,{normalizer:function(e){return JSON.stringify(e[0])},max:3}),this.cdnDataLoader=new u.d(this.metricsUtil,this.imageDecipher),r&&r.cdn&&r.resources&&(r.karamelToken||!r.cdn.isEncrypted)?r.cdn.expirationDate>Date.now()+this.FIVE_SECONDS?(this.cdnDataLoader.addImages(r.cdn,r.resources,r.karamelToken),this.metricsUtil.recordCountMetrics("CdnPrefetch",1)):(this.metricsUtil.recordCountMetrics("CdnPrefetch:Expired",1),this.metricsUtil.recordCountMetrics("CdnPrefetch",0)):this.metricsUtil.recordCountMetrics("CdnPrefetch",0)}get(e,t,n,i){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const o={asin:e,revision:t,contentType:this.contentType,settings:i,navigation:n,imageDecipher:this.imageDecipher},s=new r.h(o,this.memoizedServiceFetch,"TAR",this.metricsUtil,this.cdnDataLoader);return yield s.load()}))}}},5502:(e,t,n)=>{"use strict";n.d(t,{h:()=>c});var i=n(9779),r=n(5922),o=n(27),s=n(6565),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c{constructor(e,t,n,i,r){this.options=e,this.fetch=t,this.packageType=n,this.metricsUtil=i,this.cdnDataLoader=r}load(){var e,t;return a(this,void 0,void 0,(function*(){const n=this.options,a=n.settings,c={version:null!==(e=a.version)&&void 0!==e?e:o.g.VERSION,asin:n.asin,contentType:n.contentType,revision:n.revision,fontFamily:a.fontFamily,fontSize:String(a.fontSize),lineHeight:String(a.lineHeight),dpi:String(a.dpi),height:String(a.pageHeight),width:String(a.pageWidth),marginBottom:String(a.marginBottom),marginLeft:String(a.marginLeft),marginRight:String(a.marginRight),marginTop:String(a.marginTop),maxNumberColumns:a.maxNumberColumns?String(a.maxNumberColumns):o.g.DEFAULT_MAX_COLUMN,theme:String(null!==(t=a.theme)&&void 0!==t?t:"custom").toLowerCase(),locationMap:String(a.includeLocationMap),packageType:this.packageType,encryptionVersion:"NONE"};if(n.navigation.type===i.NavigationType.Position){const e=n.navigation,t=e.direction==i.Direction.Backward?String(-1*e.pageCount):String(e.pageCount);c.numPage=t,c.skipPageCount=String(e.skipPageCount),void 0!==e.startPositionId&&(c.startingPosition=String(e.startPositionId)),c.bundleImages=String(e.bundleImages)}else{const e=n.navigation;c.startingPage=String(e.pageIndex)}const u=yield this.metricsUtil.asyncExecuteMetrics("RequestKaramelData",(()=>this.fetch(c))),l=yield this.metricsUtil.asyncExecuteMetrics("GetKaramelData",(()=>u.clone().arrayBuffer())),h=u.headers.get("karamel-rendering-token"),d=null!=h?JSON.parse(h):void 0;if("TAR"!==this.packageType)throw new Error(`Unknown package type ${this.packageType}`);this.packageDataLoader=new s.t(l,this.metricsUtil,this.options.imageDecipher,d);const f=yield this.packageDataLoader.getManifest();f.cdn&&f.cdnResources&&this.cdnDataLoader.addImages(f.cdn,f.cdnResources,d);const p=yield this.packageDataLoader.getPageCount(),g=new Array;for(let e=0;e<p;e++){const t=new r.m(e,this);g.push(t)}return g}))}getDataLoader(){return a(this,void 0,void 0,(function*(){return this.packageDataLoader||(yield this.load()),this.packageDataLoader}))}getImageFromZip(e){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getImage(e)}))}getImageFromCdn(e){return a(this,void 0,void 0,(function*(){return this.cdnDataLoader.getImage(e)}))}getImage(e){var t;return a(this,void 0,void 0,(function*(){const n=null!==(t=yield this.getImageFromZip(e))&&void 0!==t?t:yield this.getImageFromCdn(e);return(0,i.assertIsDefined)(n),n}))}getPage(e){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getPage(e)}))}getLocationMap(){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getLocationMap()}))}getTableOfContent(){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getTableOfContent()}))}getTokens(e){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getTokens(e)}))}getPanels(e){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getPanels(e)}))}getMetadata(){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getMetadata()}))}getManifest(){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getManifest()}))}getFonts(){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getFonts()}))}getLayoutPage(e){return a(this,void 0,void 0,(function*(){return(yield this.getDataLoader()).getLayoutPage(e)}))}}},6565:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var i=n(9779),r=n(7976),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e,t,n,i){this.metricsUtil=t,this.imageDecipher=n,this.karamelToken=i,this.pages=new Map,this.layoutPages=new Map,this.images=new Map,this.tokens=new Map,this.panels=new Map,this.reader=new r.J(e),this.loadingPromise=new Promise(((e,t)=>{try{this.reader.init();const n=new Array;this.reader.getEntries().forEach((e=>{const t=e.name;t.startsWith("img_")||t.startsWith(s.ASSETS_DIR)||t.startsWith("rsrc")||t.endsWith(".png")?n.push(this.addImage(e)):t.startsWith("page_")?n.push(this.addPage(e)):t.startsWith("layout_data_")?n.push(this.addLayoutPage(e)):t.startsWith("tokens_")?n.push(this.addTokens(e)):t.startsWith("panels_")?n.push(this.addPanels(e)):"glyphs.json"===t?n.push(this.addGlyphs(e)):"toc.json"===t?n.push(this.addTableOfContent(e)):"metadata.json"===t?n.push(this.addMetadata(e)):"manifest.json"===t?n.push(this.addManifest(e)):"location_map.json"===t&&n.push(this.addLocationMap(e))})),Promise.all(n).then(e).catch((e=>t(e)))}catch(e){t(e)}}))}getType(){return"TAR"}addLocationMap(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{this.locationMap=JSON.parse(e)}))}))}getLocationMap(){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>this.locationMap))}))}getPageCount(){return o(this,void 0,void 0,(function*(){return yield this.loadingPromise,this.pages.size}))}getImage(e){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>this.images.has(e)?this.images.get(e):void 0))}))}getPage(e){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>{const t=this.pages.get(e);return(0,i.assertIsDefined)(t),t}))}))}getLayoutPage(e){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>{const t=this.layoutPages.get(e);return(0,i.assertIsDefined)(t),t}))}))}getTableOfContent(){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>((0,i.assertIsDefined)(this.tableOfContent),this.tableOfContent)))}))}getTokens(e){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>{const t=this.tokens.get(e);return(0,i.assertIsDefined)(t),t}))}))}getPanels(e){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>this.panels.get(e)))}))}getMetadata(){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>((0,i.assertIsDefined)(this.metadata),this.metadata)))}))}getManifest(){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>((0,i.assertIsDefined)(this.manifest),this.manifest)))}))}getFonts(){return o(this,void 0,void 0,(function*(){return this.loadingPromise.then((()=>((0,i.assertIsDefined)(this.fonts),this.fonts)))}))}addManifest(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{this.manifest=JSON.parse(e)}))}))}addImage(e){return o(this,void 0,void 0,(function*(){let t=yield this.reader.getBlob(e.name);if(null!=this.karamelToken){const e=yield t.arrayBuffer(),n=yield this.metricsUtil.asyncExecuteMetrics("DecryptImageFromTar",(()=>this.imageDecipher.decrypt(e,this.karamelToken)));t=new Blob([n])}let n=e.name;e.name.startsWith(s.ASSETS_DIR)?n=e.name.substr(s.ASSETS_DIR.length):e.name.startsWith("rsrc")&&(n="resource/"+e.name),this.images.set(n,t)}))}addPage(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{JSON.parse(e).forEach((e=>{this.pages.set(e.pageIndex,e)}))}))}))}addLayoutPage(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{JSON.parse(e).forEach((e=>{this.layoutPages.set(e.pageIndex,e)}))}))}))}addTokens(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{JSON.parse(e).forEach((e=>{this.tokens.set(e.pageIndex,e)}))}))}))}addPanels(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{JSON.parse(e).forEach((e=>{this.panels.set(e.pageIndex,e)}))}))}))}addGlyphs(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{this.fonts=JSON.parse(e)}))}))}addTableOfContent(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{this.tableOfContent=JSON.parse(e)}))}))}addMetadata(e){return o(this,void 0,void 0,(function*(){return this.reader.getText(e.name).then((e=>{this.metadata=JSON.parse(e)}))}))}}s.ASSETS_DIR="assets/"},7976:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var i=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const r=512;class o{constructor(e){this.entries=new Map,this.view=new Uint8Array(e),this.buffer=e}init(){let e=0,t=0,n="",i=null;for(;e<this.view.byteLength-512&&(n=this.readFileName(e),0!=n.length);){i=this.readFileType(e),t=this.readFileSize(e);let o={name:n,type:i,size:t,headerOffset:e};this.entries.set(n,o),e+=r+r*Math.trunc(t/r),t%r&&(e+=r)}}getEntries(){return this.entries}readString(e,t){let n=0,i="";for(;0!=this.view[e+n]&&n<t;)i+=String.fromCharCode(this.view[e+n]),n++;return i}readFileName(e){return this.readString(e+0,100)}readFileType(e){let t=String.fromCharCode(this.view[e+156]);return"0"===t?"file":"5"===t?"directory":t}readFileSize(e){let t="";for(let n=0;n<12;n++)t+=String.fromCharCode(this.view[e+124+n]);return parseInt(t,8)}readFileBlob(e,t){let n=new Uint8Array(this.buffer,e,t);return new Blob([n])}readTextFile(e,t){let n=this.buffer.slice(e,e+t);return(new TextDecoder).decode(n)}getText(e){return i(this,void 0,void 0,(function*(){const t=this.entries.get(e);if(t)return this.readTextFile(t.headerOffset+512,t.size);throw Error(`Unable to find entry ${e}`)}))}getBlob(e){return i(this,void 0,void 0,(function*(){const t=this.entries.get(e);if(t)return this.readFileBlob(t.headerOffset+512,t.size);throw Error(`Unable to find entry ${e}`)}))}}},7754:()=>{},7614:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});class i{constructor(){this.decorations=new Array,this.listeners=new Set}addDecorationChangeEventListener(e){this.listeners.add(e)}getDecorations(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return{decorations:this.decorations}}))}removeDecorationChangeEventListener(e){this.listeners.delete(e)}setDecorations(e){this.decorations=e,this.listeners.forEach((e=>{var t;return null===(t=e.onDecorationsChange)||void 0===t?void 0:t.call(e,{})}))}}},8334:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});class i{constructor(e){this.renderers=e}render(e,t){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let n=new Array;for(const i of e.decorationTokens){const e=this.renderers[i.type];if(e){const r=yield e.render({decorationTokens:[i]},t);r&&(n=n.concat(r))}}return n}))}}},9108:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var i=n(27),r=n(9429);class o{render(e,t){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let n=new Array;return e.decorationTokens.forEach((e=>{this.getHighlightedTokens(e).forEach((r=>{(r=r.sort(((e,t)=>e.endPositionId-t.endPositionId))).forEach((r=>{var o;let s=this.renderHighlightedToken(r,e.startPositionId,e.endPositionId,null!==(o=e.highlightColor)&&void 0!==o?o:i.g.DEFAULT_HIGHLIGHT_COLOR,t);n=n.concat(s)}))}))})),n}))}renderHighlightedToken(e,t,n,o,s){const a=`${t}/${n}`,c=e=>{var r;const c=document.createElement("div");c.classList.add(i.g.HIGHLIGHT_ELEMENT_CLASS),c.classList.add(null!==(r=i.g.HIGHLIGHT_COLOR_CLASS[o])&&void 0!==r?r:i.g.HIGHLIGHT_COLOR_CLASS.yellow),c.classList.add(a),c.dataset.startPositionId=String(e.startPositionId),c.dataset.endPositionId=String(e.endPositionId);const u=c.style;return u.width=`${e.width}px`,u.height=`${e.height}px`,u.position="absolute",u.left=e.x+"px",u.top=e.y+"px",c.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),null==s||s.emit("onHighlightClick",{highlightStartPosition:t,highlightEndPosition:n,highlightRangeClass:a})})),c},u=new Array;if(void 0!==e.pieces&&e.pieces.length)for(const t of e.pieces){let n=c(r.g.calculatePieceToken(t,e));n.classList.add(i.g.WORD_PIECE_CSS_CLASS),u.push(n)}else u.push(c(e));return u}getHighlightedTokens(e){const t=new Array;return t.push(r.g.fillTokensGaps(e.tokens)),t}}},7801:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var i=n(27);class r{render(e,t){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const n=new Array;return e.decorationTokens.forEach((e=>{const r=e.tokens,o=r[r.length-1],s=document.createElement("div");s.classList.add(i.g.NOTE_ELEMENT_CLASS);const a=s.style;a.position="absolute",a.left=o.x+o.width-16+"px",a.top=o.y-15-4+"px",n.push(s),s.addEventListener("click",(n=>{n.stopPropagation(),n.preventDefault(),null==t||t.emit("onNoteClick",{startPositionId:e.startPositionId,endPositionId:e.endPositionId})}))})),n}))}}},1900:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var i=n(27),r=n(9429);class o{render(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let t=new Array;return e.decorationTokens.forEach((e=>{this.getHighlightedTokens(e).forEach((e=>{(e=e.sort(((e,t)=>e.endPositionId-t.endPositionId))).forEach((e=>{const n=this.renderHighlightedToken(e);t=t.concat(n)}))}))})),t}))}renderHighlightedToken(e){const t=e=>{const t=document.createElement("div");t.classList.add(i.g.SEARCH_RESULT_ELEMENT_CLASS),t.dataset.startPositionId=String(e.startPositionId),t.dataset.endPositionId=String(e.endPositionId);const n=t.style;return n.width=`${e.width}px`,n.height=`${e.height}px`,n.position="absolute",n.left=e.x+"px",n.top=e.y+"px",t},n=new Array;if(void 0!==e.pieces&&e.pieces.length)for(const o of e.pieces){const s=t(r.g.calculatePieceToken(o,e));s.classList.add(i.g.WORD_PIECE_CSS_CLASS),n.push(s)}else n.push(t(e));return n}getHighlightedTokens(e){const t=new Array;return t.push(r.g.fillTokensGaps(e.tokens)),t}}},8972:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var i=n(9148),r=n(4953),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e,t){this.eventEmitter=new r.v,this.gesture=i.d.None,this.wheelGestureData={lastAccelerationTimestamp:0,history:[]},this.startX=-1,this.startY=-1,this.clickCounter=0,this.onDown=e=>o(this,void 0,void 0,(function*(){this.startX=e.clientX,this.startY=e.clientY,this.targetElement.addEventListener("mousemove",this.onMove),this.targetElement.addEventListener("mouseup",this.onUp),this.gestureTimer=setTimeout((()=>o(this,void 0,void 0,(function*(){this.startDrag(e)}))),i.z.PRESS_THRESHOLD_MS)})),this.onTouch=e=>{this.cancel()},this.onMove=e=>o(this,void 0,void 0,(function*(){e.buttons<=0||(this.gesture===i.d.Drag?(i.z.consume(e),this.eventEmitter.emit("onDrag",{x:e.clientX,y:e.clientY})):Math.pow(e.clientX-this.startX,2)+Math.pow(e.clientY-this.startY,2)>=i.z.DRAG_THRESHOLD_PX_SQUARED&&(i.z.consume(e),this.clearTimer(),this.startDrag(e)))})),this.onUp=e=>o(this,void 0,void 0,(function*(){this.gesture===i.d.Drag?this.eventEmitter.emit("onDragEnd",{x:e.clientX,y:e.clientY}):(this.clickCounter++,2===this.clickCounter?(clearTimeout(this.clickTimer),this.eventEmitter.emit("onDoubleTap",{x:e.clientX,y:e.clientY}),this.clickCounter=0):this.clickTimer=setTimeout((()=>{this.eventEmitter.emit("onTap",{x:e.clientX,y:e.clientY}),this.clickCounter=0}),i.z.DOUBLE_CLICK_TIMEOUT)),this.cancel()})),this.onDoubleClick=e=>o(this,void 0,void 0,(function*(){i.z.consume(e)})),this.onWheel=e=>{if(e.ctrlKey)return;if(i.z.consume(e),clearTimeout(this.gestureTimer),this.gestureTimer=setTimeout((()=>{this.gesture=i.d.None,this.wheelGestureData={lastAccelerationTimestamp:0,history:[]}}),s.WHEEL_COOLDOWN_MS),![i.d.None,i.d.Swipe].includes(this.gesture))return;this.gesture=i.d.Swipe;const t=this.getWheelSwipeEvent(-e.deltaX,-e.deltaY,e.timeStamp,this.wheelGestureData);t&&this.eventEmitter.emit(t,{x:0,y:0})},this.targetElement=e,e.addEventListener("mousedown",this.onDown),e.addEventListener("dblclick",this.onDoubleClick),(null==t?void 0:t.captureMouseWheel)&&e.addEventListener("wheel",this.onWheel),e.addEventListener("touchstart",this.onTouch)}on(e,t){this.eventEmitter.on(e,t)}startDrag(e){this.eventEmitter.emit("onDragStart",{x:this.startX,y:this.startY}),this.eventEmitter.emit("onDrag",{x:e.clientX,y:e.clientY}),this.gesture=i.d.Drag}getWheelSwipeEvent(e,t,n,r){var o;r.axis=null!==(o=r.axis)&&void 0!==o?o:i.z.getSwipeAxis(e,t);const a=r.axis;if(a){const o=n>r.lastAccelerationTimestamp+s.WHEEL_COOLDOWN_MS,c="x"===a?e:t;r.history=r.history.slice(-s.WHEEL_HISTORY_SIZE);const u=this.changedWheelEventDirection(c,r.history),l=i.z.areValuesProgressivelyLarger(r.history);if(r.history.push(c),(l||u)&&(r.lastAccelerationTimestamp=n,o)){const[e,t]="x"===a?[c,0]:[0,c];return i.z.getSwipeEvent(e,t)}}}changedWheelEventDirection(e,t){var n;const i=null!==(n=t[t.length-1])&&void 0!==n?n:0;return Math.sign(e)!==Math.sign(i)}cancel(){this.targetElement.removeEventListener("mousemove",this.onMove),this.targetElement.removeEventListener("mouseup",this.onUp),this.clearTimer(),this.gesture=i.d.None,this.startX=-1,this.startY=-1}clearTimer(){this.gestureTimer&&(clearTimeout(this.gestureTimer),this.gestureTimer=void 0)}destroy(){this.targetElement.removeEventListener("mousedown",this.onDown),this.targetElement.removeEventListener("dblclick",this.onDoubleClick),this.targetElement.removeEventListener("mousemove",this.onMove),this.targetElement.removeEventListener("mouseup",this.onUp),this.targetElement.removeEventListener("wheel",this.onWheel),this.targetElement.removeEventListener("touchstart",this.onTouch)}}s.WHEEL_HISTORY_SIZE=3,s.WHEEL_COOLDOWN_MS=150},2307:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var i=n(9148),r=n(4953),o=n(9250),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class a{constructor(e){this.eventEmitter=new r.v,this.navigationMetrics=new o.p,this.gesture=i.d.None,this.touchIdentifier=-1,this.clickCounter=0,this.ignoreSwipe=!1,this.onCancel=e=>s(this,void 0,void 0,(function*(){i.z.consume(e),this.cancel(),this.eventEmitter.emit("onDragCancel",{})})),this.onDown=e=>s(this,void 0,void 0,(function*(){if(this.startX&&this.startY)return;const t=e.touches.item(0);this.startX=t.clientX,this.startY=t.clientY,this.touchIdentifier=t.identifier,this.gestureTimer=setTimeout((()=>s(this,void 0,void 0,(function*(){this.startDrag(t)}))),i.z.PRESS_THRESHOLD_MS)})),this.onMove=e=>s(this,void 0,void 0,(function*(){const t=this.findMatchingTouch(e);t&&this.gesture!==i.d.Swipe&&(this.gesture===i.d.Drag?(i.z.consume(e),this.eventEmitter.emit("onDrag",{x:t.clientX,y:t.clientY})):Math.pow(t.clientX-this.startX,2)+Math.pow(t.clientY-this.startY,2)>i.z.DRAG_THRESHOLD_PX_SQUARED&&(this.ignoreSwipe?(i.z.consume(e),this.clearTimer(),this.startDrag(t)):this.gesture=i.d.Swipe))})),this.onUp=e=>s(this,void 0,void 0,(function*(){const t=this.findMatchingTouch(e);t&&(e.preventDefault(),this.gesture===i.d.Swipe?this.processSwipe(t):this.gesture===i.d.Drag?this.eventEmitter.emit("onDragEnd",{x:t.clientX,y:t.clientY}):(this.clickCounter++,2===this.clickCounter?(clearTimeout(this.clickTimer),this.eventEmitter.emit("onDoubleTap",{x:t.clientX,y:t.clientY}),this.clickCounter=0):this.clickTimer=setTimeout((()=>{this.eventEmitter.emit("onTap",{x:t.clientX,y:t.clientY}),this.clickCounter=0}),i.z.DOUBLE_CLICK_TIMEOUT)),this.cancel())})),this.targetElement=e,e.addEventListener("touchstart",this.onDown,{passive:!1}),e.addEventListener("touchmove",this.onMove,{passive:!1}),e.addEventListener("touchend",this.onUp,{passive:!1}),e.addEventListener("touchcancel",this.onCancel,{passive:!1})}on(e,t){this.eventEmitter.on(e,t)}setIgnoreSwipe(e){this.ignoreSwipe=e}startDrag(e){this.eventEmitter.emit("onDragStart",{x:this.startX,y:this.startY}),this.eventEmitter.emit("onDrag",{x:e.clientX,y:e.clientY}),this.gesture=i.d.Drag}processSwipe(e){const t=e.clientX,n=e.clientY,r=t-this.startX,o=n-this.startY,s=i.z.getSwipeEvent(r,o,i.z.SWIPE_THRESHOLD_PX);s&&(this.navigationMetrics.recordCountMetrics(s,1),this.eventEmitter.emit(s,{x:this.startX,y:this.startY}))}findMatchingTouch(e){for(const t of e.changedTouches)if(t.identifier===this.touchIdentifier)return t}cancel(){this.clearTimer(),this.gesture=i.d.None,this.startX=void 0,this.startY=void 0,this.touchIdentifier=-1}clearTimer(){this.gestureTimer&&(clearTimeout(this.gestureTimer),this.gestureTimer=void 0)}destroy(){this.targetElement.removeEventListener("touchstart",this.onDown),this.targetElement.removeEventListener("touchmove",this.onMove),this.targetElement.removeEventListener("touchend",this.onUp),this.targetElement.removeEventListener("touchcancel",this.onCancel)}}},9148:(e,t,n)=>{"use strict";var i;n.d(t,{d:()=>i,z:()=>r}),function(e){e.None="none",e.Click="click",e.Drag="drag",e.Swipe="swipe"}(i||(i={}));class r{static consume(e){e.stopPropagation(),e.preventDefault()}static getRelativeLocation(e,t,n){const i=n.getBoundingClientRect();return{x:e-i.x+n.scrollLeft,y:t-i.y+n.scrollTop}}static getSwipeAxis(e,t,n=0){const i=Math.abs(t/e),r=Math.abs(e/t);return i<=this.SWIPE_ANGLE_LIMIT&&Math.abs(e)>n?"x":r<=this.SWIPE_ANGLE_LIMIT&&Math.abs(t)>n?"y":void 0}static getSwipeEvent(e,t,n=0){const i=this.getSwipeAxis(e,t,n);return"x"===i?e>0?"onSwipeRight":"onSwipeLeft":"y"===i?t>0?"onSwipeDown":"onSwipeUp":void 0}static areValuesProgressivelyLarger(e){const t=e.map(Math.abs);return t.every(((e,n)=>{var i;return e>(null!==(i=t[n-1])&&void 0!==i?i:0)}))}}r.DOUBLE_CLICK_TIMEOUT=300,r.DRAG_THRESHOLD_PX_SQUARED=Math.pow(5,2),r.SWIPE_THRESHOLD_PX=20,r.PRESS_THRESHOLD_MS=500,r.SWIPE_ANGLE_LIMIT=Math.tan(.25*Math.PI)},2168:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var i=n(5745),r=n(4229);class o extends i.y{constructor(e){super(e),this.options=e,this.onDoubleTap=e=>{var t,n;const i=this.viewsTracker.getViewAtPoint(e.x,e.y);if(i instanceof r.k){if(i.hasMoveLockAll())return;this.clickEvent=void 0,this.options.eventEmitter.emit("onViewingModeChange",{viewingMode:"FullPage"}),null===(t=this.metricsService)||void 0===t||t.recordCountMetrics("GuidedViewController:DoubleTap:ExitGuidedView",1)}else this.clickEvent=e,this.options.eventEmitter.emit("onViewingModeChange",{viewingMode:"GuidedView"}),null===(n=this.metricsService)||void 0===n||n.recordCountMetrics("GuidedViewController:DoubleTap:EnterGuidedView",1);this.options.eventEmitter.emit("onDoubleClick",e)},this.onViewingModeChangeEnded=e=>function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if("GuidedView"!==e.viewingMode)return;let t,n;void 0===this.clickEvent?n=this.viewsTracker.getViews()[0]:(n=this.viewsTracker.getViewAtPoint(this.clickEvent.x,this.clickEvent.y),t=this.viewsTracker.getPanelOrdinalAtPoint(this.clickEvent.x,this.clickEvent.y)),setTimeout((()=>{n instanceof r.k&&(n.acquireMoveLockAll(),n.guidedViewMove(t),n.hasPanels()&&n.isAnimationEnabled()?n.getRoot().addEventListener("transitionend",(e=>{n instanceof r.k&&"transform"===e.propertyName&&n.releaseMoveLock()})):n.releaseMoveLock())}),0),this.clickEvent=void 0})),e.enablePinchHandler&&super.enablePinchHandler(),super.attachHandlers(),this.metricsService=this.options.metricsService,this.options.eventEmitter.on("onViewingModeChangeEnded",this.onViewingModeChangeEnded)}destroy(){super.destroy(),this.options.eventEmitter.off("onViewingModeChangeEnded",this.onViewingModeChangeEnded)}}},9665:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var i=n(6854),r=n(5745),o=n(9367),s=n(6786),a=n(2168);class c{constructor(e,t){this.bookMetadata=e,this.metricsService=t}determineInteractionControllerType(e){var t;const n=this.bookMetadata.manifest,c=e.clientRenderOptionsFactory.get(),u=n.publisherPanel&&c.guidedViewOptions.isEnabled,l="Zoom"===c.bookRenderOptions.viewingMode,h="FixedFormat"===n.bookType,d=null===(t=(0,i.f)())||void 0===t?void 0:t.isSelectionEnabled,f=0===c.navigationOptions.navigationMode;return h&&f&&(!u||l)?s.Q.prototype:h&&f&&u&&!l?a.C.prototype:!h&&d?o.x.prototype:r.q.prototype}build(e,t,n){const i=this.determineInteractionControllerType(e);return this.buildWithType(e,t,i,n)}buildWithType(e,t,n,i){const c={eventEmitter:e.eventEmitter,container:e.container,bookMetadata:this.bookMetadata,interactionLayer:e.interactionLayer,navigationService:t,fullPage:e.fullPage,isPaginated:0===e.clientRenderOptionsFactory.get().navigationOptions.navigationMode,metricsService:this.metricsService,enablePagePanning:e.enablePagePanning,enablePinchHandler:(!e.nativePinchZoom||n===s.Q.prototype)&&i};switch(n){case s.Q.prototype:return new s.Q(c);case a.C.prototype:return new a.C(c);case o.x.prototype:return new o.x(Object.assign(Object.assign({},c),{selectionRenderer:e.selectionRenderer}));default:return new r.q(c)}}}},5745:(e,t,n)=>{"use strict";n.d(t,{q:()=>l,y:()=>u});var i=n(2797),r=n(2307),o=n(8972),s=n(2683),a=n(4650),c=n(6854);class u{constructor(e){var t,n;this.options=e,this.shiftingLayout=!1,this.scrolling=!1,this.onTapInternal=e=>{this.scrolling?this.scrolling=!1:this.onTap(e)},this.onGestureStartInternal=e=>{this.scrolling||this.onGestureStart(e)},this.onTap=e=>{this.options.eventEmitter.emit("onClick",e)},this.onDoubleTap=e=>{this.options.eventEmitter.emit("onDoubleClick",e)},this.onSwipeLeft=e=>{this.options.eventEmitter.emit("onSwipeLeft",e)},this.onSwipeRight=e=>{this.options.eventEmitter.emit("onSwipeRight",e)},this.onSwipeUp=e=>{this.options.eventEmitter.emit("onSwipeUp",e)},this.onSwipeDown=e=>{this.options.eventEmitter.emit("onSwipeDown",e)},this.container=e.container,this.interactionLayer=null!==(t=e.interactionLayer)&&void 0!==t?t:e.container,this.navigationService=e.navigationService,this.viewsTracker=new i.B(this.container,e.eventEmitter),this.touchHandler=new r.Q(this.interactionLayer),this.mouseHandler=new o.s(this.interactionLayer,{captureMouseWheel:e.isPaginated&&!(null===(n=(0,c.f)())||void 0===n?void 0:n.isScrollPaginationGestureDisabled)}),this.options.eventEmitter.on("onLayoutShift",(e=>this.shiftingLayout=e.shiftingLayout));const s=a.d.debouncer((()=>this.scrolling=!1),u.SCROLL_STOPPED_DELAY,!1);(e.fullPage?window:this.container).addEventListener("scroll",(e=>{this.shiftingLayout||(this.scrolling||(this.scrolling=!0,this.options.eventEmitter.emit("onScroll",e)),s())}))}attachHandlers(){this.touchHandler.on("onDragStart",this.onGestureStartInternal),this.touchHandler.on("onDrag",this.onGestureMove),this.touchHandler.on("onDragEnd",this.onGestureEnd),this.touchHandler.on("onDragCancel",this.onGestureCancel),this.touchHandler.on("onTap",this.onTapInternal),this.touchHandler.on("onDoubleTap",this.onDoubleTap),this.mouseHandler.on("onDragStart",this.onGestureStartInternal),this.mouseHandler.on("onDrag",this.onGestureMove),this.mouseHandler.on("onDragEnd",this.onGestureEnd),this.mouseHandler.on("onTap",this.onTapInternal),this.mouseHandler.on("onDoubleTap",this.onDoubleTap),this.options.isPaginated&&(this.touchHandler.on("onSwipeLeft",this.onSwipeLeft),this.touchHandler.on("onSwipeRight",this.onSwipeRight),this.touchHandler.on("onSwipeUp",this.onSwipeUp),this.touchHandler.on("onSwipeDown",this.onSwipeDown),this.mouseHandler.on("onSwipeLeft",this.onSwipeLeft),this.mouseHandler.on("onSwipeRight",this.onSwipeRight),this.mouseHandler.on("onSwipeUp",this.onSwipeUp),this.mouseHandler.on("onSwipeDown",this.onSwipeDown))}onGestureStart(e){}onGestureCancel(){}onGestureMove(e){}onGestureEnd(e){}onPinchStart(e){}onPinch(e){}onPinchEnd(e){}updateNavigationService(e){this.reset(),this.navigationService=e}reset(){this.viewsTracker.resetViews()}disablePinchHandler(){var e;null===(e=this.hammerManager)||void 0===e||e.destroy(),this.hammerManager=void 0}enablePinchHandler(){this.hammerManager&&this.disablePinchHandler(),this.hammerManager=this.createHammerManager(),this.hammerManager.add(new s.Pinch),this.hammerManager.on("pinch",this.onPinch),this.hammerManager.on("pinchstart",this.onPinchStart),this.hammerManager.on("pinchend pinchcancel",this.onPinchEnd)}createHammerManager(){return new s.Manager(this.interactionLayer,{touchAction:"pan-y"})}destroy(){var e;this.reset(),this.touchHandler.destroy(),this.mouseHandler.destroy(),null===(e=this.hammerManager)||void 0===e||e.destroy(),this.hammerManager=void 0}}u.SCROLL_STOPPED_DELAY=300;class l extends u{constructor(e){super(e),e.enablePinchHandler&&super.enablePinchHandler(),super.attachHandlers()}}},3969:(e,t,n)=>{"use strict";n.d(t,{I6:()=>s,_V:()=>l,c8:()=>c,gy:()=>o,tj:()=>u,uJ:()=>a});var i=n(27),r=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const o=100,s=o+10,a=s+10,c=a+10,u="kg-decoration";class l{constructor(e){var t;this.views=new Set,this.startPositionId=Number.MAX_SAFE_INTEGER,this.endPositionId=Number.MIN_SAFE_INTEGER,this.links=[],this.onViewsAdded=e=>r(this,void 0,void 0,(function*(){for(const t of e.views)this.views.add(t),yield this.populateNavigationLayer(t),yield this.renderDecorations(t);yield this.updatePositionIds()})),this.onViewsRemoved=e=>r(this,void 0,void 0,(function*(){for(const t of e.views)this.views.delete(t);yield this.updatePositionIds()})),this.options=e,this.options.container.style.userSelect="none",this.options.eventEmitter.on("onViewsAdded",this.onViewsAdded),this.options.eventEmitter.on("onViewsRemoved",this.onViewsRemoved),null===(t=e.decorationProvider)||void 0===t||t.addDecorationChangeEventListener(this)}updatePositionIds(){return r(this,void 0,void 0,(function*(){this.startPositionId=Number.MAX_SAFE_INTEGER,this.endPositionId=Number.MIN_SAFE_INTEGER;for(const e of this.views){const t=(yield e.getRenderedPage()).page;this.startPositionId=Math.min(this.startPositionId,t.startPositionId),this.endPositionId=Math.max(this.endPositionId,t.endPositionId)}}))}renderDecorations(e){return r(this,void 0,void 0,(function*(){const t=this.options.decorationProvider,n=this.options.decorationRenderer;if(t&&n){const r=yield t.getDecorations({startPositionId:this.startPositionId,endPositionId:this.endPositionId});if(r.decorations.length>0){const t=yield this.getTokensByDecoration(e,r);if(t.length){const r=yield n.render({decorationTokens:t},this.options.eventEmitter);if(r){const t=e.getRoot();for(const n of r){n.classList.add(u);const r=n.classList.contains(i.g.NOTE_ELEMENT_CLASS),o=n.classList.contains(i.g.HIGHLIGHT_ELEMENT_CLASS);(r||o)&&(n.style.zIndex=String(r?c:s),e.addInteractiveElement(n,!0)),t.append(n)}}}}}}))}getTokensByDecoration(e,t){return r(this,void 0,void 0,(function*(){const n=new Map,i=e.getTokenMap();for(const[e,r]of i)for(const e of r)for(const i of t.decorations)if(i.startPositionId<=e.startPositionId&&i.endPositionId>=e.startPositionId||i.startPositionId>=e.startPositionId&&i.endPositionId<=e.endPositionId){let t=n.get(i);t||(t=[],n.set(i,t)),t.push(e)}const r=new Array;return n.forEach(((e,t)=>{r.push(Object.assign(Object.assign({},t),{tokens:e}))})),r}))}onDecorationsChange(e){return r(this,void 0,void 0,(function*(){const e=this.options.container.getElementsByClassName(u);if(e){let t=e.length;for(;t--;)e[t].remove();for(const e of this.views)e.resetInteractiveDecorationElements()}for(const e of this.views)yield this.renderDecorations(e)}))}destroy(){return r(this,void 0,void 0,(function*(){this.options.decorationProvider&&this.options.decorationProvider.removeDecorationChangeEventListener(this),this.options.eventEmitter.on("onViewsAdded",this.onViewsAdded),this.options.eventEmitter.on("onViewsRemoved",this.onViewsRemoved)}))}populateNavigationLayer(e){return r(this,void 0,void 0,(function*(){const t=(yield e.getRenderedPage()).tokens.children,n=e.getRoot();for(const i of t)if(i.containsLinks)for(const t of i.words)if(t.linkPositionId||0===t.linkPositionId){const i=this.createInternalLink(t);n.append(i),e.addInteractiveElement(i)}else if(t.externalLink){const i=this.createExternalLink(t);n.append(i),e.addInteractiveElement(i)}}))}createExternalLink(e){const t=l.createLinkHTMLElement(e);return t.href=e.externalLink,t.target=i.g.EXTERNAL_LINK_TARGET_VALUE,t}createInternalLink(e){const t=l.createLinkHTMLElement(e);return t.addEventListener("click",(t=>{t.stopPropagation(),this.options.eventEmitter.emit("onInBookLinkClick",{startPositionId:e.linkPositionId})})),t}static createLinkHTMLElement(e){const t=document.createElement("a"),n=t.style;return n.width=e.width+"px",n.height=e.height+"px",n.position="absolute",n.left=e.x+"px",n.top=e.y+"px",n.cursor="pointer",n.zIndex=String(a),t}}},9367:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var i=n(5745),r=n(756),o=n(9148),s=n(27);class a extends i.y{constructor(e){super(e),this.options=e,this.isTouchScreen=!1,this.redrawIsPending=!1,this.selectionStarted=!1,this.selectionInProgress=!1,this.onGestureStart=e=>{if(this.selectionInProgress)return;this.selectionStarted=!0,this.lastGestureStartEvent=e,this.lastGestureMoveEvent=void 0,this.hideHandlers(),this.clearSelection();const t=e.x,n=e.y,i=this.viewsTracker.getViewAtPoint(t,n);i&&(this.dragSource={location:o.z.getRelativeLocation(t,n,i.getRoot()),view:i})},this.onGestureCancel=()=>{this.selectionInProgress||(this.cancelScrolling(),this.selectionStarted=!1,this.lastGestureStartEvent=void 0,this.lastGestureMoveEvent=void 0,this.hideHandlers(),this.clearSelection())},this.onTap=e=>{if(!this.selectionInProgress){const t=this.viewsTracker.getInteractiveElementAtPoint(e.x,e.y);t?t.click():this.options.eventEmitter.emit("onClick",e),this.onGestureCancel()}},this.onDoubleTap=e=>{this.selectionInProgress||this.options.eventEmitter.emit("onDoubleClick",e),this.onGestureAtSameLocation(e)},this.onGestureAtSameLocation=e=>{const t=e.x,n=e.y,i=this.viewsTracker.getViewAtPoint(t,n);i&&(this.dragSource={location:o.z.getRelativeLocation(t,n,i.getRoot()),view:i},this.dragTarget=this.dragSource,this.scheduleSelectionRepaint()),this.reinitializeSelection(),this.notifySelectionEndedListener()},this.onGestureMove=e=>{var t,n;if(!this.selectionStarted)return;this.selectionInProgress=!0,this.lastGestureMoveEvent=e;const i=e.x,r=e.y,s=this.viewsTracker.getViewAtPoint(i,r);if(s){const e=o.z.getRelativeLocation(i,r,s.getRoot());this.dragTarget={location:e,view:s};const c=this.interactionLayer.getBoundingClientRect();let u=!1;const l=r-(null!==(n=null===(t=this.lastGestureStartEvent)||void 0===t?void 0:t.y)&&void 0!==n?n:0);l<0&&r<c.top+a.DRAG_ZONE_HEIGHT&&(this.scroll(-a.SCROLL_HEIGHT),u=!0),l>0&&r>c.bottom-a.DRAG_ZONE_HEIGHT&&(this.scroll(a.SCROLL_HEIGHT),u=!0),!u&&this.scrollingInterval&&this.cancelScrolling(),this.scheduleSelectionRepaint()}},this.onGestureEnd=()=>{this.cancelScrolling(),this.selectionStarted=!1,this.lastGestureStartEvent=void 0,this.lastGestureMoveEvent=void 0,this.notifySelectionEndedListener(),setTimeout((()=>this.selectionInProgress=!1),a.SELECTION_IN_PROGRESS_TIMEOUT)},this.cancelScrolling=()=>{this.scrollingInterval&&(window.clearInterval(this.scrollingInterval),this.scrollingInterval=void 0)},this.selection=new r.Y(this.options.bookMetadata.metadata,this.dragSource,this.dragTarget,this.viewsTracker,this.options.container),this.firstHandler=e.selectionRenderer.renderFirstHandler();const t=this.firstHandler.style;t.position="absolute",t.visibility="hidden",this.container.appendChild(this.firstHandler),this.secondHandler=e.selectionRenderer.renderSecondHandler();const n=this.secondHandler.style;n.position="absolute",n.visibility="hidden",this.container.appendChild(this.secondHandler),e.enablePinchHandler&&super.enablePinchHandler(),super.attachHandlers(),window.addEventListener("mouseup",this.cancelScrolling),window.addEventListener("touchend",this.cancelScrolling)}scroll(e){this.scrollingInterval||(this.scrollingInterval=setInterval((()=>{this.lastGestureMoveEvent&&((this.options.fullPage?document.documentElement:this.container).scrollBy(0,e),this.onGestureMove(this.lastGestureMoveEvent))}),a.SCROLL_INTERVAL_MS))}scheduleSelectionRepaint(){this.redrawIsPending||(this.redrawIsPending=!0,setTimeout((()=>{this.calculateAndPaintSelection()})))}notifySelectionEndedListener(){if(this.selection&&!this.selection.isEmpty()){const e=this.selection.getAdjustedSelectedTokens();e.length>0&&this.options.eventEmitter.emit("onSelectionEnded",{tokens:e,container:this.options.container,selectionClass:s.g.SELECTION_ELEMENT_CLASS})}}calculateAndPaintSelection(){var e,t;if(this.dragSource&&this.dragTarget){this.selection.adjust(this.dragSource,this.dragTarget);const n=this.selection.getSelectedTokensByView();if(0===n.size)this.removeAllTokenNodes();else{const i=null!==(t=null===(e=this.selection)||void 0===e?void 0:e.getElementKeys())&&void 0!==t?t:new Set,r=this.getTextDirection(),o=this.getWritingMode();n.forEach(((e,t)=>{const n=this.options.selectionRenderer.renderSelection({tokens:e,direction:r,writingMode:o});for(const e of n)if(i.has(e.key))i.delete(e.key);else{const n=e.element;this.selection.addElement(e),n.className+=` ${s.g.SELECTION_ELEMENT_CLASS} `,n.style.userSelect="none",t.getRoot().append(n)}}));for(const e of i){const t=this.selection.getElement(e);this.selection.removeElement(e),t.element.remove(),this.isTouchScreen&&this.showHandlers()}}}this.redrawIsPending=!1}reinitializeSelection(){this.selection=new r.Y(this.options.bookMetadata.metadata,this.dragSource,this.dragTarget,this.viewsTracker,this.options.container)}removeAllTokenNodes(){var e,t;const n=null===(t=null===(e=this.selection)||void 0===e?void 0:e.isEmpty())||void 0===t||t;if(this.selection)for(const e of this.selection.getElementKeys()){const t=this.selection.getElement(e);this.selection.removeElement(e),t.element.remove()}return this.hideHandlers(),!n}clearSelection(){this.dragSource=void 0,this.dragTarget=void 0,this.removeAllTokenNodes(),this.reinitializeSelection()}showHandlers(){}hideHandlers(){this.firstHandler.style.visibility="hidden",this.secondHandler.style.visibility="hidden"}adjustHandlersOrientation(){}getHandlersTipLocations(){return{firstHandlerLocation:{x:0,y:0},secondHandlerLocation:{x:0,y:0}}}getTextDirection(){return this.options.bookMetadata.metadata.direction}getWritingMode(){return this.options.bookMetadata.metadata.writingMode}}a.DEFAULT_MAGNIFIER_SCALE=1.5,a.DRAG_ZONE_HEIGHT=20,a.SCROLL_HEIGHT=30,a.SCROLL_INTERVAL_MS=60,a.SELECTION_IN_PROGRESS_TIMEOUT=250},6942:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,I:()=>o});var i=n(9429),r=n(27);class o{constructor(e,t,n){this.element=e,this.tokens=t,this.key=`${t[0].startPositionId}/${t[t.length-1].endPositionId}`,null!=n&&(this.key+=`/${n}`)}}class s{constructor(e){var t,n,i,r,o,s,a;this.handlerWidth=null!==(t=e.handlerWidth)&&void 0!==t?t:50,this.handlerHeight=null!==(n=e.handlerHeight)&&void 0!==n?n:100,this.handlerHitStrokeWidth=null!==(i=e.handlerHitStrokeWidth)&&void 0!==i?i:40,this.firstHandlerFill=null!==(r=e.firstHandlerFill)&&void 0!==r?r:"green",this.secondHandlerFill=null!==(o=e.secondHandlerFill)&&void 0!==o?o:"blue",this.magnifierWidth=null!==(s=e.magnifierWidth)&&void 0!==s?s:50,this.magnifierHeight=null!==(a=e.magnifierHeight)&&void 0!==a?a:25,this.clientRenderOptionsFactory=e.clientRenderOptionsFactory}renderSelection(e){const t=[],n=i.g.fillTokensGaps(e.tokens);for(const e of n)if(e.pieces)for(let n=0;n<e.pieces.length;n++){const s=i.g.calculatePieceToken(e.pieces[n],e);let a=this.createSelectedElement(s);a.classList.add(r.g.WORD_PIECE_CSS_CLASS),t.push(new o(a,[e],n))}else t.push(new o(this.createSelectedElement(e),[e]));return t}createSelectedElement(e){const t=this.clientRenderOptionsFactory.get().themeData.selection.background.fill,n=document.createElement("div");n.dataset.startPositionId=String(e.startPositionId),n.dataset.endPositionId=String(e.endPositionId);const i=n.style;return i.width=e.width+"px",i.height=e.height+"px",i.backgroundColor=t,i.position="absolute",i.left=e.x+"px",i.top=e.y+"px",i.userSelect="none",n}renderFirstHandler(){const e=document.createElement("div"),t=e.style;return t.width="20px",t.height="40px",t.backgroundColor="green",e}renderSecondHandler(){const e=document.createElement("div"),t=e.style;return t.width="20px",t.height="40px",t.backgroundColor="blue",e}}},756:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var i=n(560),r=n(9429);class o{constructor(e,t,n,i,r){this.elements=new Map,this.tokens=new Map,this.metadata=e,this.source=t,this.target=n,this.container=r,this.viewsTracker=i,this.source&&this.target&&(this.tokens=this.getTokensInRange(this.source,this.target))}isLocationAfterTokenInReadingOrder(e,t){let n,i=!1;if(e.pieces)for(const o of e.pieces){const e=r.g.createTokenRectFromTokenPiece(o);if(n=r.g.distanceFromToken(e,t),i=this.isForwardInReadingOrder(n),i)return!0}else n=r.g.distanceFromToken(e,t),i=this.isForwardInReadingOrder(n);return i}isForwardInReadingOrder(e){const t=e.x,n=e.y;switch(this.metadata.writingMode){case"vertical_rl":return t<0||0===t&&n>0;case"vertical_lr":return t>0||0===t&&n>0;case"horizontal_tb":switch(this.metadata.direction){case"unknown":case"ltr":return n>0||0===n&&t>0;case"rtl":return n>0||0===n&&t<0}}return!1}getTokensInRange(e,t){var n;const o=this.getViewsRange(e,t),s=new Map;let a,c,u=0;const l=new Map;for(const n of o){const o=n.getTokenMap(),s=n.getColumnsInReadingOrder();if(0===s.length)n===t.view&&(c={x:t.location.x,y:u+t.location.y}),u+=n.getRoot().getBoundingClientRect().height;else for(let h=0;h<s.length;h++){const d=s[h],f=o.get(d);if(f&&f.length>0){const o=d.rect;e.view===n&&i.S.isInRect(o,e.location)&&(a={x:e.location.x,y:u+e.location.y}),t.view===n&&i.S.isInRect(o,t.location)&&(c={x:t.location.x,y:u+t.location.y});for(const e of f){const t=r.g.createVirtualToken(e,u);l.set(e,t)}u+=o.bottom-o.top}}}if(c&&a){for(const e of o){const t=e.getColumnsInReadingOrder(),i=e.getTokenMap(),o=new Array;s.set(e,o);for(let e=0;e<t.length;e++){const s=t[e],u=i.get(s);if(u)for(const e of u){const t=null!==(n=l.get(e))&&void 0!==n?n:e,i=r.g.isTokenUnderLocation(t,a),s=r.g.isTokenUnderLocation(t,c);if(i&&s){o.push(e);break}if(i){a=r.g.getTokenLocation(t),o.push(e);continue}if(s){c=r.g.getTokenLocation(t),o.push(e);continue}const u=!this.isLocationAfterTokenInReadingOrder(t,a),h=!this.isLocationAfterTokenInReadingOrder(t,c);(u&&!h||!u&&h)&&o.push(e)}}}return s}return this.tokens}getViewsRange(e,t){const n=this.viewsTracker.getViews(),i=new Array;let r=!1;for(let o=0;o<n.length;o++){let s=n[o];if(s===e.view){if(i.push(s),r)return i;r=!0}else if(s===t.view){if(i.push(s),r)return i;r=!0}else r&&i.push(s)}return i}adjust(e,t){this.source=e,this.target=t,this.tokens=this.getTokensInRange(this.source,this.target)}isEmpty(){return 0===this.tokens.size}addElement(e){this.elements.set(e.key,e)}getElement(e){return this.elements.get(e)}removeElement(e){this.elements.delete(e)}getElementKeys(){return new Set(this.elements.keys())}getSelectedTokens(){const e=new Array;for(const t of this.tokens.values())e.push(...t);return e}getAdjustedSelectedTokens(){const e=new Array;for(const t of this.tokens.keys()){const n=t.getRoot().getBoundingClientRect();for(const i of this.tokens.get(t))e.push(r.g.getRelativeTokenPosition(i,n))}return e.sort(((e,t)=>e.endPositionId-t.endPositionId))}getSelectedTokensByView(){return this.tokens}}},2797:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var i=n(27),r=n(9148),o=n(560),s=n(9429),a=n(4229);class c{constructor(e,t){this.views=new Array,this.onViewsAdded=e=>{const t=new Map,n=this.container.getElementsByClassName(i.g.VIEW_ELEMENT_CLASS);let r=0;for(const e of n){const n=e;t.set(n,r++)}this.views.push(...e.views),this.views.sort(((e,n)=>t.get(e.getRoot())<t.get(n.getRoot())?-1:1))},this.onViewsRemoved=e=>{const t=new Set(e.views);this.views=this.views.filter((e=>!t.has(e)))},this.emitter=t,this.emitter.on("onViewsAdded",this.onViewsAdded),this.emitter.on("onViewsRemoved",this.onViewsRemoved),this.container=e}getViewAtPoint(e,t){for(const n of this.views){const i=n.getRoot().getBoundingClientRect();if(i.left<e&&e<i.right&&i.top<t&&t<i.bottom)return n}}getTokenAtPoint(e,t){const n=this.getViewAtPoint(e,t);if(n){const i=r.z.getRelativeLocation(e,t,n.getRoot()),a=n.getTokenMap();for(const[e,t]of a)if(o.S.isInRect(e.rect,i))for(const e of t)if(s.g.isTokenUnderLocation(e,i))return e;return null}return null}getInteractiveElementAtPoint(e,t){const n=this.getViewAtPoint(e,t);if(n){const i=r.z.getRelativeLocation(e,t,n.getRoot()),s=n.getInteractiveElements();s.sort(((e,t)=>t.style.zIndex.localeCompare(e.style.zIndex)));for(const e of s){const t={top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,right:e.offsetLeft+e.offsetWidth,left:e.offsetLeft};if(o.S.isInRect(t,i))return e}return null}return null}getViews(){return this.views}resetViews(){for(const e of this.views)e.getRoot().remove();this.views=[]}getPanelOrdinalAtPoint(e,t){var n;const i=this.getViewAtPoint(e,t);if(i){const o=null===(n=i.getRenderedPage().panels)||void 0===n?void 0:n.children;if(o){const n=r.z.getRelativeLocation(e,t,i.getRoot());let s=0,c=Number.MAX_VALUE,u=Number.MAX_VALUE;a.k.resolvePanels(o);for(const e of o){const t=this.squaredDistanceBetweenPointAndPanel(n.x,n.y,e);if(t<=Number.EPSILON){const t=this.getAvgDistToPointWithinRect(n.x,n.y,e);t<u&&(s=e.ordinal,u=t),c=Number.MIN_VALUE}else t<c&&(s=e.ordinal,c=t)}return s}}return 0}squaredDistanceBetweenPointAndPanel(e,t,n){const i=n.y,r=n.x,o=n.y+n.height,s=n.x+n.width,a=e>=r&&e<=s;return(t>=i&&t<=o?0:Math.pow(Math.min(t-i,o-t),2))+(a?0:Math.pow(Math.min(e-r,s-e),2))}getAvgDistToPointWithinRect(e,t,n){return(Math.abs(e-n.x)+Math.abs(e-(n.x+n.width))+Math.abs(t-n.y)+Math.abs(t-(n.y+n.height)))/4}}},6786:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var i=n(5745),r=n(3942),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s extends i.y{constructor(e){super(e),this.options=e,this.isPanningInProgress=!1,this.isPinchInProgress=!1,this.prevPan={x:0,y:0},this.pinchStartCoordinates={x:0,y:0},this.initialScale=1,this.onGestureStart=e=>{this.isPinchInProgress||(this.prevPan={x:e.x,y:e.y},this.isPanningInProgress=!0,this.options.enablePagePanning&&this.navigationService.panStart())},this.onGestureMove=e=>o(this,void 0,void 0,(function*(){if(this.isPanningInProgress){let t=e.x-this.prevPan.x,n=e.y-this.prevPan.y;if(this.prevPan={x:e.x,y:e.y},this.options.enablePagePanning&&this.navigationService.isPanned()){const e=this.navigationService.pan(t,n);t-=e.x,n-=e.y}const i=this.viewsTracker.getViewAtPoint(e.x,e.y);if(i instanceof r.h&&i.inZoomedState()){const e=i.pan(t,n);t-=e.x,n-=e.y}!this.options.enablePagePanning||0===t&&0===n||this.navigationService.pan(t,n)}})),this.onGestureEnd=e=>o(this,void 0,void 0,(function*(){var e;this.isPanningInProgress&&(this.options.enablePagePanning&&this.navigationService.panEnd(),this.isPanningInProgress=!1,null===(e=this.metricsService)||void 0===e||e.recordCountMetrics("ZoomableViewController:Pan",1))})),this.onPinchStart=e=>o(this,void 0,void 0,(function*(){if(!this.isPanningInProgress){const t=this.viewsTracker.getViewAtPoint(e.center.x,e.center.y);t instanceof r.h&&(this.pinchStartCoordinates={x:e.center.x,y:e.center.y},this.initialScale=t.getZoomState().scale,this.isPinchInProgress=!0,this.touchHandler.setIgnoreSwipe(!0))}})),this.onPinch=e=>o(this,void 0,void 0,(function*(){if(this.isPinchInProgress){const t=this.viewsTracker.getViewAtPoint(this.pinchStartCoordinates.x,this.pinchStartCoordinates.y);if(t instanceof r.h){const n=t.getZoomState().scale,i=this.initialScale*e.scale/n;t.pinchZoom(this.pinchStartCoordinates.x,this.pinchStartCoordinates.y,i)}}})),this.onPinchEnd=e=>o(this,void 0,void 0,(function*(){var e;if(this.isPinchInProgress){if(!this.options.enablePagePanning){const e=this.viewsTracker.getViewAtPoint(this.pinchStartCoordinates.x,this.pinchStartCoordinates.y);e instanceof r.h&&this.touchHandler.setIgnoreSwipe(e.inZoomedState())}this.isPinchInProgress=!1,null===(e=this.metricsService)||void 0===e||e.recordCountMetrics("ZoomableViewController:PinchZoom",1)}})),this.onDoubleTap=e=>o(this,void 0,void 0,(function*(){var t,n;const i=this.viewsTracker.getViewAtPoint(e.x,e.y);i instanceof r.h&&(i.inZoomedState()?(i.exitZoom(),this.options.eventEmitter.emit("onViewingModeChange",{viewingMode:"FullPage"}),null===(t=this.metricsService)||void 0===t||t.recordCountMetrics("ZoomableViewController:DoubleTap:ExitZoom",1)):(i.doubleTapZoom(e.x,e.y),null===(n=this.metricsService)||void 0===n||n.recordCountMetrics("ZoomableViewController:DoubleTap:EnterZoom",1)),this.options.enablePagePanning||this.touchHandler.setIgnoreSwipe(i.inZoomedState())),this.options.eventEmitter.emit("onDoubleClick",e)})),this.onZoomViewsAdded=e=>o(this,void 0,void 0,(function*(){for(const t of e.views)t instanceof r.h&&t.initializeZoomHandler()})),this.onPageChange=()=>{this.touchHandler.setIgnoreSwipe(!1)},this.options.eventEmitter.on("onViewsAdded",this.onZoomViewsAdded),this.options.enablePagePanning?this.touchHandler.setIgnoreSwipe(!0):this.options.eventEmitter.on("onPageChange",this.onPageChange),super.attachHandlers(),this.metricsService=this.options.metricsService,e.enablePinchHandler&&super.enablePinchHandler()}destroy(){super.destroy(),this.options.eventEmitter.off("onViewsAdded",this.onZoomViewsAdded),this.options.eventEmitter.off("onPageChange",this.onPageChange)}}},9040:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var i=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class r{render(e,t){return i(this,void 0,void 0,(function*(){return this.rootElement=e,this.pageElement=t.renderResult.pageElement,this.pageElement.style.pointerEvents="none",this.rootElement.append(this.pageElement),Promise.resolve(void 0)}))}destroy(){return i(this,void 0,void 0,(function*(){if(this.rootElement&&this.pageElement)try{this.rootElement.removeChild(this.pageElement)}catch(e){}this.rootElement=void 0,this.pageElement=void 0}))}clearSelection(){return i(this,void 0,void 0,(function*(){}))}}},6042:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});class i{constructor(e){this.options=e}compose(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const t=document.createElement("div");t.style.position="relative";const n=new Array;for(const i of this.options.layers){const r=document.createElement("div");r.style.display="flex",t.append(r);const o=i.render(r,e);n.push(o)}return Promise.all(n).then((()=>t))}))}}},1822:()=>{},8724:(e,t,n)=>{"use strict";n.d(t,{I:()=>c});var i=n(4910),r=n(9779),o=n(9083),s=n(9343),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c{constructor(e){this.options=e,this.currentIndex=0}createSpinnerElement(){const e=document.createElement("div"),t=document.createElement("div");return e.classList.add("kg-spinner"),e.style.position="absolute",e.append(t),e}fillView(e,t){return a(this,void 0,void 0,(function*(){if(e.isEmpty()){const n=new i.B,r=n.getPromise();r.catch((()=>{})),this.options.eventEmitter.emit("onRendering",{renderingPromise:r});try{yield e.fill(t),n.resolve()}catch(e){throw n.reject(e),e}}yield t}))}reset(){return a(this,void 0,void 0,(function*(){yield this.options.rendererController.reset(),yield this.resetViews()}))}goToPage(e){return a(this,void 0,void 0,(function*(){yield this.reset();const t=this.options.rendererController.goToPageIndex(e);return this.renderView(t,0,"Absolute")}))}goToPositionId(e){return a(this,void 0,void 0,(function*(){yield this.reset(),this.currentPositionId=e;const t=this.options.rendererController.goToPositionId(e);return this.renderView(t,0,"Absolute")}))}goToPrevious(){var e;return a(this,void 0,void 0,(function*(){return null===(e=this.options.metricsService)||void 0===e||e.recordCountMetrics("PreviousPage",1),this.move("PreviousPage")}))}goToNext(){var e;return a(this,void 0,void 0,(function*(){return null===(e=this.options.metricsService)||void 0===e||e.recordCountMetrics("NextPage",1),this.move("NextPage")}))}goToRelativePage(e,t){return a(this,void 0,void 0,(function*(){let n;switch(t){case"Absolute":n=r.Direction.Absolute;break;case"NextPage":n=r.Direction.Forward;break;case"PreviousPage":n=r.Direction.Backward}const i=this.options.rendererController.getPageByRelativeIndex(e,n);return this.renderView(i,e,t)}))}move(e){return a(this,void 0,void 0,(function*(){const t="NextPage"===e?this.currentIndex+1:this.currentIndex-1;return this.goToRelativePage(t,e)}))}renderView(e,t,n){return a(this,void 0,void 0,(function*(){const i=this.options.rendererController.getRenderingProcessId(),r=this.createView(t);if(yield this.fillView(r,e),i!==this.options.rendererController.getRenderingProcessId())throw new s.Lf;return yield this.showView(r,n),r}))}resetViews(){this.currentView=void 0,this.currentPositionId=void 0}createView(e){return new o.w({index:e,bookRenderOptions:this.options.clientRenderOptionsFactory.get().bookRenderOptions,layerFactories:this.options.layerFactories})}removeView(e){return a(this,void 0,void 0,(function*(){yield e.destroy()}))}getCurrentView(){return this.currentView}getCurrentIndex(){return this.currentIndex}getCurrentPositionId(){return this.currentPositionId}notifyPageChange(e){var t;const n=e.getRenderedPage().page;this.currentPositionId=n.startPositionId,this.currentView=e,this.currentIndex=e.getIndex(),this.options.eventEmitter.emit("onPageChange",{startPositionId:n.startPositionId,endPositionId:n.endPositionId,wordsInPage:n.wordsInPage}),null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("PageChange",1)}panStart(){}pan(e,t){return{x:0,y:0}}panEnd(){}isPanned(){return!1}}},2226:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,s:()=>i});class i extends Error{constructor(e){super("Unexpected number of images found in Fixed Format page"),this.type=e}}class r{constructor(e){this.empty=!0,this.index=0,this.tokenMap=new Map,this.columnsInReadingOrder=new Array,this.options=e,this.root=document.createElement("div"),this.root.style.minHeight=`${this.options.bookRenderOptions.pageHeight}px`,this.root.style.minWidth=`${this.options.bookRenderOptions.pageWidth}px`,this.interactiveElements=[],this.interactiveDecorationElements=[],this.offset={x:0,y:0}}getTrimBounds(){return this.renderedPage.renderResult.rect}isFirst(){return this.renderedPage.isFirst}isLast(){return this.renderedPage.isLast}isEmpty(){return this.empty}getRoot(){return this.root}getIndex(){return this.options.index}scrollIntoView(e=!0){this.root.scrollIntoView({behavior:e?"smooth":"auto"})}destroy(){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(this.layers)for(const e of this.layers)yield e.destroy();this.root.remove()}))}getRenderedPage(){return this.renderedPage}getTokenMap(){return this.tokenMap}getColumnsInReadingOrder(){return this.columnsInReadingOrder}addInteractiveElement(e,t=!1){t?this.interactiveDecorationElements.push(e):this.interactiveElements.push(e)}resetInteractiveDecorationElements(){this.interactiveDecorationElements=[]}getInteractiveElements(){return[...this.interactiveElements,...this.interactiveDecorationElements]}getOffset(){return this.offset}setOffset(e,t){this.offset={x:e,y:t},this.root.style.left=`${e}px`,this.root.style.top=`${t}px`}addOffset(e,t){this.setOffset(this.offset.x+e,this.offset.y+t)}fixedFormatPageCount(){let e=0;const t=["children","backDecoration"],n=r=>{if(e+="image"===r.type?1:0,e>=3)throw new i("TooManyImages");t.forEach((e=>{var t;return null===(t=null==r?void 0:r[e])||void 0===t?void 0:t.forEach(n)}))};if(n(this.getRenderedPage().page),!e)throw new i("NoImagesFound");return e}}},9083:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});var i=n(9779),r=n(9040),o=n(6042),s=n(27),a=n(560),c=n(9429),u=n(2226);class l extends u.C{fill(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){(0,i.assert)(this.empty,"A view can only be filled once");const t=yield e;this.renderedPage=t,this.buildColumnTokenMap(t);const n=new r.d;this.layers=[n,...this.options.layerFactories.flatMap((e=>e.get()))];const a=new o.Y({height:this.options.bookRenderOptions.pageHeight,width:this.options.bookRenderOptions.pageWidth,layers:this.layers}),c=yield a.compose(t);return this.root.replaceWith(c),this.root=c,this.root.className+=` ${s.g.VIEW_ELEMENT_CLASS} `,this.empty=!1,t}))}buildColumnTokenMap(e){const t=e.layoutPage;let n=e.tokens.children.map((e=>e.words)).reduce(((e,t)=>e.concat(t)),[]);n=c.g.adjustTokenHeights(n,this.options.bookRenderOptions.fontFamily),this.mapRecursively(t.children,new Set(n))}mapRecursively(e,t){var n;for(let i=0;i<e.length;i++){const r=e[i];this.columnsInReadingOrder.push(r);const o=null===(n=r.children)||void 0===n?void 0:n.filter((e=>"column"===e.type));void 0!==o&&o.length>0&&this.mapRecursively(o,t);const s=new Array,c=r.rect;for(const e of t)a.S.isInRect(c,{x:e.x+e.width/2,y:e.y+e.height/2})&&(s.push(e),t.delete(e));this.tokenMap.set(r,s)}}}},4229:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var i=n(2226),r=n(9779),o=n(9040),s=n(6042),a=n(27);class c extends i.C{constructor(e){var t;super(e),this.currentPanel=0,this.gvMoveLock="None",this.animationDuration=null!=(null===(t=e.guidedViewOptions)||void 0===t?void 0:t.animationDuration)?e.guidedViewOptions.animationDuration:a.g.DEFAULT_ANIMATION_DURATION,this.root.style.transitionDuration=`${this.animationDuration}ms`,this.root.style.transitionTimingFunction=c.DEFAULT_TRANSITION_FORMULA,this.root.style.opacity="1"}isFirst(){return this.isFirstPanel()&&this.renderedPage.isFirst}isLast(){return this.isLastPanel()&&this.renderedPage.isLast}fill(e){var t;return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){(0,r.assert)(this.empty,"A view can only be filled once");const n=yield e;this.renderedPage=n,this.panelsOnCurrentPage=null===(t=n.panels)||void 0===t?void 0:t.children,c.resolvePanels(this.panelsOnCurrentPage);const i=new o.d;this.layers=[i,...this.options.layerFactories.flatMap((e=>e.get()))];const a=new s.Y({height:this.options.bookRenderOptions.pageHeight,width:this.options.bookRenderOptions.pageWidth,layers:this.layers}),u=yield a.compose(n);return this.replaceRoot(u),this.empty=!1,n}))}replaceRoot(e){const t=this.root.style.transitionDuration,n=this.root.style.transitionTimingFunction,i=this.root.style.opacity;this.root.replaceWith(e),this.root=e,this.root.className+=` ${a.g.VIEW_ELEMENT_CLASS} `,this.setView(this.currentPanel),this.root.style.transitionDuration=t,this.root.style.transitionTimingFunction=n,this.root.style.opacity=i}guidedViewMove(e=1){this.setView(e)}guidedViewStop(){this.reset()}fadeIn(e=.5){const t=this.root.style.transitionDuration;this.root.style.transitionDuration=this.getTransitionDurationNumber()*e+"ms",this.setView(this.currentPanel,1),setTimeout((()=>this.root.style.transitionDuration=t),0)}fadeOut(e=.5){const t=this.root.style.transitionDuration;this.root.style.transitionDuration=this.getTransitionDurationNumber()*e+"ms",this.setView(this.currentPanel,0),setTimeout((()=>this.root.style.transitionDuration=t),0)}acquireMoveLockPage(){this.gvMoveLock="Page"}acquireMoveLockAll(){this.gvMoveLock="All"}releaseMoveLock(){this.gvMoveLock="None"}hasMoveLockPage(){return"Page"===this.gvMoveLock||"All"===this.gvMoveLock}hasMoveLockAll(){return"All"===this.gvMoveLock}getPanels(){return this.panelsOnCurrentPage}getPanelNumber(){var e;return null!==(e=this.currentPanel)&&void 0!==e?e:0}setPanelNumber(e){this.currentPanel=e}isFirstPanel(){return 1===this.currentPanel||!this.hasPanels()}isLastPanel(){var e;return this.currentPanel===(null===(e=this.panelsOnCurrentPage)||void 0===e?void 0:e.length)||!this.hasPanels()}isAnimationEnabled(){return this.animationDuration>0}hasPanels(){var e;return!!(null===(e=this.panelsOnCurrentPage)||void 0===e?void 0:e.length)}setView(e,t=1){var n,i;this.root.style.opacity=`${t}`;const r=null===(i=null===(n=this.renderedPage)||void 0===n?void 0:n.panels)||void 0===i?void 0:i.children;if(0==e||void 0===r||e>r.length)return this.currentPanel=0,void this.guidedViewStop();this.currentPanel=e;const o=r[e-1],s=o.x,a=o.x+o.width,c=o.y,u=o.y+o.height,[l,h]=this.getTranslate(e),d=this.getZoom(e);this.root.style.clipPath=`polygon(${s}px ${c}px, ${a}px ${c}px, ${a}px ${u}px, ${s}px ${u}px)`,this.root.style.transform=`translate(${l*d}px, ${h*d}px) scale(${d})`}reset(){this.root.style.clipPath=c.DEFAULT_FULL_PAGE_CLIPPATH,this.root.style.transform=c.DEFAULT_FULL_PAGE_TRANSFORM}getZoom(e){if(void 0===this.panelsOnCurrentPage)return 1;const t=this.panelsOnCurrentPage[e-1],n=this.options.bookRenderOptions.pageWidth/t.width,i=this.options.bookRenderOptions.pageHeight/t.height;return n<i?n:i}getTranslate(e){if(void 0===this.panelsOnCurrentPage)return[0,0];const t=this.panelsOnCurrentPage[e-1],n=this.options.bookRenderOptions.pageWidth,i=this.options.bookRenderOptions.pageHeight;return[-t.x-(t.width-n)/2,-t.y-(t.height-i)/2]}updateAnimationDuration(e){e!==this.animationDuration&&(this.animationDuration=e,this.root.style.transitionDuration=`${this.animationDuration}ms`)}getTransitionDurationNumber(){const e=parseInt(this.root.style.transitionDuration);return isNaN(e)?a.g.DEFAULT_ANIMATION_DURATION:e}static resolvePanels(e){if(e&&e.length>0){let t=0;e.forEach(((e,n)=>{n>e.ordinal-1?e.ordinal=t+e.ordinal:t=e.ordinal}))}}}c.DEFAULT_TRANSITION_FORMULA="cubic-bezier(0.455, 0.03, 0.515, 0.955)",c.DEFAULT_FULL_PAGE_CLIPPATH="polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",c.DEFAULT_FULL_PAGE_TRANSFORM="translate(0px, 0px) scale(1)"},4155:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var i=n(4910),r=n(8724),o=n(4229),s=n(27),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c extends r.I{constructor(e){super(e),this.pageChange=!1}goToPositionId(e){const t=Object.create(null,{goToPositionId:{get:()=>super.goToPositionId}});return a(this,void 0,void 0,(function*(){const n=yield t.goToPositionId.call(this,e);return this.assertIsGuidedContentView(n),n.guidedViewMove(1),n.releaseMoveLock(),n}))}goToPrevious(){return a(this,void 0,void 0,(function*(){return this.move("PreviousPage"),Promise.resolve({})}))}goToNext(){return a(this,void 0,void 0,(function*(){return this.move("NextPage"),Promise.resolve({})}))}move(e){var t,n,r,o,a;const c=this.getCurrentGuidedContentView(),u=this.options.clientRenderOptionsFactory.get().guidedViewOptions.animationDuration;let l;if(c.updateAnimationDuration(null!=u?u:s.g.DEFAULT_ANIMATION_DURATION),this.nextPanel=new i.B,this.isPageChange(e)||"Absolute"===e){if(c.hasMoveLockPage())return this.nextPanel.getPromise();const i="NextPage"===e?this.getCurrentIndex()+1:this.getCurrentIndex()-1;switch(l="NextPage"===e?this.options.rendererController.nextPage():this.options.rendererController.previousPage(),this.pageChange=!0,c.acquireMoveLockAll(),c.fadeOut(),c.hasPanels()&&c.isAnimationEnabled()?c.getRoot().addEventListener("transitionend",(t=>{"opacity"===t.propertyName&&this.resolveNextPanel(l,i,e)})):this.resolveNextPanel(l,i,e),e){case"Absolute":null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("GuidedView:On:Page:Absolute",1);break;case"NextPage":null===(n=this.options.metricsService)||void 0===n||n.recordCountMetrics("GuidedView:On:Page:Next",1);break;case"PreviousPage":null===(r=this.options.metricsService)||void 0===r||r.recordCountMetrics("GuidedView:On:Page:Previous",1)}return this.nextPanel.getPromise()}{if(c.hasMoveLockAll())return this.nextPanel.getPromise();l=this.options.rendererController.currentPage();const t=c.getPanelNumber(),n="NextPage"===e?t+1:t-1;switch(c.acquireMoveLockPage(),c.guidedViewMove(n),c.hasPanels()&&c.isAnimationEnabled()?c.getRoot().addEventListener("transitionend",(t=>{"transform"===t.propertyName&&(this.resolveNextPanel(l,this.getCurrentIndex(),e),c.releaseMoveLock())})):(this.resolveNextPanel(l,this.getCurrentIndex(),e),c.releaseMoveLock()),e){case"NextPage":null===(o=this.options.metricsService)||void 0===o||o.recordCountMetrics("GuidedView:On:Panel:Next",1);break;case"PreviousPage":null===(a=this.options.metricsService)||void 0===a||a.recordCountMetrics("GuidedView:On:Panel:Previous",1)}return this.nextPanel.getPromise()}}isPageChange(e){const t=this.getCurrentGuidedContentView();return t&&(t.isFirstPanel()&&"PreviousPage"===e||t.isLastPanel()&&"NextPage"===e)}createView(e){return new o.k({index:e,bookRenderOptions:this.options.clientRenderOptionsFactory.get().bookRenderOptions,layerFactories:this.options.layerFactories,guidedViewOptions:this.options.clientRenderOptionsFactory.get().guidedViewOptions})}showView(e,t){var n;return a(this,void 0,void 0,(function*(){const i=this.getCurrentView();if(yield e.getRenderedPage(),i)if(this.assertIsGuidedContentView(i),i.getRoot().remove(),this.options.eventEmitter.emit("onViewsRemoved",{views:[i]}),this.pageChange)e.acquireMoveLockAll(),e.fadeOut(),"PreviousPage"===t?e.guidedViewMove(e.hasPanels()?null===(n=e.getPanels())||void 0===n?void 0:n.length:1):e.guidedViewMove(1),setTimeout((()=>e.fadeIn()),0),e.releaseMoveLock(),this.pageChange=!1;else{const t=i.getPanelNumber();e.guidedViewMove(t)}const r=e.getRoot();this.notifyPageChange(e),this.options.container.append(r),this.options.eventEmitter.emit("onViewsAdded",{views:[e]})}))}resolveNextPanel(e,t,n){var i;return a(this,void 0,void 0,(function*(){this.getCurrentGuidedContentView().getRoot().remove();const r=yield this.renderView(e,t,n);this.assertIsGuidedContentView(r),null===(i=this.nextPanel)||void 0===i||i.resolve(r)}))}getCurrentGuidedContentView(){const e=this.getCurrentView();return this.assertIsGuidedContentView(e),e}assertIsGuidedContentView(e,t){if(null==e||!(e instanceof o.k))throw new Error(null!=t?t:`Expected 'val' to be defined GuidedContentView, but received ${e}`)}notifyPageChange(e){var t;super.notifyPageChange(e),null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("PageChange:GuidedView",1)}resetViews(){const e=Object.create(null,{resetViews:{get:()=>super.resetViews}});return a(this,void 0,void 0,(function*(){const t=this.getCurrentView();t&&(yield t.destroy(),this.options.eventEmitter.emit("onViewsRemoved",{views:[t]})),e.resetViews.call(this)}))}destroy(){return a(this,void 0,void 0,(function*(){return new Promise((e=>{const t=this.getCurrentView();this.assertIsGuidedContentView(t),t.acquireMoveLockAll(),t.guidedViewStop(),t.hasPanels()&&t.isAnimationEnabled()?t.getRoot().addEventListener("transitionend",(n=>{"transform"===n.propertyName&&(t.releaseMoveLock(),t.getRoot().remove(),e())})):(t.releaseMoveLock(),t.getRoot().remove(),e())}))}))}}},8707:()=>{},9250:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var i=n(8390),r=n(6854);class o{constructor(e){this.metricsService=e,this.animationFrameStartTime=(new Date).getTime(),this.animationFrame=this.getInitialAnimationFrame(),this.topSpinnerStartTime=performance.now(),this.bottomSpinnerStartTime=performance.now()}recordTimeMetrics(e,t){var n,i,o;const s=(null===(n=(0,r.f)())||void 0===n?void 0:n.isIOSFullscreenEnabled)?"TopBlankSpace":"NoBlankSpace";null===(i=this.metricsService)||void 0===i||i.recordTimeMetrics(e,t),null===(o=this.metricsService)||void 0===o||o.recordTimeMetrics(`${e}:${s}`,t)}recordCountMetrics(e,t){var n,i,o;const s=(null===(n=(0,r.f)())||void 0===n?void 0:n.isIOSFullscreenEnabled)?"TopBlankSpace":"NoBlankSpace";null===(i=this.metricsService)||void 0===i||i.recordCountMetrics(e,t),null===(o=this.metricsService)||void 0===o||o.recordCountMetrics(`${e}:${s}`,t)}measureFrameRate(e,t){const n=1e3/(e-this.animationFrameStartTime);n<this.animationFrame.min&&(this.animationFrame.min=n),n>this.animationFrame.max&&(this.animationFrame.max=n),this.animationFrame.count++,this.animationFrame.avg+=(n-this.animationFrame.avg)/this.animationFrame.count,this.animationFrameStartTime=e,t.isConnected&&window.requestAnimationFrame((e=>this.measureFrameRate(e,t)))}emitFrameRateMetrics(){this.metricsService&&this.animationFrame.count>0&&(this.recordTimeMetrics(`${i.P.FRAME_RATE}:${i.P.MIN}`,this.animationFrame.min),this.recordTimeMetrics(`${i.P.FRAME_RATE}:${i.P.MAX}`,this.animationFrame.max),this.recordTimeMetrics(`${i.P.FRAME_RATE}:${i.P.AVG}`,this.animationFrame.avg),this.animationFrame=this.getInitialAnimationFrame())}emitLayoutErrorMetric(){this.recordCountMetrics(`${i.P.LAYOUT_ERROR}:${i.P.COUNT}`,1)}emitSpinnerMetrics(e,t,n,r){e.forEach((e=>{const{target:o,isIntersecting:s}=e;o===n?this.recordSpinnerTimer(i.P.TOP_SPINNER,s,t):o===r&&this.recordSpinnerTimer(i.P.BOTTOM_SPINNER,s,t)}))}recordSpinnerTimer(e,t,n){if(t)e===i.P.TOP_SPINNER?this.topSpinnerStartTime=performance.now():e===i.P.BOTTOM_SPINNER&&(this.bottomSpinnerStartTime=performance.now());else if(n.length>0&&this.metricsService){const t=performance.now();let n=0;e===i.P.TOP_SPINNER?n=t-this.topSpinnerStartTime:e===i.P.BOTTOM_SPINNER&&(n=t-this.bottomSpinnerStartTime),this.recordTimeMetrics(`${e}:${i.P.EXECUTION_TIME}`,n)}}getInitialAnimationFrame(){return{min:Number.MAX_SAFE_INTEGER,max:Number.MIN_SAFE_INTEGER,avg:0,count:0}}}},5988:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var i=n(5526),r=n(6835),o=n(4155),s=n(6583);class a{static build(e,t,n){switch(e){case 0:return this.shouldReturnGuidedView(t,n)?new o.q(n):n.usePanningPaginationService?new s.s(n):new r.N(n);case 1:return new i.a(n)}}static shouldReturnGuidedView(e,t){const n=t.clientRenderOptionsFactory.get().bookRenderOptions;return t.clientRenderOptionsFactory.get().guidedViewOptions.isEnabled&&"GuidedView"===n.viewingMode&&"FixedFormat"===e.bookType&&e.publisherPanel}}},6835:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var i=n(8724),r=n(3942),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s extends i.I{constructor(e){super(e),this.ANIMATION_MAP={enter:{common:{Horizontal:"kg-slidein-right",Vertical:"kg-slidein-bottom"},inverted:{Horizontal:"kg-slidein-left",Vertical:"kg-slidein-top"}},exit:{common:{Horizontal:"kg-slideout-left",Vertical:"kg-slideout-top"},inverted:{Horizontal:"kg-slideout-right",Vertical:"kg-slideout-bottom"}}},this.navigationDirection=e.navigationDirection,this.spinner=this.createSpinnerElement(),this.options.container.append(this.spinner)}resetViews(){const e=Object.create(null,{resetViews:{get:()=>super.resetViews}});return o(this,void 0,void 0,(function*(){const t=this.getCurrentView();t&&(yield t.destroy()),e.resetViews.call(this)}))}createView(e){return this.options.isZoomableContent?new r.h({index:e,bookRenderOptions:this.options.clientRenderOptionsFactory.get().bookRenderOptions,layerFactories:this.options.layerFactories,zoomViewOptions:this.options.clientRenderOptionsFactory.get().zoomViewOptions}):super.createView(e)}showView(e,t){return o(this,void 0,void 0,(function*(){const n=this.getCurrentView();if(n){const e=n.getRoot();this.options.animatePageTurn&&"Absolute"!=t?(e.style.animationName=this.getAnimationName("exit",t),e.addEventListener("animationend",(()=>{e.remove(),this.options.eventEmitter.emit("onViewsRemoved",{views:[n]})}))):(e.remove(),this.options.eventEmitter.emit("onViewsRemoved",{views:[n]}))}this.notifyPageChange(e),yield e.getRenderedPage();const i=e.getRoot();i.style.position="absolute",i.style.animationDuration="0.3s",i.style.animationTimingFunction="ease-in-out",this.options.animatePageTurn&&"Absolute"!=t&&(i.style.animationName=this.getAnimationName("enter",t)),this.options.container.contains(i)||this.options.container.append(i),this.options.eventEmitter.emit("onViewsAdded",{views:[e]})}))}notifyPageChange(e){var t;super.notifyPageChange(e),null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("PageChange:Pagination",1)}getAnimationName(e,t){let n="common";return"PreviousPage"===t&&(n="inverted"),"rtl"===this.options.progressionDirection&&"Horizontal"===this.navigationDirection&&(n="common"===n?"inverted":"common"),this.ANIMATION_MAP[e][n][this.navigationDirection]}destroy(){return o(this,void 0,void 0,(function*(){this.spinner.remove(),yield this.resetViews()}))}}},6583:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var i=n(8724),r=n(3942),o=n(4953),s=n(9779),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c extends i.I{constructor(e){super(e),this.viewMap=new Map,this.viewPromiseMap=new Map,this.layoutOffset=0,this.layoutEmitter=new o.v,this.layoutHandlerMap=new Map,this.panningInProgress=!1,this.panVelocity=0,this.spinnerTimers=new Map,this.navigationDirection=e.navigationDirection,this.layoutEmitter.on("move",(e=>{const t=performance.now();this.panPrevTime&&t!==this.panPrevTime&&(this.panVelocity=e/(t-this.panPrevTime)),this.panPrevTime=t})),this.spinner=this.createSpinnerElement(),this.options.container.append(this.spinner)}goToRelativePage(e,t){const n=Object.create(null,{goToRelativePage:{get:()=>super.goToRelativePage}});return a(this,void 0,void 0,(function*(){const i=this.viewMap.get(e);if(i)return i;const r=this.viewPromiseMap.get(e);if(r)return r;{const i=n.goToRelativePage.call(this,e,t);return this.viewPromiseMap.set(e,i),i.finally((()=>this.viewPromiseMap.delete(e))),i}}))}move(e){var t;return a(this,void 0,void 0,(function*(){if("Absolute"===e)throw new Error("Invalid move operation, direction cannot be Absolute");const n=this.getCurrentView();(0,s.assertIsDefined)(n,"Cannot paginate if the book hasn't loaded");const i="NextPage"===e?n.getIndex()+1:n.getIndex()-1;let r=this.viewMap.get(i);if(r||(this.spinnerTimers.has(i)||this.spinnerTimers.set(i,performance.now()),r=yield this.goToRelativePage(i,e)),r.getIndex()!==(null===(t=this.getCurrentView())||void 0===t?void 0:t.getIndex())&&!this.panningInProgress)if(this.options.animatePageTurn)this.animatePageSnap(e);else{const t=this.getJumpDistance(e),n=this.getCoords(t-this.layoutOffset);this.pan(n.x,n.y),this.resetZoomedViews()}return r}))}animatePageSnap(e){this.cancelCurrentAnimation();let t=0;if(e){const n=this.getJumpDistance(e);t=0===this.layoutOffset?n:Math.sign(n)===Math.sign(this.layoutOffset)?n-this.layoutOffset:-this.layoutOffset}else t=-this.layoutOffset;0!==t&&(this.currentAnimation=requestAnimationFrame((e=>this.animatePan(this.getCoords(t),c.ANIMATION_DURATION_MS,c.EASE_IN_OUT,e,e,e))))}animatePan(e,t,n,i,r,o){if(r!==o){const s=(r-i)/t,a=Math.min((o-i)/t,1),c=n(a)-n(s);this.pan(e.x*c,e.y*c)}if(o-i<t)this.currentAnimation=requestAnimationFrame((r=>this.animatePan(e,t,n,i,o,r)));else{const e=this.getCoords(-this.layoutOffset);this.pan(e.x,e.y),this.resetZoomedViews()}}cancelCurrentAnimation(){this.currentAnimation&&(cancelAnimationFrame(this.currentAnimation),this.currentAnimation=void 0)}resetZoomedViews(){for(const e of this.viewMap.values())e!==this.getCurrentView()&&e instanceof r.h&&e.exitZoom()}removeView(e){const t=Object.create(null,{removeView:{get:()=>super.removeView}});return a(this,void 0,void 0,(function*(){e===this.viewMap.get(e.getIndex())&&this.viewMap.delete(e.getIndex());const n=this.layoutHandlerMap.get(e);return this.layoutEmitter.off("move",n),this.layoutHandlerMap.delete(e),this.options.eventEmitter.emit("onViewsRemoved",{views:[e]}),t.removeView.call(this,e)}))}resetViews(){const e=Object.create(null,{resetViews:{get:()=>super.resetViews}});return a(this,void 0,void 0,(function*(){this.viewPromiseMap.clear();for(const e of this.viewMap.values())yield this.removeView(e);this.spinnerTimers.clear(),this.layoutOffset=0,e.resetViews.call(this)}))}createView(e){return this.options.isZoomableContent?new r.h({index:e,bookRenderOptions:this.options.clientRenderOptionsFactory.get().bookRenderOptions,layerFactories:this.options.layerFactories,zoomViewOptions:this.options.clientRenderOptionsFactory.get().zoomViewOptions}):super.createView(e)}showView(e,t){var n,i,r;return a(this,void 0,void 0,(function*(){const o=e.getIndex(),a=this.viewMap.get(o);a&&(yield this.removeView(a)),this.viewMap.set(o,e);const c=e.getRoot();if(c.style.position="absolute","Absolute"===t)this.notifyPageChange(e),this.goToRelativePage(this.getCurrentIndex()+1,"NextPage"),this.goToRelativePage(this.getCurrentIndex()-1,"PreviousPage");else{const t=this.getCurrentView();(0,s.assertIsDefined)(t,"Cannot paginate if the book hasn't loaded");const a=this.getJumpDistance("NextPage"),c=o-t.getIndex(),u=this.getCoords(a*c),l=t.getOffset();e.setOffset(l.x-u.x,l.y-u.y),this.updateState();const h=this.spinnerTimers.get(o);if(h){this.spinnerTimers.delete(o),null===(n=this.options.metricsService)||void 0===n||n.recordCountMetrics("PanningSpinner:Count",1);const e=performance.now()-h;null===(i=this.options.metricsService)||void 0===i||i.recordTimeMetrics("PanningSpinner:Time",e),null===(r=this.options.metricsService)||void 0===r||r.recordTimeMetrics("PanningSpinner:ElapsedTime",e)}}this.options.container.append(c);const u=t=>{const n=this.getCoords(t);e.addOffset(n.x,n.y)};this.layoutHandlerMap.set(e,u),this.layoutEmitter.on("move",u),this.options.eventEmitter.emit("onViewsAdded",{views:[e]})}))}pan(e,t){let n=0;const i=this.getCurrentView();if(i){const r=this.getPageSize();let o="Horizontal"===this.navigationDirection?e:t;if(0===this.layoutOffset){const e=this.getDirection(o);if(i.isFirst()&&"PreviousPage"===e)return this.options.eventEmitter.emit("onExceedingBoundsChanged",{exceeding:"Before"}),this.getCoords(n);if(i.isLast()&&"NextPage"===e)return this.options.eventEmitter.emit("onExceedingBoundsChanged",{exceeding:"After"}),this.getCoords(n)}else Math.sign(this.layoutOffset+o)!==Math.sign(this.layoutOffset)&&(o=-this.layoutOffset);const s="Horizontal"===this.options.navigationDirection?i.getOffset().x:i.getOffset().y;Math.sign(s)===Math.sign(o)&&(o=Math.sign(o)*Math.min(Math.max(0,r-Math.abs(s)),Math.abs(o))),n=o,0!==o&&(this.layoutOffset+=o,this.layoutEmitter.emit("move",o)),Math.abs(this.layoutOffset)>r*c.CURRENT_PAGE_THRESHOLD&&(this.layoutOffset-=r*Math.sign(this.layoutOffset),this.updateState())}return this.getCoords(n)}updateState(){var e,t;const n=this.getCurrentView();(0,s.assertIsDefined)(n,"Cannot paginate if the book hasn't loaded");const i=this.getPageSize(),r="Horizontal"===this.options.navigationDirection?n.getOffset().x:n.getOffset().y;if(Math.abs(r)>i*c.CURRENT_PAGE_THRESHOLD){const i=this.getDirection(r),o="NextPage"===i?n.getIndex()+1:n.getIndex()-1,s=this.viewMap.get(o);if(s){this.notifyPageChange(s),this.spinnerTimers.has(o)||(null===(e=this.options.metricsService)||void 0===e||e.recordCountMetrics("PanningSpinner:Count",0),null===(t=this.options.metricsService)||void 0===t||t.recordTimeMetrics("PanningSpinner:Time",0));const n="NextPage"===i?s.getIndex()+1:s.getIndex()-1;this.viewMap.has(n)||this.goToRelativePage(n,i);for(const e of this.viewMap.values())Math.abs(e.getIndex()-s.getIndex())>=2&&this.removeView(e)}else this.spinnerTimers.has(o)||this.spinnerTimers.set(o,performance.now())}}notifyPageChange(e){var t;super.notifyPageChange(e),null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("PageChange:Panning",1)}panStart(){super.panStart(),this.panningInProgress=!0}panEnd(){super.panEnd(),this.panningInProgress=!1;const e=this.getPageSize();if(Math.abs(this.panVelocity)>c.PAN_VELOCITY_THRESHOLD){const e=this.getDirection(this.panVelocity);this.animatePageSnap(e)}else if(Math.abs(this.layoutOffset)<e*c.PAN_SNAP_BACK_THRESHOLD)this.animatePageSnap();else{const e=this.getDirection(this.layoutOffset);this.animatePageSnap(e)}}isPanned(){return 0!==this.layoutOffset}getPageFlow(e){let t="common";return"PreviousPage"===e&&(t="inverted"),"rtl"===this.options.progressionDirection&&"Horizontal"===this.navigationDirection&&(t="common"===t?"inverted":"common"),t}getPageSize(){const e=this.getCurrentView();return(0,s.assertIsDefined)(e,"Cannot paginate if the book hasn't loaded"),"Horizontal"===this.navigationDirection?e.getRenderedPage().page.width:e.getRenderedPage().page.height}getJumpDistance(e){const t=this.getPageSize();return"common"===this.getPageFlow(e)?-t:t}getDirection(e){return Math.sign(e)===Math.sign(this.getJumpDistance("NextPage"))?"NextPage":"PreviousPage"}getCoords(e){return"Horizontal"===this.navigationDirection?{x:e,y:0}:{x:0,y:e}}destroy(){return a(this,void 0,void 0,(function*(){this.spinner.remove(),yield this.resetViews()}))}}c.ANIMATION_DURATION_MS=100,c.PAN_SNAP_BACK_THRESHOLD=.5,c.PAN_VELOCITY_THRESHOLD=.3,c.CURRENT_PAGE_THRESHOLD=.6,c.EASE_IN_OUT=e=>e*e*(3-2*e)},9114:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});class i{constructor(e){this.el=e}save(){this.position=this.el.scrollHeight-this.el.scrollTop}restore(){if(void 0===this.position)throw new Error("Cannot restore without a previous call to save()");const e=this.el.scrollHeight-this.el.scrollTop;this.el.scrollBy({top:e-this.position})}}},5526:(e,t,n)=>{"use strict";n.d(t,{a:()=>u});var i=n(8724),r=n(4910),o=n(9718),s=n(6891),a=n(9250),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class u extends i.I{constructor(e){super(e),this.options=e,this.LOAD_PAGE_DELAY=100,this.LOAD_WATCH_DELAY=1e3,this.views=[],this.viewMap=new Map,this.expiredViews=new Set,this.isBookLoaded=!1,this.topIndex=0,this.bottomIndex=0,this.topIsFull=!1,this.bottomIsFull=!1,this.setupContainer(),this.navigationMetrics=new a.p(e.metricsService)}setupContainer(){var e;const t=this.options.container;this.topSentinel=document.createElement("div"),this.topSentinel.id="top-sentinel",this.bottomSentinel=document.createElement("div"),this.bottomSentinel.id="bottom-sentinel";const n={fullPage:this.options.fullPage,container:t,topSentinel:this.topSentinel,bottomSentinel:this.bottomSentinel,eventEmitter:this.options.eventEmitter,metricsService:this.options.metricsService};this.layoutController=null!==(e=this.options.layoutController)&&void 0!==e?e:(0,s.g)()?new o.oX(n):new o.CP(n),this.topLoader=new r.B,this.topLoader.resolve(),this.bottomLoader=new r.B,this.bottomLoader.resolve(),this.loaderObserver=new IntersectionObserver((e=>this.loaderObserverCallback(e)),{root:this.options.fullPage?void 0:t,rootMargin:"200% 0% 200% 0%",threshold:0}),this.outOfBoundsObserver=new IntersectionObserver((e=>this.outOfBoundsObserverCallback(e)),{root:this.options.fullPage?void 0:t,rootMargin:"0%",threshold:0}),this.outOfBoundsObserver.observe(this.topSentinel),this.outOfBoundsObserver.observe(this.bottomSentinel),this.loaderObserver.observe(this.topSentinel),this.loaderObserver.observe(this.bottomSentinel),this.currentViewObserver=new IntersectionObserver((e=>this.currentViewObserverCallback(e)),{root:this.options.fullPage?void 0:t,rootMargin:"-25% 0% -75% 0%",threshold:0}),setTimeout((()=>this.loadContentWatch()),this.LOAD_WATCH_DELAY)}loaderObserverCallback(e){this.isBookLoaded&&(e.forEach((e=>{const{target:t,isIntersecting:n}=e;if(t===this.topSentinel)this.topIsFull=!n;else if(t===this.bottomSentinel)this.bottomIsFull=!n;else{const e=this.viewMap.get(t);n?this.expiredViews.delete(e):this.expiredViews.add(e)}})),this.verifyLayoutHealth(),this.loadContentAsync())}currentViewObserverCallback(e){this.isBookLoaded&&e.forEach((e=>{const{target:t,isIntersecting:n}=e;if(n){const e=this.viewMap.get(t);this.notifyPageChange(e)}}))}outOfBoundsObserverCallback(e){this.isBookLoaded&&e.forEach((e=>{var t,n;const{target:i,isIntersecting:r}=e;r&&(i===this.topSentinel&&(null===(t=this.getCurrentView())||void 0===t?void 0:t.isFirst())&&this.options.eventEmitter.emit("onExceedingBoundsChanged",{exceeding:"Before"}),i===this.bottomSentinel&&(null===(n=this.getCurrentView())||void 0===n?void 0:n.isLast())&&this.options.eventEmitter.emit("onExceedingBoundsChanged",{exceeding:"After"}))}))}loadContentWatch(){this.layoutController.isConnected()&&(this.loadContentAsync(),setTimeout((()=>this.loadContentWatch()),this.LOAD_WATCH_DELAY))}loadContentAsync(){this.isBookLoaded&&(this.bottomLoader.isCompleted&&(this.bottomLoader=new r.B,this.bottomLoader.getPromise().catch((()=>this.loadContentAsync())),setTimeout((()=>this.loadContentBottom()))),this.topLoader.isCompleted&&(this.topLoader=new r.B,this.topLoader.getPromise().catch((()=>this.loadContentAsync())),setTimeout((()=>this.loadContentTop()))))}loadContentBottom(){return c(this,void 0,void 0,(function*(){try{if(this.isBookLoaded&&this.layoutController.isConnected())if(this.bottomIsFull&&this.expiredViews.has(this.bottomView)){const e=this.bottomView;yield this.removeView(e),this.views.pop(),this.bottomView=this.views[this.views.length-1],this.bottomIndex--,this.options.eventEmitter.emit("onViewsRemoved",{views:[e]}),setTimeout((()=>this.loadContentBottom()),this.LOAD_PAGE_DELAY)}else if(this.bottomIsFull||this.bottomView.isLast())this.bottomLoader.resolve();else{const e=yield this.goToRelativePage(this.bottomIndex+1,"NextPage");this.bottomView=e,this.views.push(e),this.bottomIndex++,setTimeout((()=>this.loadContentBottom()),this.LOAD_PAGE_DELAY)}else this.bottomLoader.resolve()}catch(e){this.bottomLoader.reject(e)}}))}loadContentTop(){return c(this,void 0,void 0,(function*(){try{if(this.isBookLoaded&&this.layoutController.isConnected())if(this.topIsFull&&this.expiredViews.has(this.topView)){const e=this.topView;yield this.removeView(e),this.views.shift(),this.topView=this.views[0],this.topIndex++,this.options.eventEmitter.emit("onViewsRemoved",{views:[e]}),setTimeout((()=>this.loadContentTop()),this.LOAD_PAGE_DELAY)}else if(this.topIsFull||this.topView.isFirst())this.topLoader.resolve();else{const e=yield this.goToRelativePage(this.topIndex-1,"PreviousPage");this.topView=e,this.views.unshift(e),this.topIndex--,setTimeout((()=>this.loadContentTop()),this.LOAD_PAGE_DELAY)}else this.topLoader.resolve()}catch(e){this.topLoader.reject(e)}}))}removeView(e){return c(this,void 0,void 0,(function*(){const t=e.getRoot();yield this.layoutController.removeView(e),this.loaderObserver.unobserve(t),this.currentViewObserver.unobserve(t),this.viewMap.delete(t),this.expiredViews.delete(e),this.verifyLayoutHealth()}))}verifyLayoutHealth(){if(this.topIsFull&&this.bottomIsFull&&0==this.viewMap.size){this.navigationMetrics.emitLayoutErrorMetric();const e=this.getCurrentPositionId();(e||0===e)&&this.goToPositionId(e)}}goToPage(e){const t=Object.create(null,{goToPage:{get:()=>super.goToPage}});return c(this,void 0,void 0,(function*(){const n=yield t.goToPage.call(this,e);return this.bookLoaded(n),this.notifyPageChange(n),n}))}goToPositionId(e){const t=Object.create(null,{goToPositionId:{get:()=>super.goToPositionId}});return c(this,void 0,void 0,(function*(){const n=yield t.goToPositionId.call(this,e);return this.bookLoaded(n),this.notifyPageChange(n),n}))}bookLoaded(e){this.isBookLoaded=!0,this.bottomView=this.topView=e,this.bottomIndex=this.topIndex=0,this.views.push(e),setTimeout((()=>this.loadContentAsync()),this.LOAD_PAGE_DELAY)}resetViews(){return c(this,void 0,void 0,(function*(){this.isBookLoaded=!1,this.loaderObserver.disconnect(),this.currentViewObserver.disconnect();for(const e of this.views)yield e.destroy();this.layoutController.reset(),this.views=[],this.viewMap.clear(),this.expiredViews.clear(),this.bottomView=this.topView=void 0,this.bottomIndex=this.topIndex=0,this.bottomIsFull=this.topIsFull=!1,this.loaderObserver.observe(this.topSentinel),this.loaderObserver.observe(this.bottomSentinel),this.outOfBoundsObserver.observe(this.topSentinel),this.outOfBoundsObserver.observe(this.bottomSentinel)}))}showView(e,t){return c(this,void 0,void 0,(function*(){const n=e.getRoot();if(!this.options.container.contains(n))switch(t){case"Absolute":case"NextPage":this.layoutController.insertBottom(e);break;case"PreviousPage":this.layoutController.insertTop(e)}this.viewMap.set(n,e),this.loaderObserver.observe(n),this.currentViewObserver.observe(n),this.options.eventEmitter.emit("onViewsAdded",{views:[e]})}))}notifyPageChange(e){var t;super.notifyPageChange(e),null===(t=this.options.metricsService)||void 0===t||t.recordCountMetrics("PageChange:Scroll",1)}move(e){return c(this,void 0,void 0,(function*(){throw"Continuous scrolling doesn't support the move operation"}))}destroy(){return c(this,void 0,void 0,(function*(){this.isBookLoaded=!1,this.layoutController.destroy(),this.loaderObserver.disconnect(),this.outOfBoundsObserver.disconnect(),this.currentViewObserver.disconnect()}))}}},9718:(e,t,n)=>{"use strict";n.d(t,{CP:()=>u,hy:()=>a,oX:()=>c});var i=n(4945),r=n(4650),o=n(9250),s=n(6854);class a{constructor(e){this.SPINNER_PAGE_HEIGHT=260,this.LAYOUT_SHIFT_EVENT_DELAY=100,this.RUNWAY_DELTA=1e4,this.views=[],this.contentScroll=0,this.maxScroll=0,this.setSpinnerHeight=()=>this.runway.style.height=this.views.length?"unset":"100%",this.notifyLayoutShiftStart=()=>this.eventEmitter.emit("onLayoutShift",{shiftingLayout:!0}),this.notifyLayoutShiftEnd=r.d.debouncer((()=>this.eventEmitter.emit("onLayoutShift",{shiftingLayout:!1})),this.LAYOUT_SHIFT_EVENT_DELAY,!1),this.eventEmitter=e.eventEmitter,this.container=e.container,this.navigationMetrics=new o.p(e.metricsService),e.fullPage?(document.body.classList.add("kg-scrollable","kg-hide-scrollbar"),this.scrollableElem=document.documentElement):(this.container.classList.add("kg-scrollable","kg-hide-scrollbar"),this.scrollableElem=this.container),this.topSentinel=new i.hs(e.topSentinel,0),this.bottomSentinel=new i.MV(e.bottomSentinel,0),this.fullPage=e.fullPage,this.setupContainer()}setupContainer(){this.container.classList.add("kg-scroll-container"),this.runway=document.createElement("div"),this.runway.classList.add("kg-scroll-runway"),this.setSpinnerHeight(),this.topSpinner=new i.hs(this.createSpinnerElement(),0),this.topSpinner.setVisible(!1),this.bottomSpinner=new i.MV(this.createSpinnerElement(),0),this.runway.append(this.topSentinel.getRoot()),this.runway.append(this.bottomSentinel.getRoot()),this.runway.append(this.topSpinner.getRoot()),this.runway.append(this.bottomSpinner.getRoot()),this.container.append(this.runway),this.spinnerObserver=new IntersectionObserver((e=>this.navigationMetrics.emitSpinnerMetrics(e,this.views,this.topSpinner.getRoot(),this.bottomSpinner.getRoot())),{root:this.fullPage?void 0:this.container,threshold:0}),this.spinnerObserver.observe(this.topSpinner.getRoot()),this.spinnerObserver.observe(this.bottomSpinner.getRoot()),window.requestAnimationFrame((e=>this.layoutMonitor(e))),window.requestAnimationFrame((e=>this.navigationMetrics.measureFrameRate(e,this.runway)))}createSpinnerElement(){const e=document.createElement("div"),t=document.createElement("div");return e.classList.add("kg-spinner"),e.append(t),e}isConnected(){return this.runway.isConnected}layoutMonitor(e){this.isConnected()&&(this.scrollLayoutIfNecessary(),window.requestAnimationFrame((e=>this.layoutMonitor(e))))}scrollLayoutIfNecessary(){var e;this.setSpinnerHeight();let t=this.maxScroll-this.contentScroll;if(this.topSpinner.isVisible()&&(t+=this.SPINNER_PAGE_HEIGHT),(null===(e=(0,s.f)())||void 0===e?void 0:e.isIOSFullscreenEnabled)?t>0:0!=t){const e=this.fullPage?window.innerHeight:this.scrollableElem.clientHeight,n=Math.max(0,this.scrollableElem.scrollHeight-this.scrollableElem.scrollTop-e);return t>n&&(t=n),this.notifyLayoutShiftStart(),this.scrollableElem.scrollBy(0,t),this.scrollLayoutByDelta(t),this.notifyLayoutShiftEnd(),!0}return!1}scrollLayoutByDelta(e){this.contentScroll+=e,this.contentScroll>0&&this.moveRunwayToNegativeValueAndAdjustViews(),this.runway.style.transform="translateY("+this.contentScroll+"px)"}moveRunwayToNegativeValueAndAdjustViews(){this.views.forEach((e=>e.offsetByDelta(this.RUNWAY_DELTA))),this.bottomSpinner.offsetByDelta(this.RUNWAY_DELTA),this.bottomSentinel.offsetByDelta(this.RUNWAY_DELTA),this.topSpinner.offsetByDelta(this.RUNWAY_DELTA),this.topSentinel.offsetByDelta(this.RUNWAY_DELTA),this.contentScroll-=this.RUNWAY_DELTA,this.maxScroll-=this.RUNWAY_DELTA}insertTop(e){this.setSpinnerHeight();const t=e.getRoot(),n=this.topSentinel.getOffset(),r=new i.hs(t,n);this.views.unshift(r),this.runway.prepend(t);const o=e.getRenderedPage().page.height;this.topSentinel.offsetByDelta(-o),this.topSpinner.offsetByDelta(-o),this.topSpinner.setVisible(!e.isFirst()),this.maxScroll+=o}isScrollPositionPastTopContent(){const e=this.topSpinner.isVisible()?this.SPINNER_PAGE_HEIGHT:0;return this.scrollableElem.scrollTop<this.topSpinner.getOffset()+this.contentScroll-e}resetScrollPositionToTopContent(){const e=this.topSpinner.isVisible()?this.SPINNER_PAGE_HEIGHT:0,t=this.topSpinner.getOffset()+this.contentScroll-e-this.scrollableElem.scrollTop;this.scrollableElem.scrollBy(0,t)}insertBottom(e){this.setSpinnerHeight();const t=e.getRoot(),n=this.bottomSentinel.getOffset(),r=new i.MV(t,n);this.views.push(r),this.runway.append(t);const o=e.getRenderedPage().page.height;this.bottomSentinel.offsetByDelta(o),this.bottomSpinner.offsetByDelta(o),this.bottomSpinner.setVisible(!e.isLast()),1===this.views.length&&this.topSpinner.setVisible(!e.isFirst())}removeView(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const t=this.views[0],n=this.views[this.views.length-1],i=e.getRoot(),r=e.getRenderedPage().page.height;if(this.setSpinnerHeight(),i===n.getRoot())this.views.pop(),this.bottomSentinel.offsetByDelta(-r),this.bottomSpinner.offsetByDelta(-r),this.bottomSpinner.setVisible(e.isLast());else{if(i!==t.getRoot())throw"Layout controller only supports removing views from top or bottom";this.views.shift(),this.topSentinel.offsetByDelta(r),this.topSpinner.offsetByDelta(r),this.topSpinner.setVisible(e.isFirst()),this.maxScroll-=r}yield e.destroy(),this.navigationMetrics.emitFrameRateMetrics()}))}reset(){this.views=[],this.topSentinel.setOffset(0),this.topSpinner.setOffset(0),this.topSpinner.setVisible(!1),this.bottomSentinel.setOffset(0),this.bottomSpinner.setOffset(0),this.bottomSpinner.setVisible(!0),this.contentScroll=0,this.maxScroll=0,this.scrollLayoutByDelta(0),this.setSpinnerHeight()}destroy(){this.runway.remove(),this.spinnerObserver.disconnect(),this.container.classList.remove("kg-scroll-container"),this.fullPage?document.body.classList.remove("kg-scrollable","kg-hide-scrollbar"):this.container.classList.remove("kg-scrollable","kg-hide-scrollbar")}}class c extends a{constructor(){super(...arguments),this.LAYOUT_MONITOR_DELAY_MS=100,this.LAYOUT_MONITOR_DELAY_FRAMES=5,this.prevScrollTop=0,this.scrollStoppedCounter=0,this.userIsInteracting=!1,this.scrollDisabled=!1,this.prevTime=void 0}setupContainer(){super.setupContainer(),window.addEventListener("touchstart",(()=>this.userIsInteracting=!0)),window.addEventListener("touchend",(()=>this.userIsInteracting=!1)),window.addEventListener("touchcancel",(()=>this.userIsInteracting=!1))}layoutMonitor(e){if(this.isConnected()){this.scrollDisabled&&(this.scrollableElem.style.overflow="scroll",this.scrollDisabled=!1);const t=this.scrollableElem.scrollTop;if(this.isScrollPositionPastTopContent())this.resetScrollPositionToTopContent(),this.scrollableElem.style.overflow="hidden",this.scrollDisabled=!0;else if(t<0)this.scrollableElem.style.overflow="hidden",this.scrollDisabled=!0;else if(this.userIsInteracting)this.prevTime=void 0,this.scrollStoppedCounter=0;else{const n=t-this.prevScrollTop;this.prevScrollTop=t,0===n?(this.scrollStoppedCounter++,this.prevTime?e-this.prevTime>this.LAYOUT_MONITOR_DELAY_MS&&this.scrollStoppedCounter>this.LAYOUT_MONITOR_DELAY_FRAMES&&this.scrollLayoutIfNecessary()&&(this.scrollableElem.style.overflow="hidden",this.scrollDisabled=!0,this.prevTime=void 0,this.scrollStoppedCounter=0):this.prevTime=e):(this.prevTime=void 0,this.scrollStoppedCounter=0)}window.requestAnimationFrame((e=>this.layoutMonitor(e)))}}}class u extends a{constructor(){super(...arguments),this.LAYOUT_MONITOR_DELAY_MS=100,this.LAYOUT_MONITOR_DELAY_FRAMES=5,this.scrollDisabled=!1,this.prevTime=void 0,this.scrollStoppedCounter=0,this.prevScrollTop=0}layoutMonitor(e){if(this.isConnected()){this.scrollDisabled&&(this.scrollDisabled=!1,this.scrollableElem.style.overflow="scroll");const t=this.scrollableElem.scrollTop,n=t-this.prevScrollTop;this.prevScrollTop=t,this.isScrollPositionPastTopContent()?(this.scrollableElem.style.overflow="hidden",this.resetScrollPositionToTopContent(),this.scrollDisabled=!0):0===n?(this.scrollStoppedCounter++,this.prevTime?e-this.prevTime>this.LAYOUT_MONITOR_DELAY_MS&&this.scrollStoppedCounter>this.LAYOUT_MONITOR_DELAY_FRAMES&&this.scrollLayoutIfNecessary()&&(this.prevTime=void 0,this.scrollStoppedCounter=0):this.prevTime=e):(this.prevTime=void 0,this.scrollStoppedCounter=0),window.requestAnimationFrame((e=>this.layoutMonitor(e)))}}}},4945:(e,t,n)=>{"use strict";n.d(t,{MV:()=>o,hs:()=>r,nH:()=>i});class i{constructor(e,t){this.visible=!0,this.root=e,e.style.position="absolute",this.setOffset(t)}offsetByDelta(e){this.setOffset(this.offset+e)}getRoot(){return this.root}getOffset(){return this.offset}isVisible(){return this.visible}setVisible(e){this.visible=e,this.root.style.display=e?"":"none"}}class r extends i{constructor(e,t){super(e,t)}setOffset(e){this.offset=e,this.root.style.bottom=-e+"px"}}class o extends i{constructor(e,t){super(e,t)}setOffset(e){this.offset=e,this.root.style.top=e+"px"}}},7728:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});class i{constructor({startScale:e,minScale:t,maxScale:n,doubleClickScale:r,animationDuration:o},s){this.setTransform=(e,t,n)=>{this.currentZoomState.translateX=e,this.currentZoomState.translateY=t,this.currentZoomState.scale=n,this.element.style.transform=`translate(${e}px,${t}px) scale(${n})`},this.element=s,this.element.style.transformOrigin=i.TRANSFORM_ORIGIN,this.updateOriginalPosition(),this.startScale=null!=e?e:i.SCALE_OF_ONE,this.animationDuration=null!=o?o:i.DEFAULT_ANIMATION_DURATION,this.minScale=null!=t?t:i.SCALE_OF_ONE,this.maxScale=n,this.doubleClickScale=r,this.isZoomed=!1,this.currentZoomState={translateX:0,translateY:0,scale:i.SCALE_OF_ONE},this.startScale!==this.minScale&&this.enterInitialZoom()}updateOriginalPosition(){const e=this.element.getBoundingClientRect();this.originalElementWidth=e.width,this.originalElementHeight=e.height,this.originalElementLeftOff=e.left,this.originalElementTopOff=e.top}zoomAtPoint(e,t,n){this.isZoomed||this.updateOriginalPosition();const i=document.documentElement,r=this.currentZoomState.scale,o=this.restrictScale(this.currentZoomState.scale*n);this.isZoomed=o!==this.minScale;const s=i.scrollLeft,a=i.scrollTop,c=e-this.originalElementLeftOff+s,u=t-this.originalElementTopOff+a,l=(c-this.currentZoomState.translateX)/r,h=(u-this.currentZoomState.translateY)/r,d=l+(c-l)-l*o,f=h+(u-h)-h*o,p=this.restrictPosition(d,f,o),g=p.x,v=p.y;this.setTransform(g,v,o)}doubleClickZoom(e,t){this.enableAnimation(),this.zoomAtPoint(e,t,this.doubleClickScale),setTimeout((()=>this.disableAnimation()),this.animationDuration+50)}pan(e,t){const n=this.currentZoomState.translateX,i=this.currentZoomState.translateY,r=this.restrictPosition(n+e,i+t,this.currentZoomState.scale);return this.setTransform(r.x,r.y,this.currentZoomState.scale),{x:r.x-n,y:r.y-i}}resetZoom(){this.isZoomed&&(this.enableAnimation(),this.setTransform(0,0,1),this.isZoomed=!1,setTimeout((()=>this.disableAnimation()),this.animationDuration))}inZoomedState(){return this.isZoomed}getCurrentZoomState(){return this.currentZoomState}restrictScale(e){return e>=this.maxScale?this.maxScale:e<=this.minScale?this.minScale:e}enterInitialZoom(){this.enableAnimation();const e=this.originalElementWidth/2+this.originalElementLeftOff,t=this.originalElementHeight/2+this.originalElementTopOff;this.zoomAtPoint(e,t,this.startScale),setTimeout((()=>this.disableAnimation()),this.animationDuration+50)}restrictPosition(e,t,n){const i=this.originalElementWidth*n,r=this.originalElementHeight*n,o=this.originalElementWidth,s=this.originalElementHeight,a=Math.max(0,(o-i)/2),c=o-a,u=Math.max(0,(s-r)/2),l=s-u;let h,d;return h=a<e?a:e+i<c?c-i:e,d=u<t?u:t+r<l?l-r:t,{x:h,y:d}}enableAnimation(){this.element.style.transitionDuration=`${this.animationDuration}ms`}disableAnimation(){this.element.style.transitionDuration=""}}i.SCALE_OF_ONE=1,i.DEFAULT_ANIMATION_DURATION=200,i.TRANSFORM_ORIGIN="0 0 0"},3942:(e,t,n)=>{"use strict";n.d(t,{h:()=>u});var i=n(2226),r=n(9779),o=n(9040),s=n(6042),a=n(27),c=n(7728);class u extends i.C{constructor(e){var t,n,i,r,o,s,a;super(e),this.animationDuration=null!=(null===(t=e.zoomViewOptions)||void 0===t?void 0:t.animationDuration)?e.zoomViewOptions.animationDuration:c.o.DEFAULT_ANIMATION_DURATION,this.initialZoomRatio=null!==(i=null===(n=e.zoomViewOptions)||void 0===n?void 0:n.initialZoomRatio)&&void 0!==i?i:c.o.SCALE_OF_ONE,this.maxZoomRatio=null!==(o=null===(r=e.zoomViewOptions)||void 0===r?void 0:r.maxZoomRatio)&&void 0!==o?o:2*this.initialZoomRatio,this.doubleClickZoomRatio=null!==(a=null===(s=e.zoomViewOptions)||void 0===s?void 0:s.doubleClickZoomRatio)&&void 0!==a?a:2*this.initialZoomRatio}fill(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){(0,r.assert)(this.empty,"A view can only be filled once");const t=yield e;this.renderedPage=t;const n=new o.d;this.layers=[n,...this.options.layerFactories.flatMap((e=>e.get()))];const i=new s.Y({height:this.options.bookRenderOptions.pageHeight,width:this.options.bookRenderOptions.pageWidth,layers:this.layers}),c=yield i.compose(t);return this.root.replaceWith(c),this.root=c,this.root.className+=` ${a.g.VIEW_ELEMENT_CLASS} `,this.root.style.position="absolute",this.empty=!1,this.exitZoom(),t}))}doubleTapZoom(e,t){var n;null===(n=this.zoomHandler)||void 0===n||n.doubleClickZoom(e,t)}pinchZoom(e,t,n){var i;null===(i=this.zoomHandler)||void 0===i||i.zoomAtPoint(e,t,n)}pan(e,t){var n,i;return null!==(i=null===(n=this.zoomHandler)||void 0===n?void 0:n.pan(e,t))&&void 0!==i?i:{x:0,y:0}}initializeZoomHandler(){this.zoomHandler=new c.o({startScale:this.initialZoomRatio,maxScale:this.maxZoomRatio,doubleClickScale:this.doubleClickZoomRatio,animationDuration:this.animationDuration},this.root)}inZoomedState(){return!!this.zoomHandler&&this.zoomHandler.inZoomedState()}exitZoom(){var e;null===(e=this.zoomHandler)||void 0===e||e.resetZoom()}getZoomState(){return this.zoomHandler?this.zoomHandler.getCurrentZoomState():{translateX:0,translateY:0,scale:1}}}},5162:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var i=n(9779),r=n(4910),o=n(2941),s=n(9343),a=n(3083),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class u{constructor(e,t,n){this.asin=e,this.revision=t,this.options=n,this.cache=new Map,this.cacheIndex=0,this.navRef={startPositionId:1},this.pendingRenderDeferred=new r.B,this.renderingProcessId=Symbol(),this.pendingRenderDeferred.resolve()}goToPageIndex(e){return c(this,void 0,void 0,(function*(){return this.clearCache(),this.navRef={startPositionId:e},this.getPageByRelativeIndex(0,i.Direction.Absolute)}))}getRenderSettings(){return this.options.clientRenderOptionsFactory.get().bookRenderOptions}goToPositionId(e){return c(this,void 0,void 0,(function*(){return this.clearCache(),this.navRef={startPositionId:e},this.getPageByRelativeIndex(0,i.Direction.Absolute)}))}removeExpiredEntries(){const e=this.cacheIndex-12,t=this.cacheIndex+12;this.cache.forEach(((n,i)=>{(i<e||i>t)&&this.cache.delete(i)}))}renderPages(e,t,n,r){const s=new Array;let a=Promise.resolve(void 0);for(let l=0;l<t.length;l++){const h=e+(n===i.Direction.Backward?-l:l),d=this.cache.get(h);if(d)s.push(d);else{const e=t[l],d=n!==i.Direction.Backward&&l==t.length-1&&t.length<r;let f;f=0===l?this.render(e,d):a.then((()=>c(this,void 0,void 0,(function*(){return yield(0,o.N)((()=>this.render(e,d)),u.RENDERING_DELTA)})))),a=f,s.push(f),this.cache.set(h,f)}}return this.removeExpiredEntries(),s[0]}nextPage(){return c(this,void 0,void 0,(function*(){return this.cacheIndex++,this.getPageByRelativeIndex(this.cacheIndex,i.Direction.Forward)}))}previousPage(){return c(this,void 0,void 0,(function*(){return this.cacheIndex--,this.getPageByRelativeIndex(this.cacheIndex,i.Direction.Backward)}))}currentPage(){return c(this,void 0,void 0,(function*(){return this.cache.get(this.cacheIndex)||this.getPageByRelativeIndex(this.cacheIndex,i.Direction.Absolute)}))}getPageByRelativeIndex(e,t){const n=this.renderingProcessId;this.cacheIndex=e;let r=this.cache.get(e);return r?(this.prefetchBatchIfNecessary(e,n),r):this.execAndNotifyListener((()=>c(this,void 0,void 0,(function*(){for(;!this.pendingRenderDeferred.isCompleted;)if(yield this.pendingRenderDeferred.getPromise(),this.renderingProcessId!==n)throw new s.w8;if(r=this.cache.get(e),r)this.prefetchBatchIfNecessary(e,n);else{r=this.renderBatch(e,t,n);const o=t===i.Direction.Backward?i.Direction.Forward:i.Direction.Backward;r.then((()=>{this.prefetchBatchIfNecessary(e,n,o)})).catch((()=>{}))}return r}))))}prefetchBatchIfNecessary(e,t,n){const r=Math.min(...this.cache.keys()),o=Math.max(...this.cache.keys()),s=e-r,a=o-e;let c,u=Math.min(s,a);void 0!==n?(c=n===i.Direction.Absolute?i.Direction.Forward:n,u=n===i.Direction.Backward?s:a):c=u===a?i.Direction.Forward:i.Direction.Backward;const l=c===i.Direction.Backward?r-1:o+1;this.shouldRequestNewBatch(u)&&this.pendingRenderDeferred.isCompleted&&this.renderBatch(l,c,t).then((()=>{this.options.metricsService.recordCountMetrics("CachingRendererController:PrefetchFailed",0),this.renderingProcessId===t&&this.prefetchBatchIfNecessary(e,t)})).catch((()=>{this.options.metricsService.recordCountMetrics("CachingRendererController:PrefetchFailed",1)}))}renderBatch(e,t,n){return this.pendingRenderDeferred=new r.B,new Promise(((r,o)=>{setTimeout((()=>c(this,void 0,void 0,(function*(){try{const a=t===i.Direction.Backward?e+1:e,c=this.createNavigationOptions(this.navRef.startPositionId,a,t,this.options.readAheadPageCount);let u=yield this.options.bookProviderFactory.get(this.asin,this.revision,c,this.getRenderSettings());if(t===i.Direction.Backward&&(u=u.reverse()),this.renderingProcessId===n){const n=this.renderPages(e,u,t,c.pageCount);r(n)}else o(new s.w8)}catch(e){o(e)}finally{this.pendingRenderDeferred.resolve()}}))),0)}))}createNavigationOptions(e,t,n,r){return{direction:n,pageCount:r,skipPageCount:t,startPositionId:e,type:i.NavigationType.Position,bundleImages:this.options.bundleImages&&n===i.Direction.Absolute}}execAndNotifyListener(e){return c(this,void 0,void 0,(function*(){const t=new r.B,n=t.getPromise();n.catch((()=>{})),this.options.eventEmitter.emit("onRenderingBlocking",{renderingPromise:n});try{const n=yield e();return t.resolve(),n}catch(e){throw t.reject(e),e}}))}clearCache(){this.renderingProcessId=Symbol(),this.cacheIndex=0,this.cache.clear()}shouldRequestNewBatch(e){return e<6}render(e,t){return c(this,void 0,void 0,(function*(){const[n,i,r,o,s,c]=yield Promise.all([this.options.pageImageRenderer.render(e),e.getPage(),e.getLayoutPage(),e.getTokens(),e.getMetadata(),e.getPanels()]);return(null==c?void 0:c.children)&&(c.children=a.R.sortAndGroupPanels(c.children,this.getRenderSettings().pageWidth,s.progressionDirection)),{renderResult:n,page:i,layoutPage:r,tokens:o,panels:c,isFirst:i.startPositionId<=1,isLast:t||0!==s.lastPositionId&&i.endPositionId>=s.lastPositionId}}))}reset(){return c(this,void 0,void 0,(function*(){this.clearCache();const e=this.getRenderSettings();this.options.pageImageRenderer.updateSurfaceOptions(e)}))}getRenderingProcessId(){return this.renderingProcessId}}u.RENDERING_DELTA=300},8427:()=>{},2775:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});const i={default:{highlight:{background:{fill:"rgba(255, 224, 0, 0.321)"}},search:{background:{fill:"rgba(255, 235, 90, 0.2)"},border:{color:"rgb(204, 201, 178)"}},selection:{background:{fill:"rgba(5, 20, 40, 0.2)"}}},night:{highlight:{background:{fill:"rgba(105, 188, 255, 0.4)"}},search:{background:{fill:"rgba(61, 145, 215, 0.3)"},border:{color:"rgb(54, 97, 133)"}},selection:{background:{fill:"rgba(245, 245, 245, 0.4)"}}},sepia:{highlight:{background:{fill:"rgba(255, 247, 170, 0.4)"}},search:{background:{fill:"rgba(257, 246, 179, 0.4)"},border:{color:"rgb(203, 195, 145)"}},selection:{background:{fill:"rgba(0, 15, 36, 0.15)"}}},green:{highlight:{background:{fill:"rgba(255, 224, 0, 0.321)"}},search:{background:{fill:"rgba(255, 235, 90, 0.2)"},border:{color:"rgb(204, 201, 178)"}},selection:{background:{fill:"rgba(5, 20, 40, 0.2)"}}},dark:{highlight:{background:{fill:"rgba(105, 188, 255, 0.4)"}},search:{background:{fill:"rgba(61, 145, 215, 0.3)"},border:{color:"rgb(54, 97, 133)"}},selection:{background:{fill:"rgba(245, 245, 245, 0.4)"}}},grey:{highlight:{background:{fill:"rgba(105, 188, 255, 0.4)"}},search:{background:{fill:"rgba(61, 145, 215, 0.3)"},border:{color:"rgb(54, 97, 133)"}},selection:{background:{fill:"rgba(245, 245, 245, 0.4)"}}}}},2941:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});function i(e,t){return new Promise(((n,i)=>{setTimeout((()=>function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){try{const t=yield e();n(t)}catch(e){i(e)}}))),t)}))}},27:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});class i{}i.VERSION="2.0",i.DEFAULT_MAX_COLUMN="2",i.INTERACTION_LAYER_CLASS="kg-client-interaction-layer",i.ROOT_ELEMENT_CLASS="kg-client-root",i.VIEW_ELEMENT_CLASS="kg-view",i.SELECTION_ELEMENT_CLASS="kg-selection",i.HIGHLIGHT_ELEMENT_CLASS="kg-client-highlight",i.SEARCH_RESULT_ELEMENT_CLASS="kg-client-search-result",i.NOTE_ELEMENT_CLASS="kg-client-note",i.WORD_PIECE_CSS_CLASS="kg-client-piece",i.ANNOTATION_TYPE_NOTE="note",i.ANNOTATION_TYPE_HIGHLIGHT="highlight",i.ANNOTATION_TYPE_SEARCH="search",i.ROOT_THEME_CLASS={custom:"kg-client-theme--custom",default:"kg-client-theme--default",night:"kg-client-theme--night",dark:"kg-client-theme--dark",grey:"kg-client-theme--grey",green:"kg-client-theme--green",sepia:"kg-client-theme--sepia"},i.EXTERNAL_LINK_TARGET_VALUE="_blank",i.HIGHLIGHT_COLOR_CLASS={yellow:"kg-yellow-highlight",blue:"kg-blue-highlight",pink:"kg-pink-highlight",orange:"kg-orange-highlight"},i.DEFAULT_HIGHLIGHT_COLOR="yellow",i.DEFAULT_ANIMATION_DURATION=600},4650:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var i=n(9779);class r{static debouncer(e,t,n=!0){let r,o;return(0,i.assert)(t>0),(...i)=>function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return new Promise(((s,a)=>{r&&(n&&(null==o||o("Ignored consecutive call before the end of debounce period")),clearTimeout(r)),o=a,r=setTimeout((()=>{r=void 0,o=void 0,s(e(...i))}),t)}))}))}static throttler(e,t){(0,i.assert)(t>0);let n=!0;return(...i)=>n?(n=!1,setTimeout((()=>n=!0),t),{invoked:!0,result:e(...i)}):{invoked:!1}}}},4910:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});class i{constructor(){this.completed=!1,this.promise=new Promise(((e,t)=>{this.resolveCallback=e,this.rejectCallback=t}))}resolve(e){var t;null===(t=this.resolveCallback)||void 0===t||t.call(this,e),this.completed=!0}reject(e){var t;null===(t=this.rejectCallback)||void 0===t||t.call(this,e),this.completed=!0}getPromise(){return this.promise}get isCompleted(){return this.completed}}},6891:(e,t,n)=>{"use strict";function i(){return/iPad|iPhone|iPod/.test(navigator.platform)||/Mac/.test(navigator.platform)&&navigator.maxTouchPoints>1}n.d(t,{g:()=>i})},4953:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});class i{constructor(){this.handlers={},this.callbackInProgress=!1}on(e,t){let n=this.handlers[e];return n||(n=[],this.handlers[e]=n),this.handlers[e].push(t),t}off(e,t){const n=this.handlers[e];if(!t)return;const i=n.indexOf(t);-1!==i&&this.handlers[e].splice(i,1)}offAll(){this.handlers={}}emit(e,t){const n=this.handlers[e];if(n){this.callbackInProgress=!0;try{for(const e of n)e(t)}finally{this.callbackInProgress=!1}}}get isCallbackInProgress(){return this.callbackInProgress}}},373:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});class i{constructor(e){this.instance=e}get(){return this.instance}set(e){this.instance=e}}},2910:()=>{},8390:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});class i{}i.EXECUTION_TIME="ExecutionTime",i.COUNT="Count",i.ERROR_COUNT="ErrorCount",i.MIN="min",i.MAX="max",i.AVG="avg",i.FRAME_RATE="FrameRate",i.TOP_SPINNER="TopSpinner",i.BOTTOM_SPINNER="BottomSpinner",i.LAYOUT_ERROR="LayoutError"},3083:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});class i{static sortAndGroupPanels(e,t,n){if(!(null==e?void 0:e.length))return i.EMPTY_ARRAY;if(!i.isTwoPageView(e))return i.sortPanelsByOrdinal(e);const[r,o]=e.reduce(((e,n)=>(e[n.x>=t/2?1:0].push(n),e)),[[],[]]),s=i.sortPanelsByOrdinal(r),a=i.sortPanelsByOrdinal(o);return"rtl"===n?[...a,...s]:[...s,...a]}static isTwoPageView(e){const t=new Set;return e.some((e=>!!t.has(e.ordinal)||(t.add(e.ordinal),!1)))}static sortPanelsByOrdinal(e){return[...e].sort(((e,t)=>e.ordinal-t.ordinal))}}i.EMPTY_ARRAY=[]},9205:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,J:()=>r});var i=n(2941);function r(e,t=5,n=new s){return o(0,e,t,n)}function o(e,t,n,r){const s=r.getDelay(e);return(0===e?t():(0,i.N)(t,s)).catch((i=>e<n?o(e+1,t,n,r):Promise.reject(i)))}class s{constructor(e=200,t=1e4){this.baseDelay=e,this.maxDelay=t}getDelay(e){const t=Math.min(this.maxDelay,this.baseDelay*Math.pow(2,e));return t/2+Math.random()*t/2}}},9429:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});class i{static adjustTokenHeights(e,t){const n=[];if(e.length)for(const i of e)n.push(this.getAdjustedToken(i,t));return n}static fillTokensGaps(e){let t=new Array;if(e.length){t.push(Object.assign({},e[0]));for(let n=1;n<e.length;n++){let i=t[t.length-1];if(e[n].y===i.y){const r=this.calculateGapToken(e[n],i);t.push(r)}t.push(e[n])}}return t}static calculateGapToken(e,t){return{x:t.x+t.width,y:t.y,width:Math.abs(e.x-(t.x+t.width)),height:Math.min(e.height,t.height),startPositionId:t.endPositionId+1,endPositionId:e.startPositionId-1}}static calculatePieceToken(e,t){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top,startPositionId:t.startPositionId,endPositionId:t.endPositionId,linkPositionId:t.linkPositionId,externalLink:t.externalLink}}static createVirtualToken(e,t){const n={x:e.x,y:t+e.y,width:e.width,height:e.height};if(e.pieces){const i=new Array;for(const n of e.pieces){const e={left:n.left,top:t+n.top,bottom:t+n.bottom,right:n.right};i.push(e)}n.pieces=i}return n}static isTokenUnderLocation(e,t){let n,i=!1;if(e.pieces)for(const r of e.pieces){const e={x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top};if(n=this.distanceFromToken(e,t),i=0===n.x&&0===n.y,i)return!0}else n=this.distanceFromToken(e,t),i=0===n.x&&0===n.y;return i}static distanceFromToken(e,t){const{x:n,y:i}=t,r=e.x,o=n<r||n>r+e.width?n-r:0,s=e.y;return{x:o,y:i<s||i>s+e.height?i-s:0}}static getTokenLocation(e){if(e.pieces){let t=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER;for(const i of e.pieces)t=i.left<t?i.left:t,n=i.top<n?i.top:n;return{x:t,y:n}}return{x:e.x,y:e.y}}static createTokenRectFromTokenPiece(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}static createRectFromToken(e){return{top:e.y,left:e.x,bottom:e.y+e.height,right:e.x+e.width}}static getRelativeTokenPosition(e,t){if(!t)return e;const n=Object.assign(Object.assign({},e),{x:e.x+t.x,y:e.y+t.y,pieces:e.pieces&&[...e.pieces]});if(n.pieces)for(let e=0;e<n.pieces.length;e++)n.pieces[e]={top:n.pieces[e].top+t.y,bottom:n.pieces[e].bottom+t.y,left:n.pieces[e].left+t.x,right:n.pieces[e].right+t.x};return n}static getAdjustedToken(e,t){const n="OpenDyslexic"===t?.716*e.height:e.height,i=e.height-n;return Object.assign(Object.assign({},e),{height:n,y:e.y+i/2})}}},3946:(e,t,n)=>{"use strict";function i(e,t){return`${e}?${new URLSearchParams(t).toString()}`}n.d(t,{J:()=>i})},560:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});class i{static isInRect(e,t){return e.left<=t.x&&t.x<=e.right&&e.top<=t.y&&t.y<=e.bottom}}},6854:(e,t,n)=>{"use strict";function i(){return n.g.kfwClientFeatures}n.d(t,{f:()=>i})},5941:(e,t,n)=>{"use strict";function i(){const e=["7673072SRCcAv","485922BZcOLC","substring","6267880qFIJRN","4128naaqMa","4jmMJEL","3364938TRQaur","expiresAt","token","952053AtMXVM","559796gDVDSD","length","12173mRLGfz"];return(i=function(){return e})()}function r(e,t){const n=i();return(r=function(e,t){return n[e-=407]})(e,t)}n.d(t,{L:()=>s}),function(e,t){const n=r,i=e();for(;;)try{if(668523==-parseInt(n(411))/1+-parseInt(n(407))/2+parseInt(n(419))/3*(parseInt(n(415))/4)+parseInt(n(413))/5+parseInt(n(414))/6*(parseInt(n(409))/7)+-parseInt(n(410))/8+-parseInt(n(416))/9)break;i.push(i.shift())}catch(e){i.push(i.shift())}}(i);class o extends Error{constructor(){super("Invalid rendering token")}}class s{getKey(e){const t=r;if(e[t(418)][t(408)]<100)throw new o;const n=e[t(417)]%60;return e[t(418)][t(412)](n,n+40)}}},8298:(e,t,n)=>{"use strict";function i(){const e=["deriveBits","value","buffer","1052xBmdFK","decode","utf-8","next","subtle","raw","380TSPGZI","11lUALVb","importKey","base64StringToArrayBuffer","12794508Rfjwgx","AES-GCM","30JbzuLG","deriveKey","1247127FZlvgx","apply","then","219046WVfQmK","getKey","2574486AbbHiB","decrypt","PBKDF2","slice","length","653841QSxuua","4qyHnkV","SHA-256","16LIxcCc","862254eIgIYp","charCodeAt","encode","crypto"];return(i=function(){return e})()}n.d(t,{N:()=>s});const r=o;function o(e,t){const n=i();return(o=function(e,t){return n[e-=266]})(e,t)}!function(e,t){const n=o,i=e();for(;;)try{if(328091==parseInt(n(279))/1*(-parseInt(n(287))/2)+parseInt(n(290))/3+parseInt(n(297))/4*(-parseInt(n(268))/5)+-parseInt(n(281))/6+parseInt(n(276))/7*(-parseInt(n(289))/8)+-parseInt(n(286))/9*(-parseInt(n(274))/10)+-parseInt(n(269))/11*(-parseInt(n(272))/12))break;i.push(i.shift())}catch(e){i.push(i.shift())}}(i);class s{constructor(e){this.imageCipherKeyProvider=e}decrypt(e,t){return n=this,i=void 0,s=function*(){const n=o,i=new TextDecoder(n(299)),r=new TextEncoder,s=i[n(298)](e),a=s[n(284)](0,24),c=s.slice(24,48),u=s[n(284)](48,s.length),l=this[n(271)](a),h=this[n(271)](c),d=this.base64StringToArrayBuffer(u),f=this.imageCipherKeyProvider[n(280)](t),p=yield window[n(293)].subtle[n(270)](n(267),r[n(292)](f),{name:n(283)},!1,[n(294),n(275)]),g=yield window.crypto[n(266)][n(275)]({name:n(283),salt:l,iterations:1e3,hash:n(288)},p,{name:n(273),length:128},!1,[n(282)]);return yield window[n(293)].subtle[n(282)]({name:"AES-GCM",iv:h,additionalData:r.encode(f[n(284)](0,9)),tagLength:128},g,d)},new((r=void 0)||(r=Promise))((function(e,t){const a=o;function c(e){try{l(s.next(e))}catch(e){t(e)}}function u(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){const n=o;var i;t.done?e(t[n(295)]):(i=t[n(295)],i instanceof r?i:new r((function(e){e(i)})))[n(278)](c,u)}l((s=s[a(277)](n,i||[]))[a(300)]())}));var n,i,r,s}[r(271)](e){const t=r,n=atob(e),i=new Uint8Array(n.length);for(let e=0;e<n[t(285)];e++)i[e]=n[t(291)](e);return i[t(296)]}}},9779:t=>{"use strict";t.exports=e},2683:e=>{"use strict";e.exports=t},6270:e=>{"use strict";e.exports=n}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return i[e](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{"use strict";o.r(s),o.d(s,{BaseNavigationService:()=>z.I,BookMetadataProvider:()=>u._,BottomElement:()=>ie.MV,BusyException:()=>c.Tg,CachingRendererController:()=>re.B,CdnDataLoader:()=>f.d,CompositeContentDecorationRenderer:()=>E.G,Constants:()=>ce.g,ContentView:()=>H.C,DECORATIONS_CLASS_NAME:()=>R.tj,DEFAULT_RENDER_BATCH_SIZE:()=>e.T,Debouncer:()=>ue.d,DefaultContentView:()=>V.w,DefaultDecorationProvider:()=>k.i,DefaultInteractionController:()=>I.q,DefaultKaramelClient:()=>t.y,DefaultKaramelClientFactory:()=>e.J,DefaultSelectionRenderer:()=>A.G,Deferred:()=>le.B,DelayedLayoutController:()=>ne.CP,EventEmitter:()=>de.v,ExponentialBackoffWithJitter:()=>me.C,FixedFormatPageCountError:()=>H.s,GestureType:()=>N.d,GestureUtils:()=>N.z,GuidedContentView:()=>G.k,GuidedViewController:()=>C.C,GuidedViewService:()=>W.q,HIGHLIGHT_DECORATIONS_Z_INDEX:()=>R.I6,HighlightDecorationRenderer:()=>S.y,INTERACTIVE_LAYER_Z_INDEX:()=>R.gy,ImageCache:()=>p.y,ImageCipherKeyProvider:()=>h.L,ImageDecipher:()=>d.N,InstanceFactory:()=>fe.b,InteractionController:()=>I.y,InteractionControllerFactory:()=>x.y,InteractivityLayer:()=>R._V,KaramelContentLayer:()=>F.d,KaramelServiceBookMetadataProvider:()=>l.i,LINKS_Z_INDEX:()=>R.uJ,LayoutController:()=>ne.hy,LayoutElement:()=>ie.nH,MetricsConstants:()=>ge.P,MouseGestureHandler:()=>j.s,NOTE_DECORATIONS_Z_INDEX:()=>R.c8,NavigationMetrics:()=>Y.p,NavigationServiceFactory:()=>K.p,NoteDecorationRenderer:()=>T.j,PaginationService:()=>X.N,PanelTokenSorter:()=>ve.R,PanningPaginationService:()=>Z.s,RenderSettingsChangedException:()=>c.w8,ScrollLock:()=>J.t,ScrollService:()=>Q.a,SearchResultDecorationRenderer:()=>P.v,Selection:()=>$.Y,SelectionController:()=>O.x,SelectionElement:()=>A.I,ServiceBookProviderAdapter:()=>v.m,ServiceBookProviderFactory:()=>m.n,ServiceDataLoader:()=>y.h,StackCompositor:()=>B.Y,THEMES_DATA:()=>se.M,TarDataLoader:()=>w.t,TarReader:()=>b.J,ThrottlingException:()=>c.yy,TokensUtils:()=>ye.g,TopElement:()=>ie.hs,TouchGestureHandler:()=>D.Q,Vector2dUtils:()=>be.S,ViewNoLongerValidException:()=>c.Lf,ViewsTracker:()=>L.B,ZoomHandler:()=>ee.o,ZoomableContentView:()=>te.h,ZoomableViewController:()=>M.Q,buildPathAndQuery:()=>we.J,execAsync:()=>ae.N,getKFWClientFeatures:()=>_e.f,iOSLayoutController:()=>ne.oX,isIOS:()=>he.g,withRetry:()=>me.J});var e=o(3501),t=o(9611),n=o(3253),i={};for(const e in n)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient"].indexOf(e)<0&&(i[e]=()=>n[e]);o.d(s,i);var r=o(9434);i={};for(const e in r)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient"].indexOf(e)<0&&(i[e]=()=>r[e]);o.d(s,i);var a=o(1598);i={};for(const e in a)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient"].indexOf(e)<0&&(i[e]=()=>a[e]);o.d(s,i);var c=o(9343),u=o(5889),l=o(4289),h=o(5941),d=o(8298),f=o(2817),p=o(7253),g=o(5078);i={};for(const e in g)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache"].indexOf(e)<0&&(i[e]=()=>g[e]);o.d(s,i);var v=o(5922),m=o(180),y=o(5502),w=o(6565),b=o(7976),_=o(7754);i={};for(const e in _)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache","ServiceBookProviderAdapter","ServiceBookProviderFactory","ServiceDataLoader","TarDataLoader","TarReader"].indexOf(e)<0&&(i[e]=()=>_[e]);o.d(s,i);var k=o(7614),E=o(8334),S=o(9108),T=o(7801),P=o(1900),C=o(2168),x=o(9665),I=o(5745),R=o(3969),O=o(9367),A=o(6942),$=o(756),L=o(2797),M=o(6786),j=o(8972),D=o(2307),N=o(9148),F=o(9040),B=o(6042),U=o(1822);i={};for(const e in U)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache","ServiceBookProviderAdapter","ServiceBookProviderFactory","ServiceDataLoader","TarDataLoader","TarReader","DefaultDecorationProvider","CompositeContentDecorationRenderer","HighlightDecorationRenderer","NoteDecorationRenderer","SearchResultDecorationRenderer","GuidedViewController","InteractionControllerFactory","DefaultInteractionController","InteractionController","DECORATIONS_CLASS_NAME","HIGHLIGHT_DECORATIONS_Z_INDEX","INTERACTIVE_LAYER_Z_INDEX","InteractivityLayer","LINKS_Z_INDEX","NOTE_DECORATIONS_Z_INDEX","SelectionController","DefaultSelectionRenderer","SelectionElement","Selection","ViewsTracker","ZoomableViewController","MouseGestureHandler","TouchGestureHandler","GestureType","GestureUtils","KaramelContentLayer","StackCompositor"].indexOf(e)<0&&(i[e]=()=>U[e]);o.d(s,i);var z=o(8724),H=o(2226),V=o(9083),G=o(4229),W=o(4155),q=o(8707);i={};for(const e in q)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache","ServiceBookProviderAdapter","ServiceBookProviderFactory","ServiceDataLoader","TarDataLoader","TarReader","DefaultDecorationProvider","CompositeContentDecorationRenderer","HighlightDecorationRenderer","NoteDecorationRenderer","SearchResultDecorationRenderer","GuidedViewController","InteractionControllerFactory","DefaultInteractionController","InteractionController","DECORATIONS_CLASS_NAME","HIGHLIGHT_DECORATIONS_Z_INDEX","INTERACTIVE_LAYER_Z_INDEX","InteractivityLayer","LINKS_Z_INDEX","NOTE_DECORATIONS_Z_INDEX","SelectionController","DefaultSelectionRenderer","SelectionElement","Selection","ViewsTracker","ZoomableViewController","MouseGestureHandler","TouchGestureHandler","GestureType","GestureUtils","KaramelContentLayer","StackCompositor","BaseNavigationService","ContentView","FixedFormatPageCountError","DefaultContentView","GuidedContentView","GuidedViewService"].indexOf(e)<0&&(i[e]=()=>q[e]);o.d(s,i);var Y=o(9250),K=o(5988),X=o(6835),Z=o(6583),J=o(9114),Q=o(5526),ee=o(7728),te=o(3942),ne=o(9718),ie=o(4945),re=o(5162),oe=o(8427);i={};for(const e in oe)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache","ServiceBookProviderAdapter","ServiceBookProviderFactory","ServiceDataLoader","TarDataLoader","TarReader","DefaultDecorationProvider","CompositeContentDecorationRenderer","HighlightDecorationRenderer","NoteDecorationRenderer","SearchResultDecorationRenderer","GuidedViewController","InteractionControllerFactory","DefaultInteractionController","InteractionController","DECORATIONS_CLASS_NAME","HIGHLIGHT_DECORATIONS_Z_INDEX","INTERACTIVE_LAYER_Z_INDEX","InteractivityLayer","LINKS_Z_INDEX","NOTE_DECORATIONS_Z_INDEX","SelectionController","DefaultSelectionRenderer","SelectionElement","Selection","ViewsTracker","ZoomableViewController","MouseGestureHandler","TouchGestureHandler","GestureType","GestureUtils","KaramelContentLayer","StackCompositor","BaseNavigationService","ContentView","FixedFormatPageCountError","DefaultContentView","GuidedContentView","GuidedViewService","NavigationMetrics","NavigationServiceFactory","PaginationService","PanningPaginationService","ScrollLock","ScrollService","ZoomHandler","ZoomableContentView","DelayedLayoutController","LayoutController","iOSLayoutController","BottomElement","LayoutElement","TopElement","CachingRendererController"].indexOf(e)<0&&(i[e]=()=>oe[e]);o.d(s,i);var se=o(2775),ae=o(2941),ce=o(27),ue=o(4650),le=o(4910),he=o(6891),de=o(4953),fe=o(373),pe=o(2910);i={};for(const e in pe)["default","DEFAULT_RENDER_BATCH_SIZE","DefaultKaramelClientFactory","DefaultKaramelClient","BusyException","RenderSettingsChangedException","ThrottlingException","ViewNoLongerValidException","BookMetadataProvider","KaramelServiceBookMetadataProvider","ImageCipherKeyProvider","ImageDecipher","CdnDataLoader","ImageCache","ServiceBookProviderAdapter","ServiceBookProviderFactory","ServiceDataLoader","TarDataLoader","TarReader","DefaultDecorationProvider","CompositeContentDecorationRenderer","HighlightDecorationRenderer","NoteDecorationRenderer","SearchResultDecorationRenderer","GuidedViewController","InteractionControllerFactory","DefaultInteractionController","InteractionController","DECORATIONS_CLASS_NAME","HIGHLIGHT_DECORATIONS_Z_INDEX","INTERACTIVE_LAYER_Z_INDEX","InteractivityLayer","LINKS_Z_INDEX","NOTE_DECORATIONS_Z_INDEX","SelectionController","DefaultSelectionRenderer","SelectionElement","Selection","ViewsTracker","ZoomableViewController","MouseGestureHandler","TouchGestureHandler","GestureType","GestureUtils","KaramelContentLayer","StackCompositor","BaseNavigationService","ContentView","FixedFormatPageCountError","DefaultContentView","GuidedContentView","GuidedViewService","NavigationMetrics","NavigationServiceFactory","PaginationService","PanningPaginationService","ScrollLock","ScrollService","ZoomHandler","ZoomableContentView","DelayedLayoutController","LayoutController","iOSLayoutController","BottomElement","LayoutElement","TopElement","CachingRendererController","THEMES_DATA","execAsync","Constants","Debouncer","Deferred","isIOS","EventEmitter","InstanceFactory"].indexOf(e)<0&&(i[e]=()=>pe[e]);o.d(s,i);var ge=o(8390),ve=o(3083),me=o(9205),ye=o(9429),we=o(3946),be=o(560),_e=o(6854)})(),s})(),e.exports=i(n(25234),n(4233),n(80103))},25234:function(module){var e;"undefined"!=typeof self&&self,e=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=47)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);class r{constructor(e,t,n,i){this.top=e,this.bottom=t,this.left=n,this.right=i}static applyTransformationToBoundingBoxPoints(e,t){const n=e[i.b.HorizontalScaling],o=e[i.b.VerticalScaling],s=e[i.b.HorizontalTranslation],a=e[i.b.VerticalTranslation],c=t.top*o+a,u=t.bottom*o+a,l=t.left*n+s,h=t.right*n+s;return new r(c,u,l,h)}static getBoudningBoxByPath(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;const s=e.split(" ");for(let e=0;e<s.length;e++)if(""!=s[e]){const r=this.isLetter(s[e][0])?s[e].substr(1).split(","):s[e].split(",");if(r.length>=2)for(let e=0;e<r.length;e++)e%2==0?(t=Math.min(parseFloat(r[e]),t),i=Math.max(parseFloat(r[e]),i)):(n=Math.min(parseFloat(r[e]),n),o=Math.max(parseFloat(r[e]),o))}return new r(n,o,t,i)}compute(e){return 0===this.top&&0===this.bottom&&0===this.left&&0==this.right?e:0===e.top&&0===e.bottom&&0===e.left&&0==e.right?this:new r(Math.min(this.top,e.top),Math.max(this.bottom,e.bottom),Math.min(this.left,e.left),Math.max(this.right,e.right))}static isLetter(e){return e.toLowerCase()!=e.toUpperCase()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var i,r=n(3),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e[e.HorizontalScaling=0]="HorizontalScaling",e[e.VerticalSkewing=1]="VerticalSkewing",e[e.HorizontalSkewing=2]="HorizontalSkewing",e[e.VerticalScaling=3]="VerticalScaling",e[e.HorizontalTranslation=4]="HorizontalTranslation",e[e.VerticalTranslation=5]="VerticalTranslation"}(i||(i={}));class s{static getDpi(){if(s.dpi<0){const e=document.createElement("div"),t=e.style;t.height="1in",t.width="1in",t.top="-100%",t.left="-100%",t.position="absolute",document.body.appendChild(e);const n=e.offsetHeight;document.body.removeChild(e),s.dpi=n}return s.dpi}static getPixelRatio(e){if(s.pixelRatio<0){e.height=20,e.width=20;const t=window.devicePixelRatio||1,n=e.getContext("2d");Object(r.b)(n);const i=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;s.pixelRatio=t/i}return s.pixelRatio}static canvasToBlob(e){const t=e;if(t.toBlob)return new Promise((t=>{e.toBlob((e=>{Object(r.b)(e),t(e)}))}));if(t.convertToBlob)return e.convertToBlob();throw Error("canvasToBlob: canvas cannot be converted to a Blob")}static canvasToImage(e,t,n){return o(this,void 0,void 0,(function*(){const i=yield s.canvasToBlob(e),r=URL.createObjectURL(i);return this.blobToImage(r,t,n).finally((()=>URL.revokeObjectURL(r)))}))}static blobToImage(e,t,n){return o(this,void 0,void 0,(function*(){return new Promise(((i,r)=>{const o=new Image;return o.src=e,o.style.objectFit="cover",o.style.objectPosition="top",void 0!==t&&(o.style.width=t+"px"),void 0!==n&&(o.style.height=n+"px"),o.onload=()=>{i(o)},o.onerror=e=>{r(e)},o}))}))}}s.dpi=-1,s.pixelRatio=-1},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}i.EXECUTION="ExecutionTime",i.ERROR="ErrorCount",i.NETWORK_ERROR_NOT_FOUND="404",i.NETWORK_ERROR_BAD_REQUEST="400",i.NETWORK_ERROR_SERVER_ERROR="500",i.RENDER_PAGE="RenderPage",i.LOAD_IMAGE="LoadImage",i.PREVIOUS_PAGE="PreviousPage",i.NEXT_PAGE="NextPage",i.FILL_VIEW="FillView",i.ADD_ANNOTATION="AddAnnotation",i.REMOVE_ANNOTATION="RemoveAnnotation",i.CLEAR_TEXT_SELECTION="ClearTextSelection",i.GET_TABLE_OF_CONTENTS="GetTableOfContents",i.GET_METADATA="GetMetadata",i.GET_MANIFEST="GetManifest",i.GET_LOCATION_MAP="GetLocationMap",i.GET_PAGE_POSITION_RANGE="GetPagePositionRange",i.UPDATE_RENDER_OPTIONS="UpdateRenderOptions",i.GET_CURRENT_BOOK_PROVIDER="GetCurrentBookProvider",i.GO_TO_PAGE="GoToPage",i.GO_TO_POSITION="GoToPosition",i.APPLY_ANTI_MOIRE_FILTER="ApplyAntiMoireFilter"},function(e,t,n){"use strict";function i(e,t){if(null==e)throw new Error(null!=t?t:"Expected 'val' to be defined, but received "+e)}function r(e,t){if(!e)throw new Error(null!=t?t:'Expected "val" to be true, but it was false')}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);class r{static getDimensions(e){return{width:e.right-e.left,height:e.bottom-e.top}}static convertToAbsolutePosition(e,t){const n=[e.left,e.top,1],i=this.convertXPositionToAbsolute(n,t),r=this.convertYPositionToAbsolute(n,t),o=[e.right,e.bottom,1];return{top:r,left:i,right:this.convertXPositionToAbsolute(o,t),bottom:this.convertYPositionToAbsolute(o,t)}}static convertXPositionToAbsolute(e,t){return t[i.b.HorizontalScaling]*e[0]+t[i.b.HorizontalSkewing]*e[1]+t[i.b.HorizontalTranslation]*e[2]}static convertYPositionToAbsolute(e,t){return t[i.b.VerticalSkewing]*e[0]+t[i.b.VerticalScaling]*e[1]+t[i.b.VerticalTranslation]*e[2]}static round(e){return{bottom:Math.round(e.bottom),left:Math.round(e.left),right:Math.round(e.right),top:Math.round(e.top)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){this.path2d="",this.subPathPoints=0,this.subPaths=0}moveTo(e,t){this.subPaths++,this.subPathPoints=0,this.addPathPoint(),this.path2d+=`M ${e} ${t}`}lineTo(e,t){this.addPathPoint(),this.path2d+=`L ${e} ${t}`}relativeLineTo(e,t){this.addPathPoint(),this.path2d+=`l ${e} ${t}`}addEllipticalArc(e,t,n,i,r,o,s){const a=e+n*Math.cos(r/180*Math.PI),c=t+i*Math.sin(r/180*Math.PI),u=e+n*Math.cos(o/180*Math.PI),l=t+i*Math.sin(o/180*Math.PI);let h=(o-r)%360;h<0&&(h+=360);const d=!s&&h>180||s&&h<180;this.subPathPoints<=1?this.moveTo(a,c):this.lineTo(a,c),this.addPathPoint(),this.path2d+=`A ${n} ${i} 0 ${d?1:0} ${s?0:1} ${u} ${l}`}addPathPoint(){(this.subPaths>0||this.subPathPoints>0)&&(this.path2d+=" "),this.subPathPoints++}closePath(){this.addPathPoint(),this.path2d+="z"}build(){return new Path2D(this.path2d)}}},function(e,t,n){"use strict";function i(e){const t=e.h,n=e.s,i=e.v,r=Math.floor(6*t),o=6*t-r,s=i*(1-n),a=i*(1-o*n),c=i*(1-(1-o)*n);let u,l,h;switch(r%6){case 0:u=i,l=c,h=s;break;case 1:u=a,l=i,h=s;break;case 2:u=s,l=i,h=c;break;case 3:u=s,l=a,h=i;break;case 4:u=c,l=s,h=i;break;case 5:u=i,l=s,h=a;break;default:throw new Error("Error converting HSV to RGB")}return{r:Math.round(255*u),g:Math.round(255*l),b:Math.round(255*h)}}function r(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),o=Math.min(t,n,i),s=r;let a=r;const c=r-o,u=0==r?0:c/r;if(r==o)a=0;else{switch(r){case t:a=(n-i)/c+(n<i?6:0);break;case n:a=(i-t)/c+2;break;case i:a=(t-n)/c+4}a/=6}return{h:a,s:u,v:s}}function o(e){let t=e.replace("#","");return 3===t.length&&(t=`${t[0]}${t[0]}${t[1]}${t[1]}${t[2]}${t[2]}`),{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:parseInt(t.substring(6,8),16)/255}}function s(e){let t=e.r.toString(16),n=e.g.toString(16),i=e.b.toString(16),r=Math.round(255*e.a).toString(16);return 1===t.length&&(t="0"+t),1===n.length&&(n="0"+n),1===i.length&&(i="0"+i),1===r.length&&(r="0"+r),"#"+t+n+i+r}n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}))},function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.Forward="Forward",e.Backward="Backward",e.Absolute="Absolute"}(i||(i={})),function(e){e.Position="Position",e.Page="Page"}(r||(r={}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Top=0]="Top",e[e.Left=1]="Left",e[e.Bottom=2]="Bottom",e[e.Right=3]="Right"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(3),r=n(12),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e,t,n,i=!0){this.asin=e,this.pages=new Map,this.layoutPages=new Map,this.tokens=new Map,this.panels=new Map,this.pageIndex=0,this.theme="",this.unscrambleImages=!1,this.host=`${i?"https":"http"}://${t}:${n}`}gotoPage(e){this.pageIndex=e}nextPage(){this.pageIndex++}previousPage(){this.pageIndex--}getImage(e){return o(this,void 0,void 0,(function*(){return yield this.initPromise,new Promise(((t,n)=>o(this,void 0,void 0,(function*(){const i=this.buildUrl("/get-image",{asin:this.asin,theme:this.theme,image:e}),o=this.buildUrl("/get-image-manifest",{asin:this.asin,theme:this.theme,image:e});try{const e=yield fetch(i);if(this.unscrambleImages){const i=yield fetch(o);if(e.ok&&i.ok){const n=yield e.blob(),o=yield i.json(),s=new r.a,a=yield s.unscramble(n,o);t(a)}else n("Failed to load image or manifest")}else e.ok?t(yield e.blob()):n()}catch(e){n(e)}}))))}))}getPage(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.pages.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-page-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.pages.set(e.pageIndex,e))),t=this.pages.get(e)}return Object(i.b)(t,"Unable to find page "+e),t}))}getLayoutPage(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.layoutPages.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-layout-page-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.layoutPages.set(e.pageIndex,e))),t=this.layoutPages.get(e)}return Object(i.b)(t,"Unable to find page "+e),t}))}getFonts(){return o(this,void 0,void 0,(function*(){return yield this.initPromise,Object(i.b)(this.fonts,"Fonts should be loaded"),this.fonts}))}getTokens(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.tokens.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-tokens-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.tokens.set(e.pageIndex,e))),t=this.tokens.get(e)}return Object(i.b)(t,"Unable to find page tokens"),Promise.resolve(t)}))}getPanels(){return o(this,void 0,void 0,(function*(){const e=this.pageIndex;let t=this.panels.get(e);if(!t){yield this.initPromise;const n=this.buildUrl("/get-panels-section",{asin:this.asin,theme:this.theme,pageIndex:String(e)}),i=yield fetch(n);(yield i.json()).forEach((e=>this.panels.set(e.pageIndex,e))),t=this.panels.get(e)}return Object(i.b)(t,"Unable to find page panels"),Promise.resolve(t)}))}getLocationMap(){return o(this,void 0,void 0,(function*(){const e=this.buildUrl("/get-location-map",{asin:this.asin,theme:this.theme}),t=yield fetch(e);return yield t.json()}))}getTableOfContent(){return o(this,void 0,void 0,(function*(){return yield this.initPromise,Object(i.b)(this.toc),this.toc}))}getMetadata(){return o(this,void 0,void 0,(function*(){return yield this.initPromise,Object(i.b)(this.metadata),this.metadata}))}getManifest(){return o(this,void 0,void 0,(function*(){return{manifestComplete:!0,formatVersion:3,revision:1,asin:"stub",bookType:"Reflowable",rendererType:"stub",contentType:"stub",bookFormat:"stub",publisherPanel:!1,acr:"stub"}}))}render(e){var t;return o(this,void 0,void 0,(function*(){this.theme=null!==(t=e.theme)&&void 0!==t?t:"custom";const n=this.buildUrl("/render",{settings:JSON.stringify(e),theme:this.theme,asin:this.asin});return this.initPromise=fetch(n).then((()=>{this.fonts=new Promise(((e,t)=>{const n=this.buildUrl("/get-glyphs",{asin:this.asin,theme:this.theme});fetch(n).then((t=>{t.json().then((t=>{e(t)}))})).catch((e=>t(e)))})),this.toc=new Promise(((e,t)=>{const n=this.buildUrl("/get-toc",{asin:this.asin,theme:this.theme});fetch(n).then((t=>{t.json().then((t=>{e(t)}))})).catch((e=>t(e)))})),this.metadata=new Promise(((e,t)=>{const n=this.buildUrl("/get-metadata",{asin:this.asin,theme:this.theme});fetch(n).then((t=>{t.json().then((t=>{e(t)}))})).catch((e=>t(e)))})),void 0!==e.pageIndex?this.pageIndex=e.pageIndex:void 0!==e.positionId&&(this.pageIndex=0)}))}))}buildUrl(e,t){const n=new URLSearchParams(t).toString();return`${this.host}/karamelgen${e}?${n}`}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e,t,n,i,r){this.devBookDataLoader=e,this.tokens=i,this.page=t,this.layoutPage=n,this.panels=r}getImage(e){return this.devBookDataLoader.getImage(e)}getMetadata(){return this.devBookDataLoader.getMetadata()}getManifest(){return this.devBookDataLoader.getManifest()}getLocationMap(){return this.devBookDataLoader.getLocationMap()}getPage(){return this.page}getLayoutPage(){return this.layoutPage}getTableOfContent(){return this.devBookDataLoader.getTableOfContent()}getTokens(){return this.tokens}getPanels(){return this.panels}getFonts(){return this.devBookDataLoader.getFonts()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0),r=n(2),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e,t){this.nodeRenderers=e.nodeRenderers,this.decorationRender=e.decorationRender,this.metricsUtil=t}render(e){return o(this,void 0,void 0,(function*(){return yield this.metricsUtil.asyncExecuteMetrics(r.a.RENDER_PAGE,(()=>o(this,void 0,void 0,(function*(){const t=yield e.bookProvider.getPage();e.context.fillStyle=t.fillColor,e.context.fillRect(0,0,t.width,t.height),e.options=this.createRenderRequestOptions(t);const n=t.children;return{rect:yield this.renderChildNodes(e,n),startPositionId:t.startPositionId,endPositionId:t.endPositionId,pageFillColor:t.fillColor,pageInkColor:t.inkColor}}))))}))}createRenderRequestOptions(e){const t={};return e.startPositionId<=1&&(t.excludeDecoration=(e,t)=>t&&0===e.elementId),t.inkColor=e.inkColor,t}renderChildNodes(e,t){return o(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);if(t&&t.length>0){const i=yield this.renderTimeboxed(t,(t=>o(this,void 0,void 0,(function*(){return t.rect?yield this.renderDecorations(e,t,!0):void 0}))));n=n.compute(i);const r=yield this.renderTimeboxed(t,(t=>o(this,void 0,void 0,(function*(){const n=yield this.renderDecorations(e,t,!1),i=yield this.renderNode(e,t);return n.compute(i)}))));n=n.compute(r)}return n}))}renderTimeboxed(e,t){return new Promise(((n,r)=>{const s=new i.a(0,0,0,0);setTimeout((()=>o(this,void 0,void 0,(function*(){return yield this.renderTimeboxedRecursive(s,e,0,t,n,r)}))))}))}renderTimeboxedRecursive(e,t,n,i,r,a){return o(this,void 0,void 0,(function*(){try{let c=e;const u=performance.now();for(;performance.now()-u<s.MAX_EXECUTION_TIME&&n<t.length;){const e=t[n],r=yield i(e);r&&(c=c.compute(r)),n++}n<t.length?setTimeout((()=>o(this,void 0,void 0,(function*(){return yield this.renderTimeboxedRecursive(c,t,n,i,r,a)})))):r(c)}catch(e){a(e)}}))}renderNode(e,t){var n;return o(this,void 0,void 0,(function*(){let r=new i.a(0,0,0,0);const o=this.nodeRenderers[t.type];if(!o)return r;const s=e.context;s.save();try{return this.applyClipPath(t,s),this.applyTransform(t,s),s.globalAlpha=null!==(n=t.opacity)&&void 0!==n?n:1,r=r.compute(yield o.render(e,t))}finally{s.restore()}}))}renderDecorations(e,t,n){var r,s,a;return o(this,void 0,void 0,(function*(){let o=new i.a(0,0,0,0);if(n&&!t.backDecoration||!n&&!t.frontDecoration||(null===(s=null===(r=e.options)||void 0===r?void 0:r.excludeDecoration)||void 0===s?void 0:s.call(r,t,n)))return o;const c=e.context;c.save();try{return this.applyTransform(t,c),c.globalAlpha=null!==(a=t.opacity)&&void 0!==a?a:1,n&&t.backDecoration?o=o.compute(yield this.decorationRender.renderDecorations(e,t.backDecoration,t.type,t.transform)):!n&&t.frontDecoration&&(o=o.compute(yield this.decorationRender.renderDecorations(e,t.frontDecoration,t.type,t.transform))),o}finally{c.restore()}}))}applyTransform(e,t){if(e.transform){const[n,i,r,o,s,a]=e.transform;t.transform(n,i,r,o,s,a)}}applyClipPath(e,t){const n=e.clipPath;if(n){const e=new Path2D;e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip(e)}}}s.MAX_EXECUTION_TIME=5},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1);class r{unscramble(e,t){const n=URL.createObjectURL(e);return i.a.blobToImage(n).then((e=>{const n=document.createElement("canvas");return n.width=t.width,n.height=t.height,this.drawTiles(e,n.getContext("2d"),t.tiles),i.a.canvasToBlob(n)})).finally((()=>URL.revokeObjectURL(n)))}drawTiles(e,t,n){for(const i of n){const n=i.data,r=n[4],o=n[5];t.drawImage(e,n[2],n[3],r,o,n[0],n[1],r,o)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i extends Error{constructor(e){super(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(1),r=n(0),o=n(4),s=n(5),a=n(2),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class u{constructor(e,t){this.DEFAULT_COLOR="#FFFFFF",this.pixelRatio=e.pixelRatio,this.rectRenderer=e.rectRenderer,this.lineRenderer=e.lineRenderer,this.styleModifier=e.styleModifier,this.metricsUtil=t}renderDecorations(e,t,n,i){return c(this,void 0,void 0,(function*(){let o=new r.a(0,0,0,0);for(const r of t)switch(r.type){case"fillStroke":o=o.compute(this.renderRectFillStroke(e,r,i));break;case"line":const t=JSON.parse(JSON.stringify(r));this.adaptLineDecorationByStrokeIfNeed(t,n),o=o.compute(this.renderLineDecoration(e,t,t.strokeColor,i));break;case"linkLine":const s=JSON.parse(JSON.stringify(r));this.adaptLineDecorationByStrokeIfNeed(s,n),o=o.compute(this.renderLineDecoration(e,s,s.unvisitedColor,i));break;case"backgroundImage":const a=r;o=o.compute(yield this.renderBackgroundImage(e,a,i));break;case"shadow":o=o.compute(this.renderShadow(e,r,i))}return o}))}renderRectFillStroke(e,t,n){const i=e.context;i.save();try{const n=t.radii,r=new Array(4),o=new Array(4),s=new Array(4),a=new Array(4),c=new Array(4),u=[t.strokeTop,t.strokeLeft,t.strokeBottom,t.strokeRight];for(let e=0;e<u.length;e++){const t=u[e];void 0===t?(r[e]="unknown",o[e]=0,c[e]="#00000000"):(r[e]=t.strokeStyle,o[e]=t.strokeWidth,c[e]=t.strokeColor),s[e]=void 0===n?0:n[e].xRadius,a[e]=void 0===n?0:n[e].yRadius}t.fillColor&&(i.strokeStyle=t.fillColor);const l=this.getFill(e,t);this.rectRenderer.fillStroke(i,t.rect,r,o,s,a,c,l)}finally{i.restore()}let o=new r.a(t.rect.top,t.rect.bottom,t.rect.left,t.rect.right);return n&&(o=r.a.applyTransformationToBoundingBoxPoints(n,o)),o}adaptLineDecorationByStrokeIfNeed(e,t){"run"!==t&&"text"!==t&&"textline"!==t||(e.strokeStartPoint.y===e.strokeEndPoint.y?(e.strokeStartPoint.y=e.strokeStartPoint.y-e.strokeWidth/2,e.strokeEndPoint.y=e.strokeEndPoint.y-e.strokeWidth/2):(e.strokeStartPoint.x=e.strokeStartPoint.x-e.strokeWidth/2,e.strokeEndPoint.x=e.strokeStartPoint.x-e.strokeWidth/2))}renderLineDecoration(e,t,n,i){const o=e.context,s=t.strokeStartPoint,a=s.x,c=s.y,u=t.strokeEndPoint,l=u.x,h=u.y,d=t.strokeStyle;let f=new r.a(c,h,a,l);o.save();try{if("thinthick"===d||"thickthin"===d){const e=this.styleModifier.getLineWidthsFromStyle(d,t.strokeWidth),i=e.externalLine,s=e.gap,u=e.internalLine,p=c===h,g=p?l-a:h-c,v=c,m={style:t.strokeStyle,x:a,y:v,isHorizontal:p,length:g,width:i,color:n};this.lineRenderer.draw(o,m);const y=v+i+s,w={style:t.strokeStyle,x:a,y:y,isHorizontal:p,length:g,width:u,color:n};this.lineRenderer.draw(o,w),f=new r.a(c,y+u,a,l)}else{const e=c===h,i=e?l-a:h-c,s=t.strokeWidth,u={style:t.strokeStyle,x:a,y:c,isHorizontal:e,length:i,width:s,color:n};this.lineRenderer.draw(o,u),f=new r.a(c,h+s,a,l)}}finally{o.restore()}return i&&(f=r.a.applyTransformationToBoundingBoxPoints(i,f)),f}renderBackgroundImage(e,t,n){return c(this,void 0,void 0,(function*(){const o=t.rect,s=t.imageReference;try{yield this.metricsUtil.asyncExecuteMetrics(a.a.LOAD_IMAGE,(()=>c(this,void 0,void 0,(function*(){const n=yield e.bookProvider.getImage(s);if("undefined"==typeof createImageBitmap){const r=URL.createObjectURL(n);yield i.a.blobToImage(r).then((n=>this.drawImage(e,n,t))).finally((()=>URL.revokeObjectURL(r)))}else yield createImageBitmap(n).then((n=>this.drawImage(e,n,t)))}))))}catch(e){}let u=new r.a(o.top,o.bottom,o.left,o.right);return n&&(u=r.a.applyTransformationToBoundingBoxPoints(n,u)),u}))}drawImage(e,t,n){var i,r,s,a;const c=e.context;c.save();try{const e=n.rect,{width:u,height:l}=o.a.getDimensions(e),h=new Path2D;h.rect(e.left,e.top,u,l),c.clip(h);const d=n.scale,f=d.x,p=d.y;c.scale(f,p);const g=(n.origin.x+e.left)/f,v=(n.origin.y+e.top)/p,m=t.width,y=t.height,w=null!==(i=n.rowCount)&&void 0!==i?i:1,b=null!==(r=n.columnCount)&&void 0!==r?r:1;for(let e=0;e<w;++e)for(let i=0;i<b;++i){const r=g+i*(null!==(s=n.imageWidth)&&void 0!==s?s:0),o=v+e*(null!==(a=n.imageHeight)&&void 0!==a?a:0);c.drawImage(t,r,o,m,y)}}finally{c.restore()}}getFill(e,t){if(void 0!==t.gradient){const n=this.createGradient(e,t);return n.addColorStop(0,this.DEFAULT_COLOR),t.gradient.stopColorList.forEach((e=>{n.addColorStop(e.offset,e.stopColor)})),n}if(void 0!==t.fillColor)return t.fillColor}createGradient(e,t){var n;const i=null!==(n=t.rect)&&void 0!==n?n:{left:0,right:0,bottom:0,top:0},r=i.right-i.left,o=i.bottom-i.top;if(void 0!==t.gradient&&"radial"===t.gradient.gradientType){const t=(i.left+i.right)/2,n=(i.top+i.bottom)/2,s=Math.max(r,o)/2;return e.context.createRadialGradient(t,n,0,t,n,s)}return void 0!==t.gradient&&"vertical"===t.gradient.gradientType?e.context.createLinearGradient(0,i.top,0,i.bottom):e.context.createLinearGradient(i.left,0,i.bottom,0)}renderShadow(e,t,n){const i=e.context;i.save();try{const e=t.rect,n=new Array(4),r=new Array(4);if(t.radii){const e=t.radii;for(let t=0;t<e.length;t++)n[t]=e[t].xRadius,r[t]=e[t].yRadius}t.shadowInset?this.drawInsetShadow(i,e,t,n,r):this.drawOutsetShadow(i,e,t,n,r),this.unsetShadow(i)}finally{i.restore()}return new r.a(0,0,0,0)}drawInsetShadow(e,t,n,i,r){var s,a;n.radii?this.clip(e,t,!1,i,r):this.clip(e,t,!1);const c=e.canvas.width;t.left-=c,t.right-=c;const u=t.left,l=t.top;this.setShadow(e,n,c);const{width:h,height:d}=o.a.getDimensions(t),f=null!==(s=n.shadowBlur)&&void 0!==s?s:0,p=null!==(a=n.shadowSpread)&&void 0!==a?a:0,g=Math.max(Math.abs(n.shadowOrigin.x),Math.abs(n.shadowOrigin.y)),v=Math.max(g,Math.max(0,f-p));e.lineWidth=2*(p+v),e.strokeRect(u-v,l-v,h+2*v,d+2*v),t.left+=c,t.right+=c}drawOutsetShadow(e,t,n,i,r){const s=t.left,a=t.top,{width:c,height:u}=o.a.getDimensions(t);let l;n.radii?(l=this.createRoundedRectPath(e,t,i,r),this.clip(e,t,!0,i,r)):(l=new Path2D,l.rect(s,a,c,u),this.clip(e,t,!0)),this.setShadow(e,n),e.fill(l)}clip(e,t,n,i,r){const s=t.left,a=t.top,{width:c,height:u}=o.a.getDimensions(t);let l=new Path2D;if(i&&r?l=this.createRoundedRectPath(e,t,i,r):l.rect(s,a,c,u),n){const t=e.canvas.width,n=e.canvas.height;l.rect(s-t,a-n,c+2*t,u+2*n)}e.clip(l,"evenodd")}setShadow(e,t,n=0){var i,r;e.shadowColor=t.shadowColor,e.shadowBlur=this.pixelRatio*(null!==(i=t.shadowBlur)&&void 0!==i?i:0),0!==n&&(e.shadowBlur+=null!==(r=t.shadowSpread)&&void 0!==r?r:0,e.shadowBlur/=2),e.shadowOffsetX=this.pixelRatio*(t.shadowOrigin.x+n),e.shadowOffsetY=this.pixelRatio*t.shadowOrigin.y}unsetShadow(e){e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}createRoundedRectPath(e,t,n,i){const r=o.a.round(t);e.lineCap="butt";const a=new s.a;return a.moveTo(r.left+n[0],r.top),a.addEllipticalArc(r.left+n[0],r.top+i[0],n[0],i[0],270,180,!0),a.relativeLineTo(0,r.bottom-r.top-i[0]-i[1]),a.addEllipticalArc(r.left+n[1],r.bottom-i[1],n[1],i[1],180,90,!0),a.relativeLineTo(r.right-r.left-n[1]-n[2],0),a.addEllipticalArc(r.right-n[2],r.bottom-i[2],n[2],i[2],90,0,!0),a.relativeLineTo(0,-(r.bottom-r.top-i[2]-i[3])),a.addEllipticalArc(r.right-n[3],r.top+i[3],n[3],i[3],0,-90,!0),a.relativeLineTo(-(r.right-r.left-n[0]-n[3]),0),a.build()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(6);class r{getLineWidthsFromStyle(e,t){switch(e){case"double":const e=Math.floor(t/3);return{externalLine:e,gap:e,internalLine:e};case"ridge":case"groove":{const e=Math.ceil(t/2);return{externalLine:e,gap:0,internalLine:t-e}}case"thickthin":{const e=Math.ceil(t/7),n=Math.ceil((t-e)/3);return{externalLine:t-e-n,gap:n,internalLine:e}}case"thinthick":const n=Math.ceil(t/7),i=Math.ceil((t-n)/3);return{externalLine:n,gap:i,internalLine:t-n-i};default:return{externalLine:t,gap:0,internalLine:0}}}isStyleWithTwoLines(e){return"double"===e||"thickthin"===e||"thinthick"===e||"ridge"===e||"groove"===e}getColorModification(e,t){const n=Object(i.b)(t),r=Object(i.d)(n),o=n.a;let s=Math.min(1,r.v+.2);const a=Math.max(0,s-.4);let c;if(s=Math.min(1,a+.4),0===e){const e=Object(i.a)({h:r.h,s:r.s,v:s});c=Object(i.c)({r:e.r,g:e.g,b:e.b,a:o})}else{if(1!==e)throw new Error("Color modification not supported: "+e);{const e=Object(i.a)({h:r.h,s:r.s,v:a});c=Object(i.c)({r:e.r,g:e.g,b:e.b,a:o})}}return c}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(e){this.context=e}get canvas(){return this.context.canvas}get globalAlpha(){return this.context.globalAlpha}set globalAlpha(e){this.context.globalAlpha=e}get globalCompositeOperation(){return this.context.globalCompositeOperation}set globalCompositeOperation(e){this.context.globalCompositeOperation=e}get fillStyle(){return this.context.fillStyle}set fillStyle(e){this.context.fillStyle=e}get strokeStyle(){return this.context.strokeStyle}set strokeStyle(e){this.context.strokeStyle=e}get filter(){return this.context.filter}set filter(e){this.context.filter=e}get imageSmoothingEnabled(){return this.context.imageSmoothingEnabled}set imageSmoothingEnabled(e){this.context.imageSmoothingEnabled=e}get imageSmoothingQuality(){return this.context.imageSmoothingQuality}set imageSmoothingQuality(e){this.context.imageSmoothingQuality=e}get lineCap(){return this.context.lineCap}set lineCap(e){this.context.lineCap=e}get lineDashOffset(){return this.context.lineDashOffset}set lineDashOffset(e){this.context.lineDashOffset=e}get lineJoin(){return this.context.lineJoin}set lineJoin(e){this.context.lineJoin=e}get lineWidth(){return this.context.lineWidth}set lineWidth(e){this.context.lineWidth=e}get miterLimit(){return this.context.miterLimit}set miterLimit(e){this.context.miterLimit=e}get shadowBlur(){return this.context.shadowBlur}set shadowBlur(e){this.context.shadowBlur=e}get shadowColor(){return this.context.shadowColor}set shadowColor(e){this.context.shadowColor=e}get shadowOffsetX(){return this.context.shadowOffsetX}set shadowOffsetX(e){this.context.shadowOffsetX=e}get shadowOffsetY(){return this.context.shadowOffsetY}set shadowOffsetY(e){this.context.shadowOffsetY=e}get direction(){return this.context.direction}set direction(e){this.context.direction=e}get font(){return this.context.font}set font(e){this.context.font=e}get textAlign(){return this.context.textAlign}set textAlign(e){this.context.textAlign=e}get textBaseline(){return this.context.textBaseline}set textBaseline(e){this.context.textBaseline=e}drawImage(e,t,n,i,r,o,s,a,c){this.context.drawImage(...arguments)}beginPath(){this.context.beginPath(...arguments)}clip(e,t){this.context.clip(...arguments)}fill(e,t){this.context.fill(...arguments)}isPointInPath(e,t,n,i){return this.context.isPointInPath(...arguments)}isPointInStroke(e,t,n){return this.context.isPointInStroke(...arguments)}stroke(e){this.context.stroke(...arguments)}createLinearGradient(e,t,n,i){return this.context.createLinearGradient(...arguments)}createPattern(e,t){return this.context.createPattern(...arguments)}createRadialGradient(e,t,n,i,r,o){return this.context.createRadialGradient(...arguments)}createImageData(e,t){return this.context.createImageData(...arguments)}getImageData(e,t,n,i){return this.context.getImageData(...arguments)}putImageData(e,t,n,i,r,o,s){this.context.putImageData(...arguments)}arc(e,t,n,i,r,o){this.context.arc(...arguments)}arcTo(e,t,n,i,r){this.context.arcTo(...arguments)}bezierCurveTo(e,t,n,i,r,o){this.context.bezierCurveTo(...arguments)}closePath(){this.context.closePath(...arguments)}ellipse(e,t,n,i,r,o,s,a){this.context.ellipse(...arguments)}lineTo(e,t){this.context.lineTo(...arguments)}moveTo(e,t){this.context.moveTo(...arguments)}quadraticCurveTo(e,t,n,i){this.context.quadraticCurveTo(...arguments)}rect(e,t,n,i){this.context.rect(...arguments)}getLineDash(){return this.context.getLineDash(...arguments)}setLineDash(e){this.context.setLineDash(...arguments)}clearRect(e,t,n,i){this.context.clearRect(...arguments)}fillRect(e,t,n,i){this.context.fillRect(...arguments)}strokeRect(e,t,n,i){this.context.strokeRect(...arguments)}restore(){this.context.restore(...arguments)}save(){this.context.save(...arguments)}fillText(e,t,n,i){this.context.fillText(...arguments)}measureText(e){return this.context.measureText(...arguments)}strokeText(e,t,n,i){this.context.strokeText(...arguments)}getTransform(){return this.context.getTransform(...arguments)}resetTransform(){this.context.resetTransform(...arguments)}rotate(e){this.context.rotate(...arguments)}scale(e,t){this.context.scale(...arguments)}setTransform(e,t,n,i,r,o){this.context.setTransform(...arguments)}transform(e,t,n,i,r,o){this.context.transform(...arguments)}translate(e,t){this.context.translate(...arguments)}drawFocusIfNeeded(e,t){this.context.drawFocusIfNeeded(...arguments)}scrollPathIntoView(e){this.context.scrollPathIntoView(...arguments)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(16);n(48);class r extends i.a{constructor(e){super(e),this.path=new Path2D,this.subPath=new Path2D,this.isSubPathEmtpy=!0}build(){return this.addSubPath(),new Path2D(this.path)}addSubPath(e){e?this.path.addPath(e):this.isSubPathEmtpy||(this.path.addPath(this.subPath),this.subPath=new Path2D,this.isSubPathEmtpy=!0)}beginPath(){super.beginPath(),this.addSubPath()}closePath(){super.closePath(),this.subPath.closePath(),this.isSubPathEmtpy=!1}arc(e,t,n,i,r,o){super.arc(e,t,n,i,r,o),this.subPath.arc(e,t,n,i,r,o),this.isSubPathEmtpy=!1}arcTo(e,t,n,i,r){super.arcTo(e,t,n,i,r),this.subPath.arcTo(e,t,n,i,r),this.isSubPathEmtpy=!1}bezierCurveTo(e,t,n,i,r,o){super.bezierCurveTo(e,t,n,i,r,o),this.subPath.bezierCurveTo(e,t,n,i,r,o),this.isSubPathEmtpy=!1}ellipse(e,t,n,i,r,o,s,a){super.ellipse(e,t,n,i,r,o,s,a),this.subPath.ellipse(e,t,n,i,r,o,s,a),this.isSubPathEmtpy=!1}lineTo(e,t){super.lineTo(e,t),this.subPath.lineTo(e,t),this.isSubPathEmtpy=!1}moveTo(e,t){super.moveTo(e,t),this.subPath.moveTo(e,t),this.isSubPathEmtpy=!1}quadraticCurveTo(e,t,n,i){super.quadraticCurveTo(e,t,n,i),this.subPath.quadraticCurveTo(e,t,n,i),this.isSubPathEmtpy=!1}rect(e,t,n,i){super.rect(e,t,n,i),this.subPath.rect(e,t,n,i),this.isSubPathEmtpy=!1}resetTransform(){this.addSubPath(),super.resetTransform()}rotate(e){this.addSubPath(),super.rotate(e)}scale(e,t){this.addSubPath(),super.scale(e,t)}setTransform(e,t,n,i,r,o){this.addSubPath(),super.setTransform(...arguments)}transform(e,t,n,i,r,o){this.addSubPath(),super.transform(e,t,n,i,r,o)}translate(e,t){this.addSubPath(),super.translate(e,t)}fill(e,t){e&&"string"!=typeof e&&this.addSubPath(e)}stroke(e){e&&this.addSubPath(e)}drawImage(e,t,n,i,r,o,s,a,c){let u=!0;i?o?this.subPath.rect(o,s,a,c):this.subPath.rect(t,n,i,r):"number"==typeof e.width&&"number"==typeof e.height?this.subPath.rect(t,n,e.width,e.height):u=!1,u&&(this.isSubPathEmtpy=!1)}fillRect(e,t,n,i){super.rect(e,t,n,i),this.rect(e,t,n,i)}strokeRect(e,t,n,i){super.rect(e,t,n,i),this.rect(e,t,n,i)}restore(){this.addSubPath(),super.restore()}clip(e,t){}clearRect(e,t,n,i){}fillText(e,t,n,i){}strokeText(e,t,n,i){}putImageData(e,t,n,i,r,o,s){}}},function(module,__webpack_exports__,__nested_webpack_require_33236__){"use strict";__nested_webpack_require_33236__.d(__webpack_exports__,"a",(function(){return DefaultGlyphRenderer}));var _etc_content_bounding_box__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_33236__(0),_utils_assert__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_33236__(3),__awaiter=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class DefaultGlyphRenderer{constructor(e){this.pathsCache=new Map,this.pixelRatio=e.pixelRatio}render(e,t,n,i,r){return __awaiter(this,void 0,void 0,(function*(){const t=n.glyphs[r.glyphId];Object(_utils_assert__WEBPACK_IMPORTED_MODULE_1__.b)(t,"Unknown glyph "+r.glyphId);const o=this.buildGlyphCacheKey(n,r.glyphId,r.fontSize);if(!("js"===t.type&&t.code||"path"===t.type&&t.path))return new _etc_content_bounding_box__WEBPACK_IMPORTED_MODULE_0__.a(0,0,0,0);{const s=e.context;s.save();try{return this.renderGlyph(o,s,n,t,i,r)}finally{s.restore()}}}))}renderGlyph(glyphKey,ctx,font,glyph,fontScale,glyphDescriptor){this.applyShadows(ctx,glyphDescriptor);const x=glyphDescriptor.x,y=glyphDescriptor.y;ctx.translate(x,y),ctx.scale(fontScale,fontScale);const rotation=glyphDescriptor.glyphRotation;if(0!==rotation){const e=-rotation*DefaultGlyphRenderer.DEG_TO_RAD;ctx.rotate(e)}let cacheDescriptor=this.pathsCache.get(glyphKey);if(!cacheDescriptor){if("path"===glyph.type)cacheDescriptor={path2D:new Path2D(glyph.path),boundingRect:this.findPathBoundingBox(glyph.path)};else{const e=glyph.rect;cacheDescriptor={code:glyph.code,boundingRect:{minX:e.left,minY:e.top,width:e.right-e.left,height:e.bottom-e.top}}}this.pathsCache.set(glyphKey,cacheDescriptor)}if(ctx.beginPath(),cacheDescriptor.path2D)if(ctx.fill(cacheDescriptor.path2D),font.fontAlgBold){const e=ctx.strokeStyle,t=ctx.strokeStyle!=ctx.fillStyle;t&&(ctx.strokeStyle=ctx.fillStyle);const n=ctx.lineWidth;ctx.lineWidth=font.fontWeight/1e3/fontScale,ctx.stroke(cacheDescriptor.path2D),ctx.lineWidth=n,t&&(ctx.strokeStyle=e),ctx.stroke(cacheDescriptor.path2D)}else glyphDescriptor.stroke&&ctx.stroke(cacheDescriptor.path2D);else cacheDescriptor.code&&(ctx.fill(),eval(cacheDescriptor.code));const boundingRect=cacheDescriptor.boundingRect;this.unsetShadow(ctx);let left=boundingRect.minX,top=boundingRect.minY,right=left+boundingRect.width,bottom=top+boundingRect.height;return rotation&&([left,top]=[top,-left],[right,bottom]=[bottom,-right]),new _etc_content_bounding_box__WEBPACK_IMPORTED_MODULE_0__.a(top*fontScale+y,bottom*fontScale+y,left*fontScale+x,right*fontScale+x)}findPathBoundingBox(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;const o=e.split(" ");for(let e=0;e<o.length;e++){const s=o[e].split(",");switch(o[e][0]){case"Z":break;case"C":t=Math.min(parseFloat(s[4]),t),i=Math.max(parseFloat(s[4]),i),n=Math.min(parseFloat(s[5]),n),r=Math.max(parseFloat(s[5]),r);case"Q":t=Math.min(parseFloat(s[2]),t),i=Math.max(parseFloat(s[2]),i),n=Math.min(parseFloat(s[3]),n),r=Math.max(parseFloat(s[3]),r);case"M":case"L":t=Math.min(parseFloat(s[0].substr(1)),t),i=Math.max(parseFloat(s[0].substr(1)),i),n=Math.min(parseFloat(s[1]),n),r=Math.max(parseFloat(s[1]),r)}}return{minX:t,minY:n,width:i-t,height:r-n}}applyShadows(e,t){var n;const i=t.textShadows;if(i)for(const r of i){e.shadowColor=r.shadowColor,e.shadowBlur=this.pixelRatio*(null!==(n=r.shadowBlur)&&void 0!==n?n:1),e.shadowOffsetX=this.pixelRatio*r.shadowOrigin.x,e.shadowOffsetY=this.pixelRatio*r.shadowOrigin.y;let i=t.contextRotation-t.glyphRotation;i<0&&(i+=360);const o=e.shadowOffsetX;i>=90&&i<180?(e.shadowOffsetX=-1*e.shadowOffsetY,e.shadowOffsetY=o):i>=180&&i<270?(e.shadowOffsetX=-1*e.shadowOffsetY,e.shadowOffsetY=-1*o):i>=270&&(e.shadowOffsetX=e.shadowOffsetY,e.shadowOffsetY=-1*o)}}unsetShadow(e){e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}buildGlyphCacheKey(e,t,n){return[e.fontKey,t,n].join("/")}clearCache(){this.pathsCache.clear()}}DefaultGlyphRenderer.DEG_TO_RAD=Math.PI/180},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(2),a=n(20),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class u{constructor(e,t){this.metricsUtil=t,this.pixelRatio=e.pixelRatio,this.rectRenderer=e.rectRenderer}render(e,t){return c(this,void 0,void 0,(function*(){const n=e.context,o=t.imageReference;let a=new i.a(0,0,0,0);if(t.imageClip){this.adjustClip(t);const e=t.imageClip,i=new Path2D;i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip(i)}try{a=yield this.metricsUtil.asyncExecuteMetrics(s.a.LOAD_IMAGE,(()=>c(this,void 0,void 0,(function*(){const i=yield e.bookProvider.getImage(o);if("undefined"==typeof createImageBitmap){const e=URL.createObjectURL(i);return r.a.blobToImage(e).then((e=>this.drawImage(n,e,t))).finally((()=>URL.revokeObjectURL(e)))}return createImageBitmap(i).then((e=>this.drawImage(n,e,t)))}))))}catch(e){this.drawImagePlaceHolder(n,t),a=this.getBoundingBoxForEmptyImage(n,t)}return t.transform&&(a=i.a.applyTransformationToBoundingBoxPoints(t.transform,a)),a}))}getBoundingBoxForEmptyImage(e,t){var n;const r=null!==(n=t.rect)&&void 0!==n?n:t.clipPath;return void 0!==r?new i.a(r.top,r.bottom,r.left,r.right):new i.a(0,0,0,0)}drawImagePlaceHolder(e,t){try{e.save();const n=t.fillColor,i=t.strokeColor;let r=0,s=0,a=0,c=0,u=t.rect;u&&(t.transform&&(u=o.a.convertToAbsolutePosition(u,t.transform)),r=u.top,s=u.left,({width:a,height:c}=o.a.getDimensions(u))),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),e.fillStyle=n,e.fillRect(s,r,a,c),e.strokeStyle=i;const l=e.lineWidth/2;e.strokeRect(s+l,r+l,a-e.lineWidth,c-e.lineWidth)}finally{e.restore()}}drawImage(e,t,n){e.save();try{const r=n.rect;if(r){const c=this.getImageOffsetFromBackDecoration(n);let u={left:r.left+c.left,top:r.top+c.top,bottom:r.bottom-c.bottom,right:r.right-c.right};u=o.a.round(u);const{width:l,height:h}=o.a.getDimensions(u);return this.metricsUtil.recordCountMetrics(s.a.APPLY_ANTI_MOIRE_FILTER,Object(a.a)({width:l,height:h})?1:0),e.drawImage(t,u.left,u.top,l,h),new i.a(u.top,u.bottom,u.left,u.right)}return e.drawImage(t,0,0),new i.a(0,t.height,0,t.width)}finally{e.restore()}}getImageOffsetFromBackDecoration(e){const t=e.backDecoration,n=t&&t.length>0&&"fillStroke"===t[0].type?t[0]:void 0;return{top:n&&n.strokeTop?n.strokeTop.strokeWidth:0,left:n&&n.strokeLeft?n.strokeLeft.strokeWidth:0,bottom:n&&n.strokeBottom?n.strokeBottom.strokeWidth:0,right:n&&n.strokeRight?n.strokeRight.strokeWidth:0}}adjustClip(e){if(e.imageClip){const t=e.rect,n=e.imageClip;t.top=-n.top,t.left=-n.left,t.bottom-=n.top,t.right-=n.left,n.bottom-=n.top,n.right-=n.left,n.top=0,n.left=0}}}},function(e,t,n){"use strict";function i({width:e,height:t,antiMoireThreshold:n=.65}){const{innerHeight:i,innerWidth:r,devicePixelRatio:o}=window;return e*n>=r*o||t*n>=i*o}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n(17),o=n(1),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const a=new Array;class c{constructor(e){this.pageRenderer=e}render(e,t){return s(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);const r=e.context;r.save();try{const i=new Set,o=yield this.generateClips(e,t,i),s=this.generateShapes(e,t,o,i);n=this.getShapeBoundingBox(t),e.context.scale(t.scaleX,t.scaleY);for(const t of s)yield this.renderShape(e,t)}finally{r.restore()}return n}))}renderShape(e,t){return s(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);const r=e.context;r.save();try{if(t.clipPath&&r.clip(t.clipPath,t.clipRule),t.childNodes)n=yield this.pageRenderer.renderChildNodes(e,t.childNodes);else{const e=t.fillData,n=t.strokeData;if(t.transform){const[e,n,i,o,s,a]=t.transform;r.transform(e,n,i,o,s,a)}e&&(r.fillStyle=e.fillColor,r.fill(t.path,e.fillRule)),n&&(r.lineWidth=n.strokeWidth,r.strokeStyle=n.strokeColor,r.lineJoin=n.strokeLineJoin,r.lineCap=n.strokeLineCap,r.miterLimit=n.strokeMiterLimit,r.lineDashOffset=n.strokeDashOffset,r.setLineDash(n.strokeDashArray),r.stroke(t.path))}}finally{r.restore()}return n}))}generateClips(e,t,n){var i;return s(this,void 0,void 0,(function*(){const o=new Array;if(t.clips)for(const s of t.clips){const a=new Path2D;for(const o of s)if(void 0!==o.elementId){let s=null===(i=t.children)||void 0===i?void 0:i.filter((e=>e.elementId===o.elementId));if(s){const i=e.context;i.save();try{if(t.transform){i.resetTransform();const[e,n,r,o,s,a]=t.transform;i.transform(e,n,r,o,s,a)}s=this.adjustRunNodes(s),n.add(o.elementId);const c=new r.a(i),u={context:c,bookProvider:e.bookProvider,options:e.options};yield this.pageRenderer.renderChildNodes(u,s),a.addPath(c.build())}finally{i.restore()}}}else a.addPath(new Path2D(o.path));o.push(a)}return o}))}generateShapes(e,t,n,i){var r,o,s,c,u,l,h,d,f,p,g,v;const m=new Array;if(t.shapes)for(const y of t.shapes){let w;const b="none"===y.clipRule?void 0:y.clipRule;if(void 0!==y.clipPathIndex&&y.clipPathIndex>=0&&y.clipPathIndex<n.length&&(w=n[y.clipPathIndex]),void 0!==y.elementId){const e=null===(r=t.children)||void 0===r?void 0:r.filter((e=>e.elementId===y.elementId));i.add(y.elementId),m.push({childNodes:null!=e?e:new Array,path:void 0,clipPath:w,clipRule:null!=b?b:"nonzero"})}else{const t=new Path2D(y.path);let n,i;if(y.fillRule||y.fillColor){const t="none"===y.fillRule?void 0:y.fillRule;n={fillRule:null!=t?t:"nonzero",fillColor:null!==(c=null!==(o=y.fillColor)&&void 0!==o?o:null===(s=e.options)||void 0===s?void 0:s.inkColor)&&void 0!==c?c:"#000000FF"}}if(void 0!==y.strokeWidth&&0!==y.strokeWidth){const t="none"===y.strokeLineJoin?void 0:y.strokeLineJoin,n="none"===y.strokeLineCap?void 0:y.strokeLineCap;i={strokeWidth:y.strokeWidth,strokeColor:null!==(h=null!==(u=y.strokeColor)&&void 0!==u?u:null===(l=e.options)||void 0===l?void 0:l.inkColor)&&void 0!==h?h:"#000000FF",strokeLineJoin:null!=t?t:"miter",strokeLineCap:null!=n?n:"butt",strokeMiterLimit:null!==(d=y.strokeMiterLimit)&&void 0!==d?d:10,strokeDashOffset:null!==(f=y.strokeDashOffset)&&void 0!==f?f:0,strokeDashArray:null!==(p=y.strokeDashArray)&&void 0!==p?p:a}}n||i||(n={fillColor:null!==(v=null===(g=e.options)||void 0===g?void 0:g.inkColor)&&void 0!==v?v:"#000000FF",fillRule:"nonzero"}),m.push({childNodes:void 0,path:t,clipPath:w,clipRule:null!=b?b:"nonzero",fillData:n,strokeData:i,transform:y.transform})}}return m}getShapeBoundingBox(e){let t=new i.a(0,0,0,0);if(e.shapes)for(const n of e.shapes)if(n.path){let r=i.a.getBoudningBoxByPath(n.path);e.transform&&(r=i.a.applyTransformationToBoundingBoxPoints(e.transform,r)),t=t.compute(r)}return t}adjustRunNodes(e){const t=JSON.parse(JSON.stringify(e));for(const e of t)if("run"===e.type&&e.transform){const t=e;t.descent&&(e.transform[o.b.VerticalTranslation]-=t.descent)}return t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),r=n(3),o=n(1),s=n(4),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class c{constructor(e){this.fontCache=new Map,this.decorationRenderer=e.decorationRenderer,this.fontSize=e.fontSize,this.glyphRenderer=e.fontRender}render(e,t){return a(this,void 0,void 0,(function*(){let n=new i.a(0,0,0,0);if(t.textBackDecoration){const i=yield this.decorationRenderer.renderDecorations(e,t.textBackDecoration,t.type,t.transform);n=n.compute(i)}const r=yield this.renderText(e,t);if(n=n.compute(r),t.textFrontDecoration){const i=yield this.decorationRenderer.renderDecorations(e,t.textFrontDecoration,t.type,t.transform);n=n.compute(i)}return n}))}renderText(e,t){var n,o,c,u,l,h;return a(this,void 0,void 0,(function*(){const a=yield e.bookProvider.getFonts();this.setFonts(a);const d=null!==(n=t.fontSize)&&void 0!==n?n:this.fontSize,f=t.glyphs;if(!f)return new i.a(0,0,0,0);{const n=e.context;n.save();try{const a=f.length,p=t.fontFamily,g=t.fontStyle,v=t.fontStretch,m=t.fontWeight,y=t.fontClass,w=t.textShadows,b=this.getRotationAngle(t),_={fontFamily:p,fontStretch:v,fontStyle:g,fontWeight:m,fontClass:y},k=this.fontCache.get(t.fontKey);Object(r.b)(k);const E=d/k.unitsPerEm,S=null!==(o=t.glyphRotation)&&void 0!==o?o:0,T=t.stroke;void 0!==T&&(n.lineWidth=Math.round(T.strokeWidth/E),n.strokeStyle=T.strokeColor),n.fillStyle=t.textColor;const P=new Array;for(let n=0;n<a;n++){const i=f[n],r=null!==(u=null===(c=t.yPosition)||void 0===c?void 0:c[n])&&void 0!==u?u:0,o=null!==(h=null===(l=t.xPosition)||void 0===l?void 0:l[n])&&void 0!==h?h:0,s={glyphId:String(i),x:o,y:r,glyphRotation:S,fontSize:d,stroke:t.stroke,textShadows:w,contextRotation:b},a=this.glyphRenderer.render(e,_,k,E,s);P.push(a)}let C=new i.a(0,0,0,0);for(const e of P){const t=yield e;C=C.compute(t)}if(t.transform){const e=t.transform,n=s.a.convertToAbsolutePosition(C,e),r=Math.min(n.top,n.bottom),o=Math.max(n.top,n.bottom),a=Math.min(n.left,n.right),c=Math.max(n.left,n.right);C=new i.a(r,o,a,c)}return C}finally{n.restore()}}}))}getRotationAngle(e){if(e.transform){const t=e.transform;let n=Math.atan2(t[o.b.VerticalSkewing],t[o.b.HorizontalScaling]);return n<0&&(n+=2*Math.PI),180*n/Math.PI}return 0}setFonts(e){this.fonts&&this.fonts===e||(this.fontCache.clear(),this.glyphRenderer.clearCache(),e.forEach((e=>{this.fontCache.set(e.fontKey,e)})),this.fonts=e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(13);class r extends i.a{constructor(){super("Pool has been cleared, request is no longer valid."),this.name="ClearedPoolError"}}class o{constructor(e,t,n){this.available=new Array,this.taken=new Set,this.pendingPromises=new Array,this.provider=e,this.reset=t,this.maxSize=n}acquire(){return new Promise(((e,t)=>{let n=this.available.shift();!n&&this.taken.size<this.maxSize&&(n=this.provider()),n?(this.taken.add(n),e(n)):this.pendingPromises.push({resolve:e,reject:t})}))}release(e){if(this.taken.has(e)){this.reset(e);const t=this.pendingPromises.shift();t?t.resolve(e):(this.taken.delete(e),this.available.push(e))}}clear(){this.available.length=0,this.taken.clear(),this.pendingPromises.forEach((e=>{e.reject(new r)})),this.pendingPromises.length=0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{draw(e,t){const n=this.getNormalizedLineWidth(t);switch(t.style){case"dotted":const r=t.width>0?i.DOT_SPACING_FACTOR*n:t.width;this.drawDottedLine(e,t.x,t.y,t.isHorizontal,t.length,n,r,!t.isHorizontal,t.color);break;case"dashed":const o=t.isHorizontal?n+1:1;this.drawDashedLine(e,t.x,t.y,t.isHorizontal,t.length,n,i.COLOR_SEGMENT_FACTOR*n,i.TRANSPARENT_SEGMENT_FACTOR*n,o,t.color);break;default:this.drawSolidLine(e,t.x,t.y,t.isHorizontal,t.length,n,t.color)}}drawDottedLine(e,t,n,i,r,o,s,a,c){if(0===r||0===o||0===s)return!1;e.save();try{const u=a?r+2*o:r,l=s-o,h=(u-o)/(Math.max(2,Math.round((u+l)/(o+s)))-1),d=o/2,f=a?h-d:d;e.strokeStyle=c,e.lineCap="round",e.lineWidth=o,e.beginPath(),e.setLineDash([0,h]),i?(e.moveTo(t+f,n+d),e.lineTo(t+r,n+d)):(e.moveTo(t+d,n+f),e.lineTo(t+d,n+r)),e.stroke()}finally{e.restore()}return!0}drawSolidLine(e,t,n,i,r,o,s){if(0===r||0===o)return!1;e.save();try{e.lineCap="butt",e.lineWidth=Math.round(o),e.strokeStyle=s;const a=o/2;e.beginPath(),i?this.movetoAndRelativeLineTo(e,t,n+a,r,0):this.movetoAndRelativeLineTo(e,t+a,n,0,r),e.stroke()}finally{e.restore()}return!0}drawDashedLine(e,t,n,i,r,o,s,a,c,u){if(0===o||0===r||0===s||0===a)return!1;{const l=r-2*c;let h=0,d=0,f=0,p=0;if(l<0)h=r;else if(l<a)h=c+l;else if(0==c)if(l<a)h=c+l;else{const e=Math.floor((l+s)/(a+s)),t=e*a+(e-1)*s;h=c+(l-t)/2,d=c+(l-t+1)/2}else if(l<a+2)h=c+l;else{const e=c>0?l:l-2;if(e<=0)h=c+e;else{const t=Math.floor((e+s)/(a+s)),n=t*a+(t-1)*s;h=c+(e-n)/2,d=c+(e-n+1)/2}}r<=a+1?(h=r,d=0):h==s?h=0:f=a,p=r-h-d-f,e.lineCap="butt",e.strokeStyle=u,e.lineWidth=Math.max(1,Math.round(o));const g=[s,a];g[0]=s,g[1]=a;const v=o/2;return h>0&&(e.beginPath(),i?this.movetoAndRelativeLineTo(e,t,n+v,h,0):this.movetoAndRelativeLineTo(e,t+v,n,0,h),e.stroke()),p>0&&(e.beginPath(),e.setLineDash(g),i?this.movetoAndRelativeLineTo(e,t+h+f,n+v,p,0):this.movetoAndRelativeLineTo(e,t+v,n+h+f,0,p),e.stroke()),d>0&&(e.beginPath(),i?this.movetoAndRelativeLineTo(e,t+h+f+p,n+v,d,0):this.movetoAndRelativeLineTo(e,t+v,n+h+f+p,0,d),e.stroke()),!0}}movetoAndRelativeLineTo(e,t,n,i,r){e.moveTo(t,n),e.lineTo(t+i,n+r)}getNormalizedLineWidth(e){const t=e.width;return"dotted"===e.style||"dashed"===e.style?this.getDottedDashedLineWidth(t):t}getDottedDashedLineWidth(e){const t=Math.round(e);return 0!==t||this.epsilonEqual(0,t)?Math.max(1,t):1}epsilonEqual(e,t){return Math.abs(e-t)<1e-4}}i.DOT_SPACING_FACTOR=2,i.COLOR_SEGMENT_FACTOR=4,i.TRANSPARENT_SEGMENT_FACTOR=2},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(26),r=n(27),o=n(5),s=n(4);class a{constructor(e,t){this.lineRenderer=e,this.styleModifier=t,this.cornerRenderer=new i.a,this.sideRenderer=new r.a(e)}fillStroke(e,t,n,i,r,o,s,a){this.fill(e,t,r,o,a),this.strokeRectangle2(e,t,n,i,r,o,s)}strokeBasic(e,t,n,i){try{e.save(),e.strokeStyle=n;const r=s.a.round(t),{width:o,height:a}=s.a.getDimensions(r);this.lineRenderer.draw(e,{x:r.left,y:r.top,color:n,isHorizontal:!0,length:o,style:"solid",width:i}),this.lineRenderer.draw(e,{x:r.left,y:r.bottom-i,color:n,isHorizontal:!0,length:o,style:"solid",width:i}),this.lineRenderer.draw(e,{x:r.left,y:Math.floor(r.top+i),color:n,isHorizontal:!1,length:Math.ceil(a-2*i),style:"solid",width:i}),this.lineRenderer.draw(e,{x:r.right-i,y:Math.floor(r.top+i),color:n,isHorizontal:!1,length:Math.ceil(a-2*i),style:"solid",width:i})}finally{e.restore()}}strokeRectangle2(e,t,n,i,r,o,s){const a=[this.styleModifier.getLineWidthsFromStyle(n[0],i[0]),this.styleModifier.getLineWidthsFromStyle(n[1],i[1]),this.styleModifier.getLineWidthsFromStyle(n[2],i[2]),this.styleModifier.getLineWidthsFromStyle(n[3],i[3])],c=[...s],u=[...s],l=[0,0,0,0],h=[0,0,0,0];let d=!1;for(let e=0;e<4;++e)i[e]>0&&(this.getInternalRadius(e,a,r,o,l,h),this.getColors(e,n,s,c,u)),d=d||this.styleModifier.isStyleWithTwoLines(n[e]);if(this.stroke(e,t,n,i,r,o,c,a,!0),d){const i={left:t.left+a[1].externalLine+a[1].gap,top:t.top+a[0].externalLine+a[0].gap,right:t.right-a[3].externalLine-a[3].gap,bottom:t.bottom-a[2].externalLine-a[2].gap},r=[a[0].internalLine,a[1].internalLine,a[2].internalLine,a[3].internalLine];this.stroke(e,i,n,r,l,h,u,a,!1)}}getInternalRadius(e,t,n,i,r,o){const s=e<2?t[1].externalLine+t[1].gap:t[3].externalLine+t[3].gap,a=0==e||3==e?t[0].externalLine+t[0].gap:t[2].externalLine+t[2].gap;r[e]=Math.max(0,n[e]-s),o[e]=Math.max(0,i[e]-a)}getColors(e,t,n,i,r){const o=this.styleModifier.getColorModification(0,n[e]),s=this.styleModifier.getColorModification(1,n[e]);"inset"==t[e]?i[e]=e<2?s:o:"outset"==t[e]?i[e]=e<2?o:s:"groove"==t[e]?e<2?(i[e]=s,r[e]=o):(i[e]=o,r[e]=s):"ridge"==t[e]&&(e<2?(i[e]=o,r[e]=s):(i[e]=s,r[e]=o))}stroke(e,t,n,i,r,o,a,c,u){e.save();try{const l=s.a.round(t),h="unknown"==n[0]?0:i[0]/2,d="unknown"==n[1]?0:i[1]/2,f="unknown"==n[2]?0:i[2]/2,p="unknown"==n[3]?0:i[3]/2,g=new Array(4),v=new Array(4),m=new Array(4),y=new Array(4);y[0]=y[1]=y[2]=y[3]=!1,g[0]=0==r[0]?0:Math.max(r[0],i[1]),g[1]=0==r[1]?0:Math.max(r[1],i[1]),g[2]=0==r[2]?0:Math.max(r[2],i[3]),g[3]=0==r[3]?0:Math.max(r[3],i[3]),m[0]=Math.max(r[0],i[1]),m[1]=Math.max(r[1],i[1]),m[2]=Math.max(r[2],i[3]),m[3]=Math.max(r[3],i[3]),v[0]=Math.max(o[0],i[0]),v[1]=Math.max(o[1],i[2]),v[2]=Math.max(o[2],i[2]),v[3]=Math.max(o[3],i[0]);const w=u&&c[0].gap>0;w&&(e.save(),this.setRectContextClippingForExternalLine(e,0,t,c),e.clip()),h>0&&this.sideRenderer.drawSide(e,0,i,n,a,g,m,y,l,0,3),w&&e.restore();const b=u&&c[2].gap>0;b&&(e.save(),this.setRectContextClippingForExternalLine(e,2,t,c),e.clip()),f>0&&this.sideRenderer.drawSide(e,2,i,n,a,g,m,y,l,1,2),b&&e.restore();const _=u&&c[1].gap>0;_&&(e.save(),this.setRectContextClippingForExternalLine(e,1,t,c),e.clip()),d>0&&this.sideRenderer.drawSide(e,1,i,n,a,v,v,y,l,0,1),_&&e.restore();const k=u&&c[3].gap>0;let E,S,T,P,C,x;k&&(e.save(),this.setRectContextClippingForExternalLine(e,3,t,c),e.clip()),p>0&&this.sideRenderer.drawSide(e,3,i,n,a,v,v,y,l,3,2),k&&e.restore();for(let s=0;s<4;s++){const h=u&&c[s].gap>0;h&&this.clipCorner(e,s,t,c);const d=r[s],f=o[s];if(d+f>0||y[s]){T=s<2?i[1]:i[3],x=s<2?a[1]:a[3],E=s<2?l.left:l.right,P=0==s||3==s?i[0]:i[2],C=0==s||3==s?a[0]:a[2],S=0==s||3==s?l.top:l.bottom;const t=2==s||3==s?-1:1,r=1==s||2==s?-1:1;this.cornerRenderer.drawSolidCorner(e,{style:n[s],xBound:E,yBound:S,xRadius:d,yRadius:f,widthHorizontal:P,widthVertical:T,xFlip:t,yFlip:r,colorHorizontal:C,colorVertical:x})}h&&e.restore()}}finally{e.restore()}}clipCorner(e,t,n,i){switch(e.save(),t){case 0:this.setRectContextClippingForExternalLine(e,0,n,i),this.setRectContextClippingForExternalLine(e,1,n,i),e.clip();break;case 1:this.setRectContextClippingForExternalLine(e,1,n,i),this.setRectContextClippingForExternalLine(e,2,n,i),e.clip();break;case 2:this.setRectContextClippingForExternalLine(e,3,n,i),this.setRectContextClippingForExternalLine(e,2,n,i),e.clip();break;case 3:this.setRectContextClippingForExternalLine(e,0,n,i),this.setRectContextClippingForExternalLine(e,3,n,i),e.clip();break;default:throw new Error("Error trying to clip incorrect corner "+t)}}setRectContextClippingForExternalLine(e,t,n,i){switch(t){case 0:e.rect(n.left,n.top,n.right-n.left,i[0].externalLine);break;case 1:e.rect(n.left,n.top,i[1].externalLine,n.bottom-n.top);break;case 2:e.rect(n.left,n.bottom-i[2].externalLine,n.right-n.left,i[2].externalLine);break;case 3:e.rect(n.right-i[3].externalLine,n.top,i[3].externalLine,n.bottom-n.top);break;default:throw new Error("Error setting context to clip external line "+t)}}fill(e,t,n,i,r){if(r){e.save();try{const a=s.a.round(t),c=new o.a;c.moveTo(a.left+n[0],a.top),c.addEllipticalArc(a.left+n[0],a.top+i[0],n[0],i[0],270,180,!0),c.relativeLineTo(0,a.bottom-a.top-i[0]-i[1]),c.addEllipticalArc(a.left+n[1],a.bottom-i[1],n[1],i[1],180,90,!0),c.relativeLineTo(a.right-a.left-n[1]-n[2],0),c.addEllipticalArc(a.right-n[2],a.bottom-i[2],n[2],i[2],90,0,!0),c.relativeLineTo(0,-(a.bottom-a.top-i[2]-i[3])),c.addEllipticalArc(a.right-n[3],a.top+i[3],n[3],i[3],0,-90,!0),c.relativeLineTo(-(a.right-a.left-n[0]-n[3]),0),e.lineCap="butt",e.fillStyle=r,e.fill(c.build())}finally{e.restore()}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(5);class r{drawSolidCorner(e,t){const n=t.xFlip,r=t.yFlip,o=t.xRadius,s=t.yRadius,a=t.xBound,c=t.yBound;let u=r>0?270:90;e.lineCap="butt",e.fillStyle=t.colorHorizontal,e.beginPath();const l=o-t.widthVertical,h=s-t.widthHorizontal;let d=n*r<0,f=45;s>0&&(f=180*Math.atan(o/s)/Math.PI);let p=45;h>0&&(p=180*Math.atan(l/h)/Math.PI);let g=new i.a;l>0&&h>0?g.addEllipticalArc(a+o*n,c+s*r,l,h,u-p*n*r,u,d):(g.moveTo(a+t.widthVertical*n,c+t.widthHorizontal*r),l>0&&g.relativeLineTo(l*n,0));const v=Math.max(o,t.widthVertical);g.lineTo(a+v*n,c+t.widthHorizontal*r),g.relativeLineTo(0,-t.widthHorizontal*r),v>o&&g.relativeLineTo(-1*(v-o)*n,0),o>0&&s>0?g.addEllipticalArc(a+o*n,c+s*r,o,s,u,u-f*n*r,!d):g.lineTo(a,c),t.colorHorizontal!=t.colorVertical&&(g.closePath(),e.fill(g.build()),g=new i.a,e.lineCap="butt",e.fillStyle=t.colorVertical,e.beginPath()),u=n>0?180:0,d=n*r>0,l>0&&h>0?g.addEllipticalArc(a+o*n,c+s*r,l,h,u+(90-p)*n*r,u,d):(g.moveTo(a+t.widthVertical*n,c+t.widthHorizontal*r),l>0&&g.relativeLineTo(l*n,0));const m=Math.max(s,t.widthHorizontal);g.lineTo(a+t.widthVertical*n,c+m*r),g.relativeLineTo(-t.widthVertical*n,0),m>s&&g.relativeLineTo(0,-1*(m-s)*r),o>0&&s>0?g.addEllipticalArc(a+o*n,c+s*r,o,s,u,u+(90-f)*n*r,!d):g.lineTo(a,c),g.closePath(),e.fill(g.build())}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(8);class r{constructor(e){this.lineRenderer=e}drawSide(e,t,n,i,r,o,s,a,c,u,l){const h=n[t],d=i[t],f=r[t];let p,g;"dashed"===d||"dotted"===d?(p=o[u],g=p+o[l]):(p=s[u],g=p+s[l],a[t]=!0);const v=this.getLinesPropertiesFromBorderStyle(t,c,d,h,f,p,g);for(let t=0;t<v.length;++t)this.lineRenderer.draw(e,v[t])}getLinesPropertiesFromBorderStyle(e,t,n,r,o,s,a){const c=new Array,u={side:e,rectBounds:t,style:n,width:r,color:o,offSet:s,lengthAdjustment:a};let l,h,d,f;switch(e){case i.a.Top:l=!0,h=u.rectBounds.left+u.offSet,d=u.rectBounds.top,f=u.rectBounds.right-u.rectBounds.left-u.lengthAdjustment;break;case i.a.Left:l=!1,h=u.rectBounds.left,d=u.rectBounds.top+u.offSet,f=u.rectBounds.bottom-u.rectBounds.top-u.lengthAdjustment;break;case i.a.Bottom:l=!0,h=u.rectBounds.left+u.offSet,d=u.rectBounds.bottom-u.width,f=u.rectBounds.right-u.rectBounds.left-u.lengthAdjustment;break;case i.a.Right:l=!1,h=u.rectBounds.right-u.width,d=u.rectBounds.top+u.offSet,f=u.rectBounds.bottom-u.rectBounds.top-u.lengthAdjustment;break;default:throw new Error("Error getting side properties")}return c.push({isHorizontal:l,width:u.width,style:u.style,color:u.color,x:h,y:d,length:f}),c}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),r=n(3);class o{constructor(e){this.pixelRatio=e}static fromDocument(){const e=i.a.getPixelRatio(document.createElement("canvas"));return new o(e)}static withPixelRatio(e){return new o(e)}buildContext(e,t){const n=document.createElement("canvas");n.width=e*this.pixelRatio,n.height=t*this.pixelRatio,n.style.width=e+"px",n.style.height=t+"px";const i=n.getContext("2d",{alpha:!1});return Object(r.b)(i),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),i}buildOptimizedContext(e,t){if("undefined"==typeof OffscreenCanvas){const n=this.buildContext(e,t);return Object(r.b)(n),n}{const n=new OffscreenCanvas(e*this.pixelRatio,t*this.pixelRatio).getContext("2d",{alpha:!1});return Object(r.b)(n),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),n}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(7),r=n(9),o=n(10),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class a{constructor(e="localhost",t=8080){this.hostName=e,this.port=t}get(e,t,n,r){return s(this,void 0,void 0,(function*(){return n.type===i.b.Position?this.getByPositionId(e,t,n,r):this.getByPageIndex(e,t,n,r)}))}getByPageIndex(e,t,n,a){return s(this,void 0,void 0,(function*(){const t=new r.a(e,this.hostName,this.port);yield t.render(Object.assign(Object.assign({},a),{pageCount:n.direction===i.a.Backward?-n.pageCount:n.pageCount,pageIndex:n.pageIndex})),t.gotoPage(n.pageIndex);const s=new Array;for(let e=0;e<n.pageCount;e++){const e=t.getPage(),n=t.getLayoutPage(),i=t.getTokens(),r=t.getPanels();s.push(new o.a(t,e,n,i,r)),t.nextPage()}return s}))}getByPositionId(e,t,n,o){return s(this,void 0,void 0,(function*(){const t=new r.a(e,this.hostName,this.port);return yield t.render(Object.assign(Object.assign({},o),{pageCount:n.direction===i.a.Backward?-n.pageCount:n.pageCount,positionId:n.startPositionId})),a.adapt(n,t)}))}static adapt(e,t){const n=new Array,r=e.direction===i.a.Backward?e.skipPageCount-e.pageCount:e.skipPageCount;for(let e=0;e<r;e++)t.nextPage();for(let i=0;i<e.pageCount;i++){const e=t.getPage(),i=t.getLayoutPage(),r=t.getTokens(),s=t.getPanels();n.push(new o.a(t,e,i,r,s)),t.nextPage()}return n}}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{recordTimeMetrics(e,t){console.log("Emit time metric: "+e+": "+t+"ms")}recordCountMetrics(e,t){console.log("Emit count metric: "+e+": "+t)}}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(2);class r{constructor(e){this.metricsService=e}asyncExecuteMetrics(e,t){return function(e,t,n,i){return new(n||(n=Promise))((function(t,r){function o(e){try{a(i.next(e))}catch(e){r(e)}}function s(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(e){e(i)}))).then(o,s)}a((i=i.apply(e,[])).next())}))}(this,0,void 0,(function*(){const n=new Date;let r;try{return r=yield t(),r}catch(t){throw this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}`,1),t}finally{this.metricsService.recordTimeMetrics(`${e}:${i.a.EXECUTION}`,(new Date).getTime()-n.getTime()),r&&r instanceof Response&&this.handleNetworkErrors(e,r)}}))}syncExecuteMetrics(e,t){const n=new Date;let r;try{return r=t(),r}catch(t){throw this.recordCountMetrics(`${e}:${i.a.ERROR}`,1),t}finally{this.recordTimeMetrics(`${e}:${i.a.EXECUTION}`,(new Date).getTime()-n.getTime()),r&&r instanceof Response&&this.handleNetworkErrors(e,r)}}recordCountMetrics(e,t){this.metricsService.recordCountMetrics(e,t)}recordTimeMetrics(e,t){this.metricsService.recordTimeMetrics(e,t)}handleNetworkErrors(e,t){if(t.status&&!t.ok)switch(String(t.status)){case i.a.NETWORK_ERROR_BAD_REQUEST:this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}:${i.a.NETWORK_ERROR_BAD_REQUEST}`,1);break;case i.a.NETWORK_ERROR_NOT_FOUND:this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}:${i.a.NETWORK_ERROR_NOT_FOUND}`,1);break;case i.a.NETWORK_ERROR_SERVER_ERROR:this.metricsService.recordCountMetrics(`${e}:${i.a.ERROR}:${i.a.NETWORK_ERROR_SERVER_ERROR}`,1)}}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),r=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class o{constructor(){this.glyphCache=new Map,this.pixelRatio=2}clearCache(){this.glyphCache.clear()}setupApi(e){return{addFont:e.cwrap("addFont","boolean",["string","number","number"]),selectFont:e.cwrap("selectFont","boolean",["string"]),renderGlyph:e.cwrap("renderGlyph","boolean",["number"]),getGlyphRows:e.cwrap("getGlyphRows","number",[]),getGlyphWidth:e.cwrap("getGlyphWidth","number",[]),getGlyphPitch:e.cwrap("getGlyphPitch","number",[]),getGlyphFormat:e.cwrap("getGlyphFormat","number",[]),getGlyphBitmapLeft:e.cwrap("getGlyphBitmapLeft","number",[]),getGlyphBitmapTop:e.cwrap("getGlyphBitmapTop","number",[]),getGlyphBitmap:e.cwrap("getGlyphBitmap","number",[]),clearAllFonts:e.cwrap("clearAllFonts","number",[])}}init(){return this.loadingPromise||(this.loadingPromise=new Promise(((e,t)=>{try{this.wasmModule={},window.Module=this.wasmModule,this.wasmModule.onRuntimeInitialized=()=>{this.freeTypeApi=this.setupApi(this.wasmModule),e()};const t=document.createElement("script");t.type="text/javascript",t.src="freetype.js",document.head.append(t)}catch(e){t(e)}})).then((()=>this.loadFont()))),this.loadingPromise}loadFont(){return fetch("/Bookerly-Regular.ttf").then((e=>e.arrayBuffer())).then((e=>{const t=new Uint8Array(e),n=this.wasmModule._malloc(t.byteLength);if(this.wasmModule.HEAPU8.set(t,n),!this.freeTypeApi.addFont("Bookerly",n,t.byteLength))throw new Error('Failed to load font "Bookerly"');console.log("Font Bookerly loaded")}))}copyFreeTypeGlyphToCanvas(e,t,n,i){const r=this.getScratchCanvas(t,n),o=r.getContext("2d"),s=o.getImageData(0,0,t,n);for(let r=0;r<n;r++)for(let n=0;n<t;n++){const o=4*(r*t+n);s.data[o+0]=0,s.data[o+1]=0,s.data[o+2]=0,s.data[o+3]=Math.round((a=e[r*i+n]/255,Math.pow((1-a)*Math.pow(0,2)+a*Math.pow(255,2),.5)))}var a;return o.putImageData(s,0,0),r}render(e,t,n,o,s){return r(this,void 0,void 0,(function*(){return yield this.renderGlyph(e.context,Number(s.glyphId),s.fontSize,s.x,s.y),new i.a(0,0,0,0)}))}renderGlyph(e,t,n,i,o){return r(this,void 0,void 0,(function*(){this.freeTypeApi.selectFont("Bookerly");let r=Math.floor(i);const s=i-r;let a=Math.round(4*s),c=a/4;4==a&&(r++,a=0,c=0);let u=this.glyphCache.get(t);if(!u){if(document.getElementById("testdiv").offsetWidth,!this.freeTypeApi.renderGlyph(t,this.pixelRatio*n,440*this.pixelRatio,c,0))throw new Error("RenderGlyph failed: GID = "+t);const e=this.freeTypeApi.getGlyphRows(),i=this.freeTypeApi.getGlyphWidth(),r=this.freeTypeApi.getGlyphPitch(),o=this.freeTypeApi.getGlyphBitmapLeft(),s=this.freeTypeApi.getGlyphBitmapTop(),a=this.freeTypeApi.getGlyphBitmap();if(0==e||0==i)u={bitmap:void 0,bitmapLeft:0,bitmapTop:0,rows:0,width:0};else{const t=new Uint8Array(this.wasmModule.HEAPU8.subarray(a,a+r*e));u={bitmap:yield this.copyFreeTypeGlyphToCanvas(t,i,e,r),bitmapLeft:o/this.pixelRatio,bitmapTop:s/this.pixelRatio,rows:e/this.pixelRatio,width:i/this.pixelRatio}}this.glyphCache.set(t,u)}u&&u.bitmap&&e.drawImage(u.bitmap,r+u.bitmapLeft,Math.round(o)-u.bitmapTop,u.width,u.rows)}))}getScratchCanvas(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n.style.width=e+"px",n.style.height=t+"px",n.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),n}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(1),r=n(23),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class s{constructor(e){this.options=e;const t=null!=e.canvasPoolSize&&e.canvasPoolSize>0?e.canvasPoolSize:s.MAX_POOL_SIZE;this.contextPool=new r.b((()=>{const e=this.options.canvasService.buildContext(this.options.pageWidth,this.options.pageHeight);return e.getImageData(0,0,1,1),e}),(e=>e.clearRect(0,0,e.canvas.width,e.canvas.height)),t)}updateSurfaceOptions(e){this.options.pageWidth==e.pageWidth&&this.options.pageHeight==e.pageHeight||this.contextPool.clear(),this.options=Object.assign(Object.assign({},this.options),e)}render(e){return o(this,void 0,void 0,(function*(){return this.renderInMainThread(e)}))}renderInMainThread(e){return o(this,void 0,void 0,(function*(){const t=yield this.contextPool.acquire();try{const n={context:t,bookProvider:e},r=yield this.options.pageRenderer.render(n);let o=this.options.pageHeight;if(1===this.options.navigationMode){const t=r.rect;o=Math.ceil(t.bottom),(yield e.getPage()).height=o}const s=yield e.getLayoutPage();this.adjustColumnRects(s.children,0);const a=this.createPageContainer(t.canvas.height,r.pageFillColor);if(this.options.mountPageCanvas)a.appendChild(t.canvas),this.convertCanvasInBackground(t,o);else{const e=yield i.a.canvasToImage(t.canvas,this.options.pageWidth,o);a.appendChild(e),this.contextPool.release(t)}return Object.assign(Object.assign({},r),{pageElement:a})}catch(e){throw console.error("An error occurred when trying to render the page",e),this.contextPool.release(t),e}}))}createPageContainer(e,t){const n=document.createElement("div");return n.className=e>=this.options.pageHeight?"kg-full-page-img":"kg-short-page-img",n.dataset.backgroundColor=t,n}convertCanvasInBackground(e,t){setTimeout((()=>o(this,void 0,void 0,(function*(){try{const n=yield i.a.canvasToImage(e.canvas,this.options.pageWidth,t);try{yield n.decode()}catch(e){console.error("image cannot be decoded",e)}e.canvas.replaceWith(n)}catch(e){console.error("An error occurred when converting the canvas into image",e)}finally{this.contextPool.release(e)}}))))}adjustColumnRects(e,t){for(let n=0;n<e.length;n++){const i=e[n];"column"===i.type&&(e[n]=this.adjustColumnRect(i,t))}}adjustColumnRect(e,t){const n=e.children;n&&this.adjustColumnRects(n,t);const i=Object.assign(Object.assign({},e.dimensions),{top:e.dimensions.top-t});return Object.assign(Object.assign({},e),{rect:i,children:n})}}s.MAX_POOL_SIZE=4},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(11),r=n(18),o=n(19),s=n(14),a=n(22),c=n(24),u=n(25),l=n(21),h=n(15);class d{static build(e,t){const n=new c.a,d=new h.a,f=new u.a(n,d),p=new s.a(Object.assign(Object.assign({},e),{rectRenderer:f,lineRenderer:n,styleModifier:d}),t),g=new r.a(e),v=new a.a(Object.assign(Object.assign({},e),{fontRender:g,decorationRenderer:p})),m=new o.a(Object.assign(Object.assign({},e),{rectRenderer:f}),t),y={run:v,image:m},w=new i.a({nodeRenderers:y,decorationRender:p},t),b={run:v,image:m,kvg:new l.a(w)};return new i.a({nodeRenderers:b,decorationRender:p},t)}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{static getHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}static getWidth(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}static determineDPI(){const e=document.createElement("div"),t=e.style;t.height="1in",t.left="-100%",t.position="absolute",t.top="-100%",t.height="1in",t.width="1in",document.body.append(e);const n=e.offsetHeight;return e.remove(),n}}},function(e,t,n){"use strict";n.r(t);var i=n(28);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o=n(29);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);var s=n(1);n.d(t,"TransformIndex",(function(){return s.b})),n.d(t,"CanvasUtils",(function(){return s.a}));var a=n(30);n.d(t,"DefaultCanvasService",(function(){return a.a}));var c=n(7);n.d(t,"Direction",(function(){return c.a})),n.d(t,"NavigationType",(function(){return c.b}));var u=n(9);n.d(t,"DevBookDataLoader",(function(){return u.a}));var l=n(10);n.d(t,"DevBookProviderAdapter",(function(){return l.a}));var h=n(31);n.d(t,"DevBookProviderFactory",(function(){return h.a}));var d=n(12);n.d(t,"ImageUnscrambler",(function(){return d.a}));var f=n(32);for(var r in f)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return f[e]}))}(r);var p=n(13);n.d(t,"InformativeError",(function(){return p.a}));var g=n(33);n.d(t,"ConsoleMetricsService",(function(){return g.a}));var v=n(2);n.d(t,"MetricsConstants",(function(){return v.a}));var m=n(34);for(var r in m)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return m[e]}))}(r);var y=n(35);n.d(t,"MetricsUtil",(function(){return y.a}));var w=n(14);n.d(t,"DecorationRenderer",(function(){return w.a}));var b=n(15);n.d(t,"DecorationStyleModifier",(function(){return b.a}));var _=n(0);n.d(t,"ContentBoundingBox",(function(){return _.a}));var k=n(16);n.d(t,"CanvasRenderingContext2DWrapper",(function(){return k.a}));var E=n(17);n.d(t,"PathBuilderContext2D",(function(){return E.a}));var S=n(4);n.d(t,"RectUtils",(function(){return S.a}));var T=n(36);for(var r in T)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return T[e]}))}(r);var P=n(5);n.d(t,"SvgBuilder",(function(){return P.a}));var C=n(18);n.d(t,"DefaultGlyphRenderer",(function(){return C.a}));var x=n(37);for(var r in x)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return x[e]}))}(r);var I=n(38);n.d(t,"FreeTypeGlyphRenderer",(function(){return I.a}));var R=n(39);for(var r in R)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return R[e]}))}(r);var O=n(40);for(var r in O)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return O[e]}))}(r);var A=n(19);n.d(t,"ImageRenderer",(function(){return A.a}));var $=n(21);n.d(t,"KVGRenderer",(function(){return $.a}));var L=n(41);for(var r in L)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer","ImageRenderer","KVGRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return L[e]}))}(r);var M=n(22);n.d(t,"RunRenderer",(function(){return M.a}));var j=n(42);n.d(t,"PageImageRenderer",(function(){return j.a}));var D=n(43);n.d(t,"PageRendererFactory",(function(){return D.a}));var N=n(11);n.d(t,"PageRenderer",(function(){return N.a}));var F=n(44);for(var r in F)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer","ImageRenderer","KVGRenderer","RunRenderer","PageImageRenderer","PageRendererFactory","PageRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return F[e]}))}(r);var B=n(24);n.d(t,"LineRenderer",(function(){return B.a}));var U=n(45);for(var r in U)["default","TransformIndex","CanvasUtils","DefaultCanvasService","Direction","NavigationType","DevBookDataLoader","DevBookProviderAdapter","DevBookProviderFactory","ImageUnscrambler","InformativeError","ConsoleMetricsService","MetricsConstants","MetricsUtil","DecorationRenderer","DecorationStyleModifier","ContentBoundingBox","CanvasRenderingContext2DWrapper","PathBuilderContext2D","RectUtils","SvgBuilder","DefaultGlyphRenderer","FreeTypeGlyphRenderer","ImageRenderer","KVGRenderer","RunRenderer","PageImageRenderer","PageRendererFactory","PageRenderer","LineRenderer"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return U[e]}))}(r);var z=n(26);n.d(t,"RectCornerRenderer",(function(){return z.a}));var H=n(25);n.d(t,"RectRenderer",(function(){return H.a}));var V=n(8);n.d(t,"SidePosition",(function(){return V.a}));var G=n(27);n.d(t,"RectSideRenderer",(function(){return G.a}));var W=n(20);n.d(t,"shouldTriggerAntiMoireFilter",(function(){return W.a}));var q=n(6);n.d(t,"HSVtoRGB",(function(){return q.a})),n.d(t,"RGBtoHSV",(function(){return q.d})),n.d(t,"HexToRGBA",(function(){return q.b})),n.d(t,"RGBAToHexA",(function(){return q.c}));var Y=n(3);n.d(t,"assertIsDefined",(function(){return Y.b})),n.d(t,"assert",(function(){return Y.a}));var K=n(23);n.d(t,"ClearedPoolError",(function(){return K.a})),n.d(t,"Pool",(function(){return K.b}));var X=n(46);n.d(t,"WindowUtils",(function(){return X.a}))},function(e,t){null==CanvasRenderingContext2D.prototype.ellipse&&(CanvasRenderingContext2D.prototype.ellipse=function(e,t,n,i,r,o,s,a){this.save(),this.translate(e,t),this.rotate(r),this.scale(n,i),this.arc(0,0,1,o,s,a),this.restore()}),"function"==typeof Path2D&&"function"==typeof(new Path2D).addPath||function(){function e(e){if(this.ops_=[],null!=e)if("string"==typeof e)try{this.ops_=parser.parse(e)}catch(e){}else{if(!e.hasOwnProperty("ops_"))throw"Error: "+typeof e+"is not a valid argument to Path";this.ops_=e.ops_.slice(0)}}parser=function(){function e(e,t,n,i,r,o){this.message=e,this.expected=t,this.found=n,this.offset=i,this.line=r,this.column=o,this.name="SyntaxError"}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,i=arguments.length>1?arguments[1]:{},r={},o={svg_path:be},s=be,a=r,c=null,u=function(e){return ct},l=/^[Mm]/,h={type:"class",value:"[Mm]",description:"[Mm]"},d=function(e,t){var n=e;ut&&(n="M",ut=!1),ct.push({type:"moveTo",args:dt(n,t[0])});for(var i=1;i<t.length;i++)ct.push({type:"lineTo",args:dt(e,t[i])})},f=function(e,t){return mt(e,t)},p=/^[Zz]/,g={type:"class",value:"[Zz]",description:"[Zz]"},v=function(){ct.push({type:"closePath",args:[]})},m=/^[Ll]/,y={type:"class",value:"[Ll]",description:"[Ll]"},w=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"lineTo",args:dt(e,t[n])})},b=/^[Hh]/,_={type:"class",value:"[Hh]",description:"[Hh]"},k=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"lineTo",args:gt(e,t[n])})},E=/^[Vv]/,S={type:"class",value:"[Vv]",description:"[Vv]"},T=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"lineTo",args:vt(e,t[n])})},P=/^[Cc]/,C={type:"class",value:"[Cc]",description:"[Cc]"},x=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"bezierCurveTo",args:ft(e,t[n])})},I=function(e,t,n){return e.concat(t,n)},R=/^[Ss]/,O={type:"class",value:"[Ss]",description:"[Ss]"},A=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"bezierCurveTo",args:pt().concat(ft(e,t[n]))})},$=function(e,t){return e.concat(t)},L=/^[Qq]/,M={type:"class",value:"[Qq]",description:"[Qq]"},j=function(e,t){for(var n=0;n<t.length;n++)ct.push({type:"quadraticCurveTo",args:ft(e,t[n])})},D=/^[Tt]/,N={type:"class",value:"[Tt]",description:"[Tt]"},F=function(e,t){for(var n=0;n<t.length;n++){var i=pt();ct.push({type:"quadraticCurveTo",args:i.concat(ft(e,t[n]))}),at=i.slice(0)}},B=/^[Aa]/,U={type:"class",value:"[Aa]",description:"[Aa]"},z=function(e,t){for(var n=0;n<t.length;n++){var i=[st.slice()],r=[dt(e,t[n].slice(-2))];absArgs=i.concat(t[n].slice(0,-2),r),Rt.apply(this,absArgs)}},H=function(e,t,n,i,r,o){return[parseFloat(e),parseFloat(t),parseFloat(ht(n).join("")),parseInt(i),parseInt(r),o[0],o[1]]},V=function(e,t){return[e,t]},G=function(e){return parseFloat(ht(e).join(""))},W="0",q={type:"literal",value:"0",description:'"0"'},Y="1",K={type:"literal",value:"1",description:'"1"'},X=",",Z={type:"literal",value:",",description:'","'},J=".",Q={type:"literal",value:".",description:'"."'},ee=/^[eE]/,te={type:"class",value:"[eE]",description:"[eE]"},ne="+",ie={type:"literal",value:"+",description:'"+"'},re="-",oe={type:"literal",value:"-",description:'"-"'},se=/^[0-9]/,ae={type:"class",value:"[0-9]",description:"[0-9]"},ce=function(e){return e.join("")},ue=/^[ \t\n\r]/,le={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},he=0,de=0,fe={line:1,column:1,seenCR:!1},pe=0,ge=[],ve=0;if("startRule"in i){if(!(i.startRule in o))throw new Error("Can't start parsing from rule \""+i.startRule+'".');s=o[i.startRule]}function me(e){return de!==e&&(de>e&&(de=0,fe={line:1,column:1,seenCR:!1}),function(e,n,i){var r,o;for(r=n;r<i;r++)"\n"===(o=t.charAt(r))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(fe,de,e),de=e),fe}function ye(e){he<pe||(he>pe&&(pe=he,ge=[]),ge.push(e))}function we(n,i,r){var o=me(r),s=r<t.length?t.charAt(r):null;return null!==i&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(i),new e(null!==n?n:function(e,t){var n,i=new Array(e.length);for(n=0;n<e.length;n++)i[n]=e[n].description;return"Expected "+(e.length>1?i.slice(0,-1).join(", ")+" or "+i[e.length-1]:i[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(i,s),i,s,r,o.line,o.column)}function be(){var e,t,n,i,o;for(e=he,t=[],n=ot();n!==r;)t.push(n),n=ot();if(t!==r)if((n=_e())===r&&(n=c),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r?e=t=u(n):(he=e,e=a)}else he=e,e=a;else he=e,e=a;return e}function _e(){var e,t,n,i,o;if(e=he,(t=ke())!==r){for(n=he,i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=_e())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function ke(){var e,t,n,i,o;if(e=he,(t=Te())!==r){for(n=he,i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ee())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function Ee(){var e,t,n,i,o;if(e=he,(t=Se())!==r){for(n=he,i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ee())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function Se(){var e;return(e=Ce())===r&&(e=xe())===r&&(e=Re())===r&&(e=Ae())===r&&(e=$e())===r&&(e=je())===r&&(e=Fe())===r&&(e=ze())===r&&(e=Ve()),e}function Te(){var e,n,i,o;if(e=he,l.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(h)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Pe())!==r?e=n=d(n,o):(he=e,e=a)}else he=e,e=a;return e}function Pe(){var e,t,n,i,o;return e=he,(t=qe())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Ie())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ce(){var e;return p.test(t.charAt(he))?(e=t.charAt(he),he++):(e=r,0===ve&&ye(g)),e!==r&&(e=v()),e}function xe(){var e,n,i,o;if(e=he,m.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(y)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ie())!==r?e=n=w(n,o):(he=e,e=a)}else he=e,e=a;return e}function Ie(){var e,t,n,i,o;return e=he,(t=qe())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Ie())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Re(){var e,n,i,o;if(e=he,b.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(_)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Oe())!==r?e=n=k(n,o):(he=e,e=a)}else he=e,e=a;return e}function Oe(){var e,t,n,i,o;return e=he,(t=Ye())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Oe())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ae(){var e,n,i,o;if(e=he,E.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(S)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Oe())!==r?e=n=T(n,o):(he=e,e=a)}else he=e,e=a;return e}function $e(){var e,n,i,o;if(e=he,P.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(C)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Le())!==r?e=n=x(n,o):(he=e,e=a)}else he=e,e=a;return e}function Le(){var e,t,n,i,o;return e=he,(t=Me())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Le())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Me(){var e,t,n,i,o,s;return e=he,(t=qe())!==r?((n=Je())===r&&(n=c),n!==r&&(i=qe())!==r?((o=Je())===r&&(o=c),o!==r&&(s=qe())!==r?e=t=I(t,i,s):(he=e,e=a)):(he=e,e=a)):(he=e,e=a),e}function je(){var e,n,i,o;if(e=he,R.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(O)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=De())!==r?e=n=A(n,o):(he=e,e=a)}else he=e,e=a;return e}function De(){var e,t,n,i,o;return e=he,(t=Ne())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=De())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ne(){var e,t,n,i;return e=he,(t=qe())!==r?((n=Je())===r&&(n=c),n!==r&&(i=qe())!==r?e=t=$(t,i):(he=e,e=a)):(he=e,e=a),e}function Fe(){var e,n,i,o;if(e=he,L.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(M)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Be())!==r?e=n=j(n,o):(he=e,e=a)}else he=e,e=a;return e}function Be(){var e,t,n,i,o;return e=he,(t=Ue())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Be())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ue(){var e,t,n,i;return e=he,(t=qe())!==r?((n=Je())===r&&(n=c),n!==r&&(i=qe())!==r?e=t=$(t,i):(he=e,e=a)):(he=e,e=a),e}function ze(){var e,n,i,o;if(e=he,D.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(N)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=He())!==r?e=n=F(n,o):(he=e,e=a)}else he=e,e=a;return e}function He(){var e,t,n,i,o;return e=he,(t=qe())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=He())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function Ve(){var e,n,i,o;if(e=he,B.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(U)),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r&&(o=Ge())!==r?e=n=z(n,o):(he=e,e=a)}else he=e,e=a;return e}function Ge(){var e,t,n,i,o;return e=he,(t=We())!==r?(n=he,(i=Je())===r&&(i=c),i!==r&&(o=Ge())!==r?n=i=[i,o]:(he=n,n=a),n===r&&(n=c),n!==r?e=t=f(t,n):(he=e,e=a)):(he=e,e=a),e}function We(){var e,t,n,i,o,s,u,l,h,d,f;return e=he,(t=Ke())!==r?((n=Je())===r&&(n=c),n!==r&&(i=Ke())!==r?((o=Je())===r&&(o=c),o!==r&&(s=Xe())!==r&&Je()!==r&&(u=Ze())!==r?((l=Je())===r&&(l=c),l!==r&&(h=Ze())!==r?((d=Je())===r&&(d=c),d!==r&&(f=qe())!==r?e=t=H(t,i,s,u,h,f):(he=e,e=a)):(he=e,e=a)):(he=e,e=a)):(he=e,e=a)):(he=e,e=a),e}function qe(){var e,t,n,i;return e=he,(t=Ye())!==r?((n=Je())===r&&(n=c),n!==r&&(i=Ye())!==r?e=t=V(t,i):(he=e,e=a)):(he=e,e=a),e}function Ye(){var e;return(e=Xe())!==r&&(e=G(e)),e}function Ke(){var e;return(e=et())===r&&(e=rt()),e}function Xe(){var e,t,n;return e=he,(t=it())===r&&(t=c),t!==r&&(n=et())!==r?e=t=[t,n]:(he=e,e=a),e===r&&(e=he,(t=it())===r&&(t=c),t!==r&&(n=rt())!==r?e=t=[t,n]:(he=e,e=a)),e}function Ze(){var e;return 48===t.charCodeAt(he)?(e=W,he++):(e=r,0===ve&&ye(q)),e===r&&(49===t.charCodeAt(he)?(e=Y,he++):(e=r,0===ve&&ye(K))),e}function Je(){var e,t,n,i,o;if(e=he,t=[],(n=ot())!==r)for(;n!==r;)t.push(n),n=ot();else t=a;if(t!==r)if((n=Qe())===r&&(n=c),n!==r){for(i=[],o=ot();o!==r;)i.push(o),o=ot();i!==r?e=t=[t,n,i]:(he=e,e=a)}else he=e,e=a;else he=e,e=a;if(e===r)if(e=he,(t=Qe())!==r){for(n=[],i=ot();i!==r;)n.push(i),i=ot();n!==r?e=t=[t,n]:(he=e,e=a)}else he=e,e=a;return e}function Qe(){var e;return 44===t.charCodeAt(he)?(e=X,he++):(e=r,0===ve&&ye(Z)),e}function et(){var e,t,n;return e=he,(t=tt())!==r?((n=nt())===r&&(n=c),n!==r?e=t=[t,n]:(he=e,e=a)):(he=e,e=a),e===r&&(e=he,(t=rt())!==r&&(n=nt())!==r?e=t=[t,n]:(he=e,e=a)),e}function tt(){var e,n,i,o;return e=he,(n=rt())===r&&(n=c),n!==r?(46===t.charCodeAt(he)?(i=J,he++):(i=r,0===ve&&ye(Q)),i!==r&&(o=rt())!==r?e=n=[n,i,o]:(he=e,e=a)):(he=e,e=a),e===r&&(e=he,(n=rt())!==r?(46===t.charCodeAt(he)?(i=J,he++):(i=r,0===ve&&ye(Q)),i!==r?e=n=[n,i]:(he=e,e=a)):(he=e,e=a)),e}function nt(){var e,n,i,o;return e=he,ee.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(te)),n!==r?((i=it())===r&&(i=c),i!==r&&(o=rt())!==r?e=n=[n,i,o]:(he=e,e=a)):(he=e,e=a),e}function it(){var e;return 43===t.charCodeAt(he)?(e=ne,he++):(e=r,0===ve&&ye(ie)),e===r&&(45===t.charCodeAt(he)?(e=re,he++):(e=r,0===ve&&ye(oe))),e}function rt(){var e,n;if(e=[],se.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(ae)),n!==r)for(;n!==r;)e.push(n),se.test(t.charAt(he))?(n=t.charAt(he),he++):(n=r,0===ve&&ye(ae));else e=a;return e!==r&&(e=ce(e)),e}function ot(){var e;return ue.test(t.charAt(he))?(e=t.charAt(he),he++):(e=r,0===ve&&ye(le)),e}var st=[0,0],at=[0,0],ct=[],ut=!0,lt="";function ht(e){for(var t=[],n=0;n<e.length;n++)e[n]instanceof Array?t.push.apply(t,ht(e[n])):t.push(e[n]);return t}function dt(e,t){return-1==="mlazhvcsqt".indexOf(e)?st=t:(st[0]+=t[0],st[1]+=t[1]),lt=e,st.slice(0)}function ft(e,t){for(var n=[],i=st.slice(0),r=0;r<t.length;r+=2){st=i.slice(0);var o=dt(e,t.slice(r,r+2));n=n.concat(o),r==t.length-4&&(at=o.slice(0))}return n}function pt(){-1=="CcSsQqTt".indexOf(lt)&&(at=st.slice(0));var e=[0,0];return e[0]=2*st[0]-at[0],e[1]=2*st[1]-at[1],e}function gt(e,t){var n=[t,0];return"H"==e&&(n[1]=st[1]),dt(e,n)}function vt(e,t){var n=[0,t];return"V"==e&&(n[0]=st[0]),dt(e,n)}function mt(e,t){var n=[e];if(t&&t.length>1)for(var i=t[1],r=0;r<i.length;r++)n.push(i[r]);return n}function yt(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function wt(e,t){return e[0]*t[0]+e[1]*t[1]}function bt(e,t){return wt(e,t)/(yt(e)*yt(t))}function _t(e,t,n){return Math.min(Math.max(e,t),n)}function kt(e,t){var n=1;return e[0]*t[1]-e[1]*t[0]<0&&(n=-1),n*Math.acos(_t(bt(e,t),-1,1))}function Et(e,t){var n=Math.cos(t),i=Math.sin(t);return[n*e[0]+i*e[1],-1*i*e[0]+n*e[1]]}function St(e,t){var n=Math.cos(t),i=Math.sin(t);return[n*e[0]-i*e[1],i*e[0]+n*e[1]]}function Tt(e,t){return[(e[0]-t[0])/2,(e[1]-t[1])/2]}function Pt(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}function Ct(e,t){return[e[0]*t[0],e[1]*t[1]]}function xt(e,t){return[e*t[0],e*t[1]]}function It(e,t){return[e[0]+t[0],e[1]+t[1]]}function Rt(e,t,n,i,r,o,s){if(0!=t&&0!=n){i*=Math.PI/180,t=Math.abs(t),n=Math.abs(n);var a=Et(Tt(e,s),i),c=Ct(a,a),u=Math.pow(t,2),l=Math.pow(n,2),h=Math.sqrt(c[0]/u+c[1]/l);h>1&&(t*=h,n*=h,u=Math.pow(t,2),l=Math.pow(n,2));var d=Math.sqrt(Math.abs(u*l-u*c[1]-l*c[0])/(u*c[1]+l*c[0]));r==o&&(d*=-1);var f=xt(d,[t*a[1]/n,-n*a[0]/t]),p=It(St(f,i),Pt(e,s)),g=[(a[0]-f[0])/t,(a[1]-f[1])/n],v=[(-1*a[0]-f[0])/t,(-1*a[1]-f[1])/n],m=kt([1,0],g),y=m,w=m+kt(g,v);ct.push({type:"save",args:[]},{type:"translate",args:[p[0],p[1]]},{type:"rotate",args:[i]},{type:"scale",args:[t,n]},{type:"arc",args:[0,0,1,y,w,1-o]},{type:"restore",args:[]})}else ct.push({type:"lineTo",args:s})}if((n=s())!==r&&he===t.length)return n;throw n!==r&&he<t.length&&ye({type:"end",description:"end of input"}),we(null,ge,pe)}}}();var t=["closePath","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","rect","arc","arcTo","ellipse","isPointInPath","isPointInStroke"];function n(e){return function(){this.ops_.push({type:e,args:Array.prototype.slice.call(arguments,0)})}}for(var i=0;i<t.length;i++){var r=t[i];e.prototype[r]=n(r)}e.prototype.addPath=function(e,t){var n=!1;t&&null!=t.a&&null!=t.b&&null!=t.c&&null!=t.d&&null!=t.e&&null!=t.f&&(n=!0,this.ops_.push({type:"save",args:[]}),this.ops_.push({type:"transform",args:[t.a,t.b,t.c,t.d,t.e,t.f]})),this.ops_=this.ops_.concat(e.ops_),n&&this.ops_.push({type:"restore",args:[]})},original_fill=CanvasRenderingContext2D.prototype.fill,original_stroke=CanvasRenderingContext2D.prototype.stroke,original_clip=CanvasRenderingContext2D.prototype.clip,original_is_point_in_path=CanvasRenderingContext2D.prototype.isPointInPath,original_is_point_in_stroke=CanvasRenderingContext2D.prototype.isPointInStroke,CanvasRenderingContext2D.prototype.fill=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}original_fill.apply(this,Array.prototype.slice.call(arguments,1))}else original_fill.apply(this,arguments)},CanvasRenderingContext2D.prototype.stroke=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}original_stroke.call(this)}else original_stroke.call(this)},CanvasRenderingContext2D.prototype.clip=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}original_clip.apply(this,Array.prototype.slice.call(arguments,1))}else original_clip.apply(this,arguments)},CanvasRenderingContext2D.prototype.isPointInPath=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}return original_is_point_in_path.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_path.apply(this,arguments)},CanvasRenderingContext2D.prototype.isPointInStroke=function(t){if(t instanceof e){this.beginPath();for(var n=0,i=t.ops_.length;n<i;n++){var r=t.ops_[n];CanvasRenderingContext2D.prototype[r.type].apply(this,r.args)}return original_is_point_in_stroke.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_stroke.apply(this,arguments)},Path2D=e}()}])},module.exports=e()},68758:function(e,t,n){"use strict";var i=n(23664),r=n(30528),o=n(22167),s=n(99490),a=n(49275),c=e.exports=function(e,t){var n,r,c,u,l;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],i(e)?(n=a.call(e,"c"),r=a.call(e,"e"),c=a.call(e,"w")):(n=c=!0,r=!1),l={value:t,configurable:n,enumerable:r,writable:c},u?o(s(u),l):l};c.gs=function(e,t,n){var c,u,l,h;return"string"!=typeof e?(l=n,n=t,t=e,e=null):l=arguments[3],i(t)?r(t)?i(n)?r(n)||(l=n,n=void 0):n=void 0:(l=t,t=n=void 0):t=void 0,i(e)?(c=a.call(e,"c"),u=a.call(e,"e")):(c=!0,u=!1),h={get:t,set:n,configurable:c,enumerable:u},l?o(s(l),h):h}},15493:function(e,t,n){"use strict";var i=n(45602),r=n(52855),o=n(38801),s=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,c=Math.abs,u=Math.floor;e.exports=function(e){var t,n,l,h;if(!i(e))return s.apply(this,arguments);for(n=r(o(this).length),l=arguments[1],t=l=isNaN(l)?0:l>=0?u(l):r(this.length)-u(c(l));t<n;++t)if(a.call(this,t)&&(h=this[t],i(h)))return t;return-1}},69284:function(e,t,n){"use strict";e.exports=n(79960)()?Array.from:n(91421)},79960:function(e){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},91421:function(e,t,n){"use strict";var i=n(23699).iterator,r=n(92246),o=n(32164),s=n(52855),a=n(13048),c=n(38801),u=n(26715),l=n(35560),h=Array.isArray,d=Function.prototype.call,f={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;e.exports=function(e){var t,n,g,v,m,y,w,b,_,k,E=arguments[1],S=arguments[2];if(e=Object(c(e)),u(E)&&a(E),this&&this!==Array&&o(this))t=this;else{if(!E){if(r(e))return 1!==(m=e.length)?Array.apply(null,e):((v=new Array(1))[0]=e[0],v);if(h(e)){for(v=new Array(m=e.length),n=0;n<m;++n)v[n]=e[n];return v}}v=[]}if(!h(e))if(void 0!==(_=e[i])){for(w=a(_).call(e),t&&(v=new t),b=w.next(),n=0;!b.done;)k=E?d.call(E,S,b.value,n):b.value,t?(f.value=k,p(v,n,f)):v[n]=k,b=w.next(),++n;m=n}else if(l(e)){for(m=e.length,t&&(v=new t),n=0,g=0;n<m;++n)k=e[n],n+1<m&&(y=k.charCodeAt(0))>=55296&&y<=56319&&(k+=e[++n]),k=E?d.call(E,S,k,g):k,t?(f.value=k,p(v,g,f)):v[g]=k,++g;m=g}if(void 0===m)for(m=s(e.length),t&&(v=new t(m)),n=0;n<m;++n)k=E?d.call(E,S,e[n],n):e[n],t?(f.value=k,p(v,n,f)):v[n]=k;return t&&(f.value=null,v.length=m),v}},44631:function(e,t,n){"use strict";var i=n(69284),r=Array.isArray;e.exports=function(e){return r(e)?e:i(e)}},13989:function(e,t,n){"use strict";var i=n(22167),r=n(5661),o=n(26715),s=Error.captureStackTrace;e.exports=function(t){var n=new Error(t),a=arguments[1],c=arguments[2];return o(c)||r(a)&&(c=a,a=null),o(c)&&i(n,c),o(a)&&(n.code=a),s&&s(n,e.exports),n}},87070:function(e,t,n){"use strict";var i,r,o,s,a,c=n(52855),u=function(e,t){return t};try{Object.defineProperty(u,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(e){}1===u.length?(i={configurable:!0,writable:!1,enumerable:!1},r=Object.defineProperty,e.exports=function(e,t){return t=c(t),e.length===t?e:(i.value=t,r(e,"length",i))}):(s=n(55565),a=[],o=function(e){var t,n=0;if(a[e])return a[e];for(t=[];e--;)t.push("a"+(++n).toString(36));return new Function("fn","return function ("+t.join(", ")+") { return fn.apply(this, arguments); };")},e.exports=function(e,t){var n;if(t=c(t),e.length===t)return e;n=o(t)(e);try{s(n,e)}catch(e){}return n})},92246:function(e){"use strict";var t=Object.prototype.toString,n=t.call(function(){return arguments}());e.exports=function(e){return t.call(e)===n}},32164:function(e){"use strict";var t=Object.prototype.toString,n=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(e){return"function"==typeof e&&n(t.call(e))}},89225:function(e){"use strict";e.exports=function(){}},8266:function(e,t,n){"use strict";e.exports=n(57351)()?Math.sign:n(71033)},57351:function(e){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},71033:function(e){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},45602:function(e,t,n){"use strict";e.exports=n(555)()?Number.isNaN:n(19900)},555:function(e){"use strict";e.exports=function(){var e=Number.isNaN;return"function"==typeof e&&!e({})&&e(NaN)&&!e(34)}},19900:function(e){"use strict";e.exports=function(e){return e!=e}},43685:function(e,t,n){"use strict";var i=n(8266),r=Math.abs,o=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?i(e)*o(r(e)):e}},52855:function(e,t,n){"use strict";var i=n(43685),r=Math.max;e.exports=function(e){return r(0,i(e))}},82766:function(e,t,n){"use strict";var i=n(13048),r=n(38801),o=Function.prototype.bind,s=Function.prototype.call,a=Object.keys,c=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,u){var l,h=arguments[2],d=arguments[3];return n=Object(r(n)),i(u),l=a(n),d&&l.sort("function"==typeof d?o.call(d,n):void 0),"function"!=typeof e&&(e=l[e]),s.call(e,l,(function(e,i){return c.call(n,e)?s.call(u,h,n[e],e,n,i):t}))}}},22167:function(e,t,n){"use strict";e.exports=n(4515)()?Object.assign:n(98554)},4515:function(e){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},98554:function(e,t,n){"use strict";var i=n(99476),r=n(38801),o=Math.max;e.exports=function(e,t){var n,s,a,c=o(arguments.length,2);for(e=Object(r(e)),a=function(i){try{e[i]=t[i]}catch(e){n||(n=e)}},s=1;s<c;++s)i(t=arguments[s]).forEach(a);if(void 0!==n)throw n;return e}},93464:function(e,t,n){"use strict";e.exports=n(82766)("forEach")},98497:function(e){"use strict";e.exports=function(e){return"function"==typeof e}},5661:function(e,t,n){"use strict";var i=n(26715),r={function:!0,object:!0};e.exports=function(e){return i(e)&&r[typeof e]||!1}},26715:function(e,t,n){"use strict";var i=n(89225)();e.exports=function(e){return e!==i&&null!==e}},99476:function(e,t,n){"use strict";e.exports=n(21394)()?Object.keys:n(52953)},21394:function(e){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},52953:function(e,t,n){"use strict";var i=n(26715),r=Object.keys;e.exports=function(e){return r(i(e)?Object(e):e)}},61815:function(e,t,n){"use strict";var i=n(13048),r=n(93464),o=Function.prototype.call;e.exports=function(e,t){var n={},s=arguments[2];return i(t),r(e,(function(e,i,r,a){n[i]=o.call(t,s,e,i,r,a)})),n}},55565:function(e,t,n){"use strict";var i=n(38801),r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;e.exports=function(e,t){var n,c=Object(i(t));if(e=Object(i(e)),s(c).forEach((function(i){try{r(e,i,o(t,i))}catch(e){n=e}})),"function"==typeof a&&a(c).forEach((function(i){try{r(e,i,o(t,i))}catch(e){n=e}})),void 0!==n)throw n;return e}},99490:function(e,t,n){"use strict";var i=n(26715),r=Array.prototype.forEach,o=Object.create,s=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=o(null);return r.call(arguments,(function(e){i(e)&&s(Object(e),t)})),t}},97180:function(e){"use strict";var t=Array.prototype.forEach,n=Object.create;e.exports=function(e){var i=n(null);return t.call(arguments,(function(e){i[e]=!0})),i}},13048:function(e){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},38801:function(e,t,n){"use strict";var i=n(26715);e.exports=function(e){if(!i(e))throw new TypeError("Cannot use null or undefined");return e}},63701:function(e,t,n){"use strict";var i=n(38801),r=n(69451);e.exports=function(e){return r(i(e))}},69451:function(e,t,n){"use strict";var i=n(98497);e.exports=function(e){try{return e&&i(e.toString)?e.toString():String(e)}catch(e){throw new TypeError("Passed argument cannot be stringifed")}}},88544:function(e,t,n){"use strict";var i=n(98497);e.exports=function(e){try{return e&&i(e.toString)?e.toString():String(e)}catch(e){return"<Non-coercible to string value>"}}},49275:function(e,t,n){"use strict";e.exports=n(51783)()?String.prototype.contains:n(88339)},51783:function(e){"use strict";var t="razdwatrzy";e.exports=function(){return"function"==typeof t.contains&&!0===t.contains("dwa")&&!1===t.contains("foo")}},88339:function(e){"use strict";var t=String.prototype.indexOf;e.exports=function(e){return t.call(this,e,arguments[1])>-1}},35560:function(e){"use strict";var t=Object.prototype.toString,n=t.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||t.call(e)===n)||!1}},61773:function(e,t,n){"use strict";var i=n(88544),r=/[\n\r\u2028\u2029]/g;e.exports=function(e){var t=i(e);return t.length>100&&(t=t.slice(0,99)+"…"),t.replace(r,(function(e){return JSON.stringify(e).slice(1,-1)}))}},23699:function(e,t,n){"use strict";e.exports=n(95208)()?n(34984).Symbol:n(20469)},95208:function(e,t,n){"use strict";var i=n(34984),r={object:!0,symbol:!0};e.exports=function(){var e,t=i.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof t.iterator]&&!!r[typeof t.toPrimitive]&&!!r[typeof t.toStringTag]}},86299:function(e){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},66592:function(e,t,n){"use strict";var i=n(68758),r=Object.create,o=Object.defineProperty,s=Object.prototype,a=r(null);e.exports=function(e){for(var t,n,r=0;a[e+(r||"")];)++r;return a[e+=r||""]=!0,o(s,t="@@"+e,i.gs(null,(function(e){n||(n=!0,o(this,t,i(e)),n=!1)}))),t}},88288:function(e,t,n){"use strict";var i=n(68758),r=n(34984).Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:i("",r&&r.hasInstance||e("hasInstance")),isConcatSpreadable:i("",r&&r.isConcatSpreadable||e("isConcatSpreadable")),iterator:i("",r&&r.iterator||e("iterator")),match:i("",r&&r.match||e("match")),replace:i("",r&&r.replace||e("replace")),search:i("",r&&r.search||e("search")),species:i("",r&&r.species||e("species")),split:i("",r&&r.split||e("split")),toPrimitive:i("",r&&r.toPrimitive||e("toPrimitive")),toStringTag:i("",r&&r.toStringTag||e("toStringTag")),unscopables:i("",r&&r.unscopables||e("unscopables"))})}},53586:function(e,t,n){"use strict";var i=n(68758),r=n(36776),o=Object.create(null);e.exports=function(e){return Object.defineProperties(e,{for:i((function(t){return o[t]?o[t]:o[t]=e(String(t))})),keyFor:i((function(e){var t;for(t in r(e),o)if(o[t]===e)return t}))})}},20469:function(e,t,n){"use strict";var i,r,o,s=n(68758),a=n(36776),c=n(34984).Symbol,u=n(66592),l=n(88288),h=n(53586),d=Object.create,f=Object.defineProperties,p=Object.defineProperty;if("function"==typeof c)try{String(c()),o=!0}catch(e){}else c=null;r=function(e){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return i(e)},e.exports=i=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?c(t):(n=d(r.prototype),t=void 0===t?"":String(t),f(n,{__description__:s("",t),__name__:s("",u(t))}))},l(i),h(i),f(r.prototype,{constructor:s(i),toString:s("",(function(){return this.__name__}))}),f(i.prototype,{toString:s((function(){return"Symbol ("+a(this).__description__+")"})),valueOf:s((function(){return a(this)}))}),p(i.prototype,i.toPrimitive,s("",(function(){var e=a(this);return"symbol"==typeof e?e:e.toString()}))),p(i.prototype,i.toStringTag,s("c","Symbol")),p(r.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),p(r.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},36776:function(e,t,n){"use strict";var i=n(86299);e.exports=function(e){if(!i(e))throw new TypeError(e+" is not a symbol");return e}},62275:function(e,t,n){"use strict";var i,r,o,s,a,c,u,l=n(68758),h=n(13048),d=Function.prototype.apply,f=Function.prototype.call,p=Object.create,g=Object.defineProperty,v=Object.defineProperties,m=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n,r;return h(t),r=this,i.call(this,e,n=function(){o.call(r,e,n),d.call(t,this,arguments)}),n.__eeOnceListener__=t,this},s=function(e){var t,n,i,r,o;if(m.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"==typeof r){for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];for(r=r.slice(),t=0;i=r[t];++t)d.call(i,this,o)}else switch(arguments.length){case 1:f.call(r,this);break;case 2:f.call(r,this,arguments[1]);break;case 3:f.call(r,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];d.call(r,this,o)}},a={on:i=function(e,t){var n;return h(t),m.call(this,"__ee__")?n=this.__ee__:(n=y.value=p(null),g(this,"__ee__",y),y.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:r,off:o=function(e,t){var n,i,r,o;if(h(t),!m.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==typeof(i=n[e]))for(o=0;r=i[o];++o)r!==t&&r.__eeOnceListener__!==t||(2===i.length?n[e]=i[o?0:1]:i.splice(o,1));else i!==t&&i.__eeOnceListener__!==t||delete n[e];return this},emit:s},c={on:l(i),once:l(r),off:l(o),emit:l(s)},u=v({},c),e.exports=t=function(e){return null==e?p(u):v(Object(e),c)},t.methods=a},11478:function(e){var t=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},34984:function(e,t,n){"use strict";e.exports=n(5333)()?globalThis:n(11478)},5333:function(e){"use strict";e.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},4233:function(e,t,n){var i;!function(r,o,s,a){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h=Math.round,d=Math.abs,f=Date.now;function p(e,t,n){return setTimeout(_(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==a)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function m(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var y=m((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===a)&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),w=m((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function b(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&c(i,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function k(e,t){return"function"==typeof e?e.apply(t&&t[0]||a,t):e}function E(e,t){return e===a?t:e}function S(e,t,n){v(x(t),(function(t){e.addEventListener(t,n,!1)}))}function T(e,t,n){v(x(t),(function(t){e.removeEventListener(t,n,!1)}))}function P(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function I(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function R(e){return Array.prototype.slice.call(e,0)}function O(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];I(r,s)<0&&i.push(e[o]),r[o]=s,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function A(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:t)in e)return i;o++}return a}var $=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var M="ontouchstart"in r,j=A(r,"PointerEvent")!==a,D=M&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N="touch",F="mouse",B=["x","y"],U=["clientX","clientY"];function z(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){k(e.options.enable,[e])&&n.handler(t)},this.init()}function H(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,s=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=V(t)),r>1&&!n.firstMultiple?n.firstMultiple=V(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,c=s?s.center:o.center,u=t.center=G(i);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=K(c,u),t.distance=Y(c,u),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=q(t.deltaX,t.deltaY);var l,h,p=W(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=p.x,t.overallVelocityY=p.y,t.overallVelocity=d(p.x)>d(p.y)?p.x:p.y,t.scale=s?(l=s.pointers,Y((h=i)[0],h[1],U)/Y(l[0],l[1],U)):1,t.rotation=s?function(e,t){return K(t[1],t[0],U)+K(e[1],e[0],U)}(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,s=e.lastInterval||t,c=t.timeStamp-s.timeStamp;if(8!=t.eventType&&(c>25||s.velocity===a)){var u=t.deltaX-s.deltaX,l=t.deltaY-s.deltaY,h=W(c,u,l);i=h.x,r=h.y,n=d(h.x)>d(h.y)?h.x:h.y,o=q(u,l),e.lastInterval=t}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var g=e.element;P(t.srcEvent.target,g)&&(g=t.srcEvent.target),t.target=g}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function V(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY}}function G(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:h(n/t),y:h(i/t)}}function W(e,t,n){return{x:t/e||0,y:n/e||0}}function q(e,t){return e===t?1:d(e)>=d(t)?e<0?2:4:t<0?8:16}function Y(e,t,n){n||(n=B);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function K(e,t,n){n||(n=B);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}z.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(L(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4},Z="mousedown",J="mousemove mouseup";function Q(){this.evEl=Z,this.evWin=J,this.pressed=!1,z.apply(this,arguments)}b(Q,z,{handler:function(e){var t=X[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:F,srcEvent:e}))}});var ee={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},te={2:N,3:"pen",4:F,5:"kinect"},ne="pointerdown",ie="pointermove pointerup pointercancel";function re(){this.evEl=ne,this.evWin=ie,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ne="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),b(re,z,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=ee[i],o=te[e.pointerType]||e.pointerType,s=o==N,a=I(t,e.pointerId,"pointerId");1&r&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):12&r&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))}});var oe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},se="touchstart",ae="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=se,this.evWin=ae,this.started=!1,z.apply(this,arguments)}function ue(e,t){var n=R(e.touches),i=R(e.changedTouches);return 12&t&&(n=O(n.concat(i),"identifier",!0)),[n,i]}b(ce,z,{handler:function(e){var t=oe[e.type];if(1===t&&(this.started=!0),this.started){var n=ue.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:e})}}});var le={touchstart:1,touchmove:2,touchend:4,touchcancel:8},he="touchstart touchmove touchend touchcancel";function de(){this.evTarget=he,this.targetIds={},z.apply(this,arguments)}function fe(e,t){var n=R(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=R(e.changedTouches),a=[],c=this.target;if(o=n.filter((function(e){return P(e.target,c)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),12&t&&delete i[s[r].identifier],r++;return a.length?[O(o.concat(a),"identifier",!0),a]:void 0}function pe(){z.apply(this,arguments);var e=_(this.handler,this);this.touch=new de(this.manager,e),this.mouse=new Q(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ge(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ve.call(this,t)):12&e&&ve.call(this,t)}function ve(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function me(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}b(de,z,{handler:function(e){var t=le[e.type],n=fe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:e})}}),b(pe,z,{handler:function(e,t,n){var i=n.pointerType==N,r=n.pointerType==F;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ge.call(this,t,n);else if(r&&me.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ye=A(l.style,"touchAction"),we=ye!==a,be="compute",_e="auto",ke="manipulation",Ee="none",Se="pan-x",Te="pan-y",Pe=function(){if(!we)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function Ce(e,t){this.manager=e,this.set(t)}Ce.prototype={set:function(e){e==be&&(e=this.compute()),we&&this.manager.element.style&&Pe[e]&&(this.manager.element.style[ye]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){k(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(C(e,Ee))return Ee;var t=C(e,Se),n=C(e,Te);return t&&n?Ee:t||n?t?Se:Te:C(e,ke)?ke:_e}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=C(i,Ee)&&!Pe.none,o=C(i,Te)&&!Pe["pan-y"],s=C(i,Se)&&!Pe["pan-x"];if(r){var a=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(a&&c&&u)return}if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var xe=32;function Ie(e){this.options=c({},this.defaults,e||{}),this.id=$++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Re(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Oe(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Ae(e,t){var n=t.manager;return n?n.get(e):e}function $e(){Ie.apply(this,arguments)}function Le(){$e.apply(this,arguments),this.pX=null,this.pY=null}function Me(){$e.apply(this,arguments)}function je(){Ie.apply(this,arguments),this._timer=null,this._input=null}function De(){$e.apply(this,arguments)}function Ne(){$e.apply(this,arguments)}function Fe(){Ie.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Be(e,t){return(t=t||{}).recognizers=E(t.recognizers,Be.defaults.preset),new Ue(e,t)}function Ue(e,t){this.options=c({},Be.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(j?re:D?de:M?pe:Q))(this,H),this.touchAction=new Ce(this,this.options.touchAction),ze(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function ze(e,t){var n,i=e.element;i.style&&(v(e.options.cssProps,(function(r,o){n=A(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Ie.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ae(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=Ae(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===I(t,e=Ae(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=Ae(e,this);var t=I(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+Re(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+Re(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=xe},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!k(this.options.enable,[this,t]))return this.reset(),void(this.state=xe);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b($e,Ie,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:xe}}),b(Le,$e,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Te),24&e&&t.push(Se),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===s?1:s<0?8:16,n=s!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return $e.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Oe(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(Me,$e,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),b(je,Ie,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[_e]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return xe},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(De,$e,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(Ne,$e,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Le.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Oe(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(Fe,Ie,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ke]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||Y(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return xe},failTimeout:function(){return this._timer=p((function(){this.state=xe}),this.options.interval,this),xe},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Be.VERSION="2.0.7",Be.defaults={domEvents:!1,touchAction:be,enable:!0,inputTarget:null,inputClass:null,preset:[[De,{enable:!1}],[Me,{enable:!1},["rotate"]],[Ne,{direction:6}],[Le,{direction:6},["swipe"]],[Fe],[Fe,{event:"doubletap",taps:2},["tap"]],[je]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ue.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Ie)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=I(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==a&&t!==a){var n=this.handlers;return v(x(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==a){var n=this.handlers;return v(x(e),(function(e){t?n[e]&&n[e].splice(I(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&ze(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Be,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:xe,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ue,Input:z,TouchAction:Ce,TouchInput:de,MouseInput:Q,PointerEventInput:re,TouchMouseInput:pe,SingleTouchInput:ce,Recognizer:Ie,AttrRecognizer:$e,Tap:Fe,Pan:Le,Swipe:Ne,Pinch:Me,Rotate:De,Press:je,on:S,off:T,each:v,merge:w,extend:y,assign:c,inherit:b,bindFn:_,prefixed:A}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Be,(i=function(){return Be}.call(t,n,t,e))===a||(e.exports=i)}(window,document)},98681:function(e){function t(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}e.exports=t,e.exports.default=t},6537:function(e,t,n){"use strict";var i=n(52855),r=Object.create,o=Object.prototype.hasOwnProperty;e.exports=function(e){var t,n=0,s=1,a=r(null),c=r(null),u=0;return e=i(e),{hit:function(i){var r=c[i],l=++u;if(a[l]=i,c[i]=l,!r){if(++n<=e)return;return i=a[s],t(i),i}if(delete a[r],s===r)for(;!o.call(a,++s);)continue},delete:t=function(e){var t=c[e];if(t&&(delete a[t],delete c[e],--n,s===t)){if(!n)return u=0,void(s=1);for(;!o.call(a,++s);)continue}},clear:function(){n=0,s=1,a=r(null),c=r(null),u=0}}}},76299:function(e,t,n){"use strict";var i=n(69284),r=n(61815),o=n(55565),s=n(87070),a=n(63407),c=Array.prototype.slice,u=Function.prototype.apply,l=Object.create;n(15513).async=function(e,t){var n,h,d,f=l(null),p=l(null),g=t.memoized,v=t.original;t.memoized=s((function(e){var t=arguments,i=t[t.length-1];return"function"==typeof i&&(n=i,t=c.call(t,0,-1)),g.apply(h=this,d=t)}),g);try{o(t.memoized,g)}catch(e){}t.on("get",(function(e){var i,r,o;if(n){if(f[e])return"function"==typeof f[e]?f[e]=[f[e],n]:f[e].push(n),void(n=null);i=n,r=h,o=d,n=h=d=null,a((function(){var s;hasOwnProperty.call(p,e)?(s=p[e],t.emit("getasync",e,o,r),u.call(i,s.context,s.args)):(n=i,h=r,d=o,g.apply(r,o))}))}})),t.original=function(){var e,r,o,s;return n?(e=i(arguments),r=function e(n){var r,o,c=e.id;if(null!=c){if(delete e.id,r=f[c],delete f[c],r)return o=i(arguments),t.has(c)&&(n?t.delete(c):(p[c]={context:this,args:o},t.emit("setasync",c,"function"==typeof r?1:r.length))),"function"==typeof r?s=u.call(r,this,o):r.forEach((function(e){s=u.call(e,this,o)}),this),s}else a(u.bind(e,this,arguments))},o=n,n=h=d=null,e.push(r),s=u.call(v,this,e),r.cb=o,n=r,s):u.call(v,this,arguments)},t.on("set",(function(e){n?(f[e]?"function"==typeof f[e]?f[e]=[f[e],n.cb]:f[e].push(n.cb):f[e]=n.cb,delete n.cb,n.id=e,n=null):t.delete(e)})),t.on("delete",(function(e){var n;hasOwnProperty.call(f,e)||p[e]&&(n=p[e],delete p[e],t.emit("deleteasync",e,c.call(n.args,1)))})),t.on("clear",(function(){var e=p;p=l(null),t.emit("clearasync",r(e,(function(e){return c.call(e.args,1)})))}))}},31993:function(e,t,n){"use strict";var i=n(13048),r=n(93464),o=n(15513),s=Function.prototype.apply;o.dispose=function(e,t,n){var a;if(i(e),n.async&&o.async||n.promise&&o.promise)return t.on("deleteasync",a=function(t,n){s.call(e,null,n)}),void t.on("clearasync",(function(e){r(e,(function(e,t){a(t,e)}))}));t.on("delete",a=function(t,n){e(n)}),t.on("clear",(function(e){r(e,(function(e,t){a(t,e)}))}))}},86944:function(e,t,n){"use strict";var i=n(69284),r=n(93464),o=n(63407),s=n(98681),a=n(95114),c=n(15513),u=Function.prototype,l=Math.max,h=Math.min,d=Object.create;c.maxAge=function(e,t,n){var f,p,g,v;(e=a(e))&&(f=d(null),p=n.async&&c.async||n.promise&&c.promise?"async":"",t.on("set"+p,(function(n){f[n]=setTimeout((function(){t.delete(n)}),e),"function"==typeof f[n].unref&&f[n].unref(),v&&(v[n]&&"nextTick"!==v[n]&&clearTimeout(v[n]),v[n]=setTimeout((function(){delete v[n]}),g),"function"==typeof v[n].unref&&v[n].unref())})),t.on("delete"+p,(function(e){clearTimeout(f[e]),delete f[e],v&&("nextTick"!==v[e]&&clearTimeout(v[e]),delete v[e])})),n.preFetch&&(g=!0===n.preFetch||isNaN(n.preFetch)?.333:l(h(Number(n.preFetch),1),0))&&(v={},g=(1-g)*e,t.on("get"+p,(function(e,r,a){v[e]||(v[e]="nextTick",o((function(){var o;"nextTick"===v[e]&&(delete v[e],t.delete(e),n.async&&(r=i(r)).push(u),o=t.memoized.apply(a,r),n.promise&&s(o)&&("function"==typeof o.done?o.done(u,u):o.then(u,u)))})))}))),t.on("clear"+p,(function(){r(f,(function(e){clearTimeout(e)})),f={},v&&(r(v,(function(e){"nextTick"!==e&&clearTimeout(e)})),v={})})))}},97617:function(e,t,n){"use strict";var i=n(52855),r=n(6537),o=n(15513);o.max=function(e,t,n){var s,a,c;(e=i(e))&&(a=r(e),s=n.async&&o.async||n.promise&&o.promise?"async":"",t.on("set"+s,c=function(e){void 0!==(e=a.hit(e))&&t.delete(e)}),t.on("get"+s,c),t.on("delete"+s,a.delete),t.on("clear"+s,a.clear))}},73017:function(e,t,n){"use strict";var i=n(61815),r=n(97180),o=n(63701),s=n(61773),a=n(98681),c=n(63407),u=Object.create,l=r("then","then:finally","done","done:finally");n(15513).promise=function(e,t){var n=u(null),r=u(null),h=u(null);if(!0===e)e=null;else if(e=o(e),!l[e])throw new TypeError("'"+s(e)+"' is not valid promise mode");t.on("set",(function(i,o,s){var u=!1;if(!a(s))return r[i]=s,void t.emit("setasync",i,1);n[i]=1,h[i]=s;var l=function(e){var o=n[i];if(u)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");o&&(delete n[i],r[i]=e,t.emit("setasync",i,o))},d=function(){u=!0,n[i]&&(delete n[i],delete h[i],t.delete(i))},f=e;if(f||(f="then"),"then"===f){var p=function(){c(d)};"function"==typeof(s=s.then((function(e){c(l.bind(this,e))}),p)).finally&&s.finally(p)}else if("done"===f){if("function"!=typeof s.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");s.done(l,d)}else if("done:finally"===f){if("function"!=typeof s.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof s.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");s.done(l),s.finally(d)}})),t.on("get",(function(e,i,r){var o;if(n[e])++n[e];else{o=h[e];var s=function(){t.emit("getasync",e,i,r)};a(o)?"function"==typeof o.done?o.done(s):o.then((function(){c(s)})):s()}})),t.on("delete",(function(e){if(delete h[e],n[e])delete n[e];else if(hasOwnProperty.call(r,e)){var i=r[e];delete r[e],t.emit("deleteasync",e,[i])}})),t.on("clear",(function(){var e=r;r=u(null),n=u(null),h=u(null),t.emit("clearasync",i(e,(function(e){return[e]})))}))}},54379:function(e,t,n){"use strict";var i=n(68758),r=n(15513),o=Object.create,s=Object.defineProperties;r.refCounter=function(e,t,n){var a,c;a=o(null),c=n.async&&r.async||n.promise&&r.promise?"async":"",t.on("set"+c,(function(e,t){a[e]=t||1})),t.on("get"+c,(function(e){++a[e]})),t.on("delete"+c,(function(e){delete a[e]})),t.on("clear"+c,(function(){a={}})),s(t.memoized,{deleteRef:i((function(){var e=t.get(arguments);return null===e?null:a[e]?!--a[e]&&(t.delete(e),!0):null})),getRefCount:i((function(){var e=t.get(arguments);return null===e?0:a[e]?a[e]:0}))})}},80103:function(e,t,n){"use strict";var i=n(99490),r=n(59670),o=n(64282);e.exports=function(e){var t,s=i(arguments[1]);return s.normalizer||0!==(t=s.length=r(s.length,e.length,s.async))&&(s.primitive?!1===t?s.normalizer=n(84139):t>1&&(s.normalizer=n(56028)(t)):s.normalizer=!1===t?n(46184)():1===t?n(96286)():n(34144)(t)),s.async&&n(76299),s.promise&&n(73017),s.dispose&&n(31993),s.maxAge&&n(86944),s.max&&n(97617),s.refCounter&&n(54379),o(e,s)}},88239:function(e,t,n){"use strict";var i=n(13989),r=n(87070),o=n(68758),s=n(62275).methods,a=n(97991),c=n(32545),u=Function.prototype.apply,l=Function.prototype.call,h=Object.create,d=Object.defineProperties,f=s.on,p=s.emit;e.exports=function(e,t,n){var s,g,v,m,y,w,b,_,k,E,S,T,P,C,x,I=h(null);return g=!1!==t?t:isNaN(e.length)?1:e.length,n.normalizer&&(E=c(n.normalizer),v=E.get,m=E.set,y=E.delete,w=E.clear),null!=n.resolvers&&(x=a(n.resolvers)),C=v?r((function(t){var n,r,o=arguments;if(x&&(o=x(o)),null!==(n=v(o))&&hasOwnProperty.call(I,n))return S&&s.emit("get",n,o,this),I[n];if(r=1===o.length?l.call(e,this,o[0]):u.call(e,this,o),null===n){if(null!==(n=v(o)))throw i("Circular invocation","CIRCULAR_INVOCATION");n=m(o)}else if(hasOwnProperty.call(I,n))throw i("Circular invocation","CIRCULAR_INVOCATION");return I[n]=r,T&&s.emit("set",n,null,r),r}),g):0===t?function(){var t;if(hasOwnProperty.call(I,"data"))return S&&s.emit("get","data",arguments,this),I.data;if(t=arguments.length?u.call(e,this,arguments):l.call(e,this),hasOwnProperty.call(I,"data"))throw i("Circular invocation","CIRCULAR_INVOCATION");return I.data=t,T&&s.emit("set","data",null,t),t}:function(t){var n,r,o=arguments;if(x&&(o=x(arguments)),r=String(o[0]),hasOwnProperty.call(I,r))return S&&s.emit("get",r,o,this),I[r];if(n=1===o.length?l.call(e,this,o[0]):u.call(e,this,o),hasOwnProperty.call(I,r))throw i("Circular invocation","CIRCULAR_INVOCATION");return I[r]=n,T&&s.emit("set",r,null,n),n},s={original:e,memoized:C,profileName:n.profileName,get:function(e){return x&&(e=x(e)),v?v(e):String(e[0])},has:function(e){return hasOwnProperty.call(I,e)},delete:function(e){var t;hasOwnProperty.call(I,e)&&(y&&y(e),t=I[e],delete I[e],P&&s.emit("delete",e,t))},clear:function(){var e=I;w&&w(),I=h(null),s.emit("clear",e)},on:function(e,t){return"get"===e?S=!0:"set"===e?T=!0:"delete"===e&&(P=!0),f.call(this,e,t)},emit:p,updateEnv:function(){e=s.original}},b=v?r((function(e){var t,n=arguments;x&&(n=x(n)),null!==(t=v(n))&&s.delete(t)}),g):0===t?function(){return s.delete("data")}:function(e){return x&&(e=x(arguments)[0]),s.delete(e)},_=r((function(){var e,n=arguments;return 0===t?I.data:(x&&(n=x(n)),e=v?v(n):String(n[0]),I[e])})),k=r((function(){var e,n=arguments;return 0===t?s.has("data"):(x&&(n=x(n)),null!==(e=v?v(n):String(n[0]))&&s.has(e))})),d(C,{__memoized__:o(!0),delete:o(b),clear:o(s.clear),_get:o(_),_has:o(k)}),s}},15513:function(){},59670:function(e,t,n){"use strict";var i=n(52855);e.exports=function(e,t,n){var r;return isNaN(e)?(r=t)>=0?n&&r?r-1:r:1:!1!==e&&i(e)}},32545:function(e,t,n){"use strict";var i=n(13048);e.exports=function(e){var t;return"function"==typeof e?{set:e,get:e}:(t={get:i(e.get)},void 0!==e.set?(t.set=i(e.set),e.delete&&(t.delete=i(e.delete)),e.clear&&(t.clear=i(e.clear)),t):(t.set=t.get,t))}},97991:function(e,t,n){"use strict";var i,r=n(44631),o=n(26715),s=n(13048),a=Array.prototype.slice;i=function(e){return this.map((function(t,n){return t?t(e[n]):e[n]})).concat(a.call(e,this.length))},e.exports=function(e){return(e=r(e)).forEach((function(e){o(e)&&s(e)})),i.bind(e)}},96286:function(e,t,n){"use strict";var i=n(15493);e.exports=function(){var e=0,t=[],n=[];return{get:function(e){var r=i.call(t,e[0]);return-1===r?null:n[r]},set:function(i){return t.push(i[0]),n.push(++e),e},delete:function(e){var r=i.call(n,e);-1!==r&&(t.splice(r,1),n.splice(r,1))},clear:function(){t=[],n=[]}}}},34144:function(e,t,n){"use strict";var i=n(15493),r=Object.create;e.exports=function(e){var t=0,n=[[],[]],o=r(null);return{get:function(t){for(var r,o=0,s=n;o<e-1;){if(-1===(r=i.call(s[0],t[o])))return null;s=s[1][r],++o}return-1===(r=i.call(s[0],t[o]))?null:s[1][r]||null},set:function(r){for(var s,a=0,c=n;a<e-1;)-1===(s=i.call(c[0],r[a]))&&(s=c[0].push(r[a])-1,c[1].push([[],[]])),c=c[1][s],++a;return-1===(s=i.call(c[0],r[a]))&&(s=c[0].push(r[a])-1),c[1][s]=++t,o[t]=r,t},delete:function(t){for(var r,s=0,a=n,c=[],u=o[t];s<e-1;){if(-1===(r=i.call(a[0],u[s])))return;c.push(a,r),a=a[1][r],++s}if(-1!==(r=i.call(a[0],u[s]))){for(t=a[1][r],a[0].splice(r,1),a[1].splice(r,1);!a[0].length&&c.length;)r=c.pop(),(a=c.pop())[0].splice(r,1),a[1].splice(r,1);delete o[t]}},clear:function(){n=[[],[]],o=r(null)}}}},56028:function(e){"use strict";e.exports=function(e){return e?function(t){for(var n=String(t[0]),i=0,r=e;--r;)n+=""+t[++i];return n}:function(){return""}}},46184:function(e,t,n){"use strict";var i=n(15493),r=Object.create;e.exports=function(){var e=0,t=[],n=r(null);return{get:function(e){var n,r=0,o=t,s=e.length;if(0===s)return o[s]||null;if(o=o[s]){for(;r<s-1;){if(-1===(n=i.call(o[0],e[r])))return null;o=o[1][n],++r}return-1===(n=i.call(o[0],e[r]))?null:o[1][n]||null}return null},set:function(r){var o,s=0,a=t,c=r.length;if(0===c)a[c]=++e;else{for(a[c]||(a[c]=[[],[]]),a=a[c];s<c-1;)-1===(o=i.call(a[0],r[s]))&&(o=a[0].push(r[s])-1,a[1].push([[],[]])),a=a[1][o],++s;-1===(o=i.call(a[0],r[s]))&&(o=a[0].push(r[s])-1),a[1][o]=++e}return n[e]=r,e},delete:function(e){var r,o=0,s=t,a=n[e],c=a.length,u=[];if(0===c)delete s[c];else if(s=s[c]){for(;o<c-1;){if(-1===(r=i.call(s[0],a[o])))return;u.push(s,r),s=s[1][r],++o}if(-1===(r=i.call(s[0],a[o])))return;for(e=s[1][r],s[0].splice(r,1),s[1].splice(r,1);!s[0].length&&u.length;)r=u.pop(),(s=u.pop())[0].splice(r,1),s[1].splice(r,1)}delete n[e]},clear:function(){t=[],n=r(null)}}}},84139:function(e){"use strict";e.exports=function(e){var t,n,i=e.length;if(!i)return"";for(t=String(e[n=0]);--i;)t+=""+e[++n];return t}},64282:function(e,t,n){"use strict";var i=n(13048),r=n(93464),o=n(15513),s=n(88239),a=n(59670);e.exports=function e(t){var n,c,u;if(i(t),(n=Object(arguments[1])).async&&n.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(t,"__memoized__")&&!n.force?t:(c=a(n.length,t.length,n.async&&o.async),u=s(t,c,n),r(o,(function(e,t){n[t]&&e(n[t],u,n)})),e.__profiler__&&e.__profiler__(u),u.updateEnv(),u.memoized)}},63407:function(e){"use strict";var t=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},n=function(e){var n,i,r=document.createTextNode(""),o=0;return new e((function(){var e;if(n)i&&(n=i.concat(n));else{if(!i)return;n=i}if(i=n,n=null,"function"==typeof i)return e=i,i=null,void e();for(r.data=o=++o%2;i;)e=i.shift(),i.length||(i=null),e()})).observe(r,{characterData:!0}),function(e){t(e),n?"function"==typeof n?n=[n,e]:n.push(e):(n=e,r.data=o=++o%2)}};e.exports=function(){if("object"==typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("function"==typeof queueMicrotask)return function(e){queueMicrotask(t(e))};if("object"==typeof document&&document){if("function"==typeof MutationObserver)return n(MutationObserver);if("function"==typeof WebKitMutationObserver)return n(WebKitMutationObserver)}return"function"==typeof setImmediate?function(e){setImmediate(t(e))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(e){setTimeout(t(e),0)}:null}()},24466:function(e){"use strict";e.exports=2147483647},95114:function(e,t,n){"use strict";var i=n(52855),r=n(24466);e.exports=function(e){if((e=i(e))>r)throw new TypeError(e+" exceeds maximum possible timeout");return e}},28487:function(e,t,n){"use strict";var i=n(5302);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!i(e)}},24858:function(e,t,n){"use strict";var i=n(23664),r={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!i(e)&&hasOwnProperty.call(r,typeof e)}},30528:function(e,t,n){"use strict";var i=n(28487),r=/^\s*class[\s{/}]/,o=Function.prototype.toString;e.exports=function(e){return!!i(e)&&!r.test(o.call(e))}},5302:function(e,t,n){"use strict";var i=n(24858);e.exports=function(e){if(!i(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},23664:function(e){"use strict";e.exports=function(e){return null!=e}},29444:function(e,t,n){"use strict";function i(e,t){var n=t&&t.cache?t.cache:l,i=t&&t.serializer?t.serializer:c;return(t&&t.strategy?t.strategy:a)(e,{cache:n,serializer:i})}function r(e,t,n,i){var r,o=null==(r=i)||"number"==typeof r||"boolean"==typeof r?i:n(i),s=t.get(o);return void 0===s&&(s=e.call(this,i),t.set(o,s)),s}function o(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=n(i),o=t.get(r);return void 0===o&&(o=e.apply(this,i),t.set(r,o)),o}function s(e,t,n,i,r){return n.bind(t,e,i,r)}function a(e,t){return s(e,this,1===e.length?r:o,t.cache.create(),t.serializer)}n.d(t,{default:function(){return i},strategies:function(){return h}});var c=function(){return JSON.stringify(arguments)};function u(){this.cache=Object.create(null)}u.prototype.get=function(e){return this.cache[e]},u.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new u}},h={variadic:function(e,t){return s(e,this,o,t.cache.create(),t.serializer)},monadic:function(e,t){return s(e,this,r,t.cache.create(),t.serializer)}}},41354:function(e,t,n){"use strict";var i;n.d(t,{ErrorKind:function(){return i}}),function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(i||(i={}))},35266:function(e,t,n){"use strict";n.d(t,{parse:function(){return c}});var i=n(65326),r=n(41354),o=n(52987),s=n(93010);function a(e){e.forEach((function(e){if(delete e.location,(0,s.isSelectElement)(e)||(0,s.isPluralElement)(e))for(var t in e.options)delete e.options[t].location,a(e.options[t].value);else(0,s.isNumberElement)(e)&&(0,s.isNumberSkeleton)(e.style)||((0,s.isDateElement)(e)||(0,s.isTimeElement)(e))&&(0,s.isDateTimeSkeleton)(e.style)?delete e.style.location:(0,s.isTagElement)(e)&&a(e.children)}))}function c(e,t){void 0===t&&(t={}),t=(0,i.__assign)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new o.Parser(e,t).parse();if(n.err){var s=SyntaxError(r.ErrorKind[n.err.kind]);throw s.location=n.err.location,s.originalMessage=n.err.message,s}return(null==t?void 0:t.captureLocation)||a(n.val),n.val}n.o(s,"isArgumentElement")&&n.d(t,{isArgumentElement:function(){return s.isArgumentElement}}),n.o(s,"isDateElement")&&n.d(t,{isDateElement:function(){return s.isDateElement}}),n.o(s,"isDateTimeSkeleton")&&n.d(t,{isDateTimeSkeleton:function(){return s.isDateTimeSkeleton}}),n.o(s,"isLiteralElement")&&n.d(t,{isLiteralElement:function(){return s.isLiteralElement}}),n.o(s,"isNumberElement")&&n.d(t,{isNumberElement:function(){return s.isNumberElement}}),n.o(s,"isNumberSkeleton")&&n.d(t,{isNumberSkeleton:function(){return s.isNumberSkeleton}}),n.o(s,"isPluralElement")&&n.d(t,{isPluralElement:function(){return s.isPluralElement}}),n.o(s,"isPoundElement")&&n.d(t,{isPoundElement:function(){return s.isPoundElement}}),n.o(s,"isSelectElement")&&n.d(t,{isSelectElement:function(){return s.isSelectElement}}),n.o(s,"isTagElement")&&n.d(t,{isTagElement:function(){return s.isTagElement}}),n.o(s,"isTimeElement")&&n.d(t,{isTimeElement:function(){return s.isTimeElement}})},52987:function(e,t,n){"use strict";n.d(t,{Parser:function(){return I}});var i,r=n(65326),o=n(41354),s=n(93010),a=n(53523),c=n(49761),u=new RegExp("^".concat(a.SPACE_SEPARATOR_REGEX.source,"*")),l=new RegExp("".concat(a.SPACE_SEPARATOR_REGEX.source,"*$"));function h(e,t){return{start:e,end:t}}var d=!!String.prototype.startsWith,f=!!String.fromCodePoint,p=!!Object.fromEntries,g=!!String.prototype.codePointAt,v=!!String.prototype.trimStart,m=!!String.prototype.trimEnd,y=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},w=!0;try{w="a"===(null===(i=C("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===i?void 0:i[0])}catch(e){w=!1}var b,_=d?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},k=f?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,i="",r=e.length,o=0;r>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");i+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return i},E=p?Object.fromEntries:function(e){for(var t={},n=0,i=e;n<i.length;n++){var r=i[n],o=r[0],s=r[1];t[o]=s}return t},S=g?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var i,r=e.charCodeAt(t);return r<55296||r>56319||t+1===n||(i=e.charCodeAt(t+1))<56320||i>57343?r:i-56320+(r-55296<<10)+65536}},T=v?function(e){return e.trimStart()}:function(e){return e.replace(u,"")},P=m?function(e){return e.trimEnd()}:function(e){return e.replace(l,"")};function C(e,t){return new RegExp(e,t)}if(w){var x=C("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");b=function(e,t){var n;return x.lastIndex=t,null!==(n=x.exec(e)[1])&&void 0!==n?n:""}}else b=function(e,t){for(var n=[];;){var i=S(e,t);if(void 0===i||O(i)||A(i))break;n.push(i),t+=i>=65536?2:1}return k.apply(void 0,n)};var I=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var i=[];!this.isEOF();){var r=this.char();if(123===r){if((a=this.parseArgument(e,n)).err)return a;i.push(a.val)}else{if(125===r&&e>0)break;if(35!==r||"plural"!==t&&"selectordinal"!==t){if(60===r&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(o.ErrorKind.UNMATCHED_CLOSING_TAG,h(this.clonePosition(),this.clonePosition()))}if(60===r&&!this.ignoreTag&&R(this.peek()||0)){if((a=this.parseTag(e,t)).err)return a;i.push(a.val)}else{var a;if((a=this.parseLiteral(e,t)).err)return a;i.push(a.val)}}else{var c=this.clonePosition();this.bump(),i.push({type:s.TYPE.pound,location:h(c,this.clonePosition())})}}}return{val:i,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:s.TYPE.literal,value:"<".concat(i,"/>"),location:h(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var r=this.parseMessage(e+1,t,!0);if(r.err)return r;var a=r.val,c=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!R(this.char()))return this.error(o.ErrorKind.INVALID_TAG,h(c,this.clonePosition()));var u=this.clonePosition();return i!==this.parseTagName()?this.error(o.ErrorKind.UNMATCHED_CLOSING_TAG,h(u,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:s.TYPE.tag,value:i,children:a,location:h(n,this.clonePosition())},err:null}:this.error(o.ErrorKind.INVALID_TAG,h(c,this.clonePosition())))}return this.error(o.ErrorKind.UNCLOSED_TAG,h(n,this.clonePosition()))}return this.error(o.ErrorKind.INVALID_TAG,h(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),i="";;){var r=this.tryParseQuote(t);if(r)i+=r;else{var o=this.tryParseUnquoted(e,t);if(o)i+=o;else{var a=this.tryParseLeftAngleBracket();if(!a)break;i+=a}}}var c=h(n,this.clonePosition());return{val:{type:s.TYPE.literal,value:i,location:c},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(R(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return k.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),k(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(o.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,h(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(o.ErrorKind.EMPTY_ARGUMENT,h(n,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(o.ErrorKind.MALFORMED_ARGUMENT,h(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(o.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,h(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:s.TYPE.argument,value:i,location:h(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(o.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,h(n,this.clonePosition())):this.parseArgumentOptions(e,t,i,n);default:return this.error(o.ErrorKind.MALFORMED_ARGUMENT,h(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=b(this.message,t),i=t+n.length;return this.bumpTo(i),{value:n,location:h(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,i){var a,u=this.clonePosition(),l=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(l){case"":return this.error(o.ErrorKind.EXPECT_ARGUMENT_TYPE,h(u,d));case"number":case"date":case"time":this.bumpSpace();var f=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition();if((k=this.parseSimpleArgStyleIfPossible()).err)return k;if(0===(m=P(k.val)).length)return this.error(o.ErrorKind.EXPECT_ARGUMENT_STYLE,h(this.clonePosition(),this.clonePosition()));f={style:m,styleLocation:h(p,this.clonePosition())}}if((S=this.tryParseArgumentClose(i)).err)return S;var g=h(i,this.clonePosition());if(f&&_(null==f?void 0:f.style,"::",0)){var v=T(f.style.slice(2));if("number"===l)return(k=this.parseNumberSkeletonFromString(v,f.styleLocation)).err?k:{val:{type:s.TYPE.number,value:n,location:g,style:k.val},err:null};if(0===v.length)return this.error(o.ErrorKind.EXPECT_DATE_TIME_SKELETON,g);var m={type:s.SKELETON_TYPE.dateTime,pattern:v,location:f.styleLocation,parsedOptions:this.shouldParseSkeletons?(0,c.parseDateTimeSkeleton)(v):{}};return{val:{type:"date"===l?s.TYPE.date:s.TYPE.time,value:n,location:g,style:m},err:null}}return{val:{type:"number"===l?s.TYPE.number:"date"===l?s.TYPE.date:s.TYPE.time,value:n,location:g,style:null!==(a=null==f?void 0:f.style)&&void 0!==a?a:null},err:null};case"plural":case"selectordinal":case"select":var y=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(o.ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS,h(y,(0,r.__assign)({},y)));this.bumpSpace();var w=this.parseIdentifierIfPossible(),b=0;if("select"!==l&&"offset"===w.value){if(!this.bumpIf(":"))return this.error(o.ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,h(this.clonePosition(),this.clonePosition()));var k;if(this.bumpSpace(),(k=this.tryParseDecimalInteger(o.ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,o.ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return k;this.bumpSpace(),w=this.parseIdentifierIfPossible(),b=k.val}var S,C=this.tryParsePluralOrSelectOptions(e,l,t,w);if(C.err)return C;if((S=this.tryParseArgumentClose(i)).err)return S;var x=h(i,this.clonePosition());return"select"===l?{val:{type:s.TYPE.select,value:n,options:E(C.val),location:x},err:null}:{val:{type:s.TYPE.plural,value:n,options:E(C.val),offset:b,pluralType:"plural"===l?"cardinal":"ordinal",location:x},err:null};default:return this.error(o.ErrorKind.INVALID_ARGUMENT_TYPE,h(u,d))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(o.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,h(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(o.ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,h(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=(0,c.parseNumberSkeletonFromString)(e)}catch(e){return this.error(o.ErrorKind.INVALID_NUMBER_SKELETON,t)}return{val:{type:s.SKELETON_TYPE.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?(0,c.parseNumberSkeleton)(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,i){for(var r,s=!1,a=[],c=new Set,u=i.value,l=i.location;;){if(0===u.length){var d=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var f=this.tryParseDecimalInteger(o.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,o.ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;l=h(d,this.clonePosition()),u=this.message.slice(d.offset,this.offset())}if(c.has(u))return this.error("select"===t?o.ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR:o.ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===u&&(s=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?o.ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:o.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,h(this.clonePosition(),this.clonePosition()));var g=this.parseMessage(e+1,t,n);if(g.err)return g;var v=this.tryParseArgumentClose(p);if(v.err)return v;a.push([u,{value:g.val,location:h(p,this.clonePosition())}]),c.add(u),this.bumpSpace(),u=(r=this.parseIdentifierIfPossible()).value,l=r.location}return 0===a.length?this.error("select"===t?o.ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR:o.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,h(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(o.ErrorKind.MISSING_OTHER_CLAUSE,h(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var r=!1,o=0;!this.isEOF();){var s=this.char();if(!(s>=48&&s<=57))break;r=!0,o=10*o+(s-48),this.bump()}var a=h(i,this.clonePosition());return r?y(o*=n)?{val:o,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=S(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(_(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&O(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function R(e){return e>=97&&e<=122||e>=65&&e<=90}function O(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function A(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}},53523:function(e,t,n){"use strict";n.d(t,{SPACE_SEPARATOR_REGEX:function(){return i}});var i=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},93010:function(e,t,n){"use strict";var i,r;function o(e){return e.type===i.literal}function s(e){return e.type===i.argument}function a(e){return e.type===i.number}function c(e){return e.type===i.date}function u(e){return e.type===i.time}function l(e){return e.type===i.select}function h(e){return e.type===i.plural}function d(e){return e.type===i.pound}function f(e){return e.type===i.tag}function p(e){return!(!e||"object"!=typeof e||e.type!==r.number)}function g(e){return!(!e||"object"!=typeof e||e.type!==r.dateTime)}n.d(t,{SKELETON_TYPE:function(){return r},TYPE:function(){return i},isArgumentElement:function(){return s},isDateElement:function(){return c},isDateTimeSkeleton:function(){return g},isLiteralElement:function(){return o},isNumberElement:function(){return a},isNumberSkeleton:function(){return p},isPluralElement:function(){return h},isPoundElement:function(){return d},isSelectElement:function(){return l},isTagElement:function(){return f},isTimeElement:function(){return u}}),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(i||(i={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(r||(r={}))},190:function(e,t,n){"use strict";n.d(t,{parseDateTimeSkeleton:function(){return r}});var i=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function r(e){var t={};return e.replace(i,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}},49761:function(e,t,n){"use strict";var i=n(190);n.o(i,"parseDateTimeSkeleton")&&n.d(t,{parseDateTimeSkeleton:function(){return i.parseDateTimeSkeleton}}),n.o(i,"parseNumberSkeleton")&&n.d(t,{parseNumberSkeleton:function(){return i.parseNumberSkeleton}}),n.o(i,"parseNumberSkeletonFromString")&&n.d(t,{parseNumberSkeletonFromString:function(){return i.parseNumberSkeletonFromString}});var r=n(69082);n.o(r,"parseDateTimeSkeleton")&&n.d(t,{parseDateTimeSkeleton:function(){return r.parseDateTimeSkeleton}}),n.o(r,"parseNumberSkeleton")&&n.d(t,{parseNumberSkeleton:function(){return r.parseNumberSkeleton}}),n.o(r,"parseNumberSkeletonFromString")&&n.d(t,{parseNumberSkeletonFromString:function(){return r.parseNumberSkeletonFromString}})},69082:function(e,t,n){"use strict";n.d(t,{parseNumberSkeleton:function(){return p},parseNumberSkeletonFromString:function(){return o}});var i=n(65326),r=n(39749);function o(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,i=e.split(r.WHITE_SPACE_REGEX).filter((function(e){return e.length>0}));n<i.length;n++){var o=i[n].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var s=o[0],a=o.slice(1),c=0,u=a;c<u.length;c++)if(0===u[c].length)throw new Error("Invalid number skeleton");t.push({stem:s,options:a})}return t}var s=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,a=/^(@+)?(\+|#+)?[rs]?$/g,c=/(\*)(0+)|(#+)(0+)|(0+)/g,u=/^(0+)$/;function l(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(a,(function(e,n,i){return"string"!=typeof i?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===i?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof i?i.length:0)),""})),t}function h(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function d(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!u.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function f(e){return h(e)||{}}function p(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=(0,i.__assign)((0,i.__assign)((0,i.__assign)({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return(0,i.__assign)((0,i.__assign)({},e),f(t))}),{}));continue;case"engineering":t=(0,i.__assign)((0,i.__assign)((0,i.__assign)({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return(0,i.__assign)((0,i.__assign)({},e),f(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(c,(function(e,n,i,r,o,s){if(n)t.minimumIntegerDigits=i.length;else{if(r&&o)throw new Error("We currently do not support maximum integer digits");if(s)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(u.test(o.stem))t.minimumIntegerDigits=o.stem.length;else if(s.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(s,(function(e,n,i,r,o,s){return"*"===i?t.minimumFractionDigits=n.length:r&&"#"===r[0]?t.maximumFractionDigits=r.length:o&&s?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+s.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var p=o.options[0];"w"===p?t=(0,i.__assign)((0,i.__assign)({},t),{trailingZeroDisplay:"stripIfInteger"}):p&&(t=(0,i.__assign)((0,i.__assign)({},t),l(p)))}else if(a.test(o.stem))t=(0,i.__assign)((0,i.__assign)({},t),l(o.stem));else{var g=h(o.stem);g&&(t=(0,i.__assign)((0,i.__assign)({},t),g));var v=d(o.stem);v&&(t=(0,i.__assign)((0,i.__assign)({},t),v))}}return t}},39749:function(e,t,n){"use strict";n.d(t,{WHITE_SPACE_REGEX:function(){return i}});var i=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i},19798:function(e,t,n){"use strict";var i=n(79220);function r(){var e={},t=0,n=0,i=0;return{add:function(r,o){o||(o=r,r=0),r>n?n=r:r<i&&(i=r),e[r]||(e[r]=[]),e[r].push(o),t++},process:function(){for(var t=i;t<=n;t++)for(var r=e[t],o=0;o<r.length;o++)(0,r[o])()},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=i.getOption(e,"async",!0),o=i.getOption(e,"auto",!0);o&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var s,a=r(),c=!1;function u(){for(c=!0;a.size();){var e=a;a=r(),e.process()}c=!1}function l(){s=setTimeout(u,0)}return{add:function(e,t){!c&&o&&n&&0===a.size()&&l(),a.add(e,t)},force:function(e){c||(void 0===e&&(e=n),s&&(clearTimeout(s),s=null),e?l():u())}}}},79220:function(e){"use strict";(e.exports={}).getOption=function(e,t,n){var i=e[t];return null==i&&void 0!==n?n:i}},25333:function(e){"use strict";var t=e.exports={};t.isIE=function(e){return!(-1===(t=navigator.userAgent.toLowerCase()).indexOf("msie")&&-1===t.indexOf("trident")&&-1===t.indexOf(" edge/")||e&&e!==function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},t.isLegacyOpera=function(){return!!window.opera}},69543:function(e){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var i=t(e[n]);if(i)return i}}},87341:function(e,t,n){"use strict";var i=n(25333);e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function o(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function s(e){return r(e).object}return{makeDetectable:function(e,s,a){a||(a=s,s=e,e=null),(e=e||{}).debug,i.isIE(8)?a(s):function(s,a){var c=o(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),u=!1,l=window.getComputedStyle(s),h=s.offsetWidth,d=s.offsetHeight;function f(){function n(){if("static"===l.position){s.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,i,r){var o=i[r];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(t.warn("An element that is positioned static has style."+r+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",n),n.style.setProperty(r,"0",e.important?"important":""))};n(t,s,l,"top"),n(t,s,l,"right"),n(t,s,l,"bottom"),n(t,s,l,"left")}}""!==l.position&&(n(),u=!0);var o=document.createElement("object");o.style.cssText=c,o.tabIndex=-1,o.type="text/html",o.setAttribute("aria-hidden","true"),o.onload=function(){u||n(),function e(t,n){if(!t.contentDocument){var i=r(t);return i.checkForObjectDocumentTimeoutId&&window.clearTimeout(i.checkForObjectDocumentTimeoutId),void(i.checkForObjectDocumentTimeoutId=setTimeout((function(){i.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}(this,(function(e){a(s)}))},i.isIE()||(o.data="about:blank"),r(s)&&(s.appendChild(o),r(s).object=o,i.isIE()&&(o.data="about:blank"))}r(s).startSize={width:h,height:d},n?n.add(f):f()}(s,a)},addListener:function(e,t){function n(){t(e)}if(i.isIE(8))r(e).object={proxy:n},e.attachEvent("onresize",n);else{var o=s(e);if(!o)throw new Error("Element is not detectable by this strategy.");o.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(r(e)){var t=s(e);t&&(i.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),r(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(e).checkForObjectDocumentTimeoutId),delete r(e).object)}}}}},99267:function(e,t,n){"use strict";var i=n(69543).forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,r=e.stateHandler.getState,o=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var s=function(){var e=document.createElement("div");e.style.cssText=u(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var t=document.createElement("div");t.style.cssText=u(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,i=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:i}}(),a="erd_scroll_detection_container";function c(e){!function(e,t,n){if(!e.getElementById(t)){var i=n+"_animation",r="/* Created by the element-resize-detector library. */\n";r+="."+n+" > div::-webkit-scrollbar { "+u(["display: none"])+" }\n\n",r+=".erd_scroll_detection_container_animation_active { "+u(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+i,"animation-name: "+i])+" }\n",r+="@-webkit-keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(n,i){i=i||function(t){e.head.appendChild(t)};var r=e.createElement("style");r.innerHTML=n,r.id=t,i(r)}(r+="@keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style",a)}function u(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function l(e,n,i){if(e.addEventListener)e.addEventListener(n,i);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,i)}}function h(e,n,i){if(e.removeEventListener)e.removeEventListener(n,i);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,i)}}function d(e){return r(e).container.childNodes[0].childNodes[0].childNodes[0]}function f(e){return r(e).container.childNodes[0].childNodes[0].childNodes[1]}return c(window.document),{makeDetectable:function(e,c,h){function p(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(o.get(c),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var i=0;i<n.length;i++)t.log(n[i])}}function g(e){var t=r(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function v(){var e=window.getComputedStyle(c),t={};return t.position=e.position,t.width=c.offsetWidth,t.height=c.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function m(){if(p("storeStyle invoked."),r(c)){var e=v();r(c).style=e}else p("Aborting because element has been uninstalled")}function y(e,t,n){r(e).lastWidth=t,r(e).lastHeight=n}function w(){return 2*s.width+1}function b(){return 2*s.height+1}function _(e){return e+10+w()}function k(e){return e+10+b()}function E(e,t,n){var i=d(e),r=f(e),o=_(t),s=k(n),a=function(e){return 2*e+w()}(t),c=function(e){return 2*e+b()}(n);i.scrollLeft=o,i.scrollTop=s,r.scrollLeft=a,r.scrollTop=c}function S(){var e=r(c).container;if(!e){(e=document.createElement("div")).className=a,e.style.cssText=u(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(c).container=e,function(e){e.className+=" "+a+"_animation_active"}(e),c.appendChild(e);var t=function(){r(c).onRendered&&r(c).onRendered()};l(e,"animationstart",t),r(c).onAnimationStart=t}return e}function T(){if(p("Injecting elements"),r(c)){!function(){var n=r(c).style;if("static"===n.position){c.style.setProperty("position","relative",e.important?"important":"");var i=function(e,t,n,i){var r=n[i];"auto"!==r&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(r)&&(e.warn("An element that is positioned static has style."+i+"="+r+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",t),t.style[i]=0)};i(t,c,n,"top"),i(t,c,n,"right"),i(t,c,n,"bottom"),i(t,c,n,"left")}}();var n=r(c).container;n||(n=S());var i,o,h,d,f=s.width,g=s.height,v=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),m=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(i=(i=-(1+f))?i+"px":"0"),"top: "+(o=(o=-(1+g))?o+"px":"0"),"right: "+(d=(d=-f)?d+"px":"0"),"bottom: "+(h=(h=-g)?h+"px":"0")])),y=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),w=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),b=u(["position: absolute","left: 0","top: 0"]),_=u(["position: absolute","width: 200%","height: 200%"]),k=document.createElement("div"),E=document.createElement("div"),T=document.createElement("div"),P=document.createElement("div"),C=document.createElement("div"),x=document.createElement("div");k.dir="ltr",k.style.cssText=v,k.className=a,E.className=a,E.style.cssText=m,T.style.cssText=y,P.style.cssText=b,C.style.cssText=w,x.style.cssText=_,T.appendChild(P),C.appendChild(x),E.appendChild(T),E.appendChild(C),k.appendChild(E),n.appendChild(k),l(T,"scroll",I),l(C,"scroll",R),r(c).onExpandScroll=I,r(c).onShrinkScroll=R}else p("Aborting because element has been uninstalled");function I(){var e=r(c);e&&e.onExpand?e.onExpand():p("Aborting expand scroll handler: element has been uninstalled")}function R(){var e=r(c);e&&e.onShrink?e.onShrink():p("Aborting shrink scroll handler: element has been uninstalled")}}function P(){function s(t,n,i){var r=function(e){return d(e).childNodes[0]}(t),o=_(n),s=k(i);r.style.setProperty("width",o+"px",e.important?"important":""),r.style.setProperty("height",s+"px",e.important?"important":"")}function a(i){var a=c.offsetWidth,l=c.offsetHeight,h=a!==r(c).lastWidth||l!==r(c).lastHeight;p("Storing current size",a,l),y(c,a,l),n.add(0,(function(){if(h)if(r(c))if(u()){if(e.debug){var n=c.offsetWidth,i=c.offsetHeight;n===a&&i===l||t.warn(o.get(c),"Scroll: Size changed before updating detector elements.")}s(c,a,l)}else p("Aborting because element container has not been initialized");else p("Aborting because element has been uninstalled")})),n.add(1,(function(){r(c)?u()?E(c,a,l):p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")})),h&&i&&n.add(2,(function(){r(c)?u()?i():p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")}))}function u(){return!!r(c).container}function l(){p("notifyListenersIfNeeded invoked");var e=r(c);return void 0===r(c).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?p("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?p("Not notifying: Size already notified"):(p("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void i(r(c).listeners,(function(e){e(c)})))}function h(){p("Scroll detected."),g(c)?p("Scroll event fired while unrendered. Ignoring..."):a(l)}if(p("registerListenersAndPositionElements invoked."),r(c)){r(c).onRendered=function(){if(p("startanimation triggered."),g(c))p("Ignoring since element is still unrendered...");else{p("Element rendered.");var e=d(c),t=f(c);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(p("Scrollbars out of sync. Updating detector elements..."),a(l))}},r(c).onExpand=h,r(c).onShrink=h;var v=r(c).style;s(c,v.width,v.height)}else p("Aborting because element has been uninstalled")}function C(){if(p("finalizeDomMutation invoked."),r(c)){var e=r(c).style;y(c,e.width,e.height),E(c,e.width,e.height)}else p("Aborting because element has been uninstalled")}function x(){h(c)}function I(){var e;p("Installing..."),r(c).listeners=[],e=v(),r(c).startSize={width:e.width,height:e.height},p("Element start size",r(c).startSize),n.add(0,m),n.add(1,T),n.add(2,P),n.add(3,C),n.add(4,x)}h||(h=c,c=e,e=null),e=e||{},p("Making detectable..."),function(e){return!function(e){var t=e.getRootNode&&e.getRootNode().contains(e);return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)||t}(e)||null===window.getComputedStyle(e)}(c)?(p("Element is detached"),S(),p("Waiting until element is attached..."),r(c).onRendered=function(){p("Element is now attached"),I()}):I()},addListener:function(e,t){if(!r(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");r(e).listeners.push(t)},uninstall:function(e){var t=r(e);t&&(t.onExpandScroll&&h(d(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&h(f(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&h(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:c}}},98057:function(e,t,n){"use strict";var i=n(69543).forEach,r=n(37054),o=n(4649),s=n(86177),a=n(95874),c=n(73483),u=n(25333),l=n(19798),h=n(85335),d=n(87341),f=n(99267);function p(e){return Array.isArray(e)||void 0!==e.length}function g(e){if(Array.isArray(e))return e;var t=[];return i(e,(function(e){t.push(e)})),t}function v(e){return e&&1===e.nodeType}function m(e,t,n){var i=e[t];return null==i&&void 0!==n?n:i}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=s(),y=a({idGenerator:n,stateHandler:h});t=y}var w=e.reporter;w||(w=c(!1===w));var b=m(e,"batchProcessor",l({reporter:w})),_={};_.callOnAdd=!!m(e,"callOnAdd",!0),_.debug=!!m(e,"debug",!1);var k,E=o(t),S=r({stateHandler:h}),T=m(e,"strategy","object"),P=m(e,"important",!1),C={reporter:w,batchProcessor:b,stateHandler:h,idHandler:t,important:P};if("scroll"===T&&(u.isLegacyOpera()?(w.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),T="object"):u.isIE(9)&&(w.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),T="object")),"scroll"===T)k=f(C);else{if("object"!==T)throw new Error("Invalid strategy name: "+T);k=d(C)}var x={};return{listenTo:function(e,n,r){function o(e){var t=E.get(e);i(t,(function(t){t(e)}))}function s(e,t,n){E.add(t,n),e&&n(t)}if(r||(r=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!r)throw new Error("Listener required.");if(v(n))n=[n];else{if(!p(n))return w.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=g(n)}var a=0,c=m(e,"callOnAdd",_.callOnAdd),u=m(e,"onReady",(function(){})),l=m(e,"debug",_.debug);i(n,(function(e){h.getState(e)||(h.initState(e),t.set(e));var d=t.get(e);if(l&&w.log("Attaching listener to element",d,e),!S.isDetectable(e))return l&&w.log(d,"Not detectable."),S.isBusy(e)?(l&&w.log(d,"System busy making it detectable"),s(c,e,r),x[d]=x[d]||[],void x[d].push((function(){++a===n.length&&u()}))):(l&&w.log(d,"Making detectable..."),S.markBusy(e,!0),k.makeDetectable({debug:l,important:P},e,(function(e){if(l&&w.log(d,"onElementDetectable"),h.getState(e)){S.markAsDetectable(e),S.markBusy(e,!1),k.addListener(e,o),s(c,e,r);var t=h.getState(e);if(t&&t.startSize){var f=e.offsetWidth,p=e.offsetHeight;t.startSize.width===f&&t.startSize.height===p||o(e)}x[d]&&i(x[d],(function(e){e()}))}else l&&w.log(d,"Element uninstalled before being detectable.");delete x[d],++a===n.length&&u()})));l&&w.log(d,"Already detecable, adding listener."),s(c,e,r),a++})),a===n.length&&u()},removeListener:E.removeListener,removeAllListeners:E.removeAllListeners,uninstall:function(e){if(!e)return w.error("At least one element is required.");if(v(e))e=[e];else{if(!p(e))return w.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=g(e)}i(e,(function(e){E.removeAllListeners(e),k.uninstall(e),h.cleanState(e)}))},initDocument:function(e){k.initDocument&&k.initDocument(e)}}}},37054:function(e){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},86177:function(e){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},95874:function(e){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var i=n(e);if(!i)throw new Error("setId required the element to have a resize detection state.");var r=t.generate();return i.id=r,r}}}},4649:function(e){"use strict";e.exports=function(e){var t={};function n(n){var i=e.get(n);return void 0===i?[]:t[i]||[]}return{get:n,add:function(n,i){var r=e.get(n);t[r]||(t[r]=[]),t[r].push(i)},removeListener:function(e,t){for(var i=n(e),r=0,o=i.length;r<o;++r)if(i[r]===t){i.splice(r,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},73483:function(e){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var i=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};i(n,"log"),i(n,"warn"),i(n,"error")}return n}},85335:function(e){"use strict";function t(e){return e._erd}e.exports={initState:function(e){return e._erd={},t(e)},getState:t,cleanState:function(e){delete e._erd}}},8992:function(e,t,n){"use strict";n.r(t);var i=n(50583),r=n(5518);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="i18nFormat",this.mem={},this.init(null,t)}var t,n;return t=e,(n=[{key:"init",value:function(e,t){var n=this,o=e&&e.options&&e.options.i18nFormat||{};if(this.options=i.defaults(o,t,this.options||{},{memoize:!0,memoizeFallback:!1,bindI18n:"",bindI18nStore:"",parseErrorHandler:function(e,t,n,i){return n}}),this.formats=this.options.formats,e){var s=this.options,a=s.bindI18n,c=s.bindI18nStore,u=s.memoize;e.IntlMessageFormat=r.default,e.ICU=this,u&&(a&&e.on(a,(function(){return n.clearCache()})),c&&e.store.on(c,(function(){return n.clearCache()})))}}},{key:"addUserDefinedFormats",value:function(e){this.formats=this.formats?s(s({},this.formats),e):e}},{key:"parse",value:function(e,t,n,o,s,a){var c,u=a&&a.resolved&&a.resolved.res,l=this.options.memoize&&"".concat(n,".").concat(o,".").concat(s.replace(/\./g,"###"));this.options.memoize&&(c=i.getPath(this.mem,l));try{return c||(c=new r.default(e,n,this.formats,{ignoreTag:!0}),this.options.memoize&&(this.options.memoizeFallback||!a||u)&&i.setPath(this.mem,l,c)),c.format(t)}catch(n){return this.options.parseErrorHandler(n,s,e,t)}}},{key:"addLookupKeys",value:function(e,t,n,i,r){return e}},{key:"clearCache",value:function(){this.mem={}}}])&&c(t.prototype,n),e}();u.type="i18nFormat",t.default=u},50583:function(e,t,n){"use strict";function i(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var s=i(o.shift());!e[s]&&n&&(e[s]=new n),e=e[s]}return r()?{}:{obj:e,k:i(o.shift())}}function r(e,t,n){var r=i(e,t,Object);r.obj[r.k]=n}function o(e,t){var n=i(e,t),r=n.obj,o=n.k;if(r)return r[o]}n.d(t,{defaults:function(){return u},getPath:function(){return o},setPath:function(){return r}});var s=[],a=s.forEach,c=s.slice;function u(e){return a.call(c.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}},21339:function(e,t,n){"use strict";var i=n(88030),r=n(70335),o=n(87556),s=n(14771),a=n(89820),c=n(70761),u=n(55254),l=n(74008),h=n(70553);function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=d(i),p=d(r),g=d(o),v=d(s),m=d(a),y=d(c),w=d(u),b=d(l),_=d(h);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.default(this,e),this.init(t,n)}return g.default(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||S,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,E(E({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),P=new T,C=function(){function e(){p.default(this,e),this.observers={}}return g.default(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function x(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function I(e){return null==e?"":""+e}function R(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function O(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var s=i(o.shift());!e[s]&&n&&(e[s]=new n),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return r()?{}:{obj:e,k:i(o.shift())}}function A(e,t,n){var i=O(e,t,Object);i.obj[i.k]=n}function $(e,t){var n=O(e,t),i=n.obj,r=n.k;if(i)return i[r]}function L(e,t,n){var i=$(e,n);return void 0!==i?i:$(t,n)}function M(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):M(e[i],t[i],n):e[i]=t[i]);return e}function j(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function N(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return D[e]})):e}var F="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,B=[" ",",","?","!",";"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var i=t.split(n),r=e,o=0;o<i.length;++o){if(!r)return;if("string"==typeof r[i[o]]&&o+1<i.length)return;if(void 0===r[i[o]]){for(var s=2,a=i.slice(o,o+s).join(n),c=r[a];void 0===c&&i.length>o+s;)s++,c=r[a=i.slice(o,o+s).join(n)];if(void 0===c)return;if("string"==typeof c)return c;if(a&&"string"==typeof c[a])return c[a];var u=i.slice(o+s).join(n);return u?H(c,u,n):void 0}r=r[i[o]]}return r}}var V=function(e){m.default(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=w.default(t);if(n){var r=w.default(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return y.default(this,e)});function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return p.default(this,r),t=i.call(this),F&&C.call(v.default(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return g.default(r,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[e,t];n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(s=e.split("."));var a=$(this.data,s);return a||!o||"string"!=typeof n?a:H(this.data&&this.data[e]&&this.data[e][t],n,r)}},{key:"addResource",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=t,t=(s=e.split("."))[1]),this.addNamespaces(t),A(this.data,s,i),r.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var a=$(this.data,s)||{};i?M(a,n,r):a=z(z({},a),n),A(this.data,s,a),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?z(z({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),r}(C),G={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,r){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,i,r))})),t}};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={},K=function(e){m.default(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=w.default(t);if(n){var r=w.default(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return y.default(this,e)});function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.default(this,r),t=i.call(this),F&&C.call(v.default(t)),R(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,v.default(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=P.create("translator"),t}return g.default(r,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS,o=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var i=B.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===i.length)return!0;var r=new RegExp("(".concat(i.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!r.test(e);if(!o){var s=e.indexOf(n);s>0&&!r.test(e.substring(0,s))&&(o=!0)}return o}(e,n,i));if(o&&!s){var a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:e,namespaces:r};var c=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),e=c.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,t,n){var i=this;if("object"!==f.default(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),a=s.key,c=s.namespaces,u=c[c.length-1],l=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(h){var d=t.nsSeparator||this.options.nsSeparator;return u+d+a}return a}var p=this.resolve(e,t),g=p&&p.res,v=p&&p.usedKey||a,m=p&&p.exactUsedKey||a,y=Object.prototype.toString.apply(g),w=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(_&&g&&k&&w.indexOf(y)<0&&("string"!=typeof b||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,g,q(q({},t),{},{ns:c})):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(o){var E="[object Array]"===y,S=E?[]:{},T=E?m:v;for(var P in g)if(Object.prototype.hasOwnProperty.call(g,P)){var C="".concat(T).concat(o).concat(P);S[P]=this.translate(C,q(q({},t),{joinArrays:!1,ns:c})),S[P]===C&&(S[P]=g[P])}g=S}}else if(_&&"string"==typeof b&&"[object Array]"===y)(g=g.join(b))&&(g=this.extendTranslation(g,e,t,n));else{var x=!1,I=!1,R=void 0!==t.count&&"string"!=typeof t.count,O=r.hasDefaultValue(t),A=R?this.pluralResolver.getSuffix(l,t.count,t):"",$=t["defaultValue".concat(A)]||t.defaultValue;!this.isValidLookup(g)&&O&&(x=!0,g=$),this.isValidLookup(g)||(I=!0,g=a);var L=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,M=L&&I?void 0:g,j=O&&$!==g&&this.options.updateMissing;if(I||x||j){if(this.logger.log(j?"updateKey":"missingKey",l,u,a,j?$:g),o){var D=this.resolve(a,q(q({},t),{},{keySeparator:!1}));D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var N=[],F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&F&&F[0])for(var B=0;B<F.length;B++)N.push(F[B]);else"all"===this.options.saveMissingTo?N=this.languageUtils.toResolveHierarchy(t.lng||this.language):N.push(t.lng||this.language);var U=function(e,n,r){var o=O&&r!==g?r:M;i.options.missingKeyHandler?i.options.missingKeyHandler(e,u,n,o,j,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,u,n,o,j,t),i.emit("missingKey",e,u,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?N.forEach((function(e){i.pluralResolver.getSuffixes(e).forEach((function(n){U([e],a+n,t["defaultValue".concat(n)]||$)}))})):U(N,a,$))}g=this.extendTranslation(g,e,t,p,n),I&&g===a&&this.options.appendNamespaceToMissingKey&&(g="".concat(u,":").concat(a)),(I||x)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function(e,t,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(q(q({},n),{interpolation:q(q({},this.options.interpolation),n.interpolation)}));var s,a="string"==typeof e&&(n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables);if(a){var c=e.match(this.interpolator.nestingRegexp);s=c&&c.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=q(q({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),a){var l=e.match(this.interpolator.nestingRegexp);s<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return r&&r[0]===i[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):o.translate.apply(o,i.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,d="string"==typeof h?[h]:h;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=G.handle(d,e,t,this.options&&this.options.postProcessPassResolved?q({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,r,o,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var c=s.extractFromKey(e,a),u=c.key;n=u;var l=c.namespaces;s.options.fallbackNS&&(l=l.concat(s.options.fallbackNS));var h=void 0!==a.count&&"string"!=typeof a.count,d=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,f=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);l.forEach((function(e){s.isValidLookup(t)||(o=e,!Y["".concat(f[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(o)&&(Y["".concat(f[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!s.isValidLookup(t)){r=n;var o,c,l=u,f=[l];for(s.i18nFormat&&s.i18nFormat.addLookupKeys?s.i18nFormat.addLookupKeys(f,u,n,e,a):(h&&(o=s.pluralResolver.getSuffix(n,a.count,a)),h&&d&&f.push(l+o),d&&f.push(l+="".concat(s.options.contextSeparator).concat(a.context)),h&&f.push(l+=o));c=f.pop();)s.isValidLookup(t)||(i=c,t=s.getResource(n,e,c,a))}})))}))}})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),r}(C);function X(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Z=function(){function e(t){p.default(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=P.create("languageUtils")}return g.default(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=X(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=X(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=X(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),i.forEach((function(e){r.indexOf(e)<0&&o(n.formatLanguageCode(e))})),r}}]),e}(),J=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Q={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},ee=["v1","v2","v3"],te={zero:0,one:1,two:2,few:3,many:4,other:5};function ne(){var e={};return J.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:Q[t.fc]}}))})),e}var ie=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.default(this,e),this.languageUtils=t,this.options=n,this.logger=P.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ne()}return g.default(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((function(e,t){return te[e]-te[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):i.numbers.map((function(i){return t.getSuffix(e,i,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(t)):this.getSuffixRetroCompatible(i,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[i];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var o=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function(){return!ee.includes(this.options.compatibilityJSON)}}]),e}();function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p.default(this,e),this.logger=P.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return g.default(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:N,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?j(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?j(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?j(t.nestingPrefix):t.nestingPrefixEscaped||j("$t("),this.nestingSuffix=t.nestingSuffix?j(t.nestingSuffix):t.nestingSuffixEscaped||j(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var r,o,s,a=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(a.formatSeparator)<0){var r=L(t,c,e);return a.alwaysFormat?a.format(r,void 0,n,oe(oe(oe({},i),t),{},{interpolationkey:e})):r}var o=e.split(a.formatSeparator),s=o.shift().trim(),u=o.join(a.formatSeparator).trim();return a.format(L(t,c,s),u,n,oe(oe(oe({},i),t),{},{interpolationkey:s}))};this.resetRegExp();var h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?u(a.escape(e)):u(e)}}].forEach((function(t){for(s=0;r=t.regex.exec(e);){if(void 0===(o=l(r[1].trim())))if("function"==typeof h){var n=h(e,r,i);o="string"==typeof n?n:""}else{if(d){o=r[0];continue}a.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||a.useRawValueToEscape||(o=I(o));var c=t.safeValue(o);if(e=e.replace(r[0],c),d?(t.regex.lastIndex+=c.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++s>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,i,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=oe({},o);function a(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(i[1]);e=i[0],r=(r=this.interpolate(r,s)).replace(/'/g,'"');try{s=JSON.parse(r),t&&(s=oe(oe({},t),s))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(r)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),c=l,u=!0}if((i=t(a.call(this,n[1].trim(),s),s))&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=I(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),u&&(i=c.reduce((function(e,t){return r.format(e,t,o.lng,oe(oe({},o),{},{interpolationkey:n[1].trim()}))}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}();function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p.default(this,e),this.logger=P.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,ce(ce({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,ce({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,ce({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,ce({},n)).format(e)}},this.init(t)}return g.default(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e]=t}},{key:"format",value:function(e,t,n,i){var r=this;return t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var i=e.split("(");t=i[0].toLowerCase().trim();var r=i[1].substring(0,i[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((function(e){if(e){var t=e.split(":"),i=_.default(t,2),r=i[0],o=i[1];"false"===o.trim()&&(n[r.trim()]=!1),"true"===o.trim()&&(n[r.trim()]=!0),isNaN(o.trim())||(n[r.trim()]=parseInt(o.trim(),10)),n[r.trim()]||(n[r.trim()]=o.trim())}}))}return{formatName:t,formatOptions:n}}(t),s=o.formatName,a=o.formatOptions;if(r.formats[s]){var c=e;try{var u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},l=u.locale||u.lng||i.locale||i.lng||n;c=r.formats[s](e,l,ce(ce(ce({},a),i),u))}catch(e){r.logger.warn(e)}return c}return r.logger.warn("there was no format function for ".concat(s)),e}),e)}}]),e}();function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=function(e){m.default(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=w.default(t);if(n){var r=w.default(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return y.default(this,e)});function r(e,t,n){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return p.default(this,r),o=i.call(this),F&&C.call(v.default(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=s,o.logger=P.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,s.backend,s),o}return g.default(r,[{key:"queueLoad",value:function(e,t,n,i){var r=this,o=[],s=[],a=[],c=[];return e.forEach((function(e){var i=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?s.indexOf(a)<0&&s.push(a):(r.state[a]=1,i=!1,s.indexOf(a)<0&&s.push(a),o.indexOf(a)<0&&o.push(a),c.indexOf(t)<0&&c.push(t)))})),i||a.push(e)})),(o.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:i}),{toLoad:o,pending:s,toLoadLanguages:a,toLoadNamespaces:c}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){var i,a,c,u,l;i=n.loaded,a=o,(u=(c=O(i,[r],Object)).obj)[l=c.k]=u[l]||[],u[l].push(a),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(a,c){a&&c&&r<5?setTimeout((function(){i.read.call(i,e,t,n,r+1,2*o,s)}),o):s(a,c)})):s(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,i,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],o=i[1];this.read(r,o,"read",void 0,void 0,(function(i,s){i&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(r," failed"),i),!i&&s&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(r),s),t.loaded(e,i,s)}))}},{key:"saveMissing",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,he(he({},o),{},{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),r}(C);function fe(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===f.default(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===f.default(e[2])||"object"===f.default(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function pe(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){b.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(){}function ye(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var we=function(e){m.default(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=w.default(t);if(n){var r=w.default(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return y.default(this,e)});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(p.default(this,r),e=i.call(this),F&&C.call(v.default(e)),e.options=pe(t),e.services={},e.logger=P,e.modules={external:[]},ye(v.default(e)),n&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,n),y.default(e,v.default(e));setTimeout((function(){e.init(t,n)}),0)}return e}return g.default(r,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var i=fe();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options=ve(ve(ve({},i),this.options),pe(t)),this.options.interpolation=ve({},this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?P.init(r(this.modules.logger),this.options):P.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=ue);var s=new Z(this.options);this.store=new V(this.options.resources,this.options);var a=this.services;a.logger=P,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new ie(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(a.formatter=r(o),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new se(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new de(r(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(a.languageDetector=r(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=r(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new K(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=me),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var l=["addResource","addResources","addResourceBundle","removeResourceBundle"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var h=x(),d=function(){var t=function(t,i){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),h.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),h}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,i=n,r="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return i();var o=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(r)s(r);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(e){return s(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(o,this.options.ns,i)}else i(null)}},{key:"reloadResources",value:function(e,t,n){var i=x();return e||(e=this.languages),t||(t=this.options.ns),n||(n=me),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),n(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&G.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=x();this.emit("languageChanging",e);var r=function(e){if(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<n.languages.length;t++){var i=n.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&n.store.hasLanguageSomeTranslations(i)){n.resolvedLanguage=i;break}}},o=function(o){e||o||!n.services.languageDetector||(o=[]);var s="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);s&&(n.language||r(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,o){o?(r(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t,n){var i=this,r=function e(t,r){var o;if("object"!==f.default(r)){for(var s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];o=i.options.overloadTranslationOptionHandler([t,r].concat(a))}else o=ve({},r);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns;var u=i.options.keySeparator||".",l=n?"".concat(n).concat(u).concat(t):t;return i.t(l,o)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var s=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!!this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||!(!s(i,e)||r&&!s(o,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=x();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=x();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],r=e.filter((function(e){return i.indexOf(e)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,i=ve(ve(ve({},this.options),t),{isClone:!0}),o=new r(i),s=["store","services","language"];return s.forEach((function(t){o[t]=e[t]})),o.services=ve({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new K(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o.emit.apply(o,[e].concat(n))})),o.init(i,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(C);b.default(we,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new we(e,t)}));var be=we.createInstance();be.createInstance=we.createInstance,e.exports=be},5518:function(e,t,n){"use strict";var i=n(25618);t.default=i.IntlMessageFormat},25618:function(e,t,n){"use strict";n.d(t,{IntlMessageFormat:function(){return c}});var i=n(65326),r=n(35266),o=n(29444),s=n(43824);function a(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var c=function(){function e(t,n,r,c){var u,l,h,d=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=d.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===s.PART_TYPE.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return(0,s.formatToParts)(d.ast,d.locales,d.formatters,d.formats,e,void 0,d.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(d.locales)[0]}},this.getAst=function(){return d.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==c?void 0:c.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=(l=e.formats,(h=r)?Object.keys(l).reduce((function(e,t){var n,r;return e[t]=(n=l[t],(r=h[t])?(0,i.__assign)((0,i.__assign)((0,i.__assign)({},n||{}),r||{}),Object.keys(n).reduce((function(e,t){return e[t]=(0,i.__assign)((0,i.__assign)({},n[t]),r[t]||{}),e}),{})):n),e}),(0,i.__assign)({},l)):l),this.locales=n,this.formatters=c&&c.formatters||(void 0===(u=this.formatterCache)&&(u={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,o.default)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,i.__spreadArray)([void 0],t,!1)))}),{cache:a(u.number),strategy:o.strategies.variadic}),getDateTimeFormat:(0,o.default)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,i.__spreadArray)([void 0],t,!1)))}),{cache:a(u.dateTime),strategy:o.strategies.variadic}),getPluralRules:(0,o.default)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,i.__spreadArray)([void 0],t,!1)))}),{cache:a(u.pluralRules),strategy:o.strategies.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=r.parse,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}()},60756:function(e,t,n){"use strict";n.d(t,{ErrorCode:function(){return i},FormatError:function(){return o},InvalidValueError:function(){return s},InvalidValueTypeError:function(){return a},MissingValueError:function(){return c}});var i,r=n(65326);!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(i||(i={}));var o=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.code=n,r.originalMessage=i,r}return(0,r.__extends)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),s=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),i.INVALID_VALUE,o)||this}return(0,r.__extends)(t,e),t}(o),a=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),i.INVALID_VALUE,r)||this}return(0,r.__extends)(t,e),t}(o),c=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),i.MISSING_VALUE,n)||this}return(0,r.__extends)(t,e),t}(o)},43824:function(e,t,n){"use strict";n.d(t,{PART_TYPE:function(){return i},formatToParts:function(){return a}});var i,r=n(35266),o=n(60756);function s(e){return"function"==typeof e}function a(e,t,n,c,u,l,h){if(1===e.length&&(0,r.isLiteralElement)(e[0]))return[{type:i.literal,value:e[0].value}];for(var d=[],f=0,p=e;f<p.length;f++){var g=p[f];if((0,r.isLiteralElement)(g))d.push({type:i.literal,value:g.value});else if((0,r.isPoundElement)(g))"number"==typeof l&&d.push({type:i.literal,value:n.getNumberFormat(t).format(l)});else{var v=g.value;if(!u||!(v in u))throw new o.MissingValueError(v,h);var m=u[v];if((0,r.isArgumentElement)(g))m&&"string"!=typeof m&&"number"!=typeof m||(m="string"==typeof m||"number"==typeof m?String(m):""),d.push({type:"string"==typeof m?i.literal:i.object,value:m});else if((0,r.isDateElement)(g)){var y="string"==typeof g.style?c.date[g.style]:(0,r.isDateTimeSkeleton)(g.style)?g.style.parsedOptions:void 0;d.push({type:i.literal,value:n.getDateTimeFormat(t,y).format(m)})}else if((0,r.isTimeElement)(g))y="string"==typeof g.style?c.time[g.style]:(0,r.isDateTimeSkeleton)(g.style)?g.style.parsedOptions:void 0,d.push({type:i.literal,value:n.getDateTimeFormat(t,y).format(m)});else if((0,r.isNumberElement)(g))(y="string"==typeof g.style?c.number[g.style]:(0,r.isNumberSkeleton)(g.style)?g.style.parsedOptions:void 0)&&y.scale&&(m*=y.scale||1),d.push({type:i.literal,value:n.getNumberFormat(t,y).format(m)});else{if((0,r.isTagElement)(g)){var w=g.children,b=g.value,_=u[b];if(!s(_))throw new o.InvalidValueTypeError(b,"function",h);var k=_(a(w,t,n,c,u,l).map((function(e){return e.value})));Array.isArray(k)||(k=[k]),d.push.apply(d,k.map((function(e){return{type:"string"==typeof e?i.literal:i.object,value:e}})))}if((0,r.isSelectElement)(g)){if(!(E=g.options[m]||g.options.other))throw new o.InvalidValueError(g.value,m,Object.keys(g.options),h);d.push.apply(d,a(E.value,t,n,c,u))}else if((0,r.isPluralElement)(g)){var E;if(!(E=g.options["=".concat(m)])){if(!Intl.PluralRules)throw new o.FormatError('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',o.ErrorCode.MISSING_INTL_API,h);var S=n.getPluralRules(t,{type:g.pluralType}).select(m-(g.offset||0));E=g.options[S]||g.options.other}if(!E)throw new o.InvalidValueError(g.value,m,Object.keys(g.options),h);d.push.apply(d,a(E.value,t,n,c,u,m-(g.offset||0)))}}}}return(T=d).length<2?T:T.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===i.literal&&t.type===i.literal?n.value+=t.value:e.push(t),e}),[]);var T}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(i||(i={}))},69756:function(e,t,n){e.exports=function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return r(t[s][1][e]||e)}),u,u.exports,e,t,n,i)}return n[s].exports}for(var o=void 0,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,s,a,c,u,l=[],h=0,d=e.length,f=d,p="string"!==i.getTypeOf(e);h<e.length;)f=d-h,r=p?(t=e[h++],n=h<d?e[h++]:0,h<d?e[h++]:0):(t=e.charCodeAt(h++),n=h<d?e.charCodeAt(h++):0,h<d?e.charCodeAt(h++):0),s=t>>2,a=(3&t)<<4|n>>4,c=1<f?(15&n)<<2|r>>6:64,u=2<f?63&r:64,l.push(o.charAt(s)+o.charAt(a)+o.charAt(c)+o.charAt(u));return l.join("")},n.decode=function(e){var t,n,i,s,a,c,u=0,l=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=r.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)t=o.indexOf(e.charAt(u++))<<2|(s=o.indexOf(e.charAt(u++)))>>4,n=(15&s)<<4|(a=o.indexOf(e.charAt(u++)))>>2,i=(3&a)<<6|(c=o.indexOf(e.charAt(u++))),d[l++]=t,64!==a&&(d[l++]=n),64!==c&&(d[l++]=i);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),r=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function a(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}a.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new s("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var o=r,s=0+n;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,n,i){var o=r,s=0+n;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),a=i?"uint8array":"array";function c(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(c,s),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},c.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c("Deflate",e)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function i(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}function r(e,t,n,r,s,l){var h,d,f=e.file,p=e.compression,g=l!==a.utf8encode,v=o.transformTo("string",l(f.name)),m=o.transformTo("string",a.utf8encode(f.name)),y=f.comment,w=o.transformTo("string",l(y)),b=o.transformTo("string",a.utf8encode(y)),_=m.length!==f.name.length,k=b.length!==y.length,E="",S="",T="",P=f.dir,C=f.date,x={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(x.crc32=e.crc32,x.compressedSize=e.compressedSize,x.uncompressedSize=e.uncompressedSize);var I=0;t&&(I|=8),g||!_&&!k||(I|=2048);var R=0,O=0;P&&(R|=16),"UNIX"===s?(O=798,R|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(f.unixPermissions,P)):(O=20,R|=function(e){return 63&(e||0)}(f.dosPermissions)),h=C.getUTCHours(),h<<=6,h|=C.getUTCMinutes(),h<<=5,h|=C.getUTCSeconds()/2,d=C.getUTCFullYear()-1980,d<<=4,d|=C.getUTCMonth()+1,d<<=5,d|=C.getUTCDate(),_&&(S=i(1,1)+i(c(v),4)+m,E+="up"+i(S.length,2)+S),k&&(T=i(1,1)+i(c(w),4)+b,E+="uc"+i(T.length,2)+T);var A="";return A+="\n\0",A+=i(I,2),A+=p.magic,A+=i(h,2),A+=i(d,2),A+=i(x.crc32,4),A+=i(x.compressedSize,4),A+=i(x.uncompressedSize,4),A+=i(v.length,2),A+=i(E.length,2),{fileRecord:u.LOCAL_FILE_HEADER+A+v+E,dirRecord:u.CENTRAL_FILE_HEADER+i(O,2)+A+i(w.length,2)+"\0\0\0\0"+i(R,4)+i(r,4)+v+E+w}}var o=e("../utils"),s=e("../stream/GenericWorker"),a=e("../utf8"),c=e("../crc32"),u=e("../signature");function l(e,t,n,i){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(l,s),l.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=r(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=r(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+i(e.crc32,4)+i(e.compressedSize,4)+i(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=function(e,t,n,r,s){var a=o.transformTo("string",s(r));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(n,4)+i(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},l.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new r(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach((function(e,n){s++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,u=n.date;n._compressWorker(r,a).withStreamInfo("file",{name:e,dir:c,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=s}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.10.1",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./external"),o=e("./utf8"),s=e("./zipEntries"),a=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function u(e){return new r.Promise((function(t,n){var i=e.decompressed.getContentWorker().pipe(new a);i.on("error",(function(e){n(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new s(t);return n.load(e),n})).then((function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)n.push(u(i[o]));return r.Promise.all(n)})).then((function(e){for(var r=e.shift(),o=r.files,s=0;s<o.length;s++){var a=o[s],c=a.fileNameStr,u=i.resolve(a.fileNameStr);n.file(u,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders}),a.dir||(n.file(u).unsafeOriginalName=c)}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker");function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,r),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),n&&n(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function i(e,t,n){var i,r=o.getTypeOf(t),a=o.extend(n||{},c);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=g(e)),a.createFolders&&(i=p(e))&&v.call(this,i,!0);var h="string"===r&&!1===a.binary&&!1===a.base64;n&&void 0!==n.binary||(a.binary=!h),(t instanceof u&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",r="string");var m;m=t instanceof u||t instanceof s?t:d.isNode&&d.isStream(t)?new f(e,t):o.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var y=new l(e,m,a);this.files[e]=y}var r=e("./utf8"),o=e("./utils"),s=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),c=e("./defaults"),u=e("./compressedObject"),l=e("./zipObject"),h=e("./generate"),d=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},v=function(e,t){return t=void 0!==t?t:c.createFolders,e=g(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i)},filter:function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(i)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,i.call(this,e,t,n),this;if(m(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(m(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=v.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";t=h.generateWorker(this,n,i)}catch(e){(t=new s("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new a(e):r.uint8array?new c(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../utils");function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,i),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,r),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),a=e("../support"),c=e("../external"),u=null;if(a.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function l(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,i.checkSupport(s),this._worker=e.pipe(new r(s)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}l.prototype={accumulate:function(e){return function(e,t){return new c.Promise((function(n,r){var o=[],a=e._internalType,c=e._outputType,u=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],r(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(c,function(e,t){var n,i=0,r=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),u);n(e)}catch(e){r(e)}o=[]})).resume()}))}(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),o=e("./nodejsUtils"),s=e("./stream/GenericWorker"),a=new Array(256),c=0;c<256;c++)a[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(){s.call(this,"utf-8 decode"),this.leftOver=null}function l(){s.call(this,"utf-8 encode")}a[254]=a[254]=1,n.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,i,o,s,a=e.length,c=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(c):new Array(c),o=s=0;s<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,o,s=e.length,c=new Array(2*s);for(t=n=0;t<s;)if((r=e[t++])<128)c[n++]=r;else if(4<(o=a[r]))c[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&t<s;)r=r<<6|63&e[t++],o--;1<o?c[n++]=65533:r<65536?c[n++]=r:(r-=65536,c[n++]=55296|r>>10&1023,c[n++]=56320|1023&r)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),i.applyFromCharCode(c)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(u,s),u.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(t),c=t;s!==t.length&&(r.uint8array?(c=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(c=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,i.inherits(l,s),l.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),r=e("./base64"),o=e("./nodejsUtils"),s=e("./external");function a(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;r<o;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function l(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=u.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=u.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return u.stringifyByChunk(e,i,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=l;var d={};d.string={string:a,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},d.array={string:l,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return l(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:l,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:l,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:a},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return d[i][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],i=0;i<t.length;i++){var r=t[i];"."===r||""===r&&0!==i&&i!==t.length-1||(".."===r?n.pop():n.push(r))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,a,u){return s.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(t){var l=n.getTypeOf(t);return l?("arraybuffer"===l?t=n.transformTo("uint8array",t):"string"===l&&(u?t=r.decode(t):o&&!0!==a&&(t=function(e){return c(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./signature"),s=e("./zipEntry"),a=e("./support");function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",n=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(0<i)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),a=e("./utf8"),c=e("./compressions"),u=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||s(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||s(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function i(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),s=e("./utf8"),a=e("./compressedObject"),c=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(t=t.pipe(new s.Utf8EncodeWorker)),!o&&i&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)i.prototype[u[h]]=l;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,s=new r(l),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,n=function(){c.port2.postMessage(0)}}var u=[];function l(){var e,t;i=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}i=!1}t.exports=function(e){1!==u.push(e)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==r&&f(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){i((function(){var i;try{i=t(n)}catch(i){return o.reject(e,i)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var s=p((function(){t(r,i)}));"error"===s.status&&i(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(r);return this.state!==c?h(n,this.state===a?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)f(e,i);else{e.state=a,e.outcome=t;for(var r=-1,s=e.queue.length;++r<s;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},u.reject=function(e){var t=new this(r);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,c=-1,u=new this(r);++c<n;)l(e[c],c);return u;function l(e,r){t.resolve(e).then((function(e){s[r]=e,++a!==n||i||(i=!0,o.resolve(u,s))}),(function(e){i||(i=!0,o.reject(u,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var i,s=-1,a=new this(r);++s<t;)i=e[s],this.resolve(i).then((function(e){n||(n=!0,o.resolve(a,e))}),(function(e){n||(n=!0,o.reject(a,e))}));return a}},{immediate:36}],38:[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),c=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(s[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var l;if(l="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,l)))throw new Error(s[n]);this._dict_set=!0}}function l(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}u.prototype.push=function(e,t){var n,s,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(u),a.next_out=0,a.avail_out=u),1!==(n=i.deflate(a,s))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(a.output,a.next_out))):this.onData(r.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),!(a.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=u,n.deflate=l,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,l(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),r=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),c=e("./zlib/zstream"),u=e("./zlib/gzheader"),l=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,c,u,h,d,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,v=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?f.input=o.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(p),f.next_out=0,f.avail_out=p),(n=i.inflate(f,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&g&&(d="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===l.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,d)),n===s.Z_BUF_ERROR&&!0===v&&(n=s.Z_OK,v=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==s.Z_STREAM_END&&(0!==f.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(f.output,f.next_out),u=f.next_out-c,h=o.buf2string(f.output,c),f.next_out=u,f.avail_out=p-u,u&&r.arraySet(f.output,f.output,c,u,0),this.onData(h)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(v=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(f.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,s;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)o=e[t],s.set(o,r),r+=o.length;return s}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function c(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,r,o,s,a=e.length,c=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(c),o=s=0;s<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,a=t||e.length,u=new Array(2*a);for(n=i=0;n<a;)if((r=e[n++])<128)u[i++]=r;else if(4<(o=s[r]))u[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&n<a;)r=r<<6|63&e[n++],o--;1<o?u[i++]=65533:r<65536?u[i++]=r:(r-=65536,u[i++]=55296|r>>10&1023,u[i++]=56320|1023&r)}return c(u,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;o=o+(r=r+t[i++]|0)|0,--s;);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,n){"use strict";var i,r=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),c=e("./messages"),u=-2,l=258,h=262,d=113;function f(e,t){return e.msg=c[t],t}function p(e){return(e<<1)-(4<e?9:0)}function g(e){for(var t=e.length;0<=--t;)e[t]=0}function v(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function m(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,v(e.strm)}function y(e,t){e.pending_buf[e.pending++]=t}function w(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function b(e,t){var n,i,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+l,g=u[o+s-1],v=u[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(u[(n=t)+s]===v&&u[n+s-1]===g&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<p);if(i=l-(p-o),o=p-l,s<i){if(e.match_start=t,a<=(s=i))break;g=u[o+s-1],v=u[o+s]}}}while((t=f[t&d])>c&&0!=--r);return s<=e.lookahead?s:e.lookahead}function _(e){var t,n,i,o,c,u,l,d,f,p,g=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-h)){for(r.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=n=e.hash_size;i=e.head[--t],e.head[t]=g<=i?i-g:0,--n;);for(t=n=g;i=e.prev[--t],e.prev[t]=g<=i?i-g:0,--n;);o+=g}if(0===e.strm.avail_in)break;if(u=e.strm,l=e.window,d=e.strstart+e.lookahead,p=void 0,(f=o)<(p=u.avail_in)&&(p=f),n=0===p?0:(u.avail_in-=p,r.arraySet(l,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=s(u.adler,l,p,d):2===u.state.wrap&&(u.adler=a(u.adler,l,p,d)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function k(e,t){for(var n,i;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=b(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(m(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(m(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(m(e,!1),0===e.strm.avail_out)?1:2}function E(e,t){for(var n,i,r;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=b(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(m(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&m(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(m(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(m(e,!1),0===e.strm.avail_out)?1:2}function S(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function P(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):f(e,u)}function C(e){var t=P(e);return 0===t&&function(e){e.window_size=2*e.w_size,g(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function x(e,t,n,i,o,s){if(!e)return u;var a=1;if(-1===t&&(t=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),o<1||9<o||8!==n||i<8||15<i||t<0||9<t||s<0||4<s)return f(e,u);8===i&&(i=9);var c=new T;return(e.state=c).strm=e,c.wrap=a,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=s,c.method=n,C(e)}i=[new S(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,m(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(m(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(m(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(m(e,!1),e.strm.avail_out),1)})),new S(4,4,8,4,k),new S(4,5,16,8,k),new S(4,6,32,32,k),new S(4,4,16,16,E),new S(8,16,32,32,E),new S(8,16,128,128,E),new S(8,32,128,256,E),new S(32,128,258,1024,E),new S(32,258,258,4096,E)],n.deflateInit=function(e,t){return x(e,t,8,15,8,0)},n.deflateInit2=x,n.deflateReset=C,n.deflateResetKeep=P,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},n.deflate=function(e,t){var n,r,s,c;if(!e||!e.state||5<t||t<0)return e?f(e,u):u;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return f(e,0===e.avail_out?-5:u);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,y(r,31),y(r,139),y(r,8),r.gzhead?(y(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),y(r,255&r.gzhead.time),y(r,r.gzhead.time>>8&255),y(r,r.gzhead.time>>16&255),y(r,r.gzhead.time>>24&255),y(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),y(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(y(r,255&r.gzhead.extra.length),y(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(y(r,0),y(r,0),y(r,0),y(r,0),y(r,0),y(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),y(r,3),r.status=d);else{var h=8+(r.w_bits-8<<4)<<8;h|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=d,w(r,h),0!==r.strstart&&(w(r,e.adler>>>16),w(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),v(e),s=r.pending,r.pending!==r.pending_buf_size));)y(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),v(e),s=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,y(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===c&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),v(e),s=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,y(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===c&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&v(e),r.pending+2<=r.pending_buf_size&&(y(r,255&e.adler),y(r,e.adler>>8&255),e.adler=0,r.status=d)):r.status=d),0!==r.pending){if(v(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&p(t)<=p(n)&&4!==t)return f(e,-5);if(666===r.status&&0!==e.avail_in)return f(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var b=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(m(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(m(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(m(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,s,a=e.window;;){if(e.lookahead<=l){if(_(e),e.lookahead<=l&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){s=e.strstart+l;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);e.match_length=l-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(m(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(m(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(m(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==b&&4!==b||(r.status=666),1===b||3===b)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===b&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(g(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),v(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(y(r,255&e.adler),y(r,e.adler>>8&255),y(r,e.adler>>16&255),y(r,e.adler>>24&255),y(r,255&e.total_in),y(r,e.total_in>>8&255),y(r,e.total_in>>16&255),y(r,e.total_in>>24&255)):(w(r,e.adler>>>16),w(r,65535&e.adler)),v(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==d&&666!==t?f(e,u):(e.state=null,t===d?f(e,-3):0):u},n.deflateSetDictionary=function(e,t){var n,i,o,a,c,l,h,d,f=t.length;if(!e||!e.state)return u;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return u;for(1===a&&(e.adler=s(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===a&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),c=e.avail_in,l=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,_(n);n.lookahead>=3;){for(i=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--o;);n.strstart=i,n.lookahead=2,_(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=h,e.avail_in=c,n.wrap=a,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,o,s,a,c,u,l,h,d,f,p,g,v,m,y,w,b,_,k,E,S,T,P;n=e.state,i=e.next_in,T=e.input,r=i+(e.avail_in-5),o=e.next_out,P=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,g=n.lencode,v=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(f+=T[i++]<<p,p+=8,f+=T[i++]<<p,p+=8),w=g[f&m];t:for(;;){if(f>>>=b=w>>>24,p-=b,0==(b=w>>>16&255))P[o++]=65535&w;else{if(!(16&b)){if(0==(64&b)){w=g[(65535&w)+(f&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&w,(b&=15)&&(p<b&&(f+=T[i++]<<p,p+=8),_+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=T[i++]<<p,p+=8,f+=T[i++]<<p,p+=8),w=v[f&y];n:for(;;){if(f>>>=b=w>>>24,p-=b,!(16&(b=w>>>16&255))){if(0==(64&b)){w=v[(65535&w)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&w,p<(b&=15)&&(f+=T[i++]<<p,(p+=8)<b&&(f+=T[i++]<<p,p+=8)),c<(k+=f&(1<<b)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=b,p-=b,(b=o-s)<k){if(l<(b=k-b)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=d,(E=0)===h){if(E+=u-b,b<_){for(_-=b;P[o++]=d[E++],--b;);E=o-k,S=P}}else if(h<b){if(E+=u+h-b,(b-=h)<_){for(_-=b;P[o++]=d[E++],--b;);if(E=0,h<_){for(_-=b=h;P[o++]=d[E++],--b;);E=o-k,S=P}}}else if(E+=h-b,b<_){for(_-=b;P[o++]=d[E++],--b;);E=o-k,S=P}for(;2<_;)P[o++]=S[E++],P[o++]=S[E++],P[o++]=S[E++],_-=3;_&&(P[o++]=S[E++],1<_&&(P[o++]=S[E++]))}else{for(E=o-k;P[o++]=P[E++],P[o++]=P[E++],P[o++]=P[E++],2<(_-=3););_&&(P[o++]=P[E++],1<_&&(P[o++]=P[E++]))}break}}break}}while(i<r&&o<a);i-=_=p>>3,f&=(1<<(p-=_<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=f,n.bits=p}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),r=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),c=-2;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):c}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):c}function f(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?c:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,d(e))):c}function p(e,t){var n,i;return e?(i=new l,(e.state=i).window=null,0!==(n=f(e,t))&&(e.state=null),n):c}var g,v,m=!0;function y(e){if(m){var t;for(g=new i.Buf32(512),v=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,v,0,e.work,{bits:5}),m=!1}e.lencode=g,e.lenbits=9,e.distcode=v,e.distbits=5}function w(e,t,n,r){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(r<(o=s.wsize-s.wnext)&&(o=r),i.arraySet(s.window,t,n-r,o,s.wnext),(r-=o)?(i.arraySet(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}n.inflateReset=d,n.inflateReset2=f,n.inflateResetKeep=h,n.inflateInit=function(e){return p(e,15)},n.inflateInit2=p,n.inflate=function(e,t){var n,l,h,d,f,p,g,v,m,b,_,k,E,S,T,P,C,x,I,R,O,A,$,L,M=0,j=new i.Buf8(4),D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,h=e.output,g=e.avail_out,d=e.next_in,l=e.input,p=e.avail_in,v=n.hold,m=n.bits,b=p,_=g,A=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;m<16;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}if(2&n.wrap&&35615===v){j[n.check=0]=255&v,j[1]=v>>>8&255,n.check=o(n.check,j,2,0),m=v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&v)){e.msg="unknown compression method",n.mode=30;break}if(m-=4,O=8+(15&(v>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,e.adler=n.check=1,n.mode=512&v?10:12,m=v=0;break;case 2:for(;m<16;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}if(n.flags=v,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(j[0]=255&v,j[1]=v>>>8&255,n.check=o(n.check,j,2,0)),m=v=0,n.mode=3;case 3:for(;m<32;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}n.head&&(n.head.time=v),512&n.flags&&(j[0]=255&v,j[1]=v>>>8&255,j[2]=v>>>16&255,j[3]=v>>>24&255,n.check=o(n.check,j,4,0)),m=v=0,n.mode=4;case 4:for(;m<16;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(j[0]=255&v,j[1]=v>>>8&255,n.check=o(n.check,j,2,0)),m=v=0,n.mode=5;case 5:if(1024&n.flags){for(;m<16;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(j[0]=255&v,j[1]=v>>>8&255,n.check=o(n.check,j,2,0)),m=v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p<(k=n.length)&&(k=p),k&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,l,d,k,O)),512&n.flags&&(n.check=o(n.check,l,k,d)),p-=k,d+=k,n.length-=k),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break e;for(k=0;O=l[d+k++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O)),O&&k<p;);if(512&n.flags&&(n.check=o(n.check,l,k,d)),p-=k,d+=k,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break e;for(k=0;O=l[d+k++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O)),O&&k<p;);if(512&n.flags&&(n.check=o(n.check,l,k,d)),p-=k,d+=k,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;m<16;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}if(v!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;m<32;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}e.adler=n.check=u(v),m=v=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=g,e.next_in=d,e.avail_in=p,n.hold=v,n.bits=m,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){v>>>=7&m,m-=7&m,n.mode=27;break}for(;m<3;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}switch(n.last=1&v,m-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6!==t)break;v>>>=2,m-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}v>>>=2,m-=2;break;case 14:for(v>>>=7&m,m-=7&m;m<32;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&v,m=v=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(k=n.length){if(p<k&&(k=p),g<k&&(k=g),0===k)break e;i.arraySet(h,l,d,k,f),p-=k,d+=k,g-=k,f+=k,n.length-=k;break}n.mode=12;break;case 17:for(;m<14;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}if(n.nlen=257+(31&v),v>>>=5,m-=5,n.ndist=1+(31&v),v>>>=5,m-=5,n.ncode=4+(15&v),v>>>=4,m-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;m<3;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}n.lens[D[n.have++]]=7&v,v>>>=3,m-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,$={bits:n.lenbits},A=a(0,n.lens,0,19,n.lencode,0,n.work,$),n.lenbits=$.bits,A){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;P=(M=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,C=65535&M,!((T=M>>>24)<=m);){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}if(C<16)v>>>=T,m-=T,n.lens[n.have++]=C;else{if(16===C){for(L=T+2;m<L;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}if(v>>>=T,m-=T,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],k=3+(3&v),v>>>=2,m-=2}else if(17===C){for(L=T+3;m<L;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}m-=T,O=0,k=3+(7&(v>>>=T)),v>>>=3,m-=3}else{for(L=T+7;m<L;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}m-=T,O=0,k=11+(127&(v>>>=T)),v>>>=7,m-=7}if(n.have+k>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;k--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,$={bits:n.lenbits},A=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,$),n.lenbits=$.bits,A){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,$={bits:n.distbits},A=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,$),n.distbits=$.bits,A){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=p&&258<=g){e.next_out=f,e.avail_out=g,e.next_in=d,e.avail_in=p,n.hold=v,n.bits=m,s(e,_),f=e.next_out,h=e.output,g=e.avail_out,d=e.next_in,l=e.input,p=e.avail_in,v=n.hold,m=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;P=(M=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,C=65535&M,!((T=M>>>24)<=m);){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}if(P&&0==(240&P)){for(x=T,I=P,R=C;P=(M=n.lencode[R+((v&(1<<x+I)-1)>>x)])>>>16&255,C=65535&M,!(x+(T=M>>>24)<=m);){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}v>>>=x,m-=x,n.back+=x}if(v>>>=T,m-=T,n.back+=T,n.length=C,0===P){n.mode=26;break}if(32&P){n.back=-1,n.mode=12;break}if(64&P){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&P,n.mode=22;case 22:if(n.extra){for(L=n.extra;m<L;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;P=(M=n.distcode[v&(1<<n.distbits)-1])>>>16&255,C=65535&M,!((T=M>>>24)<=m);){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}if(0==(240&P)){for(x=T,I=P,R=C;P=(M=n.distcode[R+((v&(1<<x+I)-1)>>x)])>>>16&255,C=65535&M,!(x+(T=M>>>24)<=m);){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}v>>>=x,m-=x,n.back+=x}if(v>>>=T,m-=T,n.back+=T,64&P){e.msg="invalid distance code",n.mode=30;break}n.offset=C,n.extra=15&P,n.mode=24;case 24:if(n.extra){for(L=n.extra;m<L;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break e;if(k=_-g,n.offset>k){if((k=n.offset-k)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}E=k>n.wnext?(k-=n.wnext,n.wsize-k):n.wnext-k,k>n.length&&(k=n.length),S=n.window}else S=h,E=f-n.offset,k=n.length;for(g<k&&(k=g),g-=k,n.length-=k;h[f++]=S[E++],--k;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;h[f++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;m<32;){if(0===p)break e;p--,v|=l[d++]<<m,m+=8}if(_-=g,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?o(n.check,h,_,f-_):r(n.check,h,_,f-_)),_=g,(n.flags?v:u(v))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;m<32;){if(0===p)break e;p--,v+=l[d++]<<m,m+=8}if(v!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=v=0}n.mode=29;case 29:A=1;break e;case 30:A=-3;break e;case 31:return-4;default:return c}return e.next_out=f,e.avail_out=g,e.next_in=d,e.avail_in=p,n.hold=v,n.bits=m,(n.wsize||_!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&w(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,_-=e.avail_out,e.total_in+=b,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?o(n.check,h,_,e.next_out-_):r(n.check,h,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==b&&0===_||4===t)&&0===A&&(A=-5),A)},n.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?c:((n.head=t).done=!1,0):c},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?c:11===n.mode&&r(1,t,i,0)!==n.check?-3:w(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,u,l,h,d){var f,p,g,v,m,y,w,b,_,k=d.bits,E=0,S=0,T=0,P=0,C=0,x=0,I=0,R=0,O=0,A=0,$=null,L=0,M=new i.Buf16(16),j=new i.Buf16(16),D=null,N=0;for(E=0;E<=15;E++)M[E]=0;for(S=0;S<c;S++)M[t[n+S]]++;for(C=k,P=15;1<=P&&0===M[P];P--);if(P<C&&(C=P),0===P)return u[l++]=20971520,u[l++]=20971520,d.bits=1,0;for(T=1;T<P&&0===M[T];T++);for(C<T&&(C=T),E=R=1;E<=15;E++)if(R<<=1,(R-=M[E])<0)return-1;if(0<R&&(0===e||1!==P))return-1;for(j[1]=0,E=1;E<15;E++)j[E+1]=j[E]+M[E];for(S=0;S<c;S++)0!==t[n+S]&&(h[j[t[n+S]]++]=S);if(y=0===e?($=D=h,19):1===e?($=r,L-=257,D=o,N-=257,256):($=s,D=a,-1),E=T,m=l,I=S=A=0,g=-1,v=(O=1<<(x=C))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(w=E-I,_=h[S]<y?(b=0,h[S]):h[S]>y?(b=D[N+h[S]],$[L+h[S]]):(b=96,0),f=1<<E-I,T=p=1<<x;u[m+(A>>I)+(p-=f)]=w<<24|b<<16|_|0,0!==p;);for(f=1<<E-1;A&f;)f>>=1;if(0!==f?(A&=f-1,A+=f):A=0,S++,0==--M[E]){if(E===P)break;E=t[n+h[S]]}if(C<E&&(A&v)!==g){for(0===I&&(I=C),m+=T,R=1<<(x=E-I);x+I<P&&!((R-=M[x+I])<=0);)x++,R<<=1;if(O+=1<<x,1===e&&852<O||2===e&&592<O)return 1;u[g=A&v]=C<<24|x<<16|m-l|0}}return 0!==A&&(u[m+A]=E-I<<24|64<<16|0),d.bits=C,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common");function r(e){for(var t=e.length;0<=--t;)e[t]=0}var o=256,s=286,a=30,c=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);r(f);var p=new Array(60);r(p);var g=new Array(512);r(g);var v=new Array(256);r(v);var m=new Array(29);r(m);var y,w,b,_=new Array(a);function k(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function E(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function S(e){return e<256?g[e]:g[256+(e>>>7)]}function T(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,T(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function C(e,t,n){P(e,n[2*t],n[2*t+1])}function x(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function I(e,t,n){var i,r,o=new Array(16),s=0;for(i=1;i<=c;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var a=e[2*r+1];0!==a&&(e[2*r]=x(o[a]++,a))}}function R(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){8<e.bi_valid?T(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function $(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&A(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!A(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function L(e,t,n){var i,r,s,a,c=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0===i?C(e,r,t):(C(e,(s=v[r])+o+1,t),0!==(a=u[s])&&P(e,r-=m[s],a),C(e,s=S(--i),n),0!==(a=l[s])&&P(e,i-=_[s],a)),c<e.last_lit;);C(e,256,t)}function M(e,t){var n,i,r,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=s[2*r+1]);for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)$(e,o,n);for(r=u;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,$(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,s,a,u=t.dyn_tree,l=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(o=0;o<=c;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)g<(o=u[2*u[2*(i=e.heap[n])+1]+1]+1)&&(o=g,v++),u[2*i+1]=o,l<i||(e.bl_count[o]++,s=0,p<=i&&(s=f[i-p]),a=u[2*i],e.opt_len+=a*(o+s),d&&(e.static_len+=a*(h[2*i+1]+s)));if(0!==v){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,v-=2}while(0<v);for(o=g;0!==o;o--)for(i=e.bl_count[o];0!==i;)l<(r=e.heap[--n])||(u[2*r+1]!==o&&(e.opt_len+=(o-u[2*r+1])*u[2*r],u[2*r+1]=o),i--)}}(e,t),I(o,l,e.bl_count)}function j(e,t,n){var i,r,o=-1,s=t[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++a<c&&r===s||(a<u?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=r,u=(a=0)===s?(c=138,3):r===s?(c=6,3):(c=7,4))}function D(e,t,n){var i,r,o=-1,s=t[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++a<c&&r===s)){if(a<u)for(;C(e,r,e.bl_tree),0!=--a;);else 0!==r?(r!==o&&(C(e,r,e.bl_tree),a--),C(e,16,e.bl_tree),P(e,a-3,2)):a<=10?(C(e,17,e.bl_tree),P(e,a-3,3)):(C(e,18,e.bl_tree),P(e,a-11,7));o=r,u=(a=0)===s?(c=138,3):r===s?(c=6,3):(c=7,4)}}r(_);var N=!1;function F(e,t,n,r){P(e,0+(r?1:0),3),function(e,t,n,r){O(e),T(e,n),T(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){N||(function(){var e,t,n,i,r,o=new Array(16);for(i=n=0;i<28;i++)for(m[i]=n,e=0;e<1<<u[i];e++)v[n++]=i;for(v[n-1]=i,i=r=0;i<16;i++)for(_[i]=r,e=0;e<1<<l[i];e++)g[r++]=i;for(r>>=7;i<a;i++)for(_[i]=r<<7,e=0;e<1<<l[i]-7;e++)g[256+r++]=i;for(t=0;t<=c;t++)o[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,o[8]++;for(;e<=255;)f[2*e+1]=9,e++,o[9]++;for(;e<=279;)f[2*e+1]=7,e++,o[7]++;for(;e<=287;)f[2*e+1]=8,e++,o[8]++;for(I(f,287,o),e=0;e<a;e++)p[2*e+1]=5,p[2*e]=x(e,5);y=new k(f,u,257,s,c),w=new k(p,l,0,a,c),b=new k(new Array(0),h,0,19,7)}(),N=!0),e.l_desc=new E(e.dyn_ltree,y),e.d_desc=new E(e.dyn_dtree,w),e.bl_desc=new E(e.bl_tree,b),e.bi_buf=0,e.bi_valid=0,R(e)},n._tr_stored_block=F,n._tr_flush_block=function(e,t,n,i){var r,s,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),M(e,e.l_desc),M(e,e.d_desc),a=function(e){var t;for(j(e,e.dyn_ltree,e.l_desc.max_code),j(e,e.dyn_dtree,e.d_desc.max_code),M(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=r&&(r=s)):r=s=n+5,n+4<=r&&-1!==t?F(e,t,n,i):4===e.strategy||s===r?(P(e,2+(i?1:0),3),L(e,f,p)):(P(e,4+(i?1:0),3),function(e,t,n,i){var r;for(P(e,t-257,5),P(e,n-1,5),P(e,i-4,4),r=0;r<i;r++)P(e,e.bl_tree[2*d[r]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),L(e,e.dyn_ltree,e.dyn_dtree)),R(e),i&&O(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(v[n]+o+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){P(e,2,3),C(e,256,f),function(e){16===e.bi_valid?(T(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,i,r,o,s=1,a={},c=!1,u=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){r.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,function(e){var t=u.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):function(e){setTimeout(d,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return a[s]=r,n(s),s++},l.clearImmediate=h}function h(e){delete a[e]}function d(e){if(c)setTimeout(d,0,e);else{var t=a[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(undefined,n)}}(t)}finally{h(e),c=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&d(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},61945:function(e,t,n){var i=n(51781)(n(34670),"DataView");e.exports=i},74720:function(e,t,n){var i=n(83720),r=n(96176),o=n(36634),s=n(31237),a=n(6299);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},26767:function(e,t,n){var i=n(66231),r=n(73094),o=n(23433),s=n(32397),a=n(60563);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},41739:function(e,t,n){var i=n(51781)(n(34670),"Map");e.exports=i},34226:function(e,t,n){var i=n(94781),r=n(75468),o=n(79004),s=n(88690),a=n(16662);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},91644:function(e,t,n){var i=n(51781)(n(34670),"Promise");e.exports=i},52698:function(e,t,n){var i=n(51781)(n(34670),"Set");e.exports=i},10517:function(e,t,n){var i=n(34226),r=n(28204),o=n(60568);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=r,s.prototype.has=o,e.exports=s},9149:function(e,t,n){var i=n(26767),r=n(28275),o=n(93668),s=n(11334),a=n(29550),c=n(1873);function u(e){var t=this.__data__=new i(e);this.size=t.size}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,e.exports=u},38090:function(e,t,n){var i=n(34670).Symbol;e.exports=i},18855:function(e,t,n){var i=n(34670).Uint8Array;e.exports=i},75942:function(e,t,n){var i=n(51781)(n(34670),"WeakMap");e.exports=i},25330:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}},97047:function(e,t,n){var i=n(51255),r=n(90235),o=n(69232),s=n(17819),a=n(34324),c=n(29580),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&r(e),h=!n&&!l&&s(e),d=!n&&!l&&!h&&c(e),f=n||l||h||d,p=f?i(e.length,String):[],g=p.length;for(var v in e)!t&&!u.call(e,v)||f&&("length"==v||h&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||a(v,g))||p.push(v);return p}},18210:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},98751:function(e){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},42690:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},69055:function(e,t,n){var i=n(34384);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},35882:function(e,t,n){var i=n(64834),r=n(90493)(i);e.exports=r},53309:function(e,t,n){var i=n(98751),r=n(39104);e.exports=function e(t,n,o,s,a){var c=-1,u=t.length;for(o||(o=r),a||(a=[]);++c<u;){var l=t[c];n>0&&o(l)?n>1?e(l,n-1,o,s,a):i(a,l):s||(a[a.length]=l)}return a}},13238:function(e,t,n){var i=n(78777)();e.exports=i},64834:function(e,t,n){var i=n(13238),r=n(23152);e.exports=function(e,t){return e&&i(e,t,r)}},88815:function(e,t,n){var i=n(28297),r=n(73078);e.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},68076:function(e,t,n){var i=n(98751),r=n(69232);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},79880:function(e,t,n){var i=n(38090),r=n(40891),o=n(68779),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):o(e)}},98053:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},24430:function(e,t,n){var i=n(79880),r=n(1205);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},95085:function(e,t,n){var i=n(83608),r=n(1205);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,s,e,a))}},83608:function(e,t,n){var i=n(9149),r=n(92126),o=n(32014),s=n(63142),a=n(86769),c=n(69232),u=n(17819),l=n(29580),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,m){var y=c(e),w=c(t),b=y?d:a(e),_=w?d:a(t),k=(b=b==h?f:b)==f,E=(_=_==h?f:_)==f,S=b==_;if(S&&u(e)){if(!u(t))return!1;y=!0,k=!1}if(S&&!k)return m||(m=new i),y||l(e)?r(e,t,n,g,v,m):o(e,t,b,n,g,v,m);if(!(1&n)){var T=k&&p.call(e,"__wrapped__"),P=E&&p.call(t,"__wrapped__");if(T||P){var C=T?e.value():e,x=P?t.value():t;return m||(m=new i),v(C,x,n,g,m)}}return!!S&&(m||(m=new i),s(e,t,n,g,v,m))}},75520:function(e,t,n){var i=n(9149),r=n(95085);e.exports=function(e,t,n,o){var s=n.length,a=s,c=!o;if(null==e)return!a;for(e=Object(e);s--;){var u=n[s];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<a;){var l=(u=n[s])[0],h=e[l],d=u[1];if(c&&u[2]){if(void 0===h&&!(l in e))return!1}else{var f=new i;if(o)var p=o(h,d,l,e,t,f);if(!(void 0===p?r(d,h,3,o,f):p))return!1}}return!0}},5664:function(e,t,n){var i=n(47620),r=n(70241),o=n(21289),s=n(18267),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,h=u.hasOwnProperty,d=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?d:a).test(s(e))}},48384:function(e,t,n){var i=n(79880),r=n(76208),o=n(1205),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!s[i(e)]}},49550:function(e,t,n){var i=n(54563),r=n(57131),o=n(66671),s=n(69232),a=n(79484);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?r(e[0],e[1]):i(e):a(e)}},44424:function(e,t,n){var i=n(28395),r=n(6323),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},9805:function(e,t,n){var i=n(35882),r=n(12134);e.exports=function(e,t){var n=-1,o=r(e)?Array(e.length):[];return i(e,(function(e,i,r){o[++n]=t(e,i,r)})),o}},54563:function(e,t,n){var i=n(75520),r=n(35852),o=n(51565);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},57131:function(e,t,n){var i=n(95085),r=n(75494),o=n(97316),s=n(80349),a=n(82968),c=n(51565),u=n(73078);e.exports=function(e,t){return s(e)&&a(t)?c(u(e),t):function(n){var s=r(n,e);return void 0===s&&s===t?o(n,e):i(t,s,3)}}},78945:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},86120:function(e,t,n){var i=n(88815);e.exports=function(e){return function(t){return i(t,e)}}},98715:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,i,r,o){for(var s=-1,a=n(t((i-e)/(r||1)),0),c=Array(a);a--;)c[o?a:++s]=e,e+=r;return c}},51255:function(e){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},89396:function(e,t,n){var i=n(38090),r=n(18210),o=n(69232),s=n(95825),a=i?i.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(s(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},15889:function(e,t,n){var i=n(90761),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},42516:function(e){e.exports=function(e){return function(t){return e(t)}}},62562:function(e){e.exports=function(e,t){return e.has(t)}},28297:function(e,t,n){var i=n(69232),r=n(80349),o=n(3795),s=n(41553);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(s(e))}},41904:function(e,t,n){var i=n(34670)["__core-js_shared__"];e.exports=i},90493:function(e,t,n){var i=n(12134);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&!1!==r(a[s],s,a););return n}}},78777:function(e){e.exports=function(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var c=s[e?a:++r];if(!1===n(o[c],c,o))break}return t}}},71386:function(e,t,n){var i=n(98715),r=n(79185),o=n(77875);e.exports=function(e){return function(t,n,s){return s&&"number"!=typeof s&&r(t,n,s)&&(n=s=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),s=void 0===s?t<n?1:-1:o(s),i(t,n,s,e)}}},92126:function(e,t,n){var i=n(10517),r=n(42690),o=n(62562);e.exports=function(e,t,n,s,a,c){var u=1&n,l=e.length,h=t.length;if(l!=h&&!(u&&h>l))return!1;var d=c.get(e),f=c.get(t);if(d&&f)return d==t&&f==e;var p=-1,g=!0,v=2&n?new i:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var m=e[p],y=t[p];if(s)var w=u?s(y,m,p,t,e,c):s(m,y,p,e,t,c);if(void 0!==w){if(w)continue;g=!1;break}if(v){if(!r(t,(function(e,t){if(!o(v,t)&&(m===e||a(m,e,n,s,c)))return v.push(t)}))){g=!1;break}}else if(m!==y&&!a(m,y,n,s,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},32014:function(e,t,n){var i=n(38090),r=n(18855),o=n(34384),s=n(92126),a=n(45104),c=n(26220),u=i?i.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,i,u,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=a;case"[object Set]":var p=1&i;if(f||(f=c),e.size!=t.size&&!p)return!1;var g=d.get(e);if(g)return g==t;i|=2,d.set(e,t);var v=s(f(e),f(t),i,u,h,d);return d.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},63142:function(e,t,n){var i=n(43796),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var c=1&n,u=i(e),l=u.length;if(l!=i(t).length&&!c)return!1;for(var h=l;h--;){var d=u[h];if(!(c?d in t:r.call(t,d)))return!1}var f=a.get(e),p=a.get(t);if(f&&p)return f==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var v=c;++h<l;){var m=e[d=u[h]],y=t[d];if(o)var w=c?o(y,m,d,t,e,a):o(m,y,d,e,t,a);if(!(void 0===w?m===y||s(m,y,n,o,a):w)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(g=!1)}return a.delete(e),a.delete(t),g}},73478:function(e,t,n){var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},43796:function(e,t,n){var i=n(68076),r=n(69048),o=n(23152);e.exports=function(e){return i(e,o,r)}},16190:function(e,t,n){var i=n(58096);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},35852:function(e,t,n){var i=n(82968),r=n(23152);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,i(s)]}return t}},51781:function(e,t,n){var i=n(5664),r=n(79728);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},40891:function(e,t,n){var i=n(38090),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(e){}var r=s.call(e);return i&&(t?e[a]=n:delete e[a]),r}},69048:function(e,t,n){var i=n(25330),r=n(85358),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),i(s(e),(function(t){return o.call(e,t)})))}:r;e.exports=a},86769:function(e,t,n){var i=n(61945),r=n(41739),o=n(91644),s=n(52698),a=n(75942),c=n(79880),u=n(18267),l="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",g=u(i),v=u(r),m=u(o),y=u(s),w=u(a),b=c;(i&&b(new i(new ArrayBuffer(1)))!=p||r&&b(new r)!=l||o&&b(o.resolve())!=h||s&&b(new s)!=d||a&&b(new a)!=f)&&(b=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,i=n?u(n):"";if(i)switch(i){case g:return p;case v:return l;case m:return h;case y:return d;case w:return f}return t}),e.exports=b},79728:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},34990:function(e,t,n){var i=n(28297),r=n(90235),o=n(69232),s=n(34324),a=n(76208),c=n(73078);e.exports=function(e,t,n){for(var u=-1,l=(t=i(t,e)).length,h=!1;++u<l;){var d=c(t[u]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++u!=l?h:!!(l=null==e?0:e.length)&&a(l)&&s(d,l)&&(o(e)||r(e))}},83720:function(e,t,n){var i=n(47504);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},96176:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},36634:function(e,t,n){var i=n(47504),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},31237:function(e,t,n){var i=n(47504),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},6299:function(e,t,n){var i=n(47504);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},39104:function(e,t,n){var i=n(38090),r=n(90235),o=n(69232),s=i?i.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||r(e)||!!(s&&e&&e[s])}},34324:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},79185:function(e,t,n){var i=n(34384),r=n(12134),o=n(34324),s=n(21289);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?r(n)&&o(t,n.length):"string"==a&&t in n)&&i(n[t],e)}},80349:function(e,t,n){var i=n(69232),r=n(95825),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||s.test(e)||!o.test(e)||null!=t&&e in Object(t)}},58096:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},70241:function(e,t,n){var i,r=n(41904),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},28395:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},82968:function(e,t,n){var i=n(21289);e.exports=function(e){return e==e&&!i(e)}},66231:function(e){e.exports=function(){this.__data__=[],this.size=0}},73094:function(e,t,n){var i=n(69055),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},23433:function(e,t,n){var i=n(69055);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},32397:function(e,t,n){var i=n(69055);e.exports=function(e){return i(this.__data__,e)>-1}},60563:function(e,t,n){var i=n(69055);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},94781:function(e,t,n){var i=n(74720),r=n(26767),o=n(41739);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},75468:function(e,t,n){var i=n(16190);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},79004:function(e,t,n){var i=n(16190);e.exports=function(e){return i(this,e).get(e)}},88690:function(e,t,n){var i=n(16190);e.exports=function(e){return i(this,e).has(e)}},16662:function(e,t,n){var i=n(16190);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},45104:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},51565:function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},54819:function(e,t,n){var i=n(49892);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},47504:function(e,t,n){var i=n(51781)(Object,"create");e.exports=i},6323:function(e,t,n){var i=n(66755)(Object.keys,Object);e.exports=i},13067:function(e,t,n){e=n.nmd(e);var i=n(73478),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,s=o&&o.exports===r&&i.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},68779:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},66755:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},34670:function(e,t,n){var i=n(73478),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},28204:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},60568:function(e){e.exports=function(e){return this.__data__.has(e)}},26220:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},28275:function(e,t,n){var i=n(26767);e.exports=function(){this.__data__=new i,this.size=0}},93668:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},11334:function(e){e.exports=function(e){return this.__data__.get(e)}},29550:function(e){e.exports=function(e){return this.__data__.has(e)}},1873:function(e,t,n){var i=n(26767),r=n(41739),o=n(34226);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!r||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},3795:function(e,t,n){var i=n(54819),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));e.exports=s},73078:function(e,t,n){var i=n(95825);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},18267:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},90761:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},34384:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},12231:function(e,t,n){var i=n(53309),r=n(69498);e.exports=function(e,t){return i(r(e,t),1)}},75494:function(e,t,n){var i=n(88815);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},97316:function(e,t,n){var i=n(98053),r=n(34990);e.exports=function(e,t){return null!=e&&r(e,t,i)}},66671:function(e){e.exports=function(e){return e}},90235:function(e,t,n){var i=n(24430),r=n(1205),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},69232:function(e){var t=Array.isArray;e.exports=t},12134:function(e,t,n){var i=n(47620),r=n(76208);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},17819:function(e,t,n){e=n.nmd(e);var i=n(34670),r=n(43059),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?i.Buffer:void 0,c=(a?a.isBuffer:void 0)||r;e.exports=c},47620:function(e,t,n){var i=n(79880),r=n(21289);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},46647:function(e,t,n){var i=n(31456);e.exports=function(e){return"number"==typeof e&&e==i(e)}},76208:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},21289:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},1205:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},95825:function(e,t,n){var i=n(79880),r=n(1205);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},29580:function(e,t,n){var i=n(48384),r=n(42516),o=n(13067),s=o&&o.isTypedArray,a=s?r(s):i;e.exports=a},23152:function(e,t,n){var i=n(97047),r=n(44424),o=n(12134);e.exports=function(e){return o(e)?i(e):r(e)}},69498:function(e,t,n){var i=n(18210),r=n(49550),o=n(9805),s=n(69232);e.exports=function(e,t){return(s(e)?i:o)(e,r(t,3))}},49892:function(e,t,n){var i=n(34226);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},79484:function(e,t,n){var i=n(78945),r=n(86120),o=n(80349),s=n(73078);e.exports=function(e){return o(e)?i(s(e)):r(e)}},32457:function(e,t,n){var i=n(71386)();e.exports=i},85358:function(e){e.exports=function(){return[]}},43059:function(e){e.exports=function(){return!1}},77875:function(e,t,n){var i=n(88725);e.exports=function(e){return e?Infinity===(e=i(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},31456:function(e,t,n){var i=n(77875);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},88725:function(e,t,n){var i=n(15889),r=n(21289),o=n(95825),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=a.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?NaN:+e}},41553:function(e,t,n){var i=n(89396);e.exports=function(e){return null==e?"":i(e)}},96811:function(e,t,n){e=n.nmd(e),function(n,i){"use strict";var r={};n.PubSub?(r=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=r,function(e){var t={},n=-1;function i(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function r(e,t,n){e(t,n)}function o(e,n,o,s){var a,c=t[n],u=s?r:i;if(Object.prototype.hasOwnProperty.call(t,n))for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&u(c[a],e,o)}function s(e){var n=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,n)&&function(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}(t[n]))}function a(e,t,n,i){var r=function(e,t,n){return function(){var i=String(e),r=i.lastIndexOf(".");for(o(e,e,t,n);-1!==r;)r=(i=i.substr(0,r)).lastIndexOf("."),o(e,i,t,n);o(e,"*",t,n)}}(e="symbol"==typeof e?e.toString():e,t,i);return!!function(e){for(var t=String(e),n=s(t)||s("*"),i=t.lastIndexOf(".");!n&&-1!==i;)i=(t=t.substr(0,i)).lastIndexOf("."),n=s(t);return n}(e)&&(!0===n?r():setTimeout(r,0),!0)}e.publish=function(t,n){return a(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return a(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,i){if("function"!=typeof i)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var r="uid_"+String(++n);return t[e][r]=i,r},e.subscribeAll=function(t){return e.subscribe("*",t)},e.subscribeOnce=function(t,n){var i=e.subscribe(t,(function(){e.unsubscribe(i),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,i,r=0;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)){for(i in t[n])r++;break}return r},e.getSubscriptions=function(e){var n,i=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&i.push(n);return i},e.unsubscribe=function(n){var i,r,o,s="string"==typeof n&&(Object.prototype.hasOwnProperty.call(t,n)||function(e){var n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e))return!0;return!1}(n)),a=!s&&"string"==typeof n,c="function"==typeof n,u=!1;if(!s){for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(r=t[i],a&&r[n]){delete r[n],u=n;break}if(c)for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&r[o]===n&&(delete r[o],u=!0)}return u}e.clearSubscriptions(n)}}(r)),void 0!==e&&e.exports&&(t=e.exports=r),t.PubSub=r,e.exports=t=r}("object"==typeof window&&window||this)},10875:function(e,t,n){"use strict";n.d(t,{focusManager:function(){return s}});var i=n(84840),r=n(2041),o=n(23437),s=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!o.isServer&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}(0,i.default)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?n.setFocused(e):n.onFocus()}))},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach((function(e){e()}))},n.isFocused=function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(r.Subscribable))},63297:function(e,t,n){"use strict";n.d(t,{dehydrate:function(){return s},hydrate:function(){return a}});var i=n(88541);function r(e){return e.state.isPaused}function o(e){return"success"===e.state.status}function s(e,t){var n,i,s=[],a=[];if(!1!==(null==(n=t=t||{})?void 0:n.dehydrateMutations)){var c=t.shouldDehydrateMutation||r;e.getMutationCache().getAll().forEach((function(e){c(e)&&s.push(function(e){return{mutationKey:e.options.mutationKey,state:e.state}}(e))}))}if(!1!==(null==(i=t)?void 0:i.dehydrateQueries)){var u=t.shouldDehydrateQuery||o;e.getQueryCache().getAll().forEach((function(e){u(e)&&a.push(function(e){return{state:e.state,queryKey:e.queryKey,queryHash:e.queryHash}}(e))}))}return{mutations:s,queries:a}}function a(e,t,n){if("object"==typeof t&&null!==t){var r=e.getMutationCache(),o=e.getQueryCache(),s=t.mutations||[],a=t.queries||[];s.forEach((function(t){var o;r.build(e,(0,i.default)({},null==n||null==(o=n.defaultOptions)?void 0:o.mutations,{mutationKey:t.mutationKey}),t.state)})),a.forEach((function(t){var r,s=o.get(t.queryHash);s?s.state.dataUpdatedAt<t.state.dataUpdatedAt&&s.setState(t.state):o.build(e,(0,i.default)({},null==n||null==(r=n.defaultOptions)?void 0:r.queries,{queryKey:t.queryKey,queryHash:t.queryHash}),t.state)}))}}},3899:function(e,t,n){"use strict";n.r(t),n.d(t,{CancelledError:function(){return i.CancelledError},InfiniteQueryObserver:function(){return c.InfiniteQueryObserver},MutationCache:function(){return u.MutationCache},MutationObserver:function(){return l.MutationObserver},QueriesObserver:function(){return a.QueriesObserver},QueryCache:function(){return r.QueryCache},QueryClient:function(){return o.QueryClient},QueryObserver:function(){return s.QueryObserver},dehydrate:function(){return v.dehydrate},focusManager:function(){return f.focusManager},hashQueryKey:function(){return g.hashQueryKey},hydrate:function(){return v.hydrate},isCancelledError:function(){return i.isCancelledError},isError:function(){return g.isError},notifyManager:function(){return d.notifyManager},onlineManager:function(){return p.onlineManager},setLogger:function(){return h.setLogger}});var i=n(32672),r=n(94481),o=n(75774),s=n(86501),a=n(64930),c=n(98927),u=n(59065),l=n(87679),h=n(90450),d=n(56376),f=n(10875),p=n(36583),g=n(23437),v=n(63297),m=n(36219),y={};for(var w in m)["default","CancelledError","QueryCache","QueryClient","QueryObserver","QueriesObserver","InfiniteQueryObserver","MutationCache","MutationObserver","setLogger","notifyManager","focusManager","onlineManager","hashQueryKey","isError","isCancelledError","dehydrate","hydrate"].indexOf(w)<0&&(y[w]=function(e){return m[e]}.bind(0,w));n.d(t,y)},31024:function(e,t,n){"use strict";n.d(t,{hasNextPage:function(){return c},hasPreviousPage:function(){return u},infiniteQueryBehavior:function(){return o}});var i=n(32672),r=n(23437);function o(){return{onFetch:function(e){e.fetchFn=function(){var t,n,o,c,u,l,h,d=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,f=null==(o=e.fetchOptions)||null==(c=o.meta)?void 0:c.fetchMore,p=null==f?void 0:f.pageParam,g="forward"===(null==f?void 0:f.direction),v="backward"===(null==f?void 0:f.direction),m=(null==(u=e.state.data)?void 0:u.pages)||[],y=(null==(l=e.state.data)?void 0:l.pageParams)||[],w=(0,r.getAbortController)(),b=null==w?void 0:w.signal,_=y,k=!1,E=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(e,t,n,i){return _=i?[t].concat(_):[].concat(_,[t]),i?[n].concat(e):[].concat(e,[n])},T=function(t,n,r,o){if(k)return Promise.reject("Cancelled");if(void 0===r&&!n&&t.length)return Promise.resolve(t);var s={queryKey:e.queryKey,signal:b,pageParam:r,meta:e.meta},a=E(s),c=Promise.resolve(a).then((function(e){return S(t,r,e,o)}));return(0,i.isCancelable)(a)&&(c.cancel=a.cancel),c};if(m.length)if(g){var P=void 0!==p,C=P?p:s(e.options,m);h=T(m,P,C)}else if(v){var x=void 0!==p,I=x?p:a(e.options,m);h=T(m,x,I,!0)}else!function(){_=[];var t=void 0===e.options.getNextPageParam,n=!d||!m[0]||d(m[0],0,m);h=n?T([],t,y[0]):Promise.resolve(S([],y[0],m[0]));for(var i=function(n){h=h.then((function(i){if(!d||!m[n]||d(m[n],n,m)){var r=t?y[n]:s(e.options,i);return T(i,t,r)}return Promise.resolve(S(i,y[n],m[n]))}))},r=1;r<m.length;r++)i(r)}();else h=T([]);var R=h.then((function(e){return{pages:e,pageParams:_}}));return R.cancel=function(){k=!0,null==w||w.abort(),(0,i.isCancelable)(h)&&h.cancel()},R}}}}function s(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function a(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}function c(e,t){if(e.getNextPageParam&&Array.isArray(t)){var n=s(e,t);return null!=n&&!1!==n}}function u(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){var n=a(e,t);return null!=n&&!1!==n}}},98927:function(e,t,n){"use strict";n.d(t,{InfiniteQueryObserver:function(){return a}});var i=n(88541),r=n(84840),o=n(86501),s=n(31024),a=function(e){function t(t,n){return e.call(this,t,n)||this}(0,r.default)(t,e);var n=t.prototype;return n.bindMethods=function(){e.prototype.bindMethods.call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)},n.setOptions=function(t,n){e.prototype.setOptions.call(this,(0,i.default)({},t,{behavior:(0,s.infiniteQueryBehavior)()}),n)},n.getOptimisticResult=function(t){return t.behavior=(0,s.infiniteQueryBehavior)(),e.prototype.getOptimisticResult.call(this,t)},n.fetchNextPage=function(e){var t;return this.fetch({cancelRefetch:null==(t=null==e?void 0:e.cancelRefetch)||t,throwOnError:null==e?void 0:e.throwOnError,meta:{fetchMore:{direction:"forward",pageParam:null==e?void 0:e.pageParam}}})},n.fetchPreviousPage=function(e){var t;return this.fetch({cancelRefetch:null==(t=null==e?void 0:e.cancelRefetch)||t,throwOnError:null==e?void 0:e.throwOnError,meta:{fetchMore:{direction:"backward",pageParam:null==e?void 0:e.pageParam}}})},n.createResult=function(t,n){var r,o,a,c,u,l,h=t.state,d=e.prototype.createResult.call(this,t,n);return(0,i.default)({},d,{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,s.hasNextPage)(n,null==(r=h.data)?void 0:r.pages),hasPreviousPage:(0,s.hasPreviousPage)(n,null==(o=h.data)?void 0:o.pages),isFetchingNextPage:h.isFetching&&"forward"===(null==(a=h.fetchMeta)||null==(c=a.fetchMore)?void 0:c.direction),isFetchingPreviousPage:h.isFetching&&"backward"===(null==(u=h.fetchMeta)||null==(l=u.fetchMore)?void 0:l.direction)})},t}(o.QueryObserver)},90450:function(e,t,n){"use strict";n.d(t,{getLogger:function(){return r},setLogger:function(){return o}});var i=console;function r(){return i}function o(e){i=e}},45504:function(e,t,n){"use strict";n.d(t,{Mutation:function(){return c},getDefaultState:function(){return u}});var i=n(88541),r=n(90450),o=n(56376),s=n(32672),a=n(23437),c=function(){function e(e){this.options=(0,i.default)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter((function(t){return t!==e}))},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(a.noop).catch(a.noop)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,n="loading"===this.state.status,i=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),i=i.then((function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)})).then((function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)})).then((function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})}))),i.then((function(){return t.executeMutation()})).then((function(n){e=n,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)})).then((function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)})).then((function(){return t.dispatch({type:"success",data:e}),e})).catch((function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,r.getLogger)().error(e),Promise.resolve().then((function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)})).then((function(){throw t.dispatch({type:"error",error:e}),e}))}))},t.executeMutation=function(){var e,t=this;return this.retryer=new s.Retryer({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,i.default)({},e,{failureCount:e.failureCount+1});case"pause":return(0,i.default)({},e,{isPaused:!0});case"continue":return(0,i.default)({},e,{isPaused:!1});case"loading":return(0,i.default)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,i.default)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,i.default)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,i.default)({},e,t.state);default:return e}}(this.state,e),o.notifyManager.batch((function(){t.observers.forEach((function(t){t.onMutationUpdate(e)})),t.mutationCache.notify(t)}))},e}();function u(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}},59065:function(e,t,n){"use strict";n.d(t,{MutationCache:function(){return a}});var i=n(84840),r=n(56376),o=n(45504),s=n(23437),a=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}(0,i.default)(t,e);var n=t.prototype;return n.build=function(e,t,n){var i=new o.Mutation({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(i),i},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),e.cancel(),this.notify(e)},n.clear=function(){var e=this;r.notifyManager.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))},n.getAll=function(){return this.mutations},n.find=function(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find((function(t){return(0,s.matchMutation)(e,t)}))},n.findAll=function(e){return this.mutations.filter((function(t){return(0,s.matchMutation)(e,t)}))},n.notify=function(e){var t=this;r.notifyManager.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter((function(e){return e.state.isPaused}));return r.notifyManager.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(s.noop)}))}),Promise.resolve())}))},t}(n(2041).Subscribable)},87679:function(e,t,n){"use strict";n.d(t,{MutationObserver:function(){return a}});var i=n(88541),r=n(84840),o=n(45504),s=n(56376),a=function(e){function t(t,n){var i;return(i=e.call(this)||this).client=t,i.setOptions(n),i.bindMethods(),i.updateResult(),i}(0,r.default)(t,e);var n=t.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},n.onUnsubscribe=function(){var e;this.listeners.length||null==(e=this.currentMutation)||e.removeObserver(this)},n.onMutationUpdate=function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,i.default)({},this.options,{variables:void 0!==e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:(0,o.getDefaultState)(),t=(0,i.default)({},e,{isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset});this.currentResult=t},n.notify=function(e){var t=this;s.notifyManager.batch((function(){t.mutateOptions&&(e.onSuccess?(null==t.mutateOptions.onSuccess||t.mutateOptions.onSuccess(t.currentResult.data,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(t.currentResult.data,null,t.currentResult.variables,t.currentResult.context)):e.onError&&(null==t.mutateOptions.onError||t.mutateOptions.onError(t.currentResult.error,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context))),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)}))}))},t}(n(2041).Subscribable)},56376:function(e,t,n){"use strict";n.d(t,{notifyManager:function(){return o}});var i=n(23437),r=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,i.scheduleMicrotask)((function(){t.notifyFn(e)}))},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t.schedule((function(){e.apply(void 0,i)}))}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,i.scheduleMicrotask)((function(){e.batchNotifyFn((function(){t.forEach((function(t){e.notifyFn(t)}))}))}))},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}(),o=new r},36583:function(e,t,n){"use strict";n.d(t,{onlineManager:function(){return s}});var i=n(84840),r=n(2041),o=n(23437),s=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!o.isServer&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}(0,i.default)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?n.setOnline(e):n.onOnline()}))},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach((function(e){e()}))},n.isOnline=function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine},t}(r.Subscribable))},64930:function(e,t,n){"use strict";n.d(t,{QueriesObserver:function(){return a}});var i=n(84840),r=n(23437),o=n(56376),s=n(86501),a=function(e){function t(t,n){var i;return(i=e.call(this)||this).client=t,i.queries=[],i.result=[],i.observers=[],i.observersMap={},n&&i.setQueries(n),i}(0,i.default)(t,e);var n=t.prototype;return n.onSubscribe=function(){var e=this;1===this.listeners.length&&this.observers.forEach((function(t){t.subscribe((function(n){e.onUpdate(t,n)}))}))},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.destroy=function(){this.listeners=[],this.observers.forEach((function(e){e.destroy()}))},n.setQueries=function(e,t){this.queries=e,this.updateObservers(t)},n.getCurrentResult=function(){return this.result},n.getOptimisticResult=function(e){return this.findMatchingObservers(e).map((function(e){return e.observer.getOptimisticResult(e.defaultedQueryOptions)}))},n.findMatchingObservers=function(e){var t=this,n=this.observers,i=e.map((function(e){return t.client.defaultQueryObserverOptions(e)})),r=i.flatMap((function(e){var t=n.find((function(t){return t.options.queryHash===e.queryHash}));return null!=t?[{defaultedQueryOptions:e,observer:t}]:[]})),o=r.map((function(e){return e.defaultedQueryOptions.queryHash})),s=i.filter((function(e){return!o.includes(e.queryHash)})),a=n.filter((function(e){return!r.some((function(t){return t.observer===e}))})),c=s.map((function(e,n){if(e.keepPreviousData){var i=a[n];if(void 0!==i)return{defaultedQueryOptions:e,observer:i}}return{defaultedQueryOptions:e,observer:t.getObserver(e)}}));return r.concat(c).sort((function(e,t){return i.indexOf(e.defaultedQueryOptions)-i.indexOf(t.defaultedQueryOptions)}))},n.getObserver=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.observersMap[t.queryHash];return null!=n?n:new s.QueryObserver(this.client,t)},n.updateObservers=function(e){var t=this;o.notifyManager.batch((function(){var n=t.observers,i=t.findMatchingObservers(t.queries);i.forEach((function(t){return t.observer.setOptions(t.defaultedQueryOptions,e)}));var o=i.map((function(e){return e.observer})),s=Object.fromEntries(o.map((function(e){return[e.options.queryHash,e]}))),a=o.map((function(e){return e.getCurrentResult()})),c=o.some((function(e,t){return e!==n[t]}));(n.length!==o.length||c)&&(t.observers=o,t.observersMap=s,t.result=a,t.hasListeners()&&((0,r.difference)(n,o).forEach((function(e){e.destroy()})),(0,r.difference)(o,n).forEach((function(e){e.subscribe((function(n){t.onUpdate(e,n)}))})),t.notify()))}))},n.onUpdate=function(e,t){var n=this.observers.indexOf(e);-1!==n&&(this.result=(0,r.replaceAt)(this.result,n,t),this.notify())},n.notify=function(){var e=this;o.notifyManager.batch((function(){e.listeners.forEach((function(t){t(e.result)}))}))},t}(n(2041).Subscribable)},96113:function(e,t,n){"use strict";n.d(t,{Query:function(){return c}});var i=n(88541),r=n(23437),o=n(56376),s=n(90450),a=n(32672),c=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,i.default)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,r.isValidTimeout)(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){e.optionalRemove()}),this.cacheTime))},t.clearGcTimeout=function(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var n,i,o=this.state.data,s=(0,r.functionalUpdate)(e,o);return(null==(n=(i=this.options).isDataEqual)?void 0:n.call(i,o,s))?s=o:!1!==this.options.structuralSharing&&(s=(0,r.replaceEqualDeep)(o,s)),this.dispatch({data:s,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),s},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(r.noop).catch(r.noop):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some((function(e){return!1!==e.options.enabled}))},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,r.timeUntilStale)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var n,i,o,c=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return null==(u=this.retryer)||u.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var l=this.observers.find((function(e){return e.options.queryFn}));l&&this.setOptions(l.options)}var h=(0,r.ensureQueryKeyArray)(this.queryKey),d=(0,r.getAbortController)(),f={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(d)return c.abortSignalConsumed=!0,d.signal}});var p,g,v={fetchOptions:t,options:this.options,queryKey:h,state:this.state,fetchFn:function(){return c.options.queryFn?(c.abortSignalConsumed=!1,c.options.queryFn(f)):Promise.reject("Missing queryFn")},meta:this.meta};return(null==(n=this.options.behavior)?void 0:n.onFetch)&&(null==(p=this.options.behavior)||p.onFetch(v)),this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(i=v.fetchOptions)?void 0:i.meta)||this.dispatch({type:"fetch",meta:null==(g=v.fetchOptions)?void 0:g.meta}),this.retryer=new a.Retryer({fn:v.fetchFn,abort:null==d||null==(o=d.abort)?void 0:o.bind(d),onSuccess:function(e){c.setData(e),null==c.cache.config.onSuccess||c.cache.config.onSuccess(e,c),0===c.cacheTime&&c.optionalRemove()},onError:function(e){(0,a.isCancelledError)(e)&&e.silent||c.dispatch({type:"error",error:e}),(0,a.isCancelledError)(e)||(null==c.cache.config.onError||c.cache.config.onError(e,c),(0,s.getLogger)().error(e)),0===c.cacheTime&&c.optionalRemove()},onFail:function(){c.dispatch({type:"failed"})},onPause:function(){c.dispatch({type:"pause"})},onContinue:function(){c.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),o.notifyManager.batch((function(){t.observers.forEach((function(t){t.onQueryUpdate(e)})),t.cache.notify({query:t,type:"queryUpdated",action:e})}))},t.getDefaultState=function(e){var t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==e.initialData?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,i=void 0!==t;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:i?"success":"idle"}},t.reducer=function(e,t){var n,r;switch(t.type){case"failed":return(0,i.default)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,i.default)({},e,{isPaused:!0});case"continue":return(0,i.default)({},e,{isPaused:!1});case"fetch":return(0,i.default)({},e,{fetchFailureCount:0,fetchMeta:null!=(n=t.meta)?n:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,i.default)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(r=t.dataUpdatedAt)?r:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=t.error;return(0,a.isCancelledError)(o)&&o.revert&&this.revertState?(0,i.default)({},this.revertState):(0,i.default)({},e,{error:o,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,i.default)({},e,{isInvalidated:!0});case"setState":return(0,i.default)({},e,t.state);default:return e}},e}()},94481:function(e,t,n){"use strict";n.d(t,{QueryCache:function(){return a}});var i=n(84840),r=n(23437),o=n(96113),s=n(56376),a=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}(0,i.default)(t,e);var n=t.prototype;return n.build=function(e,t,n){var i,s=t.queryKey,a=null!=(i=t.queryHash)?i:(0,r.hashQueryKeyByOptions)(s,t),c=this.get(a);return c||(c=new o.Query({cache:this,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s),meta:t.meta}),this.add(c)),c},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;s.notifyManager.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=(0,r.parseFilterArgs)(e,t)[0];return void 0===n.exact&&(n.exact=!0),this.queries.find((function(e){return(0,r.matchQuery)(n,e)}))},n.findAll=function(e,t){var n=(0,r.parseFilterArgs)(e,t)[0];return Object.keys(n).length>0?this.queries.filter((function(e){return(0,r.matchQuery)(n,e)})):this.queries},n.notify=function(e){var t=this;s.notifyManager.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){var e=this;s.notifyManager.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))},n.onOnline=function(){var e=this;s.notifyManager.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))},t}(n(2041).Subscribable)},75774:function(e,t,n){"use strict";n.d(t,{QueryClient:function(){return h}});var i=n(88541),r=n(23437),o=n(94481),s=n(59065),a=n(10875),c=n(36583),u=n(56376),l=n(31024),h=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new o.QueryCache,this.mutationCache=e.mutationCache||new s.MutationCache,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=a.focusManager.subscribe((function(){a.focusManager.isFocused()&&c.onlineManager.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())})),this.unsubscribeOnline=c.onlineManager.subscribe((function(){a.focusManager.isFocused()&&c.onlineManager.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())}))},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var n=(0,r.parseFilterArgs)(e,t)[0];return n.fetching=!0,this.queryCache.findAll(n).length},t.isMutating=function(e){return this.mutationCache.findAll((0,i.default)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))},t.setQueryData=function(e,t,n){var i=(0,r.parseQueryArgs)(e),o=this.defaultQueryOptions(i);return this.queryCache.build(this,o).setData(t,n)},t.setQueriesData=function(e,t,n){var i=this;return u.notifyManager.batch((function(){return i.getQueryCache().findAll(e).map((function(e){var r=e.queryKey;return[r,i.setQueryData(r,t,n)]}))}))},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=(0,r.parseFilterArgs)(e,t)[0],i=this.queryCache;u.notifyManager.batch((function(){i.findAll(n).forEach((function(e){i.remove(e)}))}))},t.resetQueries=function(e,t,n){var o=this,s=(0,r.parseFilterArgs)(e,t,n),a=s[0],c=s[1],l=this.queryCache,h=(0,i.default)({},a,{active:!0});return u.notifyManager.batch((function(){return l.findAll(a).forEach((function(e){e.reset()})),o.refetchQueries(h,c)}))},t.cancelQueries=function(e,t,n){var i=this,o=(0,r.parseFilterArgs)(e,t,n),s=o[0],a=o[1],c=void 0===a?{}:a;void 0===c.revert&&(c.revert=!0);var l=u.notifyManager.batch((function(){return i.queryCache.findAll(s).map((function(e){return e.cancel(c)}))}));return Promise.all(l).then(r.noop).catch(r.noop)},t.invalidateQueries=function(e,t,n){var o,s,a,c=this,l=(0,r.parseFilterArgs)(e,t,n),h=l[0],d=l[1],f=(0,i.default)({},h,{active:null==(o=null!=(s=h.refetchActive)?s:h.active)||o,inactive:null!=(a=h.refetchInactive)&&a});return u.notifyManager.batch((function(){return c.queryCache.findAll(h).forEach((function(e){e.invalidate()})),c.refetchQueries(f,d)}))},t.refetchQueries=function(e,t,n){var o=this,s=(0,r.parseFilterArgs)(e,t,n),a=s[0],c=s[1],l=u.notifyManager.batch((function(){return o.queryCache.findAll(a).map((function(e){return e.fetch(void 0,(0,i.default)({},c,{meta:{refetchPage:null==a?void 0:a.refetchPage}}))}))})),h=Promise.all(l).then(r.noop);return(null==c?void 0:c.throwOnError)||(h=h.catch(r.noop)),h},t.fetchQuery=function(e,t,n){var i=(0,r.parseQueryArgs)(e,t,n),o=this.defaultQueryOptions(i);void 0===o.retry&&(o.retry=!1);var s=this.queryCache.build(this,o);return s.isStaleByTime(o.staleTime)?s.fetch(o):Promise.resolve(s.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(r.noop).catch(r.noop)},t.fetchInfiniteQuery=function(e,t,n){var i=(0,r.parseQueryArgs)(e,t,n);return i.behavior=(0,l.infiniteQueryBehavior)(),this.fetchQuery(i)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(r.noop).catch(r.noop)},t.cancelMutations=function(){var e=this,t=u.notifyManager.batch((function(){return e.mutationCache.getAll().map((function(e){return e.cancel()}))}));return Promise.all(t).then(r.noop).catch(r.noop)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find((function(t){return(0,r.hashQueryKey)(e)===(0,r.hashQueryKey)(t.queryKey)}));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find((function(t){return(0,r.partialMatchKey)(e,t.queryKey)})))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find((function(t){return(0,r.hashQueryKey)(e)===(0,r.hashQueryKey)(t.mutationKey)}));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find((function(t){return(0,r.partialMatchKey)(e,t.mutationKey)})))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,i.default)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,r.hashQueryKeyByOptions)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,i.default)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},86501:function(e,t,n){"use strict";n.d(t,{QueryObserver:function(){return h}});var i=n(88541),r=n(84840),o=n(23437),s=n(56376),a=n(10875),c=n(2041),u=n(90450),l=n(32672),h=function(e){function t(t,n){var i;return(i=e.call(this)||this).client=t,i.options=n,i.trackedProps=[],i.previousSelectError=null,i.bindMethods(),i.setOptions(n),i}(0,r.default)(t,e);var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),d(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return e=this.currentQuery,!1!==(t=this.options).enabled&&("always"===t.refetchOnReconnect||!1!==t.refetchOnReconnect&&p(e,t));var e,t},n.shouldFetchOnWindowFocus=function(){return e=this.currentQuery,!1!==(t=this.options).enabled&&("always"===t.refetchOnWindowFocus||!1!==t.refetchOnWindowFocus&&p(e,t));var e,t},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,t){var n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var r=this.hasListeners();r&&f(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(t),!r||this.currentQuery===i&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();var o=this.computeRefetchInterval();!r||this.currentQuery===i&&this.options.enabled===n.enabled&&o===this.currentRefetchInterval||this.updateRefetchInterval(o)},n.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e,t){var n=this,i={},r=function(e){n.trackedProps.includes(e)||n.trackedProps.push(e)};return Object.keys(e).forEach((function(t){Object.defineProperty(i,t,{configurable:!1,enumerable:!0,get:function(){return r(t),e[t]}})})),(t.useErrorBoundary||t.suspense)&&r("error"),i},n.getNextResult=function(e){var t=this;return new Promise((function(n,i){var r=t.subscribe((function(t){t.isFetching||(r(),t.isError&&(null==e?void 0:e.throwOnError)?i(t.error):n(t))}))}))},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch((0,i.default)({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},n.fetchOptimistic=function(e){var t=this,n=this.client.defaultQueryObserverOptions(e),i=this.client.getQueryCache().build(this.client,n);return i.fetch().then((function(){return t.createResult(i,n)}))},n.fetch=function(e){var t=this;return this.executeFetch(e).then((function(){return t.updateResult(),t.currentResult}))},n.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(o.noop)),t},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!o.isServer&&!this.currentResult.isStale&&(0,o.isValidTimeout)(this.options.staleTime)){var t=(0,o.timeUntilStale)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}},n.computeRefetchInterval=function(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},n.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!o.isServer&&!1!==this.options.enabled&&(0,o.isValidTimeout)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(t.options.refetchIntervalInBackground||a.focusManager.isFocused())&&t.executeFetch()}),this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},n.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},n.createResult=function(e,t){var n,i=this.currentQuery,r=this.options,s=this.currentResult,a=this.currentResultState,c=this.currentResultOptions,l=e!==i,h=l?e.state:this.currentQueryInitialState,g=l?this.currentResult:this.previousQueryResult,v=e.state,m=v.dataUpdatedAt,y=v.error,w=v.errorUpdatedAt,b=v.isFetching,_=v.status,k=!1,E=!1;if(t.optimisticResults){var S=this.hasListeners(),T=!S&&d(e,t),P=S&&f(e,i,t,r);(T||P)&&(b=!0,m||(_="loading"))}if(t.keepPreviousData&&!v.dataUpdateCount&&(null==g?void 0:g.isSuccess)&&"error"!==_)n=g.data,m=g.dataUpdatedAt,_=g.status,k=!0;else if(t.select&&void 0!==v.data){var C;if(s&&v.data===(null==a?void 0:a.data)&&t.select===(null==(C=this.previousSelect)?void 0:C.fn)&&!this.previousSelectError)n=this.previousSelect.result;else try{n=t.select(v.data),!1!==t.structuralSharing&&(n=(0,o.replaceEqualDeep)(null==s?void 0:s.data,n)),this.previousSelect={fn:t.select,result:n},this.previousSelectError=null}catch(e){(0,u.getLogger)().error(e),y=e,this.previousSelectError=e,w=Date.now(),_="error"}}else n=v.data;if(void 0!==t.placeholderData&&void 0===n&&("loading"===_||"idle"===_)){var x;if((null==s?void 0:s.isPlaceholderData)&&t.placeholderData===(null==c?void 0:c.placeholderData))x=s.data;else if(x="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==x)try{x=t.select(x),!1!==t.structuralSharing&&(x=(0,o.replaceEqualDeep)(null==s?void 0:s.data,x)),this.previousSelectError=null}catch(e){(0,u.getLogger)().error(e),y=e,this.previousSelectError=e,w=Date.now(),_="error"}void 0!==x&&(_="success",n=x,E=!0)}return{status:_,isLoading:"loading"===_,isSuccess:"success"===_,isError:"error"===_,isIdle:"idle"===_,data:n,dataUpdatedAt:m,error:y,errorUpdatedAt:w,failureCount:v.fetchFailureCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>h.dataUpdateCount||v.errorUpdateCount>h.errorUpdateCount,isFetching:b,isRefetching:b&&"loading"!==_,isLoadingError:"error"===_&&0===v.dataUpdatedAt,isPlaceholderData:E,isPreviousData:k,isRefetchError:"error"===_&&0!==v.dataUpdatedAt,isStale:p(e,t),refetch:this.refetch,remove:this.remove}},n.shouldNotifyListeners=function(e,t){if(!t)return!0;var n=this.options,i=n.notifyOnChangeProps,r=n.notifyOnChangePropsExclusions;if(!i&&!r)return!0;if("tracked"===i&&!this.trackedProps.length)return!0;var o="tracked"===i?this.trackedProps:i;return Object.keys(e).some((function(n){var i=n,s=e[i]!==t[i],a=null==o?void 0:o.some((function(e){return e===n})),c=null==r?void 0:r.some((function(e){return e===n}));return s&&!c&&(!o||a)}))},n.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,o.shallowEqualObjects)(this.currentResult,t)){var n={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(n.listeners=!0),this.notify((0,i.default)({},n,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||(0,l.isCancelledError)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var t=this;s.notifyManager.batch((function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))},t}(c.Subscribable);function d(e,t){return function(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}(e,t)||function(e,t){return!1!==t.enabled&&e.state.dataUpdatedAt>0&&("always"===t.refetchOnMount||!1!==t.refetchOnMount&&p(e,t))}(e,t)}function f(e,t,n,i){return!1!==n.enabled&&(e!==t||!1===i.enabled)&&(!n.suspense||"error"!==e.state.status)&&p(e,n)}function p(e,t){return e.isStaleByTime(t.staleTime)}},32672:function(e,t,n){"use strict";n.d(t,{CancelledError:function(){return c},Retryer:function(){return l},isCancelable:function(){return a},isCancelledError:function(){return u}});var i=n(10875),r=n(36583),o=n(23437);function s(e){return Math.min(1e3*Math.pow(2,e),3e4)}function a(e){return"function"==typeof(null==e?void 0:e.cancel)}var c=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function u(e){return e instanceof c}var l=function(e){var t,n,u,l,h=this,d=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){d=!0},this.continueRetry=function(){d=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise((function(e,t){u=e,l=t}));var f=function(t){h.isResolved||(h.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==n||n(),u(t))},p=function(t){h.isResolved||(h.isResolved=!0,null==e.onError||e.onError(t),null==n||n(),l(t))};!function u(){if(!h.isResolved){var l;try{l=e.fn()}catch(e){l=Promise.reject(e)}t=function(e){if(!h.isResolved&&(p(new c(e)),null==h.abort||h.abort(),a(l)))try{l.cancel()}catch(e){}},h.isTransportCancelable=a(l),Promise.resolve(l).then(f).catch((function(t){var a,c;if(!h.isResolved){var l=null!=(a=e.retry)?a:3,f=null!=(c=e.retryDelay)?c:s,g="function"==typeof f?f(h.failureCount,t):f,v=!0===l||"number"==typeof l&&h.failureCount<l||"function"==typeof l&&l(h.failureCount,t);!d&&v?(h.failureCount++,null==e.onFail||e.onFail(h.failureCount,t),(0,o.sleep)(g).then((function(){if(!i.focusManager.isFocused()||!r.onlineManager.isOnline())return new Promise((function(t){n=t,h.isPaused=!0,null==e.onPause||e.onPause()})).then((function(){n=void 0,h.isPaused=!1,null==e.onContinue||e.onContinue()}))})).then((function(){d?p(t):u()}))):p(t)}}))}}()}},2041:function(e,t,n){"use strict";n.d(t,{Subscribable:function(){return i}});var i=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter((function(e){return e!==n})),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},36219:function(){},23437:function(e,t,n){"use strict";n.d(t,{difference:function(){return u},ensureQueryKeyArray:function(){return c},functionalUpdate:function(){return s},getAbortController:function(){return R},hashQueryKey:function(){return w},hashQueryKeyByOptions:function(){return y},isError:function(){return C},isServer:function(){return r},isValidTimeout:function(){return a},matchMutation:function(){return m},matchQuery:function(){return v},noop:function(){return o},parseFilterArgs:function(){return p},parseMutationArgs:function(){return f},parseMutationFilterArgs:function(){return g},parseQueryArgs:function(){return d},partialMatchKey:function(){return b},replaceAt:function(){return l},replaceEqualDeep:function(){return k},scheduleMicrotask:function(){return I},shallowEqualObjects:function(){return E},sleep:function(){return x},timeUntilStale:function(){return h}});var i=n(88541),r="undefined"==typeof window;function o(){}function s(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function c(e){return Array.isArray(e)?e:[e]}function u(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))}function l(e,t,n){var i=e.slice(0);return i[t]=n,i}function h(e,t){return Math.max(e+(t||0)-Date.now(),0)}function d(e,t,n){return P(e)?"function"==typeof t?(0,i.default)({},n,{queryKey:e,queryFn:t}):(0,i.default)({},t,{queryKey:e}):e}function f(e,t,n){return P(e)?"function"==typeof t?(0,i.default)({},n,{mutationKey:e,mutationFn:t}):(0,i.default)({},t,{mutationKey:e}):"function"==typeof e?(0,i.default)({},t,{mutationFn:e}):(0,i.default)({},e)}function p(e,t,n){return P(e)?[(0,i.default)({},t,{queryKey:e}),n]:[e||{},t]}function g(e,t){return P(e)?(0,i.default)({},t,{mutationKey:e}):e}function v(e,t){var n=e.active,i=e.exact,r=e.fetching,o=e.inactive,s=e.predicate,a=e.queryKey,c=e.stale;if(P(a))if(i){if(t.queryHash!==y(a,t.options))return!1}else if(!b(t.queryKey,a))return!1;var u=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(n,o);if("none"===u)return!1;if("all"!==u){var l=t.isActive();if("active"===u&&!l)return!1;if("inactive"===u&&l)return!1}return!("boolean"==typeof c&&t.isStale()!==c||"boolean"==typeof r&&t.isFetching()!==r||s&&!s(t))}function m(e,t){var n=e.exact,i=e.fetching,r=e.predicate,o=e.mutationKey;if(P(o)){if(!t.options.mutationKey)return!1;if(n){if(w(t.options.mutationKey)!==w(o))return!1}else if(!b(t.options.mutationKey,o))return!1}return!("boolean"==typeof i&&"loading"===t.state.status!==i||r&&!r(t))}function y(e,t){return((null==t?void 0:t.queryKeyHashFn)||w)(e)}function w(e){var t;return t=c(e),JSON.stringify(t,(function(e,t){return S(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))}function b(e,t){return _(c(e),c(t))}function _(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((function(n){return!_(e[n],t[n])}))}function k(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||S(e)&&S(t)){for(var i=n?e.length:Object.keys(e).length,r=n?t:Object.keys(t),o=r.length,s=n?[]:{},a=0,c=0;c<o;c++){var u=n?c:r[c];s[u]=k(e[u],t[u]),s[u]===e[u]&&a++}return i===o&&a===i?e:s}return t}function E(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function S(e){if(!T(e))return!1;var t=e.constructor;if(void 0===t)return!0;var n=t.prototype;return!!T(n)&&!!n.hasOwnProperty("isPrototypeOf")}function T(e){return"[object Object]"===Object.prototype.toString.call(e)}function P(e){return"string"==typeof e||Array.isArray(e)}function C(e){return e instanceof Error}function x(e){return new Promise((function(t){setTimeout(t,e)}))}function I(e){Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}function R(){if("function"==typeof AbortController)return new AbortController}},62051:function(e,t,n){"use strict";n.r(t);var i=n(3899),r={};for(var o in i)"default"!==o&&(r[o]=function(e){return i[e]}.bind(0,o));n.d(t,r);var s=n(64670);for(var o in r={},s)"default"!==o&&(r[o]=function(e){return s[e]}.bind(0,o));n.d(t,r)},53841:function(e,t,n){"use strict";n.d(t,{Hydrate:function(){return c},useHydrate:function(){return a}});var i=n(67294),r=n.n(i),o=n(3899),s=n(35706);function a(e,t){var n=(0,s.useQueryClient)(),i=r().useRef(t);i.current=t,r().useMemo((function(){e&&(0,o.hydrate)(n,e,i.current)}),[n,e])}var c=function(e){var t=e.children,n=e.options;return a(e.state,n),t}},35706:function(e,t,n){"use strict";n.d(t,{QueryClientProvider:function(){return u},useQueryClient:function(){return c}});var i=n(67294),r=n.n(i),o=r().createContext(void 0),s=r().createContext(!1);function a(e){return e&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=o),window.ReactQueryClientContext):o}var c=function(){var e=r().useContext(a(r().useContext(s)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},u=function(e){var t=e.client,n=e.contextSharing,i=void 0!==n&&n,o=e.children;r().useEffect((function(){return t.mount(),function(){t.unmount()}}),[t]);var c=a(i);return r().createElement(s.Provider,{value:i},r().createElement(c.Provider,{value:t},o))}},32789:function(e,t,n){"use strict";n.d(t,{QueryErrorResetBoundary:function(){return c},useQueryErrorResetBoundary:function(){return a}});var i=n(67294),r=n.n(i);function o(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var s=r().createContext(o()),a=function(){return r().useContext(s)},c=function(e){var t=e.children,n=r().useMemo((function(){return o()}),[]);return r().createElement(s.Provider,{value:n},"function"==typeof t?t(n):t)}},64670:function(e,t,n){"use strict";n.r(t),n.d(t,{Hydrate:function(){return h.Hydrate},QueryClientProvider:function(){return i.QueryClientProvider},QueryErrorResetBoundary:function(){return r.QueryErrorResetBoundary},useHydrate:function(){return h.useHydrate},useInfiniteQuery:function(){return l.useInfiniteQuery},useIsFetching:function(){return o.useIsFetching},useIsMutating:function(){return s.useIsMutating},useMutation:function(){return a.useMutation},useQueries:function(){return u.useQueries},useQuery:function(){return c.useQuery},useQueryClient:function(){return i.useQueryClient},useQueryErrorResetBoundary:function(){return r.useQueryErrorResetBoundary}}),n(45974),n(46515);var i=n(35706),r=n(32789),o=n(77867),s=n(14869),a=n(23235),c=n(20749),u=n(49923),l=n(37645),h=n(53841),d=n(7566),f={};for(var p in d)["default","QueryClientProvider","useQueryClient","QueryErrorResetBoundary","useQueryErrorResetBoundary","useIsFetching","useIsMutating","useMutation","useQuery","useQueries","useInfiniteQuery","useHydrate","Hydrate"].indexOf(p)<0&&(f[p]=function(e){return d[e]}.bind(0,p));n.d(t,f)},45974:function(e,t,n){"use strict";var i=n(3899),r=n(73935),o=n.n(r)().unstable_batchedUpdates;i.notifyManager.setBatchNotifyFunction(o)},46515:function(e,t,n){"use strict";var i=n(3899),r=console;(0,i.setLogger)(r)},7566:function(){},56107:function(e,t,n){"use strict";n.d(t,{useBaseQuery:function(){return u}});var i=n(67294),r=n.n(i),o=n(56376),s=n(32789),a=n(35706),c=n(29155);function u(e,t){var n=r().useRef(!1),i=r().useState(0)[1],u=(0,a.useQueryClient)(),l=(0,s.useQueryErrorResetBoundary)(),h=u.defaultQueryObserverOptions(e);h.optimisticResults=!0,h.onError&&(h.onError=o.notifyManager.batchCalls(h.onError)),h.onSuccess&&(h.onSuccess=o.notifyManager.batchCalls(h.onSuccess)),h.onSettled&&(h.onSettled=o.notifyManager.batchCalls(h.onSettled)),h.suspense&&("number"!=typeof h.staleTime&&(h.staleTime=1e3),0===h.cacheTime&&(h.cacheTime=1)),(h.suspense||h.useErrorBoundary)&&(l.isReset()||(h.retryOnMount=!1));var d=r().useState((function(){return new t(u,h)}))[0],f=d.getOptimisticResult(h);if(r().useEffect((function(){n.current=!0,l.clearReset();var e=d.subscribe(o.notifyManager.batchCalls((function(){n.current&&i((function(e){return e+1}))})));return d.updateResult(),function(){n.current=!1,e()}}),[l,d]),r().useEffect((function(){d.setOptions(h,{listeners:!1})}),[h,d]),h.suspense&&f.isLoading)throw d.fetchOptimistic(h).then((function(e){var t=e.data;null==h.onSuccess||h.onSuccess(t),null==h.onSettled||h.onSettled(t,null)})).catch((function(e){l.clearReset(),null==h.onError||h.onError(e),null==h.onSettled||h.onSettled(void 0,e)}));if(f.isError&&!l.isReset()&&!f.isFetching&&(0,c.shouldThrowError)(h.suspense,h.useErrorBoundary,[f.error,d.getCurrentQuery()]))throw f.error;return"tracked"===h.notifyOnChangeProps&&(f=d.trackResult(f,h)),f}},37645:function(e,t,n){"use strict";n.d(t,{useInfiniteQuery:function(){return s}});var i=n(98927),r=n(23437),o=n(56107);function s(e,t,n){var s=(0,r.parseQueryArgs)(e,t,n);return(0,o.useBaseQuery)(s,i.InfiniteQueryObserver)}},77867:function(e,t,n){"use strict";n.d(t,{useIsFetching:function(){return u}});var i=n(67294),r=n.n(i),o=n(56376),s=n(23437),a=n(35706),c=function(e,t,n,i){var r=e.isFetching(t);n!==r&&i(r)};function u(e,t){var n=r().useRef(!1),i=(0,a.useQueryClient)(),u=(0,s.parseFilterArgs)(e,t)[0],l=r().useState(i.isFetching(u)),h=l[0],d=l[1],f=r().useRef(u);f.current=u;var p=r().useRef(h);return p.current=h,r().useEffect((function(){n.current=!0,c(i,f.current,p.current,d);var e=i.getQueryCache().subscribe(o.notifyManager.batchCalls((function(){n.current&&c(i,f.current,p.current,d)})));return function(){n.current=!1,e()}}),[i]),h}},14869:function(e,t,n){"use strict";n.d(t,{useIsMutating:function(){return c}});var i=n(67294),r=n.n(i),o=n(56376),s=n(23437),a=n(35706);function c(e,t){var n=r().useRef(!1),i=(0,s.parseMutationFilterArgs)(e,t),c=(0,a.useQueryClient)(),u=r().useState(c.isMutating(i)),l=u[0],h=u[1],d=r().useRef(i);d.current=i;var f=r().useRef(l);return f.current=l,r().useEffect((function(){n.current=!0;var e=c.getMutationCache().subscribe(o.notifyManager.batchCalls((function(){if(n.current){var e=c.isMutating(d.current);f.current!==e&&h(e)}})));return function(){n.current=!1,e()}}),[c]),l}},23235:function(e,t,n){"use strict";n.d(t,{useMutation:function(){return h}});var i=n(88541),r=n(67294),o=n.n(r),s=n(56376),a=n(23437),c=n(87679),u=n(35706),l=n(29155);function h(e,t,n){var r=o().useRef(!1),h=o().useState(0)[1],d=(0,a.parseMutationArgs)(e,t,n),f=(0,u.useQueryClient)(),p=o().useRef();p.current?p.current.setOptions(d):p.current=new c.MutationObserver(f,d);var g=p.current.getCurrentResult();o().useEffect((function(){r.current=!0;var e=p.current.subscribe(s.notifyManager.batchCalls((function(){r.current&&h((function(e){return e+1}))})));return function(){r.current=!1,e()}}),[]);var v=o().useCallback((function(e,t){p.current.mutate(e,t).catch(a.noop)}),[]);if(g.error&&(0,l.shouldThrowError)(void 0,p.current.options.useErrorBoundary,[g.error]))throw g.error;return(0,i.default)({},g,{mutate:v,mutateAsync:g.mutate})}},49923:function(e,t,n){"use strict";n.d(t,{useQueries:function(){return c}});var i=n(67294),r=n.n(i),o=n(56376),s=n(64930),a=n(35706);function c(e){var t=r().useRef(!1),n=r().useState(0)[1],c=(0,a.useQueryClient)(),u=(0,i.useMemo)((function(){return e.map((function(e){var t=c.defaultQueryObserverOptions(e);return t.optimisticResults=!0,t}))}),[e,c]),l=r().useState((function(){return new s.QueriesObserver(c,u)}))[0],h=l.getOptimisticResult(u);return r().useEffect((function(){t.current=!0;var e=l.subscribe(o.notifyManager.batchCalls((function(){t.current&&n((function(e){return e+1}))})));return function(){t.current=!1,e()}}),[l]),r().useEffect((function(){l.setQueries(u,{listeners:!1})}),[u,l]),h}},20749:function(e,t,n){"use strict";n.d(t,{useQuery:function(){return s}});var i=n(3899),r=n(23437),o=n(56107);function s(e,t,n){var s=(0,r.parseQueryArgs)(e,t,n);return(0,o.useBaseQuery)(s,i.QueryObserver)}},29155:function(e,t,n){"use strict";function i(e,t,n){return"function"==typeof t?t.apply(void 0,n):"boolean"==typeof t?t:!!e}n.d(t,{shouldThrowError:function(){return i}})},49715:function(e,t){var n,i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};n=function(e){"use strict";function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.newStemmer=function(e){var t=new({arabic:d,armenian:f,basque:p,catalan:g,czech:v,danish:m,dutch:y,english:w,finnish:b,french:_,german:k,hungarian:E,italian:T,irish:S,norwegian:P,porter:C,portuguese:x,romanian:I,russian:R,spanish:A,slovene:O,swedish:$,tamil:L,turkish:M}[e.toLowerCase()]);return{stem:function(e){return t.setCurrent(e),t.stem(),t.getCurrent()}}},e.algorithms=function(){return["arabic","armenian","basque","catalan","czech","danish","dutch","english","finnish","french","german","hungarian","italian","irish","norwegian","porter","portuguese","romanian","russian","spanish","slovene","swedish","tamil","turkish"]};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},a=function(){function e(){i(this,e)}return o(e,[{key:"length$esjava$0",value:function(){return this.b.length}},{key:"replace$esjava$3",value:function(e,t,n){if(0===e&&t===this.b.length)this.b=n;else{var i=this.b.substring(0,e),r=this.b.substring(t);this.b=i+n+r}}},{key:"substring$esjava$2",value:function(e,t){return this.b.substring(e,t)}},{key:"charAt$esjava$1",value:function(e){return this.b.charCodeAt(e)}},{key:"subSequence$esjava$2",value:function(e,t){throw new Error("NotImpl: CharSequence::subSequence")}},{key:"toString$esjava$0",value:function(){return this.b}},{key:"length",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 0===i.length?this.length$esjava$0.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"length",this)).call.apply(t,[this].concat(i))}},{key:"replace",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 3===i.length?this.replace$esjava$3.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"replace",this)).call.apply(t,[this].concat(i))}},{key:"substring",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 2===i.length?this.substring$esjava$2.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"substring",this)).call.apply(t,[this].concat(i))}},{key:"charAt",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 1===i.length?this.charAt$esjava$1.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"charAt",this)).call.apply(t,[this].concat(i))}},{key:"subSequence",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 2===i.length?this.subSequence$esjava$2.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"subSequence",this)).call.apply(t,[this].concat(i))}},{key:"toString",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 0===i.length?this.toString$esjava$0.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"toString",this)).call.apply(t,[this].concat(i))}},{key:"b",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$b")?this._$esjava$b:this._$esjava$b=""},set:function(e){this._$esjava$b=e}}]),e}(),c=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),r}(a),u=function(){function e(t,n,r,o,s){i(this,e),this.s=e.toCharArray$esjava$1(t),this.substring_i=n,this.result=r,this.method=o?s[o]:null,this.methodobject=s}return o(e,null,[{key:"toCharArray$esjava$1",value:function(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n}}]),o(e,[{key:"s",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$s")?this._$esjava$s:this._$esjava$s=null},set:function(e){this._$esjava$s=e}},{key:"substring_i",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$substring_i")?this._$esjava$substring_i:this._$esjava$substring_i=0},set:function(e){this._$esjava$substring_i=e}},{key:"result",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$result")?this._$esjava$result:this._$esjava$result=0},set:function(e){this._$esjava$result=e}},{key:"method",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$method")?this._$esjava$method:this._$esjava$method=null},set:function(e){this._$esjava$method=e}},{key:"methodobject",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$methodobject")?this._$esjava$methodobject:this._$esjava$methodobject=null},set:function(e){this._$esjava$methodobject=e}}]),e}(),l=function(){function e(){i(this,e),this.current=new a,this.setCurrent$esjava$1("")}return o(e,[{key:"setCurrent$esjava$1",value:function(e){this.current.replace(0,this.current.length(),e),this.cursor=0,this.limit=this.current.length(),this.limit_backward=0,this.bra=this.cursor,this.ket=this.limit}},{key:"getCurrent$esjava$0",value:function(){var e=this.current.toString();return this.current=new a,e}},{key:"in_grouping$esjava$3",value:function(e,t,n){if(this.cursor>=this.limit)return!1;var i=this.current.charAt(this.cursor);return!(i>n||i<t||0==(e[(i-=t)>>3]&1<<(7&i))||(this.cursor++,0))}},{key:"in_grouping_b$esjava$3",value:function(e,t,n){if(this.cursor<=this.limit_backward)return!1;var i=this.current.charAt(this.cursor-1);return!(i>n||i<t||0==(e[(i-=t)>>3]&1<<(7&i))||(this.cursor--,0))}},{key:"out_grouping$esjava$3",value:function(e,t,n){if(this.cursor>=this.limit)return!1;var i=this.current.charAt(this.cursor);return(i>n||i<t||0==(e[(i-=t)>>3]&1<<(7&i)))&&(this.cursor++,!0)}},{key:"out_grouping_b$esjava$3",value:function(e,t,n){if(this.cursor<=this.limit_backward)return!1;var i=this.current.charAt(this.cursor-1);return(i>n||i<t||0==(e[(i-=t)>>3]&1<<(7&i)))&&(this.cursor--,!0)}},{key:"eq_s$esjava$1",value:function(e){if(this.limit-this.cursor<e.length)return!1;var t=void 0;for(t=0;t!==e.length;t++)if(this.current.charAt(this.cursor+t)!==e.charCodeAt(t))return!1;return this.cursor+=e.length,!0}},{key:"eq_s_b$esjava$1",value:function(e){if(this.cursor-this.limit_backward<e.length)return!1;var t=void 0;for(t=0;t!==e.length;t++)if(this.current.charAt(this.cursor-e.length+t)!==e.charCodeAt(t))return!1;return this.cursor-=e.length,!0}},{key:"find_among$esjava$1",value:function(e){for(var t=0,n=e.length,i=this.cursor,r=this.limit,o=0,s=0,a=!1;;){var c=t+(n-t>>1),u=0,l=o<s?o:s,h=e[c],d=void 0;for(d=l;d<h.s.length;d++){if(i+l===r){u=-1;break}if(0!=(u=this.current.charAt(i+l)-h.s[d]))break;l++}if(u<0?(n=c,s=l):(t=c,o=l),n-t<=1){if(t>0)break;if(n===t)break;if(a)break;a=!0}}for(;;){if(o>=(h=e[t]).s.length){if(this.cursor=i+h.s.length,null===h.method)return h.result;var f;if(f=h.method.call(h.methodobject),this.cursor=i+h.s.length,f)return h.result}if((t=h.substring_i)<0)return 0}}},{key:"find_among_b$esjava$1",value:function(e){for(var t=0,n=e.length,i=this.cursor,r=this.limit_backward,o=0,s=0,a=!1;;){var c=t+(n-t>>1),u=0,l=o<s?o:s,h=void 0;for(h=(d=e[c]).s.length-1-l;h>=0;h--){if(i-l===r){u=-1;break}if(0!=(u=this.current.charAt(i-1-l)-d.s[h]))break;l++}if(u<0?(n=c,s=l):(t=c,o=l),n-t<=1){if(t>0)break;if(n===t)break;if(a)break;a=!0}}for(;;){var d;if(o>=(d=e[t]).s.length){if(this.cursor=i-d.s.length,null===d.method)return d.result;var f;if(f=d.method.call(d.methodobject),this.cursor=i-d.s.length,f)return d.result}if((t=d.substring_i)<0)return 0}}},{key:"replace_s$esjava$3",value:function(e,t,n){var i=n.length-(t-e);return this.current.replace(e,t,n),this.limit+=i,this.cursor>=t?this.cursor+=i:this.cursor>e&&(this.cursor=e),i}},{key:"slice_check$esjava$0",value:function(){if(this.bra<0||this.bra>this.ket||this.ket>this.limit||this.limit>this.current.length())throw new Error("Snowball: faulty slice operation")}},{key:"slice_from$esjava$1",value:function(e){this.slice_check$esjava$0(),this.replace_s$esjava$3(this.bra,this.ket,e)}},{key:"slice_del$esjava$0",value:function(){this.slice_from$esjava$1("")}},{key:"insert$esjava$3",value:function(e,t,n){var i=this.replace_s$esjava$3(e,t,n);e<=this.bra&&(this.bra+=i),e<=this.ket&&(this.ket+=i)}},{key:"slice_to$esjava$1",value:function(e){return this.slice_check$esjava$0(),e.replace(0,e.length(),this.current.substring(this.bra,this.ket)),e}},{key:"setCurrent",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 1===i.length?this.setCurrent$esjava$1.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"setCurrent",this)).call.apply(t,[this].concat(i))}},{key:"getCurrent",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 0===i.length?this.getCurrent$esjava$0.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"getCurrent",this)).call.apply(t,[this].concat(i))}},{key:"in_grouping",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 3===i.length?this.in_grouping$esjava$3.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"in_grouping",this)).call.apply(t,[this].concat(i))}},{key:"in_grouping_b",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 3===i.length?this.in_grouping_b$esjava$3.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"in_grouping_b",this)).call.apply(t,[this].concat(i))}},{key:"out_grouping",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 3===i.length?this.out_grouping$esjava$3.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"out_grouping",this)).call.apply(t,[this].concat(i))}},{key:"out_grouping_b",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 3===i.length?this.out_grouping_b$esjava$3.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"out_grouping_b",this)).call.apply(t,[this].concat(i))}},{key:"eq_s",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 1===i.length?this.eq_s$esjava$1.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"eq_s",this)).call.apply(t,[this].concat(i))}},{key:"eq_s_b",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 1===i.length?this.eq_s_b$esjava$1.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"eq_s_b",this)).call.apply(t,[this].concat(i))}},{key:"find_among",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 1===i.length?this.find_among$esjava$1.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"find_among",this)).call.apply(t,[this].concat(i))}},{key:"find_among_b",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 1===i.length?this.find_among_b$esjava$1.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"find_among_b",this)).call.apply(t,[this].concat(i))}},{key:"replace_s",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 3===i.length?this.replace_s$esjava$3.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"replace_s",this)).call.apply(t,[this].concat(i))}},{key:"slice_check",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 0===i.length?this.slice_check$esjava$0.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"slice_check",this)).call.apply(t,[this].concat(i))}},{key:"slice_from",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 1===i.length?this.slice_from$esjava$1.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"slice_from",this)).call.apply(t,[this].concat(i))}},{key:"slice_del",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 0===i.length?this.slice_del$esjava$0.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"slice_del",this)).call.apply(t,[this].concat(i))}},{key:"insert",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 3===i.length?this.insert$esjava$3.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"insert",this)).call.apply(t,[this].concat(i))}},{key:"slice_to",value:function(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return 1===i.length?this.slice_to$esjava$1.apply(this,i):(t=s(Object.getPrototypeOf(e.prototype),"slice_to",this)).call.apply(t,[this].concat(i))}},{key:"current",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$current")?this._$esjava$current:this._$esjava$current=null},set:function(e){this._$esjava$current=e}},{key:"cursor",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$cursor")?this._$esjava$cursor:this._$esjava$cursor=0},set:function(e){this._$esjava$cursor=e}},{key:"limit",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$limit")?this._$esjava$limit:this._$esjava$limit=0},set:function(e){this._$esjava$limit=e}},{key:"limit_backward",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$limit_backward")?this._$esjava$limit_backward:this._$esjava$limit_backward=0},set:function(e){this._$esjava$limit_backward=e}},{key:"bra",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$bra")?this._$esjava$bra:this._$esjava$bra=0},set:function(e){this._$esjava$bra=e}},{key:"ket",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$ket")?this._$esjava$ket:this._$esjava$ket=0},set:function(e){this._$esjava$ket=e}}]),e}(),h=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"stem$esjava$0",value:function(){throw"NotImpl < stem$esjava$0 >"}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}}]),r}(l),d=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_Normalize_pre$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0;for(t=this.current.length();t>0;t--)e:do{n=this.cursor;t:do{if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_0)))break t;switch(this.ket=this.cursor,e){case 0:break t;case 1:case 2:case 3:case 4:case 15:this.slice_del$esjava$0();break;case 5:this.slice_from$esjava$1("0");break;case 6:this.slice_from$esjava$1("1");break;case 7:this.slice_from$esjava$1("2");break;case 8:this.slice_from$esjava$1("3");break;case 9:this.slice_from$esjava$1("4");break;case 10:this.slice_from$esjava$1("5");break;case 11:this.slice_from$esjava$1("6");break;case 12:this.slice_from$esjava$1("7");break;case 13:this.slice_from$esjava$1("8");break;case 14:this.slice_from$esjava$1("9");break;case 16:this.slice_from$esjava$1("ء");break;case 17:this.slice_from$esjava$1("أ");break;case 18:this.slice_from$esjava$1("إ");break;case 19:this.slice_from$esjava$1("ئ");break;case 20:this.slice_from$esjava$1("آ");break;case 21:this.slice_from$esjava$1("ؤ");break;case 22:this.slice_from$esjava$1("ا");break;case 23:this.slice_from$esjava$1("ب");break;case 24:this.slice_from$esjava$1("ة");break;case 25:this.slice_from$esjava$1("ت");break;case 26:this.slice_from$esjava$1("ث");break;case 27:this.slice_from$esjava$1("ج");break;case 28:this.slice_from$esjava$1("ح");break;case 29:this.slice_from$esjava$1("خ");break;case 30:this.slice_from$esjava$1("د");break;case 31:this.slice_from$esjava$1("ذ");break;case 32:this.slice_from$esjava$1("ر");break;case 33:this.slice_from$esjava$1("ز");break;case 34:this.slice_from$esjava$1("س");break;case 35:this.slice_from$esjava$1("ش");break;case 36:this.slice_from$esjava$1("ص");break;case 37:this.slice_from$esjava$1("ض");break;case 38:this.slice_from$esjava$1("ط");break;case 39:this.slice_from$esjava$1("ظ");break;case 40:this.slice_from$esjava$1("ع");break;case 41:this.slice_from$esjava$1("غ");break;case 42:this.slice_from$esjava$1("ف");break;case 43:this.slice_from$esjava$1("ق");break;case 44:this.slice_from$esjava$1("ك");break;case 45:this.slice_from$esjava$1("ل");break;case 46:this.slice_from$esjava$1("م");break;case 47:this.slice_from$esjava$1("ن");break;case 48:this.slice_from$esjava$1("ه");break;case 49:this.slice_from$esjava$1("و");break;case 50:this.slice_from$esjava$1("ى");break;case 51:this.slice_from$esjava$1("ي");break;case 52:this.slice_from$esjava$1("لا");break;case 53:this.slice_from$esjava$1("لأ");break;case 54:this.slice_from$esjava$1("لإ");break;case 55:this.slice_from$esjava$1("لآ")}break e}while(0);if(this.cursor=n,this.cursor>=this.limit)return!1;this.cursor++}while(0);return!0}},{key:"r_Normalize_post$esjava$0",value:function(){var e,t,n=void 0,i=void 0,o=void 0;e=this.cursor;e:do{if(this.limit_backward=this.cursor,this.cursor=this.limit,this.ket=this.cursor,0===(n=this.find_among_b$esjava$1(r.a_1)))break e;switch(this.bra=this.cursor,n){case 0:break e;case 1:case 2:case 3:this.slice_from$esjava$1("ء")}this.cursor=this.limit_backward}while(0);this.cursor=e,t=this.cursor;e:do{for(i=this.I_word_len;i>0;i--)t:do{o=this.cursor;n:do{if(this.bra=this.cursor,0===(n=this.find_among$esjava$1(r.a_2)))break n;switch(this.ket=this.cursor,n){case 0:break n;case 1:this.slice_from$esjava$1("ا");break;case 2:this.slice_from$esjava$1("و");break;case 3:this.slice_from$esjava$1("ي")}break t}while(0);if(this.cursor=o,this.cursor>=this.limit)break e;this.cursor++}while(0)}while(0);return this.cursor=t,!0}},{key:"r_Checks1$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_3)))return!1;switch(this.ket=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>4))return!1;this.B_is_noun=!0,this.B_is_verb=!1,this.B_is_defined=!0;break;case 2:if(!(this.I_word_len>3))return!1;this.B_is_noun=!0,this.B_is_verb=!1,this.B_is_defined=!0}return!0}},{key:"r_Prefix_Step1$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_4)))return!1;switch(this.ket=this.cursor,e){case 0:return!1;case 1:case 3:if(!(this.I_word_len>3))return!1;this.slice_from$esjava$1("أ");break;case 2:if(!(this.I_word_len>3))return!1;this.slice_from$esjava$1("آ");break;case 4:if(!(this.I_word_len>3))return!1;this.slice_from$esjava$1("ا");break;case 5:if(!(this.I_word_len>3))return!1;this.slice_from$esjava$1("إ")}return!0}},{key:"r_Prefix_Step2$esjava$0",value:function(){var e,t,n;this.I_word_len=this.current.length(),t=this.cursor;e:do{if(!this.eq_s$esjava$1("فا"))break e;return!1}while(0);this.cursor=t,n=this.cursor;e:do{if(!this.eq_s$esjava$1("وا"))break e;return!1}while(0);if(this.cursor=n,this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_5)))return!1;switch(this.ket=this.cursor,e){case 0:return!1;case 1:case 2:if(!(this.I_word_len>3))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Prefix_Step3a_Noun$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_6)))return!1;switch(this.ket=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>5))return!1;this.slice_del$esjava$0();break;case 2:if(!(this.I_word_len>4))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Prefix_Step3b_Noun$esjava$0",value:function(){var e,t;this.I_word_len=this.current.length(),t=this.cursor;e:do{if(!this.eq_s$esjava$1("با"))break e;return!1}while(0);if(this.cursor=t,this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_7)))return!1;switch(this.ket=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>3))return!1;this.slice_del$esjava$0();break;case 2:if(!(this.I_word_len>3))return!1;this.slice_from$esjava$1("ب");break;case 3:if(!(this.I_word_len>3))return!1;this.slice_from$esjava$1("ك")}return!0}},{key:"r_Prefix_Step3_Verb$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_8)))return!1;switch(this.ket=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>4))return!1;this.slice_from$esjava$1("ي");break;case 2:if(!(this.I_word_len>4))return!1;this.slice_from$esjava$1("ت");break;case 3:if(!(this.I_word_len>4))return!1;this.slice_from$esjava$1("ن");break;case 4:if(!(this.I_word_len>4))return!1;this.slice_from$esjava$1("أ")}return!0}},{key:"r_Prefix_Step4_Verb$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_9)))return!1;switch(this.ket=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>4))return!1;this.B_is_verb=!0,this.B_is_noun=!1,this.slice_from$esjava$1("است")}return!0}},{key:"r_Suffix_Noun_Step1a$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_10)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>=4))return!1;this.slice_del$esjava$0();break;case 2:if(!(this.I_word_len>=5))return!1;this.slice_del$esjava$0();break;case 3:if(!(this.I_word_len>=6))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Suffix_Noun_Step1b$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_11)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>5))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Suffix_Noun_Step2a$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_12)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>4))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Suffix_Noun_Step2b$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_13)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>=5))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Suffix_Noun_Step2c1$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_14)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>=4))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Suffix_Noun_Step2c2$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_15)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>=4))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Suffix_Noun_Step3$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_16)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>=3))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Suffix_Verb_Step1$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_17)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>=4))return!1;this.slice_del$esjava$0();break;case 2:if(!(this.I_word_len>=5))return!1;this.slice_del$esjava$0();break;case 3:if(!(this.I_word_len>=6))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Suffix_Verb_Step2a$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_18)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:case 2:if(!(this.I_word_len>=4))return!1;this.slice_del$esjava$0();break;case 3:if(!(this.I_word_len>=5))return!1;this.slice_del$esjava$0();break;case 4:if(!(this.I_word_len>5))return!1;this.slice_del$esjava$0();break;case 5:if(!(this.I_word_len>=6))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Suffix_Verb_Step2b$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_19)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>=5))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Suffix_Verb_Step2c$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_20)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!(this.I_word_len>=4))return!1;this.slice_del$esjava$0();break;case 2:if(!(this.I_word_len>=6))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Suffix_All_alef_maqsura$esjava$0",value:function(){var e;if(this.I_word_len=this.current.length(),this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_21)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_from$esjava$1("ي")}return!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0,v=void 0;this.B_is_noun=!0,this.B_is_verb=!0,this.B_is_defined=!1,e=this.cursor;e:do{if(!this.r_Checks1$esjava$0())break e}while(0);this.cursor=e,t=this.cursor;e:do{if(!this.r_Normalize_pre$esjava$0())break e}while(0);this.cursor=t,this.limit_backward=this.cursor,this.cursor=this.limit,n=this.limit-this.cursor;e:do{t:do{o=this.limit-this.cursor;n:do{if(!this.B_is_verb)break n;i:do{s=this.limit-this.cursor;r:do{var m=1;o:for(;;){a=this.limit-this.cursor;s:do{if(!this.r_Suffix_Verb_Step1$esjava$0())break s;m--;continue o}while(0);this.cursor=this.limit-a;break o}if(m>0)break r;o:do{c=this.limit-this.cursor;s:do{if(!this.r_Suffix_Verb_Step2a$esjava$0())break s;break o}while(0);this.cursor=this.limit-c;s:do{if(!this.r_Suffix_Verb_Step2c$esjava$0())break s;break o}while(0);if(this.cursor=this.limit-c,this.cursor<=this.limit_backward)break r;this.cursor--}while(0);break i}while(0);this.cursor=this.limit-s;r:do{if(!this.r_Suffix_Verb_Step2b$esjava$0())break r;break i}while(0);if(this.cursor=this.limit-s,!this.r_Suffix_Verb_Step2a$esjava$0())break n}while(0);break t}while(0);this.cursor=this.limit-o;n:do{if(!this.B_is_noun)break n;u=this.limit-this.cursor;i:do{r:do{l=this.limit-this.cursor;o:do{if(!this.r_Suffix_Noun_Step2c2$esjava$0())break o;break r}while(0);this.cursor=this.limit-l;o:do{s:do{if(!this.B_is_defined)break s;break o}while(0);if(!this.r_Suffix_Noun_Step1a$esjava$0())break o;s:do{h=this.limit-this.cursor;a:do{if(!this.r_Suffix_Noun_Step2a$esjava$0())break a;break s}while(0);this.cursor=this.limit-h;a:do{if(!this.r_Suffix_Noun_Step2b$esjava$0())break a;break s}while(0);this.cursor=this.limit-h;a:do{if(!this.r_Suffix_Noun_Step2c1$esjava$0())break a;break s}while(0);if(this.cursor=this.limit-h,this.cursor<=this.limit_backward)break o;this.cursor--}while(0);break r}while(0);this.cursor=this.limit-l;o:do{if(!this.r_Suffix_Noun_Step1b$esjava$0())break o;s:do{d=this.limit-this.cursor;a:do{if(!this.r_Suffix_Noun_Step2a$esjava$0())break a;break s}while(0);this.cursor=this.limit-d;a:do{if(!this.r_Suffix_Noun_Step2b$esjava$0())break a;break s}while(0);if(this.cursor=this.limit-d,!this.r_Suffix_Noun_Step2c1$esjava$0())break o}while(0);break r}while(0);this.cursor=this.limit-l;o:do{s:do{if(!this.B_is_defined)break s;break o}while(0);if(!this.r_Suffix_Noun_Step2a$esjava$0())break o;break r}while(0);if(this.cursor=this.limit-l,!this.r_Suffix_Noun_Step2b$esjava$0()){this.cursor=this.limit-u;break i}}while(0)}while(0);if(!this.r_Suffix_Noun_Step3$esjava$0())break n;break t}while(0);if(this.cursor=this.limit-o,!this.r_Suffix_All_alef_maqsura$esjava$0())break e}while(0)}while(0);this.cursor=this.limit-n,this.cursor=this.limit_backward,i=this.cursor;e:do{f=this.cursor;t:do{if(!this.r_Prefix_Step1$esjava$0()){this.cursor=f;break t}}while(0);p=this.cursor;t:do{if(!this.r_Prefix_Step2$esjava$0()){this.cursor=p;break t}}while(0);t:do{g=this.cursor;n:do{if(!this.r_Prefix_Step3a_Noun$esjava$0())break n;break t}while(0);this.cursor=g;n:do{if(!this.B_is_noun)break n;if(!this.r_Prefix_Step3b_Noun$esjava$0())break n;break t}while(0);if(this.cursor=g,!this.B_is_verb)break e;v=this.cursor;n:do{if(!this.r_Prefix_Step3_Verb$esjava$0()){this.cursor=v;break n}}while(0);if(!this.r_Prefix_Step4_Verb$esjava$0())break e}while(0)}while(0);this.cursor=i,r=this.cursor;e:do{if(!this.r_Normalize_post$esjava$0())break e}while(0);return this.cursor=r,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"B_is_defined",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_is_defined")?this._$esjava$B_is_defined:this._$esjava$B_is_defined=!1},set:function(e){this._$esjava$B_is_defined=e}},{key:"B_is_verb",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_is_verb")?this._$esjava$B_is_verb:this._$esjava$B_is_verb=!1},set:function(e){this._$esjava$B_is_verb=e}},{key:"B_is_noun",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_is_noun")?this._$esjava$B_is_noun:this._$esjava$B_is_noun=!1},set:function(e){this._$esjava$B_is_noun=e}},{key:"I_word_len",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_word_len")?this._$esjava$I_word_len:this._$esjava$I_word_len=0},set:function(e){this._$esjava$I_word_len=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("!",-1,3),new u('"',-1,3),new u("%",-1,3),new u("*",-1,3),new u(",",-1,3),new u(".",-1,3),new u("/",-1,3),new u(":",-1,3),new u(";",-1,3),new u("?",-1,3),new u("\\",-1,3),new u("،",-1,4),new u("؛",-1,4),new u("؟",-1,4),new u("ـ",-1,2),new u("ً",-1,1),new u("ٌ",-1,1),new u("ٍ",-1,1),new u("َ",-1,1),new u("ُ",-1,1),new u("ِ",-1,1),new u("ّ",-1,1),new u("ْ",-1,1),new u("٠",-1,5),new u("١",-1,6),new u("٢",-1,7),new u("٣",-1,8),new u("٤",-1,9),new u("٥",-1,10),new u("٦",-1,11),new u("٧",-1,12),new u("٨",-1,13),new u("٩",-1,14),new u("٪",-1,15),new u("٫",-1,15),new u("٬",-1,15),new u("ﺀ",-1,16),new u("ﺁ",-1,20),new u("ﺂ",-1,20),new u("ﺃ",-1,17),new u("ﺄ",-1,17),new u("ﺅ",-1,21),new u("ﺆ",-1,21),new u("ﺇ",-1,18),new u("ﺈ",-1,18),new u("ﺉ",-1,19),new u("ﺊ",-1,19),new u("ﺋ",-1,19),new u("ﺌ",-1,19),new u("ﺍ",-1,22),new u("ﺎ",-1,22),new u("ﺏ",-1,23),new u("ﺐ",-1,23),new u("ﺑ",-1,23),new u("ﺒ",-1,23),new u("ﺓ",-1,24),new u("ﺔ",-1,24),new u("ﺕ",-1,25),new u("ﺖ",-1,25),new u("ﺗ",-1,25),new u("ﺘ",-1,25),new u("ﺙ",-1,26),new u("ﺚ",-1,26),new u("ﺛ",-1,26),new u("ﺜ",-1,26),new u("ﺝ",-1,27),new u("ﺞ",-1,27),new u("ﺟ",-1,27),new u("ﺠ",-1,27),new u("ﺡ",-1,28),new u("ﺢ",-1,28),new u("ﺣ",-1,28),new u("ﺤ",-1,28),new u("ﺥ",-1,29),new u("ﺦ",-1,29),new u("ﺧ",-1,29),new u("ﺨ",-1,29),new u("ﺩ",-1,30),new u("ﺪ",-1,30),new u("ﺫ",-1,31),new u("ﺬ",-1,31),new u("ﺭ",-1,32),new u("ﺮ",-1,32),new u("ﺯ",-1,33),new u("ﺰ",-1,33),new u("ﺱ",-1,34),new u("ﺲ",-1,34),new u("ﺳ",-1,34),new u("ﺴ",-1,34),new u("ﺵ",-1,35),new u("ﺶ",-1,35),new u("ﺷ",-1,35),new u("ﺸ",-1,35),new u("ﺹ",-1,36),new u("ﺺ",-1,36),new u("ﺻ",-1,36),new u("ﺼ",-1,36),new u("ﺽ",-1,37),new u("ﺾ",-1,37),new u("ﺿ",-1,37),new u("ﻀ",-1,37),new u("ﻁ",-1,38),new u("ﻂ",-1,38),new u("ﻃ",-1,38),new u("ﻄ",-1,38),new u("ﻅ",-1,39),new u("ﻆ",-1,39),new u("ﻇ",-1,39),new u("ﻈ",-1,39),new u("ﻉ",-1,40),new u("ﻊ",-1,40),new u("ﻋ",-1,40),new u("ﻌ",-1,40),new u("ﻍ",-1,41),new u("ﻎ",-1,41),new u("ﻏ",-1,41),new u("ﻐ",-1,41),new u("ﻑ",-1,42),new u("ﻒ",-1,42),new u("ﻓ",-1,42),new u("ﻔ",-1,42),new u("ﻕ",-1,43),new u("ﻖ",-1,43),new u("ﻗ",-1,43),new u("ﻘ",-1,43),new u("ﻙ",-1,44),new u("ﻚ",-1,44),new u("ﻛ",-1,44),new u("ﻜ",-1,44),new u("ﻝ",-1,45),new u("ﻞ",-1,45),new u("ﻟ",-1,45),new u("ﻠ",-1,45),new u("ﻡ",-1,46),new u("ﻢ",-1,46),new u("ﻣ",-1,46),new u("ﻤ",-1,46),new u("ﻥ",-1,47),new u("ﻦ",-1,47),new u("ﻧ",-1,47),new u("ﻨ",-1,47),new u("ﻩ",-1,48),new u("ﻪ",-1,48),new u("ﻫ",-1,48),new u("ﻬ",-1,48),new u("ﻭ",-1,49),new u("ﻮ",-1,49),new u("ﻯ",-1,50),new u("ﻰ",-1,50),new u("ﻱ",-1,51),new u("ﻲ",-1,51),new u("ﻳ",-1,51),new u("ﻴ",-1,51),new u("ﻵ",-1,55),new u("ﻶ",-1,55),new u("ﻷ",-1,53),new u("ﻸ",-1,53),new u("ﻹ",-1,54),new u("ﻺ",-1,54),new u("ﻻ",-1,52),new u("ﻼ",-1,52)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("آ",-1,1),new u("أ",-1,1),new u("ؤ",-1,2),new u("إ",-1,1),new u("ئ",-1,3)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("آ",-1,1),new u("أ",-1,1),new u("ؤ",-1,2),new u("إ",-1,1),new u("ئ",-1,3)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("ال",-1,2),new u("بال",-1,1),new u("كال",-1,1),new u("لل",-1,2)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("أآ",-1,2),new u("أأ",-1,1),new u("أؤ",-1,3),new u("أإ",-1,5),new u("أا",-1,4)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("ف",-1,1),new u("و",-1,2)]}},{key:"a_6",get:function(){return delete r.a_6,r.a_6=[new u("ال",-1,2),new u("بال",-1,1),new u("كال",-1,1),new u("لل",-1,2)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("ب",-1,1),new u("بب",0,2),new u("كك",-1,3)]}},{key:"a_8",get:function(){return delete r.a_8,r.a_8=[new u("سأ",-1,4),new u("ست",-1,2),new u("سن",-1,3),new u("سي",-1,1)]}},{key:"a_9",get:function(){return delete r.a_9,r.a_9=[new u("تست",-1,1),new u("نست",-1,1),new u("يست",-1,1)]}},{key:"a_10",get:function(){return delete r.a_10,r.a_10=[new u("كما",-1,3),new u("هما",-1,3),new u("نا",-1,2),new u("ها",-1,2),new u("ك",-1,1),new u("كم",-1,2),new u("هم",-1,2),new u("هن",-1,2),new u("ه",-1,1),new u("ي",-1,1)]}},{key:"a_11",get:function(){return delete r.a_11,r.a_11=[new u("ن",-1,1)]}},{key:"a_12",get:function(){return delete r.a_12,r.a_12=[new u("ا",-1,1),new u("و",-1,1),new u("ي",-1,1)]}},{key:"a_13",get:function(){return delete r.a_13,r.a_13=[new u("ات",-1,1)]}},{key:"a_14",get:function(){return delete r.a_14,r.a_14=[new u("ت",-1,1)]}},{key:"a_15",get:function(){return delete r.a_15,r.a_15=[new u("ة",-1,1)]}},{key:"a_16",get:function(){return delete r.a_16,r.a_16=[new u("ي",-1,1)]}},{key:"a_17",get:function(){return delete r.a_17,r.a_17=[new u("كما",-1,3),new u("هما",-1,3),new u("نا",-1,2),new u("ها",-1,2),new u("ك",-1,1),new u("كم",-1,2),new u("هم",-1,2),new u("كن",-1,2),new u("هن",-1,2),new u("ه",-1,1),new u("كمو",-1,3),new u("ني",-1,2)]}},{key:"a_18",get:function(){return delete r.a_18,r.a_18=[new u("ا",-1,2),new u("تا",0,3),new u("تما",0,5),new u("نا",0,3),new u("ت",-1,1),new u("ن",-1,2),new u("ان",5,4),new u("تن",5,3),new u("ون",5,4),new u("ين",5,4),new u("ي",-1,2)]}},{key:"a_19",get:function(){return delete r.a_19,r.a_19=[new u("وا",-1,1),new u("تم",-1,1)]}},{key:"a_20",get:function(){return delete r.a_20,r.a_20=[new u("و",-1,1),new u("تمو",0,2)]}},{key:"a_21",get:function(){return delete r.a_21,r.a_21=[new u("ى",-1,1)]}}]),r}(h),f=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e;this.I_pV=this.limit,this.I_p2=this.limit,e=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,1377,1413))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_pV=this.cursor;t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,1377,1413))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,1377,1413))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,1377,1413))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);return this.cursor=e,!0}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_adjective$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_0)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_del$esjava$0()}return!0}},{key:"r_verb$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_1)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_del$esjava$0()}return!0}},{key:"r_noun$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_del$esjava$0()}return!0}},{key:"r_ending$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3)))return!1;if(this.bra=this.cursor,!this.r_R2$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_del$esjava$0()}return!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o,s;e=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);if(this.cursor=e,this.limit_backward=this.cursor,this.cursor=this.limit,t=this.limit-this.cursor,this.cursor<this.I_pV)return!1;this.cursor=this.I_pV,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,i=this.limit-this.cursor;e:do{if(!this.r_ending$esjava$0())break e}while(0);this.cursor=this.limit-i,r=this.limit-this.cursor;e:do{if(!this.r_verb$esjava$0())break e}while(0);this.cursor=this.limit-r,o=this.limit-this.cursor;e:do{if(!this.r_adjective$esjava$0())break e}while(0);this.cursor=this.limit-o,s=this.limit-this.cursor;e:do{if(!this.r_noun$esjava$0())break e}while(0);return this.cursor=this.limit-s,this.limit_backward=n,this.cursor=this.limit_backward,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_pV",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_pV")?this._$esjava$I_pV:this._$esjava$I_pV=0},set:function(e){this._$esjava$I_pV=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("րորդ",-1,1),new u("երորդ",0,1),new u("ալի",-1,1),new u("ակի",-1,1),new u("որակ",-1,1),new u("եղ",-1,1),new u("ական",-1,1),new u("արան",-1,1),new u("են",-1,1),new u("եկեն",8,1),new u("երեն",8,1),new u("որէն",-1,1),new u("ին",-1,1),new u("գին",12,1),new u("ովին",12,1),new u("լայն",-1,1),new u("վուն",-1,1),new u("պես",-1,1),new u("իվ",-1,1),new u("ատ",-1,1),new u("ավետ",-1,1),new u("կոտ",-1,1),new u("բար",-1,1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("ա",-1,1),new u("ացա",0,1),new u("եցա",0,1),new u("վե",-1,1),new u("ացրի",-1,1),new u("ացի",-1,1),new u("եցի",-1,1),new u("վեցի",6,1),new u("ալ",-1,1),new u("ըալ",8,1),new u("անալ",8,1),new u("ենալ",8,1),new u("ացնալ",8,1),new u("ել",-1,1),new u("ըել",13,1),new u("նել",13,1),new u("ցնել",15,1),new u("եցնել",16,1),new u("չել",13,1),new u("վել",13,1),new u("ացվել",19,1),new u("եցվել",19,1),new u("տել",13,1),new u("ատել",22,1),new u("ոտել",22,1),new u("կոտել",24,1),new u("ված",-1,1),new u("ում",-1,1),new u("վում",27,1),new u("ան",-1,1),new u("ցան",29,1),new u("ացան",30,1),new u("ացրին",-1,1),new u("ացին",-1,1),new u("եցին",-1,1),new u("վեցին",34,1),new u("ալիս",-1,1),new u("ելիս",-1,1),new u("ավ",-1,1),new u("ացավ",38,1),new u("եցավ",38,1),new u("ալով",-1,1),new u("ելով",-1,1),new u("ար",-1,1),new u("ացար",43,1),new u("եցար",43,1),new u("ացրիր",-1,1),new u("ացիր",-1,1),new u("եցիր",-1,1),new u("վեցիր",48,1),new u("աց",-1,1),new u("եց",-1,1),new u("ացրեց",51,1),new u("ալուց",-1,1),new u("ելուց",-1,1),new u("ալու",-1,1),new u("ելու",-1,1),new u("աք",-1,1),new u("ցաք",57,1),new u("ացաք",58,1),new u("ացրիք",-1,1),new u("ացիք",-1,1),new u("եցիք",-1,1),new u("վեցիք",62,1),new u("անք",-1,1),new u("ցանք",64,1),new u("ացանք",65,1),new u("ացրինք",-1,1),new u("ացինք",-1,1),new u("եցինք",-1,1),new u("վեցինք",69,1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("որդ",-1,1),new u("ույթ",-1,1),new u("ուհի",-1,1),new u("ցի",-1,1),new u("իլ",-1,1),new u("ակ",-1,1),new u("յակ",5,1),new u("անակ",5,1),new u("իկ",-1,1),new u("ուկ",-1,1),new u("ան",-1,1),new u("պան",10,1),new u("ստան",10,1),new u("արան",10,1),new u("եղէն",-1,1),new u("յուն",-1,1),new u("ություն",15,1),new u("ածո",-1,1),new u("իչ",-1,1),new u("ուս",-1,1),new u("ուստ",-1,1),new u("գար",-1,1),new u("վոր",-1,1),new u("ավոր",22,1),new u("ոց",-1,1),new u("անօց",-1,1),new u("ու",-1,1),new u("ք",-1,1),new u("չեք",27,1),new u("իք",27,1),new u("ալիք",29,1),new u("անիք",29,1),new u("վածք",27,1),new u("ույք",27,1),new u("ենք",27,1),new u("ոնք",27,1),new u("ունք",27,1),new u("մունք",36,1),new u("իչք",27,1),new u("արք",27,1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("սա",-1,1),new u("վա",-1,1),new u("ամբ",-1,1),new u("դ",-1,1),new u("անդ",3,1),new u("ությանդ",4,1),new u("վանդ",4,1),new u("ոջդ",3,1),new u("երդ",3,1),new u("ներդ",8,1),new u("ուդ",3,1),new u("ը",-1,1),new u("անը",11,1),new u("ությանը",12,1),new u("վանը",12,1),new u("ոջը",11,1),new u("երը",11,1),new u("ները",16,1),new u("ի",-1,1),new u("վի",18,1),new u("երի",18,1),new u("ների",20,1),new u("անում",-1,1),new u("երում",-1,1),new u("ներում",23,1),new u("ն",-1,1),new u("ան",25,1),new u("ության",26,1),new u("վան",26,1),new u("ին",25,1),new u("երին",29,1),new u("ներին",30,1),new u("ությանն",25,1),new u("երն",25,1),new u("ներն",33,1),new u("ուն",25,1),new u("ոջ",-1,1),new u("ությանս",-1,1),new u("վանս",-1,1),new u("ոջս",-1,1),new u("ով",-1,1),new u("անով",40,1),new u("վով",40,1),new u("երով",40,1),new u("ներով",43,1),new u("եր",-1,1),new u("ներ",45,1),new u("ց",-1,1),new u("ից",47,1),new u("վանից",48,1),new u("ոջից",48,1),new u("վից",48,1),new u("երից",48,1),new u("ներից",52,1),new u("ցից",48,1),new u("ոց",47,1),new u("ուց",47,1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[209,4,128,0,18]}}]),r}(h),p=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e,t,n=void 0,i=void 0,o=void 0;this.I_pV=this.limit,this.I_p1=this.limit,this.I_p2=this.limit,e=this.cursor;e:do{t:do{n=this.cursor;n:do{if(!this.in_grouping$esjava$3(r.g_v,97,117))break n;i:do{i=this.cursor;r:do{if(!this.out_grouping$esjava$3(r.g_v,97,117))break r;o:for(;;){s:do{if(!this.in_grouping$esjava$3(r.g_v,97,117))break s;break o}while(0);if(this.cursor>=this.limit)break r;this.cursor++}break i}while(0);if(this.cursor=i,!this.in_grouping$esjava$3(r.g_v,97,117))break n;r:for(;;){o:do{if(!this.out_grouping$esjava$3(r.g_v,97,117))break o;break r}while(0);if(this.cursor>=this.limit)break n;this.cursor++}}while(0);break t}while(0);if(this.cursor=n,!this.out_grouping$esjava$3(r.g_v,97,117))break e;n:do{o=this.cursor;i:do{if(!this.out_grouping$esjava$3(r.g_v,97,117))break i;r:for(;;){o:do{if(!this.in_grouping$esjava$3(r.g_v,97,117))break o;break r}while(0);if(this.cursor>=this.limit)break i;this.cursor++}break n}while(0);if(this.cursor=o,!this.in_grouping$esjava$3(r.g_v,97,117))break e;if(this.cursor>=this.limit)break e;this.cursor++}while(0)}while(0);this.I_pV=this.cursor}while(0);this.cursor=e,t=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,117))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,117))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p1=this.cursor;t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,117))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,117))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);return this.cursor=t,!0}},{key:"r_RV$esjava$0",value:function(){return this.I_pV<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_aditzak$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_0)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_RV$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0();break;case 3:this.slice_from$esjava$1("atseden");break;case 4:this.slice_from$esjava$1("arabera");break;case 5:this.slice_from$esjava$1("baditu")}return!0}},{key:"r_izenak$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_1)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_RV$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0();break;case 3:this.slice_from$esjava$1("jok");break;case 4:if(!this.r_R1$esjava$0())return!1;this.slice_del$esjava$0();break;case 5:this.slice_from$esjava$1("tra");break;case 6:this.slice_from$esjava$1("minutu");break;case 7:this.slice_from$esjava$1("zehar");break;case 8:this.slice_from$esjava$1("geldi");break;case 9:this.slice_from$esjava$1("igaro");break;case 10:this.slice_from$esjava$1("aurka")}return!0}},{key:"r_adjetiboak$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_RV$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:this.slice_from$esjava$1("z")}return!0}},{key:"stem$esjava$0",value:function(){var e,t,n=void 0,i=void 0;e=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=e,this.limit_backward=this.cursor,this.cursor=this.limit;e:for(;;){n=this.limit-this.cursor;t:do{if(!this.r_aditzak$esjava$0())break t;continue e}while(0);this.cursor=this.limit-n;break e}e:for(;;){i=this.limit-this.cursor;t:do{if(!this.r_izenak$esjava$0())break t;continue e}while(0);this.cursor=this.limit-i;break e}t=this.limit-this.cursor;e:do{if(!this.r_adjetiboak$esjava$0())break e}while(0);return this.cursor=this.limit-t,this.cursor=this.limit_backward,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}},{key:"I_pV",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_pV")?this._$esjava$I_pV:this._$esjava$I_pV=0},set:function(e){this._$esjava$I_pV=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("idea",-1,1),new u("bidea",0,1),new u("kidea",0,1),new u("pidea",0,1),new u("kundea",-1,1),new u("galea",-1,1),new u("tailea",-1,1),new u("tzailea",-1,1),new u("gunea",-1,1),new u("kunea",-1,1),new u("tzaga",-1,1),new u("gaia",-1,1),new u("aldia",-1,1),new u("taldia",12,1),new u("karia",-1,1),new u("garria",-1,2),new u("karria",-1,1),new u("ka",-1,1),new u("tzaka",17,1),new u("la",-1,1),new u("mena",-1,1),new u("pena",-1,1),new u("kina",-1,1),new u("ezina",-1,1),new u("tezina",23,1),new u("kuna",-1,1),new u("tuna",-1,1),new u("kizuna",-1,1),new u("era",-1,1),new u("bera",28,1),new u("arabera",29,4),new u("kera",28,1),new u("pera",28,1),new u("orra",-1,1),new u("korra",33,1),new u("dura",-1,1),new u("gura",-1,1),new u("kura",-1,1),new u("tura",-1,1),new u("eta",-1,1),new u("keta",39,1),new u("gailua",-1,1),new u("eza",-1,1),new u("erreza",42,1),new u("tza",-1,2),new u("gaitza",44,1),new u("kaitza",44,1),new u("kuntza",44,1),new u("ide",-1,1),new u("bide",48,1),new u("kide",48,1),new u("pide",48,1),new u("kunde",-1,1),new u("tzake",-1,1),new u("tzeke",-1,1),new u("le",-1,1),new u("gale",55,1),new u("taile",55,1),new u("tzaile",55,1),new u("gune",-1,1),new u("kune",-1,1),new u("tze",-1,1),new u("atze",61,1),new u("gai",-1,1),new u("aldi",-1,1),new u("taldi",64,1),new u("ki",-1,1),new u("ari",-1,1),new u("kari",67,1),new u("lari",67,1),new u("tari",67,1),new u("etari",70,1),new u("garri",-1,2),new u("karri",-1,1),new u("arazi",-1,1),new u("tarazi",74,1),new u("an",-1,1),new u("ean",76,1),new u("rean",77,1),new u("kan",76,1),new u("etan",76,1),new u("atseden",-1,3),new u("men",-1,1),new u("pen",-1,1),new u("kin",-1,1),new u("rekin",84,1),new u("ezin",-1,1),new u("tezin",86,1),new u("tun",-1,1),new u("kizun",-1,1),new u("go",-1,1),new u("ago",90,1),new u("tio",-1,1),new u("dako",-1,1),new u("or",-1,1),new u("kor",94,1),new u("tzat",-1,1),new u("du",-1,1),new u("gailu",-1,1),new u("tu",-1,1),new u("atu",99,1),new u("aldatu",100,1),new u("tatu",100,1),new u("baditu",99,5),new u("ez",-1,1),new u("errez",104,1),new u("tzez",104,1),new u("gaitz",-1,1),new u("kaitz",-1,1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("ada",-1,1),new u("kada",0,1),new u("anda",-1,1),new u("denda",-1,1),new u("gabea",-1,1),new u("kabea",-1,1),new u("aldea",-1,1),new u("kaldea",6,1),new u("taldea",6,1),new u("ordea",-1,1),new u("zalea",-1,1),new u("tzalea",10,1),new u("gilea",-1,1),new u("emea",-1,1),new u("kumea",-1,1),new u("nea",-1,1),new u("enea",15,1),new u("zionea",15,1),new u("unea",15,1),new u("gunea",18,1),new u("pea",-1,1),new u("aurrea",-1,1),new u("tea",-1,1),new u("kotea",22,1),new u("artea",22,1),new u("ostea",22,1),new u("etxea",-1,1),new u("ga",-1,1),new u("anga",27,1),new u("gaia",-1,1),new u("aldia",-1,1),new u("taldia",30,1),new u("handia",-1,1),new u("mendia",-1,1),new u("geia",-1,1),new u("egia",-1,1),new u("degia",35,1),new u("tegia",35,1),new u("nahia",-1,1),new u("ohia",-1,1),new u("kia",-1,1),new u("tokia",40,1),new u("oia",-1,1),new u("koia",42,1),new u("aria",-1,1),new u("karia",44,1),new u("laria",44,1),new u("taria",44,1),new u("eria",-1,1),new u("keria",48,1),new u("teria",48,1),new u("garria",-1,2),new u("larria",-1,1),new u("kirria",-1,1),new u("duria",-1,1),new u("asia",-1,1),new u("tia",-1,1),new u("ezia",-1,1),new u("bizia",-1,1),new u("ontzia",-1,1),new u("ka",-1,1),new u("joka",60,3),new u("aurka",60,10),new u("ska",60,1),new u("xka",60,1),new u("zka",60,1),new u("gibela",-1,1),new u("gela",-1,1),new u("kaila",-1,1),new u("skila",-1,1),new u("tila",-1,1),new u("ola",-1,1),new u("na",-1,1),new u("kana",72,1),new u("ena",72,1),new u("garrena",74,1),new u("gerrena",74,1),new u("urrena",74,1),new u("zaina",72,1),new u("tzaina",78,1),new u("kina",72,1),new u("mina",72,1),new u("garna",72,1),new u("una",72,1),new u("duna",83,1),new u("asuna",83,1),new u("tasuna",85,1),new u("ondoa",-1,1),new u("kondoa",87,1),new u("ngoa",-1,1),new u("zioa",-1,1),new u("koa",-1,1),new u("takoa",91,1),new u("zkoa",91,1),new u("noa",-1,1),new u("zinoa",94,1),new u("aroa",-1,1),new u("taroa",96,1),new u("zaroa",96,1),new u("eroa",-1,1),new u("oroa",-1,1),new u("osoa",-1,1),new u("toa",-1,1),new u("ttoa",102,1),new u("ztoa",102,1),new u("txoa",-1,1),new u("tzoa",-1,1),new u("ñoa",-1,1),new u("ra",-1,1),new u("ara",108,1),new u("dara",109,1),new u("liara",109,1),new u("tiara",109,1),new u("tara",109,1),new u("etara",113,1),new u("tzara",109,1),new u("bera",108,1),new u("kera",108,1),new u("pera",108,1),new u("ora",108,2),new u("tzarra",108,1),new u("korra",108,1),new u("tra",108,1),new u("sa",-1,1),new u("osa",123,1),new u("ta",-1,1),new u("eta",125,1),new u("keta",126,1),new u("sta",125,1),new u("dua",-1,1),new u("mendua",129,1),new u("ordua",129,1),new u("lekua",-1,1),new u("burua",-1,1),new u("durua",-1,1),new u("tsua",-1,1),new u("tua",-1,1),new u("mentua",136,1),new u("estua",136,1),new u("txua",-1,1),new u("zua",-1,1),new u("tzua",140,1),new u("za",-1,1),new u("eza",142,1),new u("eroza",142,1),new u("tza",142,2),new u("koitza",145,1),new u("antza",145,1),new u("gintza",145,1),new u("kintza",145,1),new u("kuntza",145,1),new u("gabe",-1,1),new u("kabe",-1,1),new u("kide",-1,1),new u("alde",-1,1),new u("kalde",154,1),new u("talde",154,1),new u("orde",-1,1),new u("ge",-1,1),new u("zale",-1,1),new u("tzale",159,1),new u("gile",-1,1),new u("eme",-1,1),new u("kume",-1,1),new u("ne",-1,1),new u("zione",164,1),new u("une",164,1),new u("gune",166,1),new u("pe",-1,1),new u("aurre",-1,1),new u("te",-1,1),new u("kote",170,1),new u("arte",170,1),new u("oste",170,1),new u("etxe",-1,1),new u("gai",-1,1),new u("di",-1,1),new u("aldi",176,1),new u("taldi",177,1),new u("geldi",176,8),new u("handi",176,1),new u("mendi",176,1),new u("gei",-1,1),new u("egi",-1,1),new u("degi",183,1),new u("tegi",183,1),new u("nahi",-1,1),new u("ohi",-1,1),new u("ki",-1,1),new u("toki",188,1),new u("oi",-1,1),new u("goi",190,1),new u("koi",190,1),new u("ari",-1,1),new u("kari",193,1),new u("lari",193,1),new u("tari",193,1),new u("garri",-1,2),new u("larri",-1,1),new u("kirri",-1,1),new u("duri",-1,1),new u("asi",-1,1),new u("ti",-1,1),new u("ontzi",-1,1),new u("ñi",-1,1),new u("ak",-1,1),new u("ek",-1,1),new u("tarik",-1,1),new u("gibel",-1,1),new u("ail",-1,1),new u("kail",209,1),new u("kan",-1,1),new u("tan",-1,1),new u("etan",212,1),new u("en",-1,4),new u("ren",214,2),new u("garren",215,1),new u("gerren",215,1),new u("urren",215,1),new u("ten",214,4),new u("tzen",214,4),new u("zain",-1,1),new u("tzain",221,1),new u("kin",-1,1),new u("min",-1,1),new u("dun",-1,1),new u("asun",-1,1),new u("tasun",226,1),new u("aizun",-1,1),new u("ondo",-1,1),new u("kondo",229,1),new u("go",-1,1),new u("ngo",231,1),new u("zio",-1,1),new u("ko",-1,1),new u("trako",234,5),new u("tako",234,1),new u("etako",236,1),new u("eko",234,1),new u("tariko",234,1),new u("sko",234,1),new u("tuko",234,1),new u("minutuko",241,6),new u("zko",234,1),new u("no",-1,1),new u("zino",244,1),new u("ro",-1,1),new u("aro",246,1),new u("igaro",247,9),new u("taro",247,1),new u("zaro",247,1),new u("ero",246,1),new u("giro",246,1),new u("oro",246,1),new u("oso",-1,1),new u("to",-1,1),new u("tto",255,1),new u("zto",255,1),new u("txo",-1,1),new u("tzo",-1,1),new u("gintzo",259,1),new u("ño",-1,1),new u("zp",-1,1),new u("ar",-1,1),new u("dar",263,1),new u("behar",263,1),new u("zehar",263,7),new u("liar",263,1),new u("tiar",263,1),new u("tar",263,1),new u("tzar",263,1),new u("or",-1,2),new u("kor",271,1),new u("os",-1,1),new u("ket",-1,1),new u("du",-1,1),new u("mendu",275,1),new u("ordu",275,1),new u("leku",-1,1),new u("buru",-1,2),new u("duru",-1,1),new u("tsu",-1,1),new u("tu",-1,1),new u("tatu",282,4),new u("mentu",282,1),new u("estu",282,1),new u("txu",-1,1),new u("zu",-1,1),new u("tzu",287,1),new u("gintzu",288,1),new u("z",-1,1),new u("ez",290,1),new u("eroz",290,1),new u("tz",290,1),new u("koitz",293,1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("zlea",-1,2),new u("keria",-1,1),new u("la",-1,1),new u("era",-1,1),new u("dade",-1,1),new u("tade",-1,1),new u("date",-1,1),new u("tate",-1,1),new u("gi",-1,1),new u("ki",-1,1),new u("ik",-1,1),new u("lanik",10,1),new u("rik",10,1),new u("larik",12,1),new u("ztik",10,1),new u("go",-1,1),new u("ro",-1,1),new u("ero",16,1),new u("to",-1,1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16]}}]),r}(h),g=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e;this.I_p1=this.limit,this.I_p2=this.limit,e=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,252))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,252))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p1=this.cursor;t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,252))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,252))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);return this.cursor=e,!0}},{key:"r_cleaning$esjava$0",value:function(){var e=void 0,t=void 0;e:for(;;){t=this.cursor;t:do{if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_0)))break t;switch(this.ket=this.cursor,e){case 0:break t;case 1:case 2:this.slice_from$esjava$1("a");break;case 3:case 4:this.slice_from$esjava$1("e");break;case 5:case 6:case 11:this.slice_from$esjava$1("i");break;case 7:case 8:this.slice_from$esjava$1("o");break;case 9:case 10:this.slice_from$esjava$1("u");break;case 12:this.slice_from$esjava$1(".");break;case 13:if(this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=t;break e}return!0}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_attached_pronoun$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_1)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R1$esjava$0())return!1;this.slice_del$esjava$0()}return!0}},{key:"r_standard_suffix$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R1$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0();break;case 3:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("log");break;case 4:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("ic");break;case 5:if(!this.r_R1$esjava$0())return!1;this.slice_from$esjava$1("c")}return!0}},{key:"r_verb_suffix$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R1$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0()}return!0}},{key:"r_residual_suffix$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_4)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R1$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_R1$esjava$0())return!1;this.slice_from$esjava$1("ic")}return!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o=void 0;e=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=e,this.limit_backward=this.cursor,this.cursor=this.limit,t=this.limit-this.cursor;e:do{if(!this.r_attached_pronoun$esjava$0())break e}while(0);this.cursor=this.limit-t,n=this.limit-this.cursor;e:do{t:do{o=this.limit-this.cursor;n:do{if(!this.r_standard_suffix$esjava$0())break n;break t}while(0);if(this.cursor=this.limit-o,!this.r_verb_suffix$esjava$0())break e}while(0)}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(!this.r_residual_suffix$esjava$0())break e}while(0);this.cursor=this.limit-i,this.cursor=this.limit_backward,r=this.cursor;e:do{if(!this.r_cleaning$esjava$0())break e}while(0);return this.cursor=r,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("",-1,13),new u("·",0,12),new u("à",0,2),new u("á",0,1),new u("è",0,4),new u("é",0,3),new u("ì",0,6),new u("í",0,5),new u("ï",0,11),new u("ò",0,8),new u("ó",0,7),new u("ú",0,9),new u("ü",0,10)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("la",-1,1),new u("-la",0,1),new u("sela",0,1),new u("le",-1,1),new u("me",-1,1),new u("-me",4,1),new u("se",-1,1),new u("-te",-1,1),new u("hi",-1,1),new u("'hi",8,1),new u("li",-1,1),new u("-li",10,1),new u("'l",-1,1),new u("'m",-1,1),new u("-m",-1,1),new u("'n",-1,1),new u("-n",-1,1),new u("ho",-1,1),new u("'ho",17,1),new u("lo",-1,1),new u("selo",19,1),new u("'s",-1,1),new u("las",-1,1),new u("selas",22,1),new u("les",-1,1),new u("-les",24,1),new u("'ls",-1,1),new u("-ls",-1,1),new u("'ns",-1,1),new u("-ns",-1,1),new u("ens",-1,1),new u("los",-1,1),new u("selos",31,1),new u("nos",-1,1),new u("-nos",33,1),new u("vos",-1,1),new u("us",-1,1),new u("-us",36,1),new u("'t",-1,1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("ica",-1,4),new u("lógica",0,3),new u("enca",-1,1),new u("ada",-1,2),new u("ancia",-1,1),new u("encia",-1,1),new u("ència",-1,1),new u("ícia",-1,1),new u("logia",-1,3),new u("inia",-1,1),new u("íinia",9,1),new u("eria",-1,1),new u("ària",-1,1),new u("atòria",-1,1),new u("alla",-1,1),new u("ella",-1,1),new u("ívola",-1,1),new u("ima",-1,1),new u("íssima",17,1),new u("quíssima",18,5),new u("ana",-1,1),new u("ina",-1,1),new u("era",-1,1),new u("sfera",22,1),new u("ora",-1,1),new u("dora",24,1),new u("adora",25,1),new u("adura",-1,1),new u("esa",-1,1),new u("osa",-1,1),new u("assa",-1,1),new u("essa",-1,1),new u("issa",-1,1),new u("eta",-1,1),new u("ita",-1,1),new u("ota",-1,1),new u("ista",-1,1),new u("ialista",36,1),new u("ionista",36,1),new u("iva",-1,1),new u("ativa",39,1),new u("nça",-1,1),new u("logía",-1,3),new u("ic",-1,4),new u("ístic",43,1),new u("enc",-1,1),new u("esc",-1,1),new u("ud",-1,1),new u("atge",-1,1),new u("ble",-1,1),new u("able",49,1),new u("ible",49,1),new u("isme",-1,1),new u("ialisme",52,1),new u("ionisme",52,1),new u("ivisme",52,1),new u("aire",-1,1),new u("icte",-1,1),new u("iste",-1,1),new u("ici",-1,1),new u("íci",-1,1),new u("logi",-1,3),new u("ari",-1,1),new u("tori",-1,1),new u("al",-1,1),new u("il",-1,1),new u("all",-1,1),new u("ell",-1,1),new u("ívol",-1,1),new u("isam",-1,1),new u("issem",-1,1),new u("ìssem",-1,1),new u("íssem",-1,1),new u("íssim",-1,1),new u("quíssim",73,5),new u("amen",-1,1),new u("ìssin",-1,1),new u("ar",-1,1),new u("ificar",77,1),new u("egar",77,1),new u("ejar",77,1),new u("itar",77,1),new u("itzar",77,1),new u("fer",-1,1),new u("or",-1,1),new u("dor",84,1),new u("dur",-1,1),new u("doras",-1,1),new u("ics",-1,4),new u("lógics",88,3),new u("uds",-1,1),new u("nces",-1,1),new u("ades",-1,2),new u("ancies",-1,1),new u("encies",-1,1),new u("ències",-1,1),new u("ícies",-1,1),new u("logies",-1,3),new u("inies",-1,1),new u("ínies",-1,1),new u("eries",-1,1),new u("àries",-1,1),new u("atòries",-1,1),new u("bles",-1,1),new u("ables",103,1),new u("ibles",103,1),new u("imes",-1,1),new u("íssimes",106,1),new u("quíssimes",107,5),new u("formes",-1,1),new u("ismes",-1,1),new u("ialismes",110,1),new u("ines",-1,1),new u("eres",-1,1),new u("ores",-1,1),new u("dores",114,1),new u("idores",115,1),new u("dures",-1,1),new u("eses",-1,1),new u("oses",-1,1),new u("asses",-1,1),new u("ictes",-1,1),new u("ites",-1,1),new u("otes",-1,1),new u("istes",-1,1),new u("ialistes",124,1),new u("ionistes",124,1),new u("iques",-1,4),new u("lógiques",127,3),new u("ives",-1,1),new u("atives",129,1),new u("logíes",-1,3),new u("allengües",-1,1),new u("icis",-1,1),new u("ícis",-1,1),new u("logis",-1,3),new u("aris",-1,1),new u("toris",-1,1),new u("ls",-1,1),new u("als",138,1),new u("ells",138,1),new u("ims",-1,1),new u("íssims",141,1),new u("quíssims",142,5),new u("ions",-1,1),new u("cions",144,1),new u("acions",145,2),new u("esos",-1,1),new u("osos",-1,1),new u("assos",-1,1),new u("issos",-1,1),new u("ers",-1,1),new u("ors",-1,1),new u("dors",152,1),new u("adors",153,1),new u("idors",153,1),new u("ats",-1,1),new u("itats",156,1),new u("bilitats",157,1),new u("ivitats",157,1),new u("ativitats",159,1),new u("ïtats",156,1),new u("ets",-1,1),new u("ants",-1,1),new u("ents",-1,1),new u("ments",164,1),new u("aments",165,1),new u("ots",-1,1),new u("uts",-1,1),new u("ius",-1,1),new u("trius",169,1),new u("atius",169,1),new u("ès",-1,1),new u("és",-1,1),new u("ís",-1,1),new u("dís",174,1),new u("ós",-1,1),new u("itat",-1,1),new u("bilitat",177,1),new u("ivitat",177,1),new u("ativitat",179,1),new u("ïtat",-1,1),new u("et",-1,1),new u("ant",-1,1),new u("ent",-1,1),new u("ient",184,1),new u("ment",184,1),new u("ament",186,1),new u("isament",187,1),new u("ot",-1,1),new u("isseu",-1,1),new u("ìsseu",-1,1),new u("ísseu",-1,1),new u("triu",-1,1),new u("íssiu",-1,1),new u("atiu",-1,1),new u("ó",-1,1),new u("ió",196,1),new u("ció",197,1),new u("ació",198,1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("aba",-1,1),new u("esca",-1,1),new u("isca",-1,1),new u("ïsca",-1,1),new u("ada",-1,1),new u("ida",-1,1),new u("uda",-1,1),new u("ïda",-1,1),new u("ia",-1,1),new u("aria",8,1),new u("iria",8,1),new u("ara",-1,1),new u("iera",-1,1),new u("ira",-1,1),new u("adora",-1,1),new u("ïra",-1,1),new u("ava",-1,1),new u("ixa",-1,1),new u("itza",-1,1),new u("ía",-1,1),new u("aría",19,1),new u("ería",19,1),new u("iría",19,1),new u("ïa",-1,1),new u("isc",-1,1),new u("ïsc",-1,1),new u("ad",-1,1),new u("ed",-1,1),new u("id",-1,1),new u("ie",-1,1),new u("re",-1,1),new u("dre",30,1),new u("ase",-1,1),new u("iese",-1,1),new u("aste",-1,1),new u("iste",-1,1),new u("ii",-1,1),new u("ini",-1,1),new u("esqui",-1,1),new u("eixi",-1,1),new u("itzi",-1,1),new u("am",-1,1),new u("em",-1,1),new u("arem",42,1),new u("irem",42,1),new u("àrem",42,1),new u("írem",42,1),new u("àssem",42,1),new u("éssem",42,1),new u("iguem",42,1),new u("ïguem",42,1),new u("avem",42,1),new u("àvem",42,1),new u("ávem",42,1),new u("irìem",42,1),new u("íem",42,1),new u("aríem",55,1),new u("iríem",55,1),new u("assim",-1,1),new u("essim",-1,1),new u("issim",-1,1),new u("àssim",-1,1),new u("èssim",-1,1),new u("éssim",-1,1),new u("íssim",-1,1),new u("ïm",-1,1),new u("an",-1,1),new u("aban",66,1),new u("arian",66,1),new u("aran",66,1),new u("ieran",66,1),new u("iran",66,1),new u("ían",66,1),new u("arían",72,1),new u("erían",72,1),new u("irían",72,1),new u("en",-1,1),new u("ien",76,1),new u("arien",77,1),new u("irien",77,1),new u("aren",76,1),new u("eren",76,1),new u("iren",76,1),new u("àren",76,1),new u("ïren",76,1),new u("asen",76,1),new u("iesen",76,1),new u("assen",76,1),new u("essen",76,1),new u("issen",76,1),new u("éssen",76,1),new u("ïssen",76,1),new u("esquen",76,1),new u("isquen",76,1),new u("ïsquen",76,1),new u("aven",76,1),new u("ixen",76,1),new u("eixen",96,1),new u("ïxen",76,1),new u("ïen",76,1),new u("in",-1,1),new u("inin",100,1),new u("sin",100,1),new u("isin",102,1),new u("assin",102,1),new u("essin",102,1),new u("issin",102,1),new u("ïssin",102,1),new u("esquin",100,1),new u("eixin",100,1),new u("aron",-1,1),new u("ieron",-1,1),new u("arán",-1,1),new u("erán",-1,1),new u("irán",-1,1),new u("iïn",-1,1),new u("ado",-1,1),new u("ido",-1,1),new u("ando",-1,2),new u("iendo",-1,1),new u("io",-1,1),new u("ixo",-1,1),new u("eixo",121,1),new u("ïxo",-1,1),new u("itzo",-1,1),new u("ar",-1,1),new u("tzar",125,1),new u("er",-1,1),new u("eixer",127,1),new u("ir",-1,1),new u("ador",-1,1),new u("as",-1,1),new u("abas",131,1),new u("adas",131,1),new u("idas",131,1),new u("aras",131,1),new u("ieras",131,1),new u("ías",131,1),new u("arías",137,1),new u("erías",137,1),new u("irías",137,1),new u("ids",-1,1),new u("es",-1,1),new u("ades",142,1),new u("ides",142,1),new u("udes",142,1),new u("ïdes",142,1),new u("atges",142,1),new u("ies",142,1),new u("aries",148,1),new u("iries",148,1),new u("ares",142,1),new u("ires",142,1),new u("adores",142,1),new u("ïres",142,1),new u("ases",142,1),new u("ieses",142,1),new u("asses",142,1),new u("esses",142,1),new u("isses",142,1),new u("ïsses",142,1),new u("ques",142,1),new u("esques",161,1),new u("ïsques",161,1),new u("aves",142,1),new u("ixes",142,1),new u("eixes",165,1),new u("ïxes",142,1),new u("ïes",142,1),new u("abais",-1,1),new u("arais",-1,1),new u("ierais",-1,1),new u("íais",-1,1),new u("aríais",172,1),new u("eríais",172,1),new u("iríais",172,1),new u("aseis",-1,1),new u("ieseis",-1,1),new u("asteis",-1,1),new u("isteis",-1,1),new u("inis",-1,1),new u("sis",-1,1),new u("isis",181,1),new u("assis",181,1),new u("essis",181,1),new u("issis",181,1),new u("ïssis",181,1),new u("esquis",-1,1),new u("eixis",-1,1),new u("itzis",-1,1),new u("áis",-1,1),new u("aréis",-1,1),new u("eréis",-1,1),new u("iréis",-1,1),new u("ams",-1,1),new u("ados",-1,1),new u("idos",-1,1),new u("amos",-1,1),new u("ábamos",197,1),new u("áramos",197,1),new u("iéramos",197,1),new u("íamos",197,1),new u("aríamos",201,1),new u("eríamos",201,1),new u("iríamos",201,1),new u("aremos",-1,1),new u("eremos",-1,1),new u("iremos",-1,1),new u("ásemos",-1,1),new u("iésemos",-1,1),new u("imos",-1,1),new u("adors",-1,1),new u("ass",-1,1),new u("erass",212,1),new u("ess",-1,1),new u("ats",-1,1),new u("its",-1,1),new u("ents",-1,1),new u("às",-1,1),new u("aràs",218,1),new u("iràs",218,1),new u("arás",-1,1),new u("erás",-1,1),new u("irás",-1,1),new u("és",-1,1),new u("arés",224,1),new u("ís",-1,1),new u("iïs",-1,1),new u("at",-1,1),new u("it",-1,1),new u("ant",-1,1),new u("ent",-1,1),new u("int",-1,1),new u("ut",-1,1),new u("ït",-1,1),new u("au",-1,1),new u("erau",235,1),new u("ieu",-1,1),new u("ineu",-1,1),new u("areu",-1,1),new u("ireu",-1,1),new u("àreu",-1,1),new u("íreu",-1,1),new u("asseu",-1,1),new u("esseu",-1,1),new u("eresseu",244,1),new u("àsseu",-1,1),new u("ésseu",-1,1),new u("igueu",-1,1),new u("ïgueu",-1,1),new u("àveu",-1,1),new u("áveu",-1,1),new u("itzeu",-1,1),new u("ìeu",-1,1),new u("irìeu",253,1),new u("íeu",-1,1),new u("aríeu",255,1),new u("iríeu",255,1),new u("assiu",-1,1),new u("issiu",-1,1),new u("àssiu",-1,1),new u("èssiu",-1,1),new u("éssiu",-1,1),new u("íssiu",-1,1),new u("ïu",-1,1),new u("ix",-1,1),new u("eix",265,1),new u("ïx",-1,1),new u("itz",-1,1),new u("ià",-1,1),new u("arà",-1,1),new u("irà",-1,1),new u("itzà",-1,1),new u("ará",-1,1),new u("erá",-1,1),new u("irá",-1,1),new u("irè",-1,1),new u("aré",-1,1),new u("eré",-1,1),new u("iré",-1,1),new u("í",-1,1),new u("iï",-1,1),new u("ió",-1,1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("a",-1,1),new u("e",-1,1),new u("i",-1,1),new u("ïn",-1,1),new u("o",-1,1),new u("ir",-1,1),new u("s",-1,1),new u("is",6,1),new u("os",6,1),new u("ïs",6,1),new u("it",-1,1),new u("eu",-1,1),new u("iu",-1,1),new u("iqu",-1,2),new u("itz",-1,1),new u("à",-1,1),new u("á",-1,1),new u("é",-1,1),new u("ì",-1,1),new u("í",-1,1),new u("ï",-1,1),new u("ó",-1,1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,0,0,0,0,0,0,0,0,0,0,0,0,128,129,81,6,10]}}]),r}(h),v=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e;this.I_pV=this.limit,this.I_p1=this.limit,e=this.cursor;e:do{t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,367))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_pV=this.cursor;t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,367))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,367))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p1=this.cursor}while(0);return this.cursor=e,!0}},{key:"r_RV$esjava$0",value:function(){return this.I_pV<=this.cursor}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_palatalise$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_0)))return!1;if(this.bra=this.cursor,!this.r_RV$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_from$esjava$1("k");break;case 2:this.slice_from$esjava$1("h");break;case 3:this.slice_from$esjava$1("ck");break;case 4:this.slice_from$esjava$1("sk")}return!0}},{key:"r_do_possessive$esjava$0",value:function(){var e,t=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_1)))return!1;if(this.bra=this.cursor,!this.r_RV$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:this.slice_del$esjava$0(),t=this.limit-this.cursor;e:do{if(!this.r_palatalise$esjava$0()){this.cursor=this.limit-t;break e}}while(0)}return!0}},{key:"r_do_case$esjava$0",value:function(){var e,t=void 0,n=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:this.slice_del$esjava$0(),t=this.limit-this.cursor;e:do{if(!this.r_palatalise$esjava$0()){this.cursor=this.limit-t;break e}}while(0);break;case 3:this.slice_from$esjava$1("e"),n=this.limit-this.cursor;e:do{if(!this.r_palatalise$esjava$0()){this.cursor=this.limit-n;break e}}while(0)}return!0}},{key:"r_do_derivational$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:if(this.slice_from$esjava$1("i"),!this.r_palatalise$esjava$0())return!1;break;case 3:if(this.slice_from$esjava$1("e"),!this.r_palatalise$esjava$0())return!1;break;case 4:if(this.slice_from$esjava$1("é"),!this.r_palatalise$esjava$0())return!1;break;case 5:if(this.slice_from$esjava$1("ě"),!this.r_palatalise$esjava$0())return!1;break;case 6:if(this.slice_from$esjava$1("í"),!this.r_palatalise$esjava$0())return!1}return!0}},{key:"r_do_deriv_single$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_4)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_del$esjava$0()}return!0}},{key:"r_do_augmentative$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_5)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:if(this.slice_from$esjava$1("i"),!this.r_palatalise$esjava$0())return!1}return!0}},{key:"r_do_diminutive$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_6)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:if(this.slice_from$esjava$1("e"),!this.r_palatalise$esjava$0())return!1;break;case 3:if(this.slice_from$esjava$1("é"),!this.r_palatalise$esjava$0())return!1;break;case 4:if(this.slice_from$esjava$1("i"),!this.r_palatalise$esjava$0())return!1;break;case 5:if(this.slice_from$esjava$1("í"),!this.r_palatalise$esjava$0())return!1;break;case 6:this.slice_from$esjava$1("á");break;case 7:this.slice_from$esjava$1("a");break;case 8:this.slice_from$esjava$1("o");break;case 9:this.slice_from$esjava$1("u")}return!0}},{key:"r_do_comparative$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_7)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(this.slice_from$esjava$1("ě"),!this.r_palatalise$esjava$0())return!1;break;case 2:if(this.slice_from$esjava$1("e"),!this.r_palatalise$esjava$0())return!1}return!0}},{key:"r_do_aggressive$esjava$0",value:function(){var e,t,n,i=void 0;e=this.limit-this.cursor;e:do{if(!this.r_do_comparative$esjava$0())break e}while(0);this.cursor=this.limit-e,t=this.limit-this.cursor;e:do{if(!this.r_do_diminutive$esjava$0())break e}while(0);this.cursor=this.limit-t,n=this.limit-this.cursor;e:do{if(!this.r_do_augmentative$esjava$0())break e}while(0);this.cursor=this.limit-n;e:do{i=this.limit-this.cursor;t:do{if(!this.r_do_derivational$esjava$0())break t;break e}while(0);if(this.cursor=this.limit-i,!this.r_do_deriv_single$esjava$0())return!1}while(0);return!0}},{key:"stem$esjava$0",value:function(){var e;e=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);return this.cursor=e,this.limit_backward=this.cursor,this.cursor=this.limit,!(!this.r_do_case$esjava$0()||!this.r_do_possessive$esjava$0()||!this.r_do_aggressive$esjava$0()||(this.cursor=this.limit_backward,0))}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}},{key:"I_pV",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_pV")?this._$esjava$I_pV:this._$esjava$I_pV=0},set:function(e){this._$esjava$I_pV=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("ce",-1,1),new u("ze",-1,2),new u("že",-1,2),new u("ci",-1,1),new u("čti",-1,3),new u("šti",-1,4),new u("zi",-1,2),new u("či",-1,1),new u("ži",-1,2),new u("čté",-1,3),new u("šté",-1,4),new u("č",-1,1),new u("čtě",-1,3),new u("ště",-1,4)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("in",-1,2),new u("ov",-1,1),new u("ův",-1,1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("a",-1,1),new u("ama",0,1),new u("ata",0,1),new u("e",-1,2),new u("ěte",3,2),new u("ech",-1,2),new u("atech",5,1),new u("ich",-1,2),new u("ách",-1,1),new u("ích",-1,2),new u("ých",-1,1),new u("i",-1,2),new u("mi",11,1),new u("ami",12,1),new u("emi",12,2),new u("ími",12,2),new u("ými",12,1),new u("ěmi",12,2),new u("ěti",11,2),new u("ovi",11,1),new u("em",-1,3),new u("ětem",20,1),new u("ám",-1,1),new u("ém",-1,2),new u("ím",-1,2),new u("ým",-1,1),new u("atům",-1,1),new u("o",-1,1),new u("iho",27,2),new u("ého",27,2),new u("ího",27,2),new u("es",-1,2),new u("os",-1,1),new u("us",-1,1),new u("at",-1,1),new u("u",-1,1),new u("imu",35,2),new u("ému",35,2),new u("ou",35,1),new u("y",-1,1),new u("aty",39,1),new u("á",-1,1),new u("é",-1,1),new u("ové",42,1),new u("í",-1,2),new u("ý",-1,1),new u("ě",-1,2),new u("ů",-1,1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("ob",-1,1),new u("itb",-1,2),new u("ec",-1,3),new u("inec",2,2),new u("obinec",3,1),new u("ovec",2,1),new u("ic",-1,2),new u("enic",6,3),new u("och",-1,1),new u("ásek",-1,1),new u("nk",-1,1),new u("isk",-1,2),new u("ovisk",11,1),new u("tk",-1,1),new u("vk",-1,1),new u("ník",-1,1),new u("ovník",15,1),new u("ovík",-1,1),new u("čk",-1,1),new u("išk",-1,2),new u("ušk",-1,1),new u("dl",-1,1),new u("itel",-1,2),new u("ul",-1,1),new u("an",-1,1),new u("čan",24,1),new u("en",-1,3),new u("in",-1,2),new u("štin",27,1),new u("ovin",27,1),new u("teln",-1,1),new u("árn",-1,1),new u("írn",-1,6),new u("oun",-1,1),new u("loun",33,1),new u("ovn",-1,1),new u("yn",-1,1),new u("kyn",36,1),new u("án",-1,1),new u("ián",38,2),new u("ín",-1,6),new u("čn",-1,1),new u("ěn",-1,5),new u("as",-1,1),new u("it",-1,2),new u("ot",-1,1),new u("ist",-1,2),new u("ost",-1,1),new u("nost",47,1),new u("out",-1,1),new u("ovišt",-1,1),new u("iv",-1,2),new u("ov",-1,1),new u("tv",-1,1),new u("ctv",53,1),new u("stv",53,1),new u("ovstv",55,1),new u("ovtv",53,1),new u("ač",-1,1),new u("áč",-1,1),new u("oň",-1,1),new u("ář",-1,1),new u("kář",61,1),new u("ionář",61,2),new u("éř",-1,4),new u("néř",64,1),new u("íř",-1,6),new u("ouš",-1,1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("c",-1,1),new u("k",-1,1),new u("l",-1,1),new u("n",-1,1),new u("t",-1,1),new u("č",-1,1)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("isk",-1,2),new u("ák",-1,1),new u("izn",-1,2),new u("ajzn",-1,1)]}},{key:"a_6",get:function(){return delete r.a_6,r.a_6=[new u("k",-1,1),new u("ak",0,7),new u("ek",0,2),new u("anek",2,1),new u("enek",2,2),new u("inek",2,4),new u("onek",2,1),new u("unek",2,1),new u("ánek",2,1),new u("aček",2,1),new u("eček",2,2),new u("iček",2,4),new u("oček",2,1),new u("uček",2,1),new u("áček",2,1),new u("éček",2,3),new u("íček",2,5),new u("oušek",2,1),new u("ik",0,4),new u("ank",0,1),new u("enk",0,1),new u("ink",0,1),new u("onk",0,1),new u("unk",0,1),new u("ánk",0,1),new u("énk",0,1),new u("ínk",0,1),new u("ok",0,8),new u("átk",0,1),new u("uk",0,9),new u("ák",0,6),new u("ék",0,3),new u("ík",0,5),new u("ačk",0,1),new u("ečk",0,1),new u("ičk",0,1),new u("očk",0,1),new u("učk",0,1),new u("áčk",0,1),new u("éčk",0,1),new u("íčk",0,1),new u("ušk",0,1)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("ejš",-1,2),new u("ějš",-1,1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,1,0,0,0,0,0,0,0,0,0,0,0,0,1,17,4,18,0,0,0,4,0,0,0,0,0,0,0,0,0,64]}}]),r}(h),m=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e,t=void 0;this.I_p1=this.limit,e=this.cursor;var n=this.cursor+3;if(0>n||n>this.limit)return!1;this.cursor=n,this.I_x=this.cursor,this.cursor=e;e:for(;;){t=this.cursor;t:do{if(!this.in_grouping$esjava$3(r.g_v,97,248))break t;this.cursor=t;break e}while(0);if(this.cursor=t,this.cursor>=this.limit)return!1;this.cursor++}e:for(;;){t:do{if(!this.out_grouping$esjava$3(r.g_v,97,248))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}this.I_p1=this.cursor;e:do{if(!(this.I_p1<this.I_x))break e;this.I_p1=this.I_x}while(0);return!0}},{key:"r_main_suffix$esjava$0",value:function(){var e,t,n;if(t=this.limit-this.cursor,this.cursor<this.I_p1)return!1;if(this.cursor=this.I_p1,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_0)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,this.limit_backward=n,e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:if(!this.in_grouping_b$esjava$3(r.g_s_ending,97,229))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_consonant_pair$esjava$0",value:function(){var e,t,n=void 0;return e=this.limit-this.cursor,t=this.limit-this.cursor,!(this.cursor<this.I_p1||(this.cursor=this.I_p1,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===this.find_among_b$esjava$1(r.a_1)?(this.limit_backward=n,1):(this.bra=this.cursor,this.limit_backward=n,this.cursor=this.limit-e,this.cursor<=this.limit_backward||(this.cursor--,this.bra=this.cursor,this.slice_del$esjava$0(),0))))}},{key:"r_other_suffix$esjava$0",value:function(){var e,t,n,i,o=void 0;t=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("st"))break e;if(this.bra=this.cursor,!this.eq_s_b$esjava$1("ig"))break e;this.slice_del$esjava$0()}while(0);if(this.cursor=this.limit-t,n=this.limit-this.cursor,this.cursor<this.I_p1)return!1;if(this.cursor=this.I_p1,i=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-n,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2)))return this.limit_backward=i,!1;switch(this.bra=this.cursor,this.limit_backward=i,e){case 0:return!1;case 1:this.slice_del$esjava$0(),o=this.limit-this.cursor;e:do{if(!this.r_consonant_pair$esjava$0())break e}while(0);this.cursor=this.limit-o;break;case 2:this.slice_from$esjava$1("løs")}return!0}},{key:"r_undouble$esjava$0",value:function(){var e,t=void 0;return e=this.limit-this.cursor,!(this.cursor<this.I_p1||(this.cursor=this.I_p1,t=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-e,this.ket=this.cursor,this.out_grouping_b$esjava$3(r.g_v,97,248)?(this.bra=this.cursor,this.S_ch=this.slice_to$esjava$1(this.S_ch),this.limit_backward=t,!this.eq_s_b$esjava$1(this.S_ch.toString())||(this.slice_del$esjava$0(),0)):(this.limit_backward=t,1)))}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r;e=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=e,this.limit_backward=this.cursor,this.cursor=this.limit,t=this.limit-this.cursor;e:do{if(!this.r_main_suffix$esjava$0())break e}while(0);this.cursor=this.limit-t,n=this.limit-this.cursor;e:do{if(!this.r_consonant_pair$esjava$0())break e}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(!this.r_other_suffix$esjava$0())break e}while(0);this.cursor=this.limit-i,r=this.limit-this.cursor;e:do{if(!this.r_undouble$esjava$0())break e}while(0);return this.cursor=this.limit-r,this.cursor=this.limit_backward,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_x",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_x")?this._$esjava$I_x:this._$esjava$I_x=0},set:function(e){this._$esjava$I_x=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}},{key:"S_ch",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$S_ch")?this._$esjava$S_ch:this._$esjava$S_ch=new c},set:function(e){this._$esjava$S_ch=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("hed",-1,1),new u("ethed",0,1),new u("ered",-1,1),new u("e",-1,1),new u("erede",3,1),new u("ende",3,1),new u("erende",5,1),new u("ene",3,1),new u("erne",3,1),new u("ere",3,1),new u("en",-1,1),new u("heden",10,1),new u("eren",10,1),new u("er",-1,1),new u("heder",13,1),new u("erer",13,1),new u("s",-1,2),new u("heds",16,1),new u("es",16,1),new u("endes",18,1),new u("erendes",19,1),new u("enes",18,1),new u("ernes",18,1),new u("eres",18,1),new u("ens",16,1),new u("hedens",24,1),new u("erens",24,1),new u("ers",16,1),new u("ets",16,1),new u("erets",28,1),new u("et",-1,1),new u("eret",30,1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("gd",-1,-1),new u("dt",-1,-1),new u("gt",-1,-1),new u("kt",-1,-1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("ig",-1,1),new u("lig",0,1),new u("elig",1,1),new u("els",-1,1),new u("løst",-1,2)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,1,0,0,0,0,0,0,0,0,0,0,0,0,48,0,128]}},{key:"g_s_ending",get:function(){return delete r.g_s_ending,r.g_s_ending=[239,254,42,3,0,0,0,0,0,0,0,0,0,0,0,0,16]}}]),r}(h),y=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_prelude$esjava$0",value:function(){var e,t,n=void 0,i=void 0,o=void 0,s=void 0,a=void 0;e=this.cursor;e:for(;;){i=this.cursor;t:do{if(this.bra=this.cursor,0===(n=this.find_among$esjava$1(r.a_0)))break t;switch(this.ket=this.cursor,n){case 0:break t;case 1:this.slice_from$esjava$1("a");break;case 2:this.slice_from$esjava$1("e");break;case 3:this.slice_from$esjava$1("i");break;case 4:this.slice_from$esjava$1("o");break;case 5:this.slice_from$esjava$1("u");break;case 6:if(this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=i;break e}this.cursor=e,t=this.cursor;e:do{if(this.bra=this.cursor,!this.eq_s$esjava$1("y")){this.cursor=t;break e}this.ket=this.cursor,this.slice_from$esjava$1("Y")}while(0);e:for(;;){o=this.cursor;t:do{n:for(;;){s=this.cursor;i:do{if(!this.in_grouping$esjava$3(r.g_v,97,232))break i;this.bra=this.cursor;r:do{a=this.cursor;o:do{if(!this.eq_s$esjava$1("i"))break o;if(this.ket=this.cursor,!this.in_grouping$esjava$3(r.g_v,97,232))break o;this.slice_from$esjava$1("I");break r}while(0);if(this.cursor=a,!this.eq_s$esjava$1("y"))break i;this.ket=this.cursor,this.slice_from$esjava$1("Y")}while(0);this.cursor=s;break n}while(0);if(this.cursor=s,this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=o;break e}return!0}},{key:"r_mark_regions$esjava$0",value:function(){this.I_p1=this.limit,this.I_p2=this.limit;e:for(;;){t:do{if(!this.in_grouping$esjava$3(r.g_v,97,232))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}e:for(;;){t:do{if(!this.out_grouping$esjava$3(r.g_v,97,232))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}this.I_p1=this.cursor;e:do{if(!(this.I_p1<3))break e;this.I_p1=3}while(0);e:for(;;){t:do{if(!this.in_grouping$esjava$3(r.g_v,97,232))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}e:for(;;){t:do{if(!this.out_grouping$esjava$3(r.g_v,97,232))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}return this.I_p2=this.cursor,!0}},{key:"r_postlude$esjava$0",value:function(){var e=void 0,t=void 0;e:for(;;){t=this.cursor;t:do{if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_1)))break t;switch(this.ket=this.cursor,e){case 0:break t;case 1:this.slice_from$esjava$1("y");break;case 2:this.slice_from$esjava$1("i");break;case 3:if(this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=t;break e}return!0}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_undouble$esjava$0",value:function(){var e;return e=this.limit-this.cursor,0!==this.find_among_b$esjava$1(r.a_2)&&(this.cursor=this.limit-e,this.ket=this.cursor,!(this.cursor<=this.limit_backward||(this.cursor--,this.bra=this.cursor,this.slice_del$esjava$0(),0)))}},{key:"r_e_ending$esjava$0",value:function(){var e=void 0;return this.B_e_found=!1,this.ket=this.cursor,!!(this.eq_s_b$esjava$1("e")&&(this.bra=this.cursor,this.r_R1$esjava$0()&&(e=this.limit-this.cursor,this.out_grouping_b$esjava$3(r.g_v,97,232)&&(this.cursor=this.limit-e,this.slice_del$esjava$0(),this.B_e_found=!0,this.r_undouble$esjava$0()))))}},{key:"r_en_ending$esjava$0",value:function(){var e,t;if(!this.r_R1$esjava$0())return!1;if(e=this.limit-this.cursor,!this.out_grouping_b$esjava$3(r.g_v,97,232))return!1;this.cursor=this.limit-e,t=this.limit-this.cursor;e:do{if(!this.eq_s_b$esjava$1("gem"))break e;return!1}while(0);return this.cursor=this.limit-t,this.slice_del$esjava$0(),!!this.r_undouble$esjava$0()}},{key:"r_standard_suffix$esjava$0",value:function(){var e,t,n,i,o,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0;e=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(s=this.find_among_b$esjava$1(r.a_3)))break e;switch(this.bra=this.cursor,s){case 0:break e;case 1:if(!this.r_R1$esjava$0())break e;this.slice_from$esjava$1("heid");break;case 2:if(!this.r_en_ending$esjava$0())break e;break;case 3:if(!this.r_R1$esjava$0())break e;if(!this.out_grouping_b$esjava$3(r.g_v_j,97,232))break e;this.slice_del$esjava$0()}}while(0);this.cursor=this.limit-e,t=this.limit-this.cursor;e:do{if(!this.r_e_ending$esjava$0())break e}while(0);this.cursor=this.limit-t,n=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("heid"))break e;if(this.bra=this.cursor,!this.r_R2$esjava$0())break e;a=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("c"))break t;break e}while(0);if(this.cursor=this.limit-a,this.slice_del$esjava$0(),this.ket=this.cursor,!this.eq_s_b$esjava$1("en"))break e;if(this.bra=this.cursor,!this.r_en_ending$esjava$0())break e}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(s=this.find_among_b$esjava$1(r.a_4)))break e;switch(this.bra=this.cursor,s){case 0:break e;case 1:if(!this.r_R2$esjava$0())break e;this.slice_del$esjava$0();t:do{c=this.limit-this.cursor;n:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ig"))break n;if(this.bra=this.cursor,!this.r_R2$esjava$0())break n;u=this.limit-this.cursor;i:do{if(!this.eq_s_b$esjava$1("e"))break i;break n}while(0);this.cursor=this.limit-u,this.slice_del$esjava$0();break t}while(0);if(this.cursor=this.limit-c,!this.r_undouble$esjava$0())break e}while(0);break;case 2:if(!this.r_R2$esjava$0())break e;l=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("e"))break t;break e}while(0);this.cursor=this.limit-l,this.slice_del$esjava$0();break;case 3:if(!this.r_R2$esjava$0())break e;if(this.slice_del$esjava$0(),!this.r_e_ending$esjava$0())break e;break;case 4:if(!this.r_R2$esjava$0())break e;this.slice_del$esjava$0();break;case 5:if(!this.r_R2$esjava$0())break e;if(!this.B_e_found)break e;this.slice_del$esjava$0()}}while(0);this.cursor=this.limit-i,o=this.limit-this.cursor;e:do{if(!this.out_grouping_b$esjava$3(r.g_v_I,73,232))break e;if(h=this.limit-this.cursor,0===this.find_among_b$esjava$1(r.a_5))break e;if(!this.out_grouping_b$esjava$3(r.g_v,97,232))break e;if(this.cursor=this.limit-h,this.ket=this.cursor,this.cursor<=this.limit_backward)break e;this.cursor--,this.bra=this.cursor,this.slice_del$esjava$0()}while(0);return this.cursor=this.limit-o,!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i;e=this.cursor;e:do{if(!this.r_prelude$esjava$0())break e}while(0);this.cursor=e,t=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=t,this.limit_backward=this.cursor,this.cursor=this.limit,n=this.limit-this.cursor;e:do{if(!this.r_standard_suffix$esjava$0())break e}while(0);this.cursor=this.limit-n,this.cursor=this.limit_backward,i=this.cursor;e:do{if(!this.r_postlude$esjava$0())break e}while(0);return this.cursor=i,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}},{key:"B_e_found",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_e_found")?this._$esjava$B_e_found:this._$esjava$B_e_found=!1},set:function(e){this._$esjava$B_e_found=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("",-1,6),new u("á",0,1),new u("ä",0,1),new u("é",0,2),new u("ë",0,2),new u("í",0,3),new u("ï",0,3),new u("ó",0,4),new u("ö",0,4),new u("ú",0,5),new u("ü",0,5)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("",-1,3),new u("I",0,2),new u("Y",0,1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("dd",-1,-1),new u("kk",-1,-1),new u("tt",-1,-1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("ene",-1,2),new u("se",-1,3),new u("en",-1,2),new u("heden",2,1),new u("s",-1,3)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("end",-1,1),new u("ig",-1,2),new u("ing",-1,1),new u("lijk",-1,3),new u("baar",-1,4),new u("bar",-1,5)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("aa",-1,-1),new u("ee",-1,-1),new u("oo",-1,-1),new u("uu",-1,-1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,1,0,0,0,0,0,0,0,0,0,0,0,0,128]}},{key:"g_v_I",get:function(){return delete r.g_v_I,r.g_v_I=[1,0,0,17,65,16,1,0,0,0,0,0,0,0,0,0,0,0,0,128]}},{key:"g_v_j",get:function(){return delete r.g_v_j,r.g_v_j=[17,67,16,1,0,0,0,0,0,0,0,0,0,0,0,0,128]}}]),r}(h),w=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_prelude$esjava$0",value:function(){var e,t,n,i=void 0,o=void 0;this.B_Y_found=!1,e=this.cursor;e:do{if(this.bra=this.cursor,!this.eq_s$esjava$1("'"))break e;this.ket=this.cursor,this.slice_del$esjava$0()}while(0);this.cursor=e,t=this.cursor;e:do{if(this.bra=this.cursor,!this.eq_s$esjava$1("y"))break e;this.ket=this.cursor,this.slice_from$esjava$1("Y"),this.B_Y_found=!0}while(0);this.cursor=t,n=this.cursor;e:for(;;){i=this.cursor;t:do{n:for(;;){o=this.cursor;i:do{if(!this.in_grouping$esjava$3(r.g_v,97,121))break i;if(this.bra=this.cursor,!this.eq_s$esjava$1("y"))break i;this.ket=this.cursor,this.cursor=o;break n}while(0);if(this.cursor=o,this.cursor>=this.limit)break t;this.cursor++}this.slice_from$esjava$1("Y"),this.B_Y_found=!0;continue e}while(0);this.cursor=i;break e}return this.cursor=n,!0}},{key:"r_mark_regions$esjava$0",value:function(){var e,t=void 0;this.I_p1=this.limit,this.I_p2=this.limit,e=this.cursor;e:do{t:do{t=this.cursor;n:do{if(0===this.find_among$esjava$1(r.a_0))break n;break t}while(0);this.cursor=t;n:for(;;){i:do{if(!this.in_grouping$esjava$3(r.g_v,97,121))break i;break n}while(0);if(this.cursor>=this.limit)break e;this.cursor++}n:for(;;){i:do{if(!this.out_grouping$esjava$3(r.g_v,97,121))break i;break n}while(0);if(this.cursor>=this.limit)break e;this.cursor++}}while(0);this.I_p1=this.cursor;t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,121))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,121))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);return this.cursor=e,!0}},{key:"r_shortv$esjava$0",value:function(){var e=void 0;e:do{e=this.limit-this.cursor;t:do{if(!this.out_grouping_b$esjava$3(r.g_v_WXY,89,121))break t;if(!this.in_grouping_b$esjava$3(r.g_v,97,121))break t;if(!this.out_grouping_b$esjava$3(r.g_v,97,121))break t;break e}while(0);if(this.cursor=this.limit-e,!this.out_grouping_b$esjava$3(r.g_v,97,121))return!1;if(!this.in_grouping_b$esjava$3(r.g_v,97,121))return!1;if(this.cursor>this.limit_backward)return!1}while(0);return!0}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_Step_1a$esjava$0",value:function(){var e,t=void 0,n=void 0;e=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(t=this.find_among_b$esjava$1(r.a_1))){this.cursor=this.limit-e;break e}switch(this.bra=this.cursor,t){case 0:this.cursor=this.limit-e;break e;case 1:this.slice_del$esjava$0()}}while(0);if(this.ket=this.cursor,0===(t=this.find_among_b$esjava$1(r.a_2)))return!1;switch(this.bra=this.cursor,t){case 0:return!1;case 1:this.slice_from$esjava$1("ss");break;case 2:e:do{n=this.limit-this.cursor;t:do{var i=this.cursor-2;if(this.limit_backward>i||i>this.limit)break t;this.cursor=i,this.slice_from$esjava$1("i");break e}while(0);this.cursor=this.limit-n,this.slice_from$esjava$1("ie")}while(0);break;case 3:if(this.cursor<=this.limit_backward)return!1;this.cursor--;e:for(;;){t:do{if(!this.in_grouping_b$esjava$3(r.g_v,97,121))break t;break e}while(0);if(this.cursor<=this.limit_backward)return!1;this.cursor--}this.slice_del$esjava$0()}return!0}},{key:"r_Step_1b$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_4)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R1$esjava$0())return!1;this.slice_from$esjava$1("ee");break;case 2:t=this.limit-this.cursor;e:for(;;){t:do{if(!this.in_grouping_b$esjava$3(r.g_v,97,121))break t;break e}while(0);if(this.cursor<=this.limit_backward)return!1;this.cursor--}if(this.cursor=this.limit-t,this.slice_del$esjava$0(),n=this.limit-this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3)))return!1;switch(this.cursor=this.limit-n,e){case 0:return!1;case 1:var o=this.cursor;this.insert$esjava$3(this.cursor,this.cursor,"e"),this.cursor=o;break;case 2:if(this.ket=this.cursor,this.cursor<=this.limit_backward)return!1;this.cursor--,this.bra=this.cursor,this.slice_del$esjava$0();break;case 3:if(this.cursor!==this.I_p1)return!1;if(i=this.limit-this.cursor,!this.r_shortv$esjava$0())return!1;this.cursor=this.limit-i,o=this.cursor,this.insert$esjava$3(this.cursor,this.cursor,"e"),this.cursor=o}}return!0}},{key:"r_Step_1c$esjava$0",value:function(){var e,t=void 0;this.ket=this.cursor;e:do{t=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("y"))break t;break e}while(0);if(this.cursor=this.limit-t,!this.eq_s_b$esjava$1("Y"))return!1}while(0);if(this.bra=this.cursor,!this.out_grouping_b$esjava$3(r.g_v,97,121))return!1;e=this.limit-this.cursor;e:do{if(this.cursor>this.limit_backward)break e;return!1}while(0);return this.cursor=this.limit-e,this.slice_from$esjava$1("i"),!0}},{key:"r_Step_2$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_5)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_from$esjava$1("tion");break;case 2:this.slice_from$esjava$1("ence");break;case 3:this.slice_from$esjava$1("ance");break;case 4:this.slice_from$esjava$1("able");break;case 5:this.slice_from$esjava$1("ent");break;case 6:this.slice_from$esjava$1("ize");break;case 7:this.slice_from$esjava$1("ate");break;case 8:this.slice_from$esjava$1("al");break;case 9:case 14:this.slice_from$esjava$1("ful");break;case 10:this.slice_from$esjava$1("ous");break;case 11:this.slice_from$esjava$1("ive");break;case 12:this.slice_from$esjava$1("ble");break;case 13:if(!this.eq_s_b$esjava$1("l"))return!1;this.slice_from$esjava$1("og");break;case 15:this.slice_from$esjava$1("less");break;case 16:if(!this.in_grouping_b$esjava$3(r.g_valid_LI,99,116))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Step_3$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_6)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_from$esjava$1("tion");break;case 2:this.slice_from$esjava$1("ate");break;case 3:this.slice_from$esjava$1("al");break;case 4:this.slice_from$esjava$1("ic");break;case 5:this.slice_del$esjava$0();break;case 6:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0()}return!0}},{key:"r_Step_4$esjava$0",value:function(){var e,t=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_7)))return!1;if(this.bra=this.cursor,!this.r_R2$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:e:do{t=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("s"))break t;break e}while(0);if(this.cursor=this.limit-t,!this.eq_s_b$esjava$1("t"))return!1}while(0);this.slice_del$esjava$0()}return!0}},{key:"r_Step_5$esjava$0",value:function(){var e,t=void 0,n=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_8)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:e:do{t=this.limit-this.cursor;t:do{if(!this.r_R2$esjava$0())break t;break e}while(0);if(this.cursor=this.limit-t,!this.r_R1$esjava$0())return!1;n=this.limit-this.cursor;t:do{if(!this.r_shortv$esjava$0())break t;return!1}while(0);this.cursor=this.limit-n}while(0);this.slice_del$esjava$0();break;case 2:if(!this.r_R2$esjava$0())return!1;if(!this.eq_s_b$esjava$1("l"))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_exception2$esjava$0",value:function(){return this.ket=this.cursor,0!==this.find_among_b$esjava$1(r.a_9)&&(this.bra=this.cursor,!(this.cursor>this.limit_backward))}},{key:"r_exception1$esjava$0",value:function(){var e;if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_10)))return!1;if(this.ket=this.cursor,this.cursor<this.limit)return!1;switch(e){case 0:return!1;case 1:this.slice_from$esjava$1("ski");break;case 2:this.slice_from$esjava$1("sky");break;case 3:this.slice_from$esjava$1("die");break;case 4:this.slice_from$esjava$1("lie");break;case 5:this.slice_from$esjava$1("tie");break;case 6:this.slice_from$esjava$1("idl");break;case 7:this.slice_from$esjava$1("gentl");break;case 8:this.slice_from$esjava$1("ugli");break;case 9:this.slice_from$esjava$1("earli");break;case 10:this.slice_from$esjava$1("onli");break;case 11:this.slice_from$esjava$1("singl")}return!0}},{key:"r_postlude$esjava$0",value:function(){var e=void 0,t=void 0;if(!this.B_Y_found)return!1;e:for(;;){e=this.cursor;t:do{n:for(;;){t=this.cursor;i:do{if(this.bra=this.cursor,!this.eq_s$esjava$1("Y"))break i;this.ket=this.cursor,this.cursor=t;break n}while(0);if(this.cursor=t,this.cursor>=this.limit)break t;this.cursor++}this.slice_from$esjava$1("y");continue e}while(0);this.cursor=e;break e}return!0}},{key:"stem$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,r=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0,d=void 0;e:do{e=this.cursor;t:do{if(!this.r_exception1$esjava$0())break t;break e}while(0);this.cursor=e;t:do{t=this.cursor;n:do{var f=this.cursor+3;if(0>f||f>this.limit)break n;this.cursor=f;break t}while(0);this.cursor=t;break e}while(0);this.cursor=e,n=this.cursor;t:do{if(!this.r_prelude$esjava$0())break t}while(0);this.cursor=n,i=this.cursor;t:do{if(!this.r_mark_regions$esjava$0())break t}while(0);this.cursor=i,this.limit_backward=this.cursor,this.cursor=this.limit,r=this.limit-this.cursor;t:do{if(!this.r_Step_1a$esjava$0())break t}while(0);this.cursor=this.limit-r;t:do{o=this.limit-this.cursor;n:do{if(!this.r_exception2$esjava$0())break n;break t}while(0);this.cursor=this.limit-o,s=this.limit-this.cursor;n:do{if(!this.r_Step_1b$esjava$0())break n}while(0);this.cursor=this.limit-s,a=this.limit-this.cursor;n:do{if(!this.r_Step_1c$esjava$0())break n}while(0);this.cursor=this.limit-a,c=this.limit-this.cursor;n:do{if(!this.r_Step_2$esjava$0())break n}while(0);this.cursor=this.limit-c,u=this.limit-this.cursor;n:do{if(!this.r_Step_3$esjava$0())break n}while(0);this.cursor=this.limit-u,l=this.limit-this.cursor;n:do{if(!this.r_Step_4$esjava$0())break n}while(0);this.cursor=this.limit-l,h=this.limit-this.cursor;n:do{if(!this.r_Step_5$esjava$0())break n}while(0);this.cursor=this.limit-h}while(0);this.cursor=this.limit_backward,d=this.cursor;t:do{if(!this.r_postlude$esjava$0())break t}while(0);this.cursor=d}while(0);return!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"B_Y_found",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_Y_found")?this._$esjava$B_Y_found:this._$esjava$B_Y_found=!1},set:function(e){this._$esjava$B_Y_found=e}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("arsen",-1,-1),new u("commun",-1,-1),new u("gener",-1,-1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("'",-1,1),new u("'s'",0,1),new u("'s",-1,1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("ied",-1,2),new u("s",-1,3),new u("ies",1,2),new u("sses",1,1),new u("ss",1,-1),new u("us",1,-1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("",-1,3),new u("bb",0,2),new u("dd",0,2),new u("ff",0,2),new u("gg",0,2),new u("bl",0,1),new u("mm",0,2),new u("nn",0,2),new u("pp",0,2),new u("rr",0,2),new u("at",0,1),new u("tt",0,2),new u("iz",0,1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("ed",-1,2),new u("eed",0,1),new u("ing",-1,2),new u("edly",-1,2),new u("eedly",3,1),new u("ingly",-1,2)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("anci",-1,3),new u("enci",-1,2),new u("ogi",-1,13),new u("li",-1,16),new u("bli",3,12),new u("abli",4,4),new u("alli",3,8),new u("fulli",3,14),new u("lessli",3,15),new u("ousli",3,10),new u("entli",3,5),new u("aliti",-1,8),new u("biliti",-1,12),new u("iviti",-1,11),new u("tional",-1,1),new u("ational",14,7),new u("alism",-1,8),new u("ation",-1,7),new u("ization",17,6),new u("izer",-1,6),new u("ator",-1,7),new u("iveness",-1,11),new u("fulness",-1,9),new u("ousness",-1,10)]}},{key:"a_6",get:function(){return delete r.a_6,r.a_6=[new u("icate",-1,4),new u("ative",-1,6),new u("alize",-1,3),new u("iciti",-1,4),new u("ical",-1,4),new u("tional",-1,1),new u("ational",5,2),new u("ful",-1,5),new u("ness",-1,5)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("ic",-1,1),new u("ance",-1,1),new u("ence",-1,1),new u("able",-1,1),new u("ible",-1,1),new u("ate",-1,1),new u("ive",-1,1),new u("ize",-1,1),new u("iti",-1,1),new u("al",-1,1),new u("ism",-1,1),new u("ion",-1,2),new u("er",-1,1),new u("ous",-1,1),new u("ant",-1,1),new u("ent",-1,1),new u("ment",15,1),new u("ement",16,1)]}},{key:"a_8",get:function(){return delete r.a_8,r.a_8=[new u("e",-1,1),new u("l",-1,2)]}},{key:"a_9",get:function(){return delete r.a_9,r.a_9=[new u("succeed",-1,-1),new u("proceed",-1,-1),new u("exceed",-1,-1),new u("canning",-1,-1),new u("inning",-1,-1),new u("earring",-1,-1),new u("herring",-1,-1),new u("outing",-1,-1)]}},{key:"a_10",get:function(){return delete r.a_10,r.a_10=[new u("andes",-1,-1),new u("atlas",-1,-1),new u("bias",-1,-1),new u("cosmos",-1,-1),new u("dying",-1,3),new u("early",-1,9),new u("gently",-1,7),new u("howe",-1,-1),new u("idly",-1,6),new u("lying",-1,4),new u("news",-1,-1),new u("only",-1,10),new u("singly",-1,11),new u("skies",-1,2),new u("skis",-1,1),new u("sky",-1,-1),new u("tying",-1,5),new u("ugly",-1,8)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,1]}},{key:"g_v_WXY",get:function(){return delete r.g_v_WXY,r.g_v_WXY=[1,17,65,208,1]}},{key:"g_valid_LI",get:function(){return delete r.g_valid_LI,r.g_valid_LI=[55,141,2]}}]),r}(h),b=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e=void 0,t=void 0;this.I_p1=this.limit,this.I_p2=this.limit;e:for(;;){e=this.cursor;t:do{if(!this.in_grouping$esjava$3(r.g_V1,97,246))break t;this.cursor=e;break e}while(0);if(this.cursor=e,this.cursor>=this.limit)return!1;this.cursor++}e:for(;;){t:do{if(!this.out_grouping$esjava$3(r.g_V1,97,246))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}this.I_p1=this.cursor;e:for(;;){t=this.cursor;t:do{if(!this.in_grouping$esjava$3(r.g_V1,97,246))break t;this.cursor=t;break e}while(0);if(this.cursor=t,this.cursor>=this.limit)return!1;this.cursor++}e:for(;;){t:do{if(!this.out_grouping$esjava$3(r.g_V1,97,246))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}return this.I_p2=this.cursor,!0}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_particle_etc$esjava$0",value:function(){var e,t,n;if(t=this.limit-this.cursor,this.cursor<this.I_p1)return!1;if(this.cursor=this.I_p1,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_0)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,this.limit_backward=n,e){case 0:return!1;case 1:if(!this.in_grouping_b$esjava$3(r.g_particle_end,97,246))return!1;break;case 2:if(!this.r_R2$esjava$0())return!1}return this.slice_del$esjava$0(),!0}},{key:"r_possessive$esjava$0",value:function(){var e,t,n,i=void 0;if(t=this.limit-this.cursor,this.cursor<this.I_p1)return!1;if(this.cursor=this.I_p1,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_4)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,this.limit_backward=n,e){case 0:return!1;case 1:i=this.limit-this.cursor;e:do{if(!this.eq_s_b$esjava$1("k"))break e;return!1}while(0);this.cursor=this.limit-i,this.slice_del$esjava$0();break;case 2:if(this.slice_del$esjava$0(),this.ket=this.cursor,!this.eq_s_b$esjava$1("kse"))return!1;this.bra=this.cursor,this.slice_from$esjava$1("ksi");break;case 3:this.slice_del$esjava$0();break;case 4:if(0===this.find_among_b$esjava$1(r.a_1))return!1;this.slice_del$esjava$0();break;case 5:if(0===this.find_among_b$esjava$1(r.a_2))return!1;this.slice_del$esjava$0();break;case 6:if(0===this.find_among_b$esjava$1(r.a_3))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_LONG$esjava$0",value:function(){return 0!==this.find_among_b$esjava$1(r.a_5)}},{key:"r_VI$esjava$0",value:function(){return!!this.eq_s_b$esjava$1("i")&&!!this.in_grouping_b$esjava$3(r.g_V2,97,246)}},{key:"r_case_ending$esjava$0",value:function(){var e,t,n,i=void 0,o=void 0,s=void 0;if(t=this.limit-this.cursor,this.cursor<this.I_p1)return!1;if(this.cursor=this.I_p1,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(this.a_6)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,this.limit_backward=n,e){case 0:return!1;case 1:if(!this.eq_s_b$esjava$1("a"))return!1;break;case 2:case 9:if(!this.eq_s_b$esjava$1("e"))return!1;break;case 3:if(!this.eq_s_b$esjava$1("i"))return!1;break;case 4:if(!this.eq_s_b$esjava$1("o"))return!1;break;case 5:if(!this.eq_s_b$esjava$1("ä"))return!1;break;case 6:if(!this.eq_s_b$esjava$1("ö"))return!1;break;case 7:i=this.limit-this.cursor;e:do{o=this.limit-this.cursor;t:do{s=this.limit-this.cursor;n:do{if(!this.r_LONG$esjava$0())break n;break t}while(0);if(this.cursor=this.limit-s,!this.eq_s_b$esjava$1("ie")){this.cursor=this.limit-i;break e}}while(0);if(this.cursor=this.limit-o,this.cursor<=this.limit_backward){this.cursor=this.limit-i;break e}this.cursor--,this.bra=this.cursor}while(0);break;case 8:if(!this.in_grouping_b$esjava$3(r.g_V1,97,246))return!1;if(!this.out_grouping_b$esjava$3(r.g_V1,97,246))return!1}return this.slice_del$esjava$0(),this.B_ending_removed=!0,!0}},{key:"r_other_endings$esjava$0",value:function(){var e,t,n,i=void 0;if(t=this.limit-this.cursor,this.cursor<this.I_p2)return!1;if(this.cursor=this.I_p2,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_7)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,this.limit_backward=n,e){case 0:return!1;case 1:i=this.limit-this.cursor;e:do{if(!this.eq_s_b$esjava$1("po"))break e;return!1}while(0);this.cursor=this.limit-i}return this.slice_del$esjava$0(),!0}},{key:"r_i_plural$esjava$0",value:function(){var e,t=void 0;return e=this.limit-this.cursor,!(this.cursor<this.I_p1||(this.cursor=this.I_p1,t=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-e,this.ket=this.cursor,0===this.find_among_b$esjava$1(r.a_8)?(this.limit_backward=t,1):(this.bra=this.cursor,this.limit_backward=t,this.slice_del$esjava$0(),0)))}},{key:"r_t_plural$esjava$0",value:function(){var e,t,n,i,o,s,a=void 0;if(t=this.limit-this.cursor,this.cursor<this.I_p1)return!1;if(this.cursor=this.I_p1,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,!this.eq_s_b$esjava$1("t"))return this.limit_backward=n,!1;if(this.bra=this.cursor,i=this.limit-this.cursor,!this.in_grouping_b$esjava$3(r.g_V1,97,246))return this.limit_backward=n,!1;if(this.cursor=this.limit-i,this.slice_del$esjava$0(),this.limit_backward=n,o=this.limit-this.cursor,this.cursor<this.I_p2)return!1;if(this.cursor=this.I_p2,s=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-o,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_9)))return this.limit_backward=s,!1;switch(this.bra=this.cursor,this.limit_backward=s,e){case 0:return!1;case 1:a=this.limit-this.cursor;e:do{if(!this.eq_s_b$esjava$1("po"))break e;return!1}while(0);this.cursor=this.limit-a}return this.slice_del$esjava$0(),!0}},{key:"r_tidy$esjava$0",value:function(){var e,t,n,i,o,s,a=void 0,c=void 0,u=void 0;if(e=this.limit-this.cursor,this.cursor<this.I_p1)return!1;this.cursor=this.I_p1,t=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-e,n=this.limit-this.cursor;e:do{if(a=this.limit-this.cursor,!this.r_LONG$esjava$0())break e;if(this.cursor=this.limit-a,this.ket=this.cursor,this.cursor<=this.limit_backward)break e;this.cursor--,this.bra=this.cursor,this.slice_del$esjava$0()}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.in_grouping_b$esjava$3(r.g_AEI,97,228))break e;if(this.bra=this.cursor,!this.out_grouping_b$esjava$3(r.g_V1,97,246))break e;this.slice_del$esjava$0()}while(0);this.cursor=this.limit-i,o=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("j"))break e;this.bra=this.cursor;t:do{c=this.limit-this.cursor;n:do{if(!this.eq_s_b$esjava$1("o"))break n;break t}while(0);if(this.cursor=this.limit-c,!this.eq_s_b$esjava$1("u"))break e}while(0);this.slice_del$esjava$0()}while(0);this.cursor=this.limit-o,s=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("o"))break e;if(this.bra=this.cursor,!this.eq_s_b$esjava$1("j"))break e;this.slice_del$esjava$0()}while(0);this.cursor=this.limit-s,this.limit_backward=t;e:for(;;){u=this.limit-this.cursor;t:do{if(!this.out_grouping_b$esjava$3(r.g_V1,97,246))break t;this.cursor=this.limit-u;break e}while(0);if(this.cursor=this.limit-u,this.cursor<=this.limit_backward)return!1;this.cursor--}return this.ket=this.cursor,!(this.cursor<=this.limit_backward||(this.cursor--,this.bra=this.cursor,this.S_x=this.slice_to$esjava$1(this.S_x),!this.eq_s_b$esjava$1(this.S_x.toString())||(this.slice_del$esjava$0(),0)))}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o,s=void 0,a=void 0,c=void 0;e=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=e,this.B_ending_removed=!1,this.limit_backward=this.cursor,this.cursor=this.limit,t=this.limit-this.cursor;e:do{if(!this.r_particle_etc$esjava$0())break e}while(0);this.cursor=this.limit-t,n=this.limit-this.cursor;e:do{if(!this.r_possessive$esjava$0())break e}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(!this.r_case_ending$esjava$0())break e}while(0);this.cursor=this.limit-i,r=this.limit-this.cursor;e:do{if(!this.r_other_endings$esjava$0())break e}while(0);this.cursor=this.limit-r;e:do{s=this.limit-this.cursor;t:do{if(!this.B_ending_removed)break t;a=this.limit-this.cursor;n:do{if(!this.r_i_plural$esjava$0())break n}while(0);this.cursor=this.limit-a;break e}while(0);this.cursor=this.limit-s,c=this.limit-this.cursor;t:do{if(!this.r_t_plural$esjava$0())break t}while(0);this.cursor=this.limit-c}while(0);o=this.limit-this.cursor;e:do{if(!this.r_tidy$esjava$0())break e}while(0);return this.cursor=this.limit-o,this.cursor=this.limit_backward,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"r_LONG",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.r_LONG$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"r_LONG",this)).call.apply(e,[this].concat(n))}},{key:"r_VI",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.r_VI$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"r_VI",this)).call.apply(e,[this].concat(n))}},{key:"es6bridge",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$es6bridge")?this._$esjava$es6bridge:this._$esjava$es6bridge=this},set:function(e){this._$esjava$es6bridge=e}},{key:"a_6",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$a_6")?this._$esjava$a_6:this._$esjava$a_6=[new u("a",-1,8),new u("lla",0,-1),new u("na",0,-1),new u("ssa",0,-1),new u("ta",0,-1),new u("lta",4,-1),new u("sta",4,-1),new u("tta",4,9),new u("lle",-1,-1),new u("ine",-1,-1),new u("ksi",-1,-1),new u("n",-1,7),new u("han",11,1),new u("den",11,-1,"r_VI",this.es6bridge),new u("seen",11,-1,"r_LONG",this.es6bridge),new u("hen",11,2),new u("tten",11,-1,"r_VI",this.es6bridge),new u("hin",11,3),new u("siin",11,-1,"r_VI",this.es6bridge),new u("hon",11,4),new u("hän",11,5),new u("hön",11,6),new u("ä",-1,8),new u("llä",22,-1),new u("nä",22,-1),new u("ssä",22,-1),new u("tä",22,-1),new u("ltä",26,-1),new u("stä",26,-1),new u("ttä",26,9)]},set:function(e){this._$esjava$a_6=e}},{key:"B_ending_removed",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_ending_removed")?this._$esjava$B_ending_removed:this._$esjava$B_ending_removed=!1},set:function(e){this._$esjava$B_ending_removed=e}},{key:"S_x",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$S_x")?this._$esjava$S_x:this._$esjava$S_x=new c},set:function(e){this._$esjava$S_x=e}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("pa",-1,1),new u("sti",-1,2),new u("kaan",-1,1),new u("han",-1,1),new u("kin",-1,1),new u("hän",-1,1),new u("kään",-1,1),new u("ko",-1,1),new u("pä",-1,1),new u("kö",-1,1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("lla",-1,-1),new u("na",-1,-1),new u("ssa",-1,-1),new u("ta",-1,-1),new u("lta",3,-1),new u("sta",3,-1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("llä",-1,-1),new u("nä",-1,-1),new u("ssä",-1,-1),new u("tä",-1,-1),new u("ltä",3,-1),new u("stä",3,-1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("lle",-1,-1),new u("ine",-1,-1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("nsa",-1,3),new u("mme",-1,3),new u("nne",-1,3),new u("ni",-1,2),new u("si",-1,1),new u("an",-1,4),new u("en",-1,6),new u("än",-1,5),new u("nsä",-1,3)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("aa",-1,-1),new u("ee",-1,-1),new u("ii",-1,-1),new u("oo",-1,-1),new u("uu",-1,-1),new u("ää",-1,-1),new u("öö",-1,-1)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("eja",-1,-1),new u("mma",-1,1),new u("imma",1,-1),new u("mpa",-1,1),new u("impa",3,-1),new u("mmi",-1,1),new u("immi",5,-1),new u("mpi",-1,1),new u("impi",7,-1),new u("ejä",-1,-1),new u("mmä",-1,1),new u("immä",10,-1),new u("mpä",-1,1),new u("impä",12,-1)]}},{key:"a_8",get:function(){return delete r.a_8,r.a_8=[new u("i",-1,-1),new u("j",-1,-1)]}},{key:"a_9",get:function(){return delete r.a_9,r.a_9=[new u("mma",-1,1),new u("imma",0,-1)]}},{key:"g_AEI",get:function(){return delete r.g_AEI,r.g_AEI=[17,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8]}},{key:"g_V1",get:function(){return delete r.g_V1,r.g_V1=[17,65,16,1,0,0,0,0,0,0,0,0,0,0,0,0,8,0,32]}},{key:"g_V2",get:function(){return delete r.g_V2,r.g_V2=[17,65,16,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,32]}},{key:"g_particle_end",get:function(){return delete r.g_particle_end,r.g_particle_end=[17,97,24,1,0,0,0,0,0,0,0,0,0,0,0,0,8,0,32]}}]),r}(h),_=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_prelude$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0;e:for(;;){e=this.cursor;t:do{n:for(;;){t=this.cursor;i:do{r:do{n=this.cursor;o:do{if(!this.in_grouping$esjava$3(r.g_v,97,251))break o;this.bra=this.cursor;s:do{i=this.cursor;a:do{if(!this.eq_s$esjava$1("u"))break a;if(this.ket=this.cursor,!this.in_grouping$esjava$3(r.g_v,97,251))break a;this.slice_from$esjava$1("U");break s}while(0);this.cursor=i;a:do{if(!this.eq_s$esjava$1("i"))break a;if(this.ket=this.cursor,!this.in_grouping$esjava$3(r.g_v,97,251))break a;this.slice_from$esjava$1("I");break s}while(0);if(this.cursor=i,!this.eq_s$esjava$1("y"))break o;this.ket=this.cursor,this.slice_from$esjava$1("Y")}while(0);break r}while(0);this.cursor=n;o:do{if(this.bra=this.cursor,!this.eq_s$esjava$1("y"))break o;if(this.ket=this.cursor,!this.in_grouping$esjava$3(r.g_v,97,251))break o;this.slice_from$esjava$1("Y");break r}while(0);if(this.cursor=n,!this.eq_s$esjava$1("q"))break i;if(this.bra=this.cursor,!this.eq_s$esjava$1("u"))break i;this.ket=this.cursor,this.slice_from$esjava$1("U")}while(0);this.cursor=t;break n}while(0);if(this.cursor=t,this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=e;break e}return!0}},{key:"r_mark_regions$esjava$0",value:function(){var e,t,n=void 0;this.I_pV=this.limit,this.I_p1=this.limit,this.I_p2=this.limit,e=this.cursor;e:do{t:do{n=this.cursor;n:do{if(!this.in_grouping$esjava$3(r.g_v,97,251))break n;if(!this.in_grouping$esjava$3(r.g_v,97,251))break n;if(this.cursor>=this.limit)break n;this.cursor++;break t}while(0);this.cursor=n;n:do{if(0===this.find_among$esjava$1(r.a_0))break n;break t}while(0);if(this.cursor=n,this.cursor>=this.limit)break e;this.cursor++;n:for(;;){i:do{if(!this.in_grouping$esjava$3(r.g_v,97,251))break i;break n}while(0);if(this.cursor>=this.limit)break e;this.cursor++}}while(0);this.I_pV=this.cursor}while(0);this.cursor=e,t=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,251))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,251))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p1=this.cursor;t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,251))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,251))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);return this.cursor=t,!0}},{key:"r_postlude$esjava$0",value:function(){var e=void 0,t=void 0;e:for(;;){t=this.cursor;t:do{if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_1)))break t;switch(this.ket=this.cursor,e){case 0:break t;case 1:this.slice_from$esjava$1("i");break;case 2:this.slice_from$esjava$1("u");break;case 3:this.slice_from$esjava$1("y");break;case 4:if(this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=t;break e}return!0}},{key:"r_RV$esjava$0",value:function(){return this.I_pV<=this.cursor}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_standard_suffix$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0,d=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_4)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),t=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ic")){this.cursor=this.limit-t;break e}this.bra=this.cursor;t:do{n=this.limit-this.cursor;n:do{if(!this.r_R2$esjava$0())break n;this.slice_del$esjava$0();break t}while(0);this.cursor=this.limit-n,this.slice_from$esjava$1("iqU")}while(0)}while(0);break;case 3:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("log");break;case 4:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("u");break;case 5:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("ent");break;case 6:if(!this.r_RV$esjava$0())return!1;this.slice_del$esjava$0(),i=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2))){this.cursor=this.limit-i;break e}switch(this.bra=this.cursor,e){case 0:this.cursor=this.limit-i;break e;case 1:if(!this.r_R2$esjava$0()){this.cursor=this.limit-i;break e}if(this.slice_del$esjava$0(),this.ket=this.cursor,!this.eq_s_b$esjava$1("at")){this.cursor=this.limit-i;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-i;break e}this.slice_del$esjava$0();break;case 2:t:do{o=this.limit-this.cursor;n:do{if(!this.r_R2$esjava$0())break n;this.slice_del$esjava$0();break t}while(0);if(this.cursor=this.limit-o,!this.r_R1$esjava$0()){this.cursor=this.limit-i;break e}this.slice_from$esjava$1("eux")}while(0);break;case 3:if(!this.r_R2$esjava$0()){this.cursor=this.limit-i;break e}this.slice_del$esjava$0();break;case 4:if(!this.r_RV$esjava$0()){this.cursor=this.limit-i;break e}this.slice_from$esjava$1("i")}}while(0);break;case 7:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),s=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3))){this.cursor=this.limit-s;break e}switch(this.bra=this.cursor,e){case 0:this.cursor=this.limit-s;break e;case 1:t:do{a=this.limit-this.cursor;n:do{if(!this.r_R2$esjava$0())break n;this.slice_del$esjava$0();break t}while(0);this.cursor=this.limit-a,this.slice_from$esjava$1("abl")}while(0);break;case 2:t:do{c=this.limit-this.cursor;n:do{if(!this.r_R2$esjava$0())break n;this.slice_del$esjava$0();break t}while(0);this.cursor=this.limit-c,this.slice_from$esjava$1("iqU")}while(0);break;case 3:if(!this.r_R2$esjava$0()){this.cursor=this.limit-s;break e}this.slice_del$esjava$0()}}while(0);break;case 8:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),u=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("at")){this.cursor=this.limit-u;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-u;break e}if(this.slice_del$esjava$0(),this.ket=this.cursor,!this.eq_s_b$esjava$1("ic")){this.cursor=this.limit-u;break e}this.bra=this.cursor;t:do{l=this.limit-this.cursor;n:do{if(!this.r_R2$esjava$0())break n;this.slice_del$esjava$0();break t}while(0);this.cursor=this.limit-l,this.slice_from$esjava$1("iqU")}while(0)}while(0);break;case 9:this.slice_from$esjava$1("eau");break;case 10:if(!this.r_R1$esjava$0())return!1;this.slice_from$esjava$1("al");break;case 11:e:do{h=this.limit-this.cursor;t:do{if(!this.r_R2$esjava$0())break t;this.slice_del$esjava$0();break e}while(0);if(this.cursor=this.limit-h,!this.r_R1$esjava$0())return!1;this.slice_from$esjava$1("eux")}while(0);break;case 12:if(!this.r_R1$esjava$0())return!1;if(!this.out_grouping_b$esjava$3(r.g_v,97,251))return!1;this.slice_del$esjava$0();break;case 13:return!!this.r_RV$esjava$0()&&(this.slice_from$esjava$1("ant"),!1);case 14:return!!this.r_RV$esjava$0()&&(this.slice_from$esjava$1("ent"),!1);case 15:return d=this.limit-this.cursor,!!this.in_grouping_b$esjava$3(r.g_v,97,251)&&!!this.r_RV$esjava$0()&&(this.cursor=this.limit-d,this.slice_del$esjava$0(),!1)}return!0}},{key:"r_i_verb_suffix$esjava$0",value:function(){var e,t,n;if(t=this.limit-this.cursor,this.cursor<this.I_pV)return!1;if(this.cursor=this.I_pV,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_5)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,e){case 0:return this.limit_backward=n,!1;case 1:if(!this.out_grouping_b$esjava$3(r.g_v,97,251))return this.limit_backward=n,!1;this.slice_del$esjava$0()}return this.limit_backward=n,!0}},{key:"r_verb_suffix$esjava$0",value:function(){var e,t,n,i=void 0;if(t=this.limit-this.cursor,this.cursor<this.I_pV)return!1;if(this.cursor=this.I_pV,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_6)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,e){case 0:return this.limit_backward=n,!1;case 1:if(!this.r_R2$esjava$0())return this.limit_backward=n,!1;this.slice_del$esjava$0();break;case 2:this.slice_del$esjava$0();break;case 3:this.slice_del$esjava$0(),i=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("e")){this.cursor=this.limit-i;break e}this.bra=this.cursor,this.slice_del$esjava$0()}while(0)}return this.limit_backward=n,!0}},{key:"r_residual_suffix$esjava$0",value:function(){var e,t,n,i,o=void 0,s=void 0;t=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("s")){this.cursor=this.limit-t;break e}if(this.bra=this.cursor,o=this.limit-this.cursor,!this.out_grouping_b$esjava$3(r.g_keep_with_s,97,232)){this.cursor=this.limit-t;break e}this.cursor=this.limit-o,this.slice_del$esjava$0()}while(0);if(n=this.limit-this.cursor,this.cursor<this.I_pV)return!1;if(this.cursor=this.I_pV,i=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-n,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_7)))return this.limit_backward=i,!1;switch(this.bra=this.cursor,e){case 0:return this.limit_backward=i,!1;case 1:if(!this.r_R2$esjava$0())return this.limit_backward=i,!1;e:do{s=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("s"))break t;break e}while(0);if(this.cursor=this.limit-s,!this.eq_s_b$esjava$1("t"))return this.limit_backward=i,!1}while(0);this.slice_del$esjava$0();break;case 2:this.slice_from$esjava$1("i");break;case 3:this.slice_del$esjava$0();break;case 4:if(!this.eq_s_b$esjava$1("gu"))return this.limit_backward=i,!1;this.slice_del$esjava$0()}return this.limit_backward=i,!0}},{key:"r_un_double$esjava$0",value:function(){var e;return e=this.limit-this.cursor,0!==this.find_among_b$esjava$1(r.a_8)&&(this.cursor=this.limit-e,this.ket=this.cursor,!(this.cursor<=this.limit_backward||(this.cursor--,this.bra=this.cursor,this.slice_del$esjava$0(),0)))}},{key:"r_un_accent$esjava$0",value:function(){var e=void 0,t=1;e:for(;;){t:do{if(!this.out_grouping_b$esjava$3(r.g_v,97,251))break t;t--;continue e}while(0);break e}if(t>0)return!1;this.ket=this.cursor;e:do{e=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("é"))break t;break e}while(0);if(this.cursor=this.limit-e,!this.eq_s_b$esjava$1("è"))return!1}while(0);return this.bra=this.cursor,this.slice_from$esjava$1("e"),!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0;e=this.cursor;e:do{if(!this.r_prelude$esjava$0())break e}while(0);this.cursor=e,t=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=t,this.limit_backward=this.cursor,this.cursor=this.limit,n=this.limit-this.cursor;e:do{t:do{s=this.limit-this.cursor;n:do{a=this.limit-this.cursor;i:do{c=this.limit-this.cursor;r:do{if(!this.r_standard_suffix$esjava$0())break r;break i}while(0);this.cursor=this.limit-c;r:do{if(!this.r_i_verb_suffix$esjava$0())break r;break i}while(0);if(this.cursor=this.limit-c,!this.r_verb_suffix$esjava$0())break n}while(0);this.cursor=this.limit-a,u=this.limit-this.cursor;i:do{this.ket=this.cursor;r:do{l=this.limit-this.cursor;o:do{if(!this.eq_s_b$esjava$1("Y"))break o;this.bra=this.cursor,this.slice_from$esjava$1("i");break r}while(0);if(this.cursor=this.limit-l,!this.eq_s_b$esjava$1("ç")){this.cursor=this.limit-u;break i}this.bra=this.cursor,this.slice_from$esjava$1("c")}while(0)}while(0);break t}while(0);if(this.cursor=this.limit-s,!this.r_residual_suffix$esjava$0())break e}while(0)}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(!this.r_un_double$esjava$0())break e}while(0);this.cursor=this.limit-i,r=this.limit-this.cursor;e:do{if(!this.r_un_accent$esjava$0())break e}while(0);this.cursor=this.limit-r,this.cursor=this.limit_backward,o=this.cursor;e:do{if(!this.r_postlude$esjava$0())break e}while(0);return this.cursor=o,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}},{key:"I_pV",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_pV")?this._$esjava$I_pV:this._$esjava$I_pV=0},set:function(e){this._$esjava$I_pV=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("col",-1,-1),new u("par",-1,-1),new u("tap",-1,-1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("",-1,4),new u("I",0,1),new u("U",0,2),new u("Y",0,3)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("iqU",-1,3),new u("abl",-1,3),new u("Ièr",-1,4),new u("ièr",-1,4),new u("eus",-1,2),new u("iv",-1,1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("ic",-1,2),new u("abil",-1,1),new u("iv",-1,3)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("iqUe",-1,1),new u("atrice",-1,2),new u("ance",-1,1),new u("ence",-1,5),new u("logie",-1,3),new u("able",-1,1),new u("isme",-1,1),new u("euse",-1,11),new u("iste",-1,1),new u("ive",-1,8),new u("if",-1,8),new u("usion",-1,4),new u("ation",-1,2),new u("ution",-1,4),new u("ateur",-1,2),new u("iqUes",-1,1),new u("atrices",-1,2),new u("ances",-1,1),new u("ences",-1,5),new u("logies",-1,3),new u("ables",-1,1),new u("ismes",-1,1),new u("euses",-1,11),new u("istes",-1,1),new u("ives",-1,8),new u("ifs",-1,8),new u("usions",-1,4),new u("ations",-1,2),new u("utions",-1,4),new u("ateurs",-1,2),new u("ments",-1,15),new u("ements",30,6),new u("issements",31,12),new u("ités",-1,7),new u("ment",-1,15),new u("ement",34,6),new u("issement",35,12),new u("amment",34,13),new u("emment",34,14),new u("aux",-1,10),new u("eaux",39,9),new u("eux",-1,1),new u("ité",-1,7)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("ira",-1,1),new u("ie",-1,1),new u("isse",-1,1),new u("issante",-1,1),new u("i",-1,1),new u("irai",4,1),new u("ir",-1,1),new u("iras",-1,1),new u("ies",-1,1),new u("îmes",-1,1),new u("isses",-1,1),new u("issantes",-1,1),new u("îtes",-1,1),new u("is",-1,1),new u("irais",13,1),new u("issais",13,1),new u("irions",-1,1),new u("issions",-1,1),new u("irons",-1,1),new u("issons",-1,1),new u("issants",-1,1),new u("it",-1,1),new u("irait",21,1),new u("issait",21,1),new u("issant",-1,1),new u("iraIent",-1,1),new u("issaIent",-1,1),new u("irent",-1,1),new u("issent",-1,1),new u("iront",-1,1),new u("ît",-1,1),new u("iriez",-1,1),new u("issiez",-1,1),new u("irez",-1,1),new u("issez",-1,1)]}},{key:"a_6",get:function(){return delete r.a_6,r.a_6=[new u("a",-1,3),new u("era",0,2),new u("asse",-1,3),new u("ante",-1,3),new u("ée",-1,2),new u("ai",-1,3),new u("erai",5,2),new u("er",-1,2),new u("as",-1,3),new u("eras",8,2),new u("âmes",-1,3),new u("asses",-1,3),new u("antes",-1,3),new u("âtes",-1,3),new u("ées",-1,2),new u("ais",-1,3),new u("erais",15,2),new u("ions",-1,1),new u("erions",17,2),new u("assions",17,3),new u("erons",-1,2),new u("ants",-1,3),new u("és",-1,2),new u("ait",-1,3),new u("erait",23,2),new u("ant",-1,3),new u("aIent",-1,3),new u("eraIent",26,2),new u("èrent",-1,2),new u("assent",-1,3),new u("eront",-1,2),new u("ât",-1,3),new u("ez",-1,2),new u("iez",32,2),new u("eriez",33,2),new u("assiez",33,3),new u("erez",32,2),new u("é",-1,2)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("e",-1,3),new u("Ière",0,2),new u("ière",0,2),new u("ion",-1,1),new u("Ier",-1,2),new u("ier",-1,2),new u("ë",-1,4)]}},{key:"a_8",get:function(){return delete r.a_8,r.a_8=[new u("ell",-1,-1),new u("eill",-1,-1),new u("enn",-1,-1),new u("onn",-1,-1),new u("ett",-1,-1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,1,0,0,0,0,0,0,0,0,0,0,0,128,130,103,8,5]}},{key:"g_keep_with_s",get:function(){return delete r.g_keep_with_s,r.g_keep_with_s=[1,65,20,0,0,0,0,0,0,0,0,0,0,0,0,0,128]}}]),r}(h),k=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_prelude$esjava$0",value:function(){var e,t=void 0,n=void 0,i=void 0,o=void 0,s=void 0;e=this.cursor;e:for(;;){t=this.cursor;t:do{n:do{n=this.cursor;i:do{if(this.bra=this.cursor,!this.eq_s$esjava$1("ß"))break i;this.ket=this.cursor,this.slice_from$esjava$1("ss");break n}while(0);if(this.cursor=n,this.cursor>=this.limit)break t;this.cursor++}while(0);continue e}while(0);this.cursor=t;break e}this.cursor=e;e:for(;;){i=this.cursor;t:do{n:for(;;){o=this.cursor;i:do{if(!this.in_grouping$esjava$3(r.g_v,97,252))break i;this.bra=this.cursor;r:do{s=this.cursor;o:do{if(!this.eq_s$esjava$1("u"))break o;if(this.ket=this.cursor,!this.in_grouping$esjava$3(r.g_v,97,252))break o;this.slice_from$esjava$1("U");break r}while(0);if(this.cursor=s,!this.eq_s$esjava$1("y"))break i;if(this.ket=this.cursor,!this.in_grouping$esjava$3(r.g_v,97,252))break i;this.slice_from$esjava$1("Y")}while(0);this.cursor=o;break n}while(0);if(this.cursor=o,this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=i;break e}return!0}},{key:"r_mark_regions$esjava$0",value:function(){var e;this.I_p1=this.limit,this.I_p2=this.limit,e=this.cursor;var t=this.cursor+3;if(0>t||t>this.limit)return!1;this.cursor=t,this.I_x=this.cursor,this.cursor=e;e:for(;;){t:do{if(!this.in_grouping$esjava$3(r.g_v,97,252))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}e:for(;;){t:do{if(!this.out_grouping$esjava$3(r.g_v,97,252))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}this.I_p1=this.cursor;e:do{if(!(this.I_p1<this.I_x))break e;this.I_p1=this.I_x}while(0);e:for(;;){t:do{if(!this.in_grouping$esjava$3(r.g_v,97,252))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}e:for(;;){t:do{if(!this.out_grouping$esjava$3(r.g_v,97,252))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}return this.I_p2=this.cursor,!0}},{key:"r_postlude$esjava$0",value:function(){var e=void 0,t=void 0;e:for(;;){t=this.cursor;t:do{if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_0)))break t;switch(this.ket=this.cursor,e){case 0:break t;case 1:this.slice_from$esjava$1("y");break;case 2:case 5:this.slice_from$esjava$1("u");break;case 3:this.slice_from$esjava$1("a");break;case 4:this.slice_from$esjava$1("o");break;case 6:if(this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=t;break e}return!0}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_standard_suffix$esjava$0",value:function(){var e,t,n,i=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0;e=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(i=this.find_among_b$esjava$1(r.a_1)))break e;if(this.bra=this.cursor,!this.r_R1$esjava$0())break e;switch(i){case 0:break e;case 1:this.slice_del$esjava$0();break;case 2:this.slice_del$esjava$0(),o=this.limit-this.cursor;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("s")){this.cursor=this.limit-o;break t}if(this.bra=this.cursor,!this.eq_s_b$esjava$1("nis")){this.cursor=this.limit-o;break t}this.slice_del$esjava$0()}while(0);break;case 3:if(!this.in_grouping_b$esjava$3(r.g_s_ending,98,116))break e;this.slice_del$esjava$0()}}while(0);this.cursor=this.limit-e,t=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(i=this.find_among_b$esjava$1(r.a_2)))break e;if(this.bra=this.cursor,!this.r_R1$esjava$0())break e;switch(i){case 0:break e;case 1:this.slice_del$esjava$0();break;case 2:if(!this.in_grouping_b$esjava$3(r.g_st_ending,98,116))break e;var d=this.cursor-3;if(this.limit_backward>d||d>this.limit)break e;this.cursor=d,this.slice_del$esjava$0()}}while(0);this.cursor=this.limit-t,n=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(i=this.find_among_b$esjava$1(r.a_4)))break e;if(this.bra=this.cursor,!this.r_R2$esjava$0())break e;switch(i){case 0:break e;case 1:this.slice_del$esjava$0(),s=this.limit-this.cursor;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ig")){this.cursor=this.limit-s;break t}this.bra=this.cursor,a=this.limit-this.cursor;n:do{if(!this.eq_s_b$esjava$1("e"))break n;this.cursor=this.limit-s;break t}while(0);if(this.cursor=this.limit-a,!this.r_R2$esjava$0()){this.cursor=this.limit-s;break t}this.slice_del$esjava$0()}while(0);break;case 2:c=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("e"))break t;break e}while(0);this.cursor=this.limit-c,this.slice_del$esjava$0();break;case 3:this.slice_del$esjava$0(),u=this.limit-this.cursor;t:do{this.ket=this.cursor;n:do{l=this.limit-this.cursor;i:do{if(!this.eq_s_b$esjava$1("er"))break i;break n}while(0);if(this.cursor=this.limit-l,!this.eq_s_b$esjava$1("en")){this.cursor=this.limit-u;break t}}while(0);if(this.bra=this.cursor,!this.r_R1$esjava$0()){this.cursor=this.limit-u;break t}this.slice_del$esjava$0()}while(0);break;case 4:this.slice_del$esjava$0(),h=this.limit-this.cursor;t:do{if(this.ket=this.cursor,0===(i=this.find_among_b$esjava$1(r.a_3))){this.cursor=this.limit-h;break t}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-h;break t}switch(i){case 0:this.cursor=this.limit-h;break t;case 1:this.slice_del$esjava$0()}}while(0)}}while(0);return this.cursor=this.limit-n,!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i;e=this.cursor;e:do{if(!this.r_prelude$esjava$0())break e}while(0);this.cursor=e,t=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=t,this.limit_backward=this.cursor,this.cursor=this.limit,n=this.limit-this.cursor;e:do{if(!this.r_standard_suffix$esjava$0())break e}while(0);this.cursor=this.limit-n,this.cursor=this.limit_backward,i=this.cursor;e:do{if(!this.r_postlude$esjava$0())break e}while(0);return this.cursor=i,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_x",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_x")?this._$esjava$I_x:this._$esjava$I_x=0},set:function(e){this._$esjava$I_x=e}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("",-1,6),new u("U",0,2),new u("Y",0,1),new u("ä",0,3),new u("ö",0,4),new u("ü",0,5)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("e",-1,2),new u("em",-1,1),new u("en",-1,2),new u("ern",-1,1),new u("er",-1,1),new u("s",-1,3),new u("es",5,2)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("en",-1,1),new u("er",-1,1),new u("st",-1,2),new u("est",2,1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("ig",-1,1),new u("lich",-1,1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("end",-1,1),new u("ig",-1,2),new u("ung",-1,1),new u("lich",-1,3),new u("isch",-1,2),new u("ik",-1,2),new u("heit",-1,3),new u("keit",-1,4)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,1,0,0,0,0,0,0,0,0,0,0,0,0,8,0,32,8]}},{key:"g_s_ending",get:function(){return delete r.g_s_ending,r.g_s_ending=[117,30,5]}},{key:"g_st_ending",get:function(){return delete r.g_st_ending,r.g_st_ending=[117,30,4]}}]),r}(h),E=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0;this.I_p1=this.limit;e:do{e=this.cursor;t:do{if(!this.in_grouping$esjava$3(r.g_v,97,369))break t;n:for(;;){t=this.cursor;i:do{if(!this.out_grouping$esjava$3(r.g_v,97,369))break i;this.cursor=t;break n}while(0);if(this.cursor=t,this.cursor>=this.limit)break t;this.cursor++}n:do{n=this.cursor;i:do{if(0===this.find_among$esjava$1(r.a_0))break i;break n}while(0);if(this.cursor=n,this.cursor>=this.limit)break t;this.cursor++}while(0);this.I_p1=this.cursor;break e}while(0);if(this.cursor=e,!this.out_grouping$esjava$3(r.g_v,97,369))return!1;t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,369))break n;break t}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}this.I_p1=this.cursor}while(0);return!0}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_v_ending$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_1)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_from$esjava$1("a");break;case 2:this.slice_from$esjava$1("e")}return!0}},{key:"r_double$esjava$0",value:function(){var e;return e=this.limit-this.cursor,0!==this.find_among_b$esjava$1(r.a_2)&&(this.cursor=this.limit-e,!0)}},{key:"r_undouble$esjava$0",value:function(){if(this.cursor<=this.limit_backward)return!1;this.cursor--,this.ket=this.cursor;var e=this.cursor-1;return!(this.limit_backward>e||e>this.limit||(this.cursor=e,this.bra=this.cursor,this.slice_del$esjava$0(),0))}},{key:"r_instrum$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:case 2:if(!this.r_double$esjava$0())return!1}return this.slice_del$esjava$0(),!!this.r_undouble$esjava$0()}},{key:"r_case$esjava$0",value:function(){return this.ket=this.cursor,0!==this.find_among_b$esjava$1(r.a_4)&&(this.bra=this.cursor,!!this.r_R1$esjava$0()&&(this.slice_del$esjava$0(),!!this.r_v_ending$esjava$0()))}},{key:"r_case_special$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_5)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_from$esjava$1("e");break;case 2:case 3:this.slice_from$esjava$1("a")}return!0}},{key:"r_case_other$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_6)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:case 2:this.slice_del$esjava$0();break;case 3:this.slice_from$esjava$1("a");break;case 4:this.slice_from$esjava$1("e")}return!0}},{key:"r_factive$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_7)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:case 2:if(!this.r_double$esjava$0())return!1}return this.slice_del$esjava$0(),!!this.r_undouble$esjava$0()}},{key:"r_plural$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_8)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_from$esjava$1("a");break;case 2:this.slice_from$esjava$1("e");break;case 3:case 4:case 5:case 6:case 7:this.slice_del$esjava$0()}return!0}},{key:"r_owned$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_9)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:case 4:case 7:case 9:this.slice_del$esjava$0();break;case 2:case 5:case 8:this.slice_from$esjava$1("e");break;case 3:case 6:this.slice_from$esjava$1("a")}return!0}},{key:"r_sing_owner$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_10)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:case 4:case 7:case 8:case 9:case 12:case 13:case 16:case 17:case 18:this.slice_del$esjava$0();break;case 2:case 5:case 10:case 14:case 19:this.slice_from$esjava$1("a");break;case 3:case 6:case 11:case 15:case 20:this.slice_from$esjava$1("e")}return!0}},{key:"r_plur_owner$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_11)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:case 4:case 5:case 6:case 9:case 10:case 11:case 14:case 15:case 16:case 17:case 20:case 21:case 24:case 25:case 26:case 29:this.slice_del$esjava$0();break;case 2:case 7:case 12:case 18:case 22:case 27:this.slice_from$esjava$1("a");break;case 3:case 8:case 13:case 19:case 23:case 28:this.slice_from$esjava$1("e")}return!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o,s,a,c,u;e=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=e,this.limit_backward=this.cursor,this.cursor=this.limit,t=this.limit-this.cursor;e:do{if(!this.r_instrum$esjava$0())break e}while(0);this.cursor=this.limit-t,n=this.limit-this.cursor;e:do{if(!this.r_case$esjava$0())break e}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(!this.r_case_special$esjava$0())break e}while(0);this.cursor=this.limit-i,r=this.limit-this.cursor;e:do{if(!this.r_case_other$esjava$0())break e}while(0);this.cursor=this.limit-r,o=this.limit-this.cursor;e:do{if(!this.r_factive$esjava$0())break e}while(0);this.cursor=this.limit-o,s=this.limit-this.cursor;e:do{if(!this.r_owned$esjava$0())break e}while(0);this.cursor=this.limit-s,a=this.limit-this.cursor;e:do{if(!this.r_sing_owner$esjava$0())break e}while(0);this.cursor=this.limit-a,c=this.limit-this.cursor;e:do{if(!this.r_plur_owner$esjava$0())break e}while(0);this.cursor=this.limit-c,u=this.limit-this.cursor;e:do{if(!this.r_plural$esjava$0())break e}while(0);return this.cursor=this.limit-u,this.cursor=this.limit_backward,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("cs",-1,-1),new u("dzs",-1,-1),new u("gy",-1,-1),new u("ly",-1,-1),new u("ny",-1,-1),new u("sz",-1,-1),new u("ty",-1,-1),new u("zs",-1,-1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("á",-1,1),new u("é",-1,2)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("bb",-1,-1),new u("cc",-1,-1),new u("dd",-1,-1),new u("ff",-1,-1),new u("gg",-1,-1),new u("jj",-1,-1),new u("kk",-1,-1),new u("ll",-1,-1),new u("mm",-1,-1),new u("nn",-1,-1),new u("pp",-1,-1),new u("rr",-1,-1),new u("ccs",-1,-1),new u("ss",-1,-1),new u("zzs",-1,-1),new u("tt",-1,-1),new u("vv",-1,-1),new u("ggy",-1,-1),new u("lly",-1,-1),new u("nny",-1,-1),new u("tty",-1,-1),new u("ssz",-1,-1),new u("zz",-1,-1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("al",-1,1),new u("el",-1,2)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("ba",-1,-1),new u("ra",-1,-1),new u("be",-1,-1),new u("re",-1,-1),new u("ig",-1,-1),new u("nak",-1,-1),new u("nek",-1,-1),new u("val",-1,-1),new u("vel",-1,-1),new u("ul",-1,-1),new u("nál",-1,-1),new u("nél",-1,-1),new u("ból",-1,-1),new u("ról",-1,-1),new u("tól",-1,-1),new u("ül",-1,-1),new u("ből",-1,-1),new u("ről",-1,-1),new u("től",-1,-1),new u("n",-1,-1),new u("an",19,-1),new u("ban",20,-1),new u("en",19,-1),new u("ben",22,-1),new u("képpen",22,-1),new u("on",19,-1),new u("ön",19,-1),new u("képp",-1,-1),new u("kor",-1,-1),new u("t",-1,-1),new u("at",29,-1),new u("et",29,-1),new u("ként",29,-1),new u("anként",32,-1),new u("enként",32,-1),new u("onként",32,-1),new u("ot",29,-1),new u("ért",29,-1),new u("öt",29,-1),new u("hez",-1,-1),new u("hoz",-1,-1),new u("höz",-1,-1),new u("vá",-1,-1),new u("vé",-1,-1)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("án",-1,2),new u("én",-1,1),new u("ánként",-1,3)]}},{key:"a_6",get:function(){return delete r.a_6,r.a_6=[new u("stul",-1,2),new u("astul",0,1),new u("ástul",0,3),new u("stül",-1,2),new u("estül",3,1),new u("éstül",3,4)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("á",-1,1),new u("é",-1,2)]}},{key:"a_8",get:function(){return delete r.a_8,r.a_8=[new u("k",-1,7),new u("ak",0,4),new u("ek",0,6),new u("ok",0,5),new u("ák",0,1),new u("ék",0,2),new u("ök",0,3)]}},{key:"a_9",get:function(){return delete r.a_9,r.a_9=[new u("éi",-1,7),new u("áéi",0,6),new u("ééi",0,5),new u("é",-1,9),new u("ké",3,4),new u("aké",4,1),new u("eké",4,1),new u("oké",4,1),new u("áké",4,3),new u("éké",4,2),new u("öké",4,1),new u("éé",3,8)]}},{key:"a_10",get:function(){return delete r.a_10,r.a_10=[new u("a",-1,18),new u("ja",0,17),new u("d",-1,16),new u("ad",2,13),new u("ed",2,13),new u("od",2,13),new u("ád",2,14),new u("éd",2,15),new u("öd",2,13),new u("e",-1,18),new u("je",9,17),new u("nk",-1,4),new u("unk",11,1),new u("ánk",11,2),new u("énk",11,3),new u("ünk",11,1),new u("uk",-1,8),new u("juk",16,7),new u("ájuk",17,5),new u("ük",-1,8),new u("jük",19,7),new u("éjük",20,6),new u("m",-1,12),new u("am",22,9),new u("em",22,9),new u("om",22,9),new u("ám",22,10),new u("ém",22,11),new u("o",-1,18),new u("á",-1,19),new u("é",-1,20)]}},{key:"a_11",get:function(){return delete r.a_11,r.a_11=[new u("id",-1,10),new u("aid",0,9),new u("jaid",1,6),new u("eid",0,9),new u("jeid",3,6),new u("áid",0,7),new u("éid",0,8),new u("i",-1,15),new u("ai",7,14),new u("jai",8,11),new u("ei",7,14),new u("jei",10,11),new u("ái",7,12),new u("éi",7,13),new u("itek",-1,24),new u("eitek",14,21),new u("jeitek",15,20),new u("éitek",14,23),new u("ik",-1,29),new u("aik",18,26),new u("jaik",19,25),new u("eik",18,26),new u("jeik",21,25),new u("áik",18,27),new u("éik",18,28),new u("ink",-1,20),new u("aink",25,17),new u("jaink",26,16),new u("eink",25,17),new u("jeink",28,16),new u("áink",25,18),new u("éink",25,19),new u("aitok",-1,21),new u("jaitok",32,20),new u("áitok",-1,22),new u("im",-1,5),new u("aim",35,4),new u("jaim",36,1),new u("eim",35,4),new u("jeim",38,1),new u("áim",35,2),new u("éim",35,3)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,0,0,0,0,0,0,0,0,0,0,0,0,0,1,17,36,10,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1]}}]),r}(h),S=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e,t;this.I_pV=this.limit,this.I_p1=this.limit,this.I_p2=this.limit,e=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,250))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_pV=this.cursor}while(0);this.cursor=e,t=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,250))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,250))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p1=this.cursor;t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,250))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,250))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);return this.cursor=t,!0}},{key:"r_initial_morph$esjava$0",value:function(){var e;if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_0)))return!1;switch(this.ket=this.cursor,e){case 0:return!1;case 1:case 2:case 4:this.slice_del$esjava$0();break;case 3:case 9:case 17:this.slice_from$esjava$1("f");break;case 5:case 12:this.slice_from$esjava$1("s");break;case 6:case 14:this.slice_from$esjava$1("b");break;case 7:case 15:this.slice_from$esjava$1("c");break;case 8:case 16:this.slice_from$esjava$1("d");break;case 10:case 18:this.slice_from$esjava$1("g");break;case 11:case 20:this.slice_from$esjava$1("p");break;case 13:case 21:this.slice_from$esjava$1("t");break;case 19:this.slice_from$esjava$1("m")}return!0}},{key:"r_RV$esjava$0",value:function(){return this.I_pV<=this.cursor}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_noun_sfx$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_1)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R1$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0()}return!0}},{key:"r_deriv$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:this.slice_from$esjava$1("arc");break;case 3:this.slice_from$esjava$1("gin");break;case 4:this.slice_from$esjava$1("graf");break;case 5:this.slice_from$esjava$1("paite");break;case 6:this.slice_from$esjava$1("óid")}return!0}},{key:"r_verb_sfx$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_RV$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_R1$esjava$0())return!1;this.slice_del$esjava$0()}return!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r;e=this.cursor;e:do{if(!this.r_initial_morph$esjava$0())break e}while(0);this.cursor=e,t=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=t,this.limit_backward=this.cursor,this.cursor=this.limit,n=this.limit-this.cursor;e:do{if(!this.r_noun_sfx$esjava$0())break e}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(!this.r_deriv$esjava$0())break e}while(0);this.cursor=this.limit-i,r=this.limit-this.cursor;e:do{if(!this.r_verb_sfx$esjava$0())break e}while(0);return this.cursor=this.limit-r,this.cursor=this.limit_backward,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}},{key:"I_pV",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_pV")?this._$esjava$I_pV:this._$esjava$I_pV=0},set:function(e){this._$esjava$I_pV=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("b'",-1,4),new u("bh",-1,14),new u("bhf",1,9),new u("bp",-1,11),new u("ch",-1,15),new u("d'",-1,2),new u("d'fh",5,3),new u("dh",-1,16),new u("dt",-1,13),new u("fh",-1,17),new u("gc",-1,7),new u("gh",-1,18),new u("h-",-1,1),new u("m'",-1,4),new u("mb",-1,6),new u("mh",-1,19),new u("n-",-1,1),new u("nd",-1,8),new u("ng",-1,10),new u("ph",-1,20),new u("sh",-1,5),new u("t-",-1,1),new u("th",-1,21),new u("ts",-1,12)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("íochta",-1,1),new u("aíochta",0,1),new u("ire",-1,2),new u("aire",2,2),new u("abh",-1,1),new u("eabh",4,1),new u("ibh",-1,1),new u("aibh",6,1),new u("amh",-1,1),new u("eamh",8,1),new u("imh",-1,1),new u("aimh",10,1),new u("íocht",-1,1),new u("aíocht",12,1),new u("irí",-1,2),new u("airí",14,2)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("óideacha",-1,6),new u("patacha",-1,5),new u("achta",-1,1),new u("arcachta",2,2),new u("eachta",2,1),new u("grafaíochta",-1,4),new u("paite",-1,5),new u("ach",-1,1),new u("each",7,1),new u("óideach",8,6),new u("gineach",8,3),new u("patach",7,5),new u("grafaíoch",-1,4),new u("pataigh",-1,5),new u("óidigh",-1,6),new u("achtúil",-1,1),new u("eachtúil",15,1),new u("gineas",-1,3),new u("ginis",-1,3),new u("acht",-1,1),new u("arcacht",19,2),new u("eacht",19,1),new u("grafaíocht",-1,4),new u("arcachtaí",-1,2),new u("grafaíochtaí",-1,4)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("imid",-1,1),new u("aimid",0,1),new u("ímid",-1,1),new u("aímid",2,1),new u("adh",-1,2),new u("eadh",4,2),new u("faidh",-1,1),new u("fidh",-1,1),new u("áil",-1,2),new u("ain",-1,2),new u("tear",-1,2),new u("tar",-1,2)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,0,0,0,0,0,0,0,0,0,0,0,0,0,1,17,4,2]}}]),r}(h),T=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_prelude$esjava$0",value:function(){var e,t=void 0,n=void 0,i=void 0,o=void 0,s=void 0;e=this.cursor;e:for(;;){n=this.cursor;t:do{if(this.bra=this.cursor,0===(t=this.find_among$esjava$1(r.a_0)))break t;switch(this.ket=this.cursor,t){case 0:break t;case 1:this.slice_from$esjava$1("à");break;case 2:this.slice_from$esjava$1("è");break;case 3:this.slice_from$esjava$1("ì");break;case 4:this.slice_from$esjava$1("ò");break;case 5:this.slice_from$esjava$1("ù");break;case 6:this.slice_from$esjava$1("qU");break;case 7:if(this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=n;break e}this.cursor=e;e:for(;;){i=this.cursor;t:do{n:for(;;){o=this.cursor;i:do{if(!this.in_grouping$esjava$3(r.g_v,97,249))break i;this.bra=this.cursor;r:do{s=this.cursor;o:do{if(!this.eq_s$esjava$1("u"))break o;if(this.ket=this.cursor,!this.in_grouping$esjava$3(r.g_v,97,249))break o;this.slice_from$esjava$1("U");break r}while(0);if(this.cursor=s,!this.eq_s$esjava$1("i"))break i;if(this.ket=this.cursor,!this.in_grouping$esjava$3(r.g_v,97,249))break i;this.slice_from$esjava$1("I")}while(0);this.cursor=o;break n}while(0);if(this.cursor=o,this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=i;break e}return!0}},{key:"r_mark_regions$esjava$0",value:function(){var e,t,n=void 0,i=void 0,o=void 0;this.I_pV=this.limit,this.I_p1=this.limit,this.I_p2=this.limit,e=this.cursor;e:do{t:do{n=this.cursor;n:do{if(!this.in_grouping$esjava$3(r.g_v,97,249))break n;i:do{i=this.cursor;r:do{if(!this.out_grouping$esjava$3(r.g_v,97,249))break r;o:for(;;){s:do{if(!this.in_grouping$esjava$3(r.g_v,97,249))break s;break o}while(0);if(this.cursor>=this.limit)break r;this.cursor++}break i}while(0);if(this.cursor=i,!this.in_grouping$esjava$3(r.g_v,97,249))break n;r:for(;;){o:do{if(!this.out_grouping$esjava$3(r.g_v,97,249))break o;break r}while(0);if(this.cursor>=this.limit)break n;this.cursor++}}while(0);break t}while(0);if(this.cursor=n,!this.out_grouping$esjava$3(r.g_v,97,249))break e;n:do{o=this.cursor;i:do{if(!this.out_grouping$esjava$3(r.g_v,97,249))break i;r:for(;;){o:do{if(!this.in_grouping$esjava$3(r.g_v,97,249))break o;break r}while(0);if(this.cursor>=this.limit)break i;this.cursor++}break n}while(0);if(this.cursor=o,!this.in_grouping$esjava$3(r.g_v,97,249))break e;if(this.cursor>=this.limit)break e;this.cursor++}while(0)}while(0);this.I_pV=this.cursor}while(0);this.cursor=e,t=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,249))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,249))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p1=this.cursor;t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,249))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,249))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);return this.cursor=t,!0}},{key:"r_postlude$esjava$0",value:function(){var e=void 0,t=void 0;e:for(;;){t=this.cursor;t:do{if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_1)))break t;switch(this.ket=this.cursor,e){case 0:break t;case 1:this.slice_from$esjava$1("i");break;case 2:this.slice_from$esjava$1("u");break;case 3:if(this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=t;break e}return!0}},{key:"r_RV$esjava$0",value:function(){return this.I_pV<=this.cursor}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_attached_pronoun$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===this.find_among_b$esjava$1(r.a_2))return!1;if(this.bra=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3)))return!1;if(!this.r_RV$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:this.slice_from$esjava$1("e")}return!0}},{key:"r_standard_suffix$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_6)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),t=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ic")){this.cursor=this.limit-t;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-t;break e}this.slice_del$esjava$0()}while(0);break;case 3:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("log");break;case 4:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("u");break;case 5:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("ente");break;case 6:if(!this.r_RV$esjava$0())return!1;this.slice_del$esjava$0();break;case 7:if(!this.r_R1$esjava$0())return!1;this.slice_del$esjava$0(),n=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_4))){this.cursor=this.limit-n;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-n;break e}switch(this.slice_del$esjava$0(),e){case 0:this.cursor=this.limit-n;break e;case 1:if(this.ket=this.cursor,!this.eq_s_b$esjava$1("at")){this.cursor=this.limit-n;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-n;break e}this.slice_del$esjava$0()}}while(0);break;case 8:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),i=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_5))){this.cursor=this.limit-i;break e}switch(this.bra=this.cursor,e){case 0:this.cursor=this.limit-i;break e;case 1:if(!this.r_R2$esjava$0()){this.cursor=this.limit-i;break e}this.slice_del$esjava$0()}}while(0);break;case 9:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),o=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("at")){this.cursor=this.limit-o;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-o;break e}if(this.slice_del$esjava$0(),this.ket=this.cursor,!this.eq_s_b$esjava$1("ic")){this.cursor=this.limit-o;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-o;break e}this.slice_del$esjava$0()}while(0)}return!0}},{key:"r_verb_suffix$esjava$0",value:function(){var e,t,n;if(t=this.limit-this.cursor,this.cursor<this.I_pV)return!1;if(this.cursor=this.I_pV,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_7)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,e){case 0:return this.limit_backward=n,!1;case 1:this.slice_del$esjava$0()}return this.limit_backward=n,!0}},{key:"r_vowel_suffix$esjava$0",value:function(){var e,t;e=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.in_grouping_b$esjava$3(r.g_AEIO,97,242)){this.cursor=this.limit-e;break e}if(this.bra=this.cursor,!this.r_RV$esjava$0()){this.cursor=this.limit-e;break e}if(this.slice_del$esjava$0(),this.ket=this.cursor,!this.eq_s_b$esjava$1("i")){this.cursor=this.limit-e;break e}if(this.bra=this.cursor,!this.r_RV$esjava$0()){this.cursor=this.limit-e;break e}this.slice_del$esjava$0()}while(0);t=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("h")){this.cursor=this.limit-t;break e}if(this.bra=this.cursor,!this.in_grouping_b$esjava$3(r.g_CG,99,103)){this.cursor=this.limit-t;break e}if(!this.r_RV$esjava$0()){this.cursor=this.limit-t;break e}this.slice_del$esjava$0()}while(0);return!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o,s=void 0;e=this.cursor;e:do{if(!this.r_prelude$esjava$0())break e}while(0);this.cursor=e,t=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=t,this.limit_backward=this.cursor,this.cursor=this.limit,n=this.limit-this.cursor;e:do{if(!this.r_attached_pronoun$esjava$0())break e}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{t:do{s=this.limit-this.cursor;n:do{if(!this.r_standard_suffix$esjava$0())break n;break t}while(0);if(this.cursor=this.limit-s,!this.r_verb_suffix$esjava$0())break e}while(0)}while(0);this.cursor=this.limit-i,r=this.limit-this.cursor;e:do{if(!this.r_vowel_suffix$esjava$0())break e}while(0);this.cursor=this.limit-r,this.cursor=this.limit_backward,o=this.cursor;e:do{if(!this.r_postlude$esjava$0())break e}while(0);return this.cursor=o,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}},{key:"I_pV",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_pV")?this._$esjava$I_pV:this._$esjava$I_pV=0},set:function(e){this._$esjava$I_pV=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("",-1,7),new u("qu",0,6),new u("á",0,1),new u("é",0,2),new u("í",0,3),new u("ó",0,4),new u("ú",0,5)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("",-1,3),new u("I",0,1),new u("U",0,2)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("la",-1,-1),new u("cela",0,-1),new u("gliela",0,-1),new u("mela",0,-1),new u("tela",0,-1),new u("vela",0,-1),new u("le",-1,-1),new u("cele",6,-1),new u("gliele",6,-1),new u("mele",6,-1),new u("tele",6,-1),new u("vele",6,-1),new u("ne",-1,-1),new u("cene",12,-1),new u("gliene",12,-1),new u("mene",12,-1),new u("sene",12,-1),new u("tene",12,-1),new u("vene",12,-1),new u("ci",-1,-1),new u("li",-1,-1),new u("celi",20,-1),new u("glieli",20,-1),new u("meli",20,-1),new u("teli",20,-1),new u("veli",20,-1),new u("gli",20,-1),new u("mi",-1,-1),new u("si",-1,-1),new u("ti",-1,-1),new u("vi",-1,-1),new u("lo",-1,-1),new u("celo",31,-1),new u("glielo",31,-1),new u("melo",31,-1),new u("telo",31,-1),new u("velo",31,-1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("ando",-1,1),new u("endo",-1,1),new u("ar",-1,2),new u("er",-1,2),new u("ir",-1,2)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("ic",-1,-1),new u("abil",-1,-1),new u("os",-1,-1),new u("iv",-1,1)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("ic",-1,1),new u("abil",-1,1),new u("iv",-1,1)]}},{key:"a_6",get:function(){return delete r.a_6,r.a_6=[new u("ica",-1,1),new u("logia",-1,3),new u("osa",-1,1),new u("ista",-1,1),new u("iva",-1,9),new u("anza",-1,1),new u("enza",-1,5),new u("ice",-1,1),new u("atrice",7,1),new u("iche",-1,1),new u("logie",-1,3),new u("abile",-1,1),new u("ibile",-1,1),new u("usione",-1,4),new u("azione",-1,2),new u("uzione",-1,4),new u("atore",-1,2),new u("ose",-1,1),new u("ante",-1,1),new u("mente",-1,1),new u("amente",19,7),new u("iste",-1,1),new u("ive",-1,9),new u("anze",-1,1),new u("enze",-1,5),new u("ici",-1,1),new u("atrici",25,1),new u("ichi",-1,1),new u("abili",-1,1),new u("ibili",-1,1),new u("ismi",-1,1),new u("usioni",-1,4),new u("azioni",-1,2),new u("uzioni",-1,4),new u("atori",-1,2),new u("osi",-1,1),new u("anti",-1,1),new u("amenti",-1,6),new u("imenti",-1,6),new u("isti",-1,1),new u("ivi",-1,9),new u("ico",-1,1),new u("ismo",-1,1),new u("oso",-1,1),new u("amento",-1,6),new u("imento",-1,6),new u("ivo",-1,9),new u("ità",-1,8),new u("istà",-1,1),new u("istè",-1,1),new u("istì",-1,1)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("isca",-1,1),new u("enda",-1,1),new u("ata",-1,1),new u("ita",-1,1),new u("uta",-1,1),new u("ava",-1,1),new u("eva",-1,1),new u("iva",-1,1),new u("erebbe",-1,1),new u("irebbe",-1,1),new u("isce",-1,1),new u("ende",-1,1),new u("are",-1,1),new u("ere",-1,1),new u("ire",-1,1),new u("asse",-1,1),new u("ate",-1,1),new u("avate",16,1),new u("evate",16,1),new u("ivate",16,1),new u("ete",-1,1),new u("erete",20,1),new u("irete",20,1),new u("ite",-1,1),new u("ereste",-1,1),new u("ireste",-1,1),new u("ute",-1,1),new u("erai",-1,1),new u("irai",-1,1),new u("isci",-1,1),new u("endi",-1,1),new u("erei",-1,1),new u("irei",-1,1),new u("assi",-1,1),new u("ati",-1,1),new u("iti",-1,1),new u("eresti",-1,1),new u("iresti",-1,1),new u("uti",-1,1),new u("avi",-1,1),new u("evi",-1,1),new u("ivi",-1,1),new u("isco",-1,1),new u("ando",-1,1),new u("endo",-1,1),new u("Yamo",-1,1),new u("iamo",-1,1),new u("avamo",-1,1),new u("evamo",-1,1),new u("ivamo",-1,1),new u("eremo",-1,1),new u("iremo",-1,1),new u("assimo",-1,1),new u("ammo",-1,1),new u("emmo",-1,1),new u("eremmo",54,1),new u("iremmo",54,1),new u("immo",-1,1),new u("ano",-1,1),new u("iscano",58,1),new u("avano",58,1),new u("evano",58,1),new u("ivano",58,1),new u("eranno",-1,1),new u("iranno",-1,1),new u("ono",-1,1),new u("iscono",65,1),new u("arono",65,1),new u("erono",65,1),new u("irono",65,1),new u("erebbero",-1,1),new u("irebbero",-1,1),new u("assero",-1,1),new u("essero",-1,1),new u("issero",-1,1),new u("ato",-1,1),new u("ito",-1,1),new u("uto",-1,1),new u("avo",-1,1),new u("evo",-1,1),new u("ivo",-1,1),new u("ar",-1,1),new u("ir",-1,1),new u("erà",-1,1),new u("irà",-1,1),new u("erò",-1,1),new u("irò",-1,1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,0,0,0,0,0,0,0,0,0,0,0,0,128,128,8,2,1]}},{key:"g_AEIO",get:function(){return delete r.g_AEIO,r.g_AEIO=[17,65,0,0,0,0,0,0,0,0,0,0,0,0,0,128,128,8,2]}},{key:"g_CG",get:function(){return delete r.g_CG,r.g_CG=[17]}}]),r}(h),P=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e,t=void 0;this.I_p1=this.limit,e=this.cursor;var n=this.cursor+3;if(0>n||n>this.limit)return!1;this.cursor=n,this.I_x=this.cursor,this.cursor=e;e:for(;;){t=this.cursor;t:do{if(!this.in_grouping$esjava$3(r.g_v,97,248))break t;this.cursor=t;break e}while(0);if(this.cursor=t,this.cursor>=this.limit)return!1;this.cursor++}e:for(;;){t:do{if(!this.out_grouping$esjava$3(r.g_v,97,248))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}this.I_p1=this.cursor;e:do{if(!(this.I_p1<this.I_x))break e;this.I_p1=this.I_x}while(0);return!0}},{key:"r_main_suffix$esjava$0",value:function(){var e,t,n,i=void 0;if(t=this.limit-this.cursor,this.cursor<this.I_p1)return!1;if(this.cursor=this.I_p1,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_0)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,this.limit_backward=n,e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:e:do{i=this.limit-this.cursor;t:do{if(!this.in_grouping_b$esjava$3(r.g_s_ending,98,122))break t;break e}while(0);if(this.cursor=this.limit-i,!this.eq_s_b$esjava$1("k"))return!1;if(!this.out_grouping_b$esjava$3(r.g_v,97,248))return!1}while(0);this.slice_del$esjava$0();break;case 3:this.slice_from$esjava$1("er")}return!0}},{key:"r_consonant_pair$esjava$0",value:function(){var e,t,n=void 0;return e=this.limit-this.cursor,t=this.limit-this.cursor,!(this.cursor<this.I_p1||(this.cursor=this.I_p1,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===this.find_among_b$esjava$1(r.a_1)?(this.limit_backward=n,1):(this.bra=this.cursor,this.limit_backward=n,this.cursor=this.limit-e,this.cursor<=this.limit_backward||(this.cursor--,this.bra=this.cursor,this.slice_del$esjava$0(),0))))}},{key:"r_other_suffix$esjava$0",value:function(){var e,t,n;if(t=this.limit-this.cursor,this.cursor<this.I_p1)return!1;if(this.cursor=this.I_p1,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,this.limit_backward=n,e){case 0:return!1;case 1:this.slice_del$esjava$0()}return!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i;e=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=e,this.limit_backward=this.cursor,this.cursor=this.limit,t=this.limit-this.cursor;e:do{if(!this.r_main_suffix$esjava$0())break e}while(0);this.cursor=this.limit-t,n=this.limit-this.cursor;e:do{if(!this.r_consonant_pair$esjava$0())break e}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(!this.r_other_suffix$esjava$0())break e}while(0);return this.cursor=this.limit-i,this.cursor=this.limit_backward,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_x",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_x")?this._$esjava$I_x:this._$esjava$I_x=0},set:function(e){this._$esjava$I_x=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("a",-1,1),new u("e",-1,1),new u("ede",1,1),new u("ande",1,1),new u("ende",1,1),new u("ane",1,1),new u("ene",1,1),new u("hetene",6,1),new u("erte",1,3),new u("en",-1,1),new u("heten",9,1),new u("ar",-1,1),new u("er",-1,1),new u("heter",12,1),new u("s",-1,2),new u("as",14,1),new u("es",14,1),new u("edes",16,1),new u("endes",16,1),new u("enes",16,1),new u("hetenes",19,1),new u("ens",14,1),new u("hetens",21,1),new u("ers",14,1),new u("ets",14,1),new u("et",-1,1),new u("het",25,1),new u("ert",-1,3),new u("ast",-1,1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("dt",-1,-1),new u("vt",-1,-1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("leg",-1,1),new u("eleg",0,1),new u("ig",-1,1),new u("eig",2,1),new u("lig",2,1),new u("elig",4,1),new u("els",-1,1),new u("lov",-1,1),new u("elov",7,1),new u("slov",7,1),new u("hetslov",9,1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,1,0,0,0,0,0,0,0,0,0,0,0,0,48,0,128]}},{key:"g_s_ending",get:function(){return delete r.g_s_ending,r.g_s_ending=[119,125,149,1]}}]),r}(h),C=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_shortv$esjava$0",value:function(){return!!this.out_grouping_b$esjava$3(r.g_v_WXY,89,121)&&!!this.in_grouping_b$esjava$3(r.g_v,97,121)&&!!this.out_grouping_b$esjava$3(r.g_v,97,121)}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_Step_1a$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_0)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_from$esjava$1("ss");break;case 2:this.slice_from$esjava$1("i");break;case 3:this.slice_del$esjava$0()}return!0}},{key:"r_Step_1b$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R1$esjava$0())return!1;this.slice_from$esjava$1("ee");break;case 2:t=this.limit-this.cursor;e:for(;;){t:do{if(!this.in_grouping_b$esjava$3(r.g_v,97,121))break t;break e}while(0);if(this.cursor<=this.limit_backward)return!1;this.cursor--}if(this.cursor=this.limit-t,this.slice_del$esjava$0(),n=this.limit-this.cursor,0===(e=this.find_among_b$esjava$1(r.a_1)))return!1;switch(this.cursor=this.limit-n,e){case 0:return!1;case 1:var o=this.cursor;this.insert$esjava$3(this.cursor,this.cursor,"e"),this.cursor=o;break;case 2:if(this.ket=this.cursor,this.cursor<=this.limit_backward)return!1;this.cursor--,this.bra=this.cursor,this.slice_del$esjava$0();break;case 3:if(this.cursor!==this.I_p1)return!1;if(i=this.limit-this.cursor,!this.r_shortv$esjava$0())return!1;this.cursor=this.limit-i,o=this.cursor,this.insert$esjava$3(this.cursor,this.cursor,"e"),this.cursor=o}}return!0}},{key:"r_Step_1c$esjava$0",value:function(){var e=void 0;this.ket=this.cursor;e:do{e=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("y"))break t;break e}while(0);if(this.cursor=this.limit-e,!this.eq_s_b$esjava$1("Y"))return!1}while(0);this.bra=this.cursor;e:for(;;){t:do{if(!this.in_grouping_b$esjava$3(r.g_v,97,121))break t;break e}while(0);if(this.cursor<=this.limit_backward)return!1;this.cursor--}return this.slice_from$esjava$1("i"),!0}},{key:"r_Step_2$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_from$esjava$1("tion");break;case 2:this.slice_from$esjava$1("ence");break;case 3:this.slice_from$esjava$1("ance");break;case 4:this.slice_from$esjava$1("able");break;case 5:this.slice_from$esjava$1("ent");break;case 6:this.slice_from$esjava$1("e");break;case 7:this.slice_from$esjava$1("ize");break;case 8:this.slice_from$esjava$1("ate");break;case 9:case 10:this.slice_from$esjava$1("al");break;case 11:this.slice_from$esjava$1("ful");break;case 12:this.slice_from$esjava$1("ous");break;case 13:this.slice_from$esjava$1("ive");break;case 14:this.slice_from$esjava$1("ble")}return!0}},{key:"r_Step_3$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_4)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_from$esjava$1("al");break;case 2:this.slice_from$esjava$1("ic");break;case 3:this.slice_del$esjava$0()}return!0}},{key:"r_Step_4$esjava$0",value:function(){var e,t=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_5)))return!1;if(this.bra=this.cursor,!this.r_R2$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:e:do{t=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("s"))break t;break e}while(0);if(this.cursor=this.limit-t,!this.eq_s_b$esjava$1("t"))return!1}while(0);this.slice_del$esjava$0()}return!0}},{key:"r_Step_5a$esjava$0",value:function(){var e=void 0,t=void 0;if(this.ket=this.cursor,!this.eq_s_b$esjava$1("e"))return!1;this.bra=this.cursor;e:do{e=this.limit-this.cursor;t:do{if(!this.r_R2$esjava$0())break t;break e}while(0);if(this.cursor=this.limit-e,!this.r_R1$esjava$0())return!1;t=this.limit-this.cursor;t:do{if(!this.r_shortv$esjava$0())break t;return!1}while(0);this.cursor=this.limit-t}while(0);return this.slice_del$esjava$0(),!0}},{key:"r_Step_5b$esjava$0",value:function(){return this.ket=this.cursor,!(!this.eq_s_b$esjava$1("l")||(this.bra=this.cursor,!this.r_R2$esjava$0()||!this.eq_s_b$esjava$1("l")||(this.slice_del$esjava$0(),0)))}},{key:"stem$esjava$0",value:function(){var e,t,n,i,o,s,a,c,u,l,h,d,f=void 0,p=void 0,g=void 0,v=void 0;this.B_Y_found=!1,e=this.cursor;e:do{if(this.bra=this.cursor,!this.eq_s$esjava$1("y"))break e;this.ket=this.cursor,this.slice_from$esjava$1("Y"),this.B_Y_found=!0}while(0);this.cursor=e,t=this.cursor;e:for(;;){f=this.cursor;t:do{n:for(;;){p=this.cursor;i:do{if(!this.in_grouping$esjava$3(r.g_v,97,121))break i;if(this.bra=this.cursor,!this.eq_s$esjava$1("y"))break i;this.ket=this.cursor,this.cursor=p;break n}while(0);if(this.cursor=p,this.cursor>=this.limit)break t;this.cursor++}this.slice_from$esjava$1("Y"),this.B_Y_found=!0;continue e}while(0);this.cursor=f;break e}this.cursor=t,this.I_p1=this.limit,this.I_p2=this.limit,n=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,121))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,121))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p1=this.cursor;t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,121))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,121))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);this.cursor=n,this.limit_backward=this.cursor,this.cursor=this.limit,i=this.limit-this.cursor;e:do{if(!this.r_Step_1a$esjava$0())break e}while(0);this.cursor=this.limit-i,o=this.limit-this.cursor;e:do{if(!this.r_Step_1b$esjava$0())break e}while(0);this.cursor=this.limit-o,s=this.limit-this.cursor;e:do{if(!this.r_Step_1c$esjava$0())break e}while(0);this.cursor=this.limit-s,a=this.limit-this.cursor;e:do{if(!this.r_Step_2$esjava$0())break e}while(0);this.cursor=this.limit-a,c=this.limit-this.cursor;e:do{if(!this.r_Step_3$esjava$0())break e}while(0);this.cursor=this.limit-c,u=this.limit-this.cursor;e:do{if(!this.r_Step_4$esjava$0())break e}while(0);this.cursor=this.limit-u,l=this.limit-this.cursor;e:do{if(!this.r_Step_5a$esjava$0())break e}while(0);this.cursor=this.limit-l,h=this.limit-this.cursor;e:do{if(!this.r_Step_5b$esjava$0())break e}while(0);this.cursor=this.limit-h,this.cursor=this.limit_backward,d=this.cursor;e:do{if(!this.B_Y_found)break e;t:for(;;){g=this.cursor;n:do{i:for(;;){v=this.cursor;r:do{if(this.bra=this.cursor,!this.eq_s$esjava$1("Y"))break r;this.ket=this.cursor,this.cursor=v;break i}while(0);if(this.cursor=v,this.cursor>=this.limit)break n;this.cursor++}this.slice_from$esjava$1("y");continue t}while(0);this.cursor=g;break t}}while(0);return this.cursor=d,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"B_Y_found",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_Y_found")?this._$esjava$B_Y_found:this._$esjava$B_Y_found=!1},set:function(e){this._$esjava$B_Y_found=e}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("s",-1,3),new u("ies",0,2),new u("sses",0,1),new u("ss",0,-1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("",-1,3),new u("bb",0,2),new u("dd",0,2),new u("ff",0,2),new u("gg",0,2),new u("bl",0,1),new u("mm",0,2),new u("nn",0,2),new u("pp",0,2),new u("rr",0,2),new u("at",0,1),new u("tt",0,2),new u("iz",0,1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("ed",-1,2),new u("eed",0,1),new u("ing",-1,2)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("anci",-1,3),new u("enci",-1,2),new u("abli",-1,4),new u("eli",-1,6),new u("alli",-1,9),new u("ousli",-1,12),new u("entli",-1,5),new u("aliti",-1,10),new u("biliti",-1,14),new u("iviti",-1,13),new u("tional",-1,1),new u("ational",10,8),new u("alism",-1,10),new u("ation",-1,8),new u("ization",13,7),new u("izer",-1,7),new u("ator",-1,8),new u("iveness",-1,13),new u("fulness",-1,11),new u("ousness",-1,12)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("icate",-1,2),new u("ative",-1,3),new u("alize",-1,1),new u("iciti",-1,2),new u("ical",-1,2),new u("ful",-1,3),new u("ness",-1,3)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("ic",-1,1),new u("ance",-1,1),new u("ence",-1,1),new u("able",-1,1),new u("ible",-1,1),new u("ate",-1,1),new u("ive",-1,1),new u("ize",-1,1),new u("iti",-1,1),new u("al",-1,1),new u("ism",-1,1),new u("ion",-1,2),new u("er",-1,1),new u("ous",-1,1),new u("ant",-1,1),new u("ent",-1,1),new u("ment",15,1),new u("ement",16,1),new u("ou",-1,1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,1]}},{key:"g_v_WXY",get:function(){return delete r.g_v_WXY,r.g_v_WXY=[1,17,65,208,1]}}]),r}(h),x=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_prelude$esjava$0",value:function(){var e=void 0,t=void 0;e:for(;;){t=this.cursor;t:do{if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_0)))break t;switch(this.ket=this.cursor,e){case 0:break t;case 1:this.slice_from$esjava$1("a~");break;case 2:this.slice_from$esjava$1("o~");break;case 3:if(this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=t;break e}return!0}},{key:"r_mark_regions$esjava$0",value:function(){var e,t,n=void 0,i=void 0,o=void 0;this.I_pV=this.limit,this.I_p1=this.limit,this.I_p2=this.limit,e=this.cursor;e:do{t:do{n=this.cursor;n:do{if(!this.in_grouping$esjava$3(r.g_v,97,250))break n;i:do{i=this.cursor;r:do{if(!this.out_grouping$esjava$3(r.g_v,97,250))break r;o:for(;;){s:do{if(!this.in_grouping$esjava$3(r.g_v,97,250))break s;break o}while(0);if(this.cursor>=this.limit)break r;this.cursor++}break i}while(0);if(this.cursor=i,!this.in_grouping$esjava$3(r.g_v,97,250))break n;r:for(;;){o:do{if(!this.out_grouping$esjava$3(r.g_v,97,250))break o;break r}while(0);if(this.cursor>=this.limit)break n;this.cursor++}}while(0);break t}while(0);if(this.cursor=n,!this.out_grouping$esjava$3(r.g_v,97,250))break e;n:do{o=this.cursor;i:do{if(!this.out_grouping$esjava$3(r.g_v,97,250))break i;r:for(;;){o:do{if(!this.in_grouping$esjava$3(r.g_v,97,250))break o;break r}while(0);if(this.cursor>=this.limit)break i;this.cursor++}break n}while(0);if(this.cursor=o,!this.in_grouping$esjava$3(r.g_v,97,250))break e;if(this.cursor>=this.limit)break e;this.cursor++}while(0)}while(0);this.I_pV=this.cursor}while(0);this.cursor=e,t=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,250))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,250))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p1=this.cursor;t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,250))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,250))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);return this.cursor=t,!0}},{key:"r_postlude$esjava$0",value:function(){var e=void 0,t=void 0;e:for(;;){t=this.cursor;t:do{if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_1)))break t;switch(this.ket=this.cursor,e){case 0:break t;case 1:this.slice_from$esjava$1("ã");break;case 2:this.slice_from$esjava$1("õ");break;case 3:if(this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=t;break e}return!0}},{key:"r_RV$esjava$0",value:function(){return this.I_pV<=this.cursor}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_standard_suffix$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_5)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("log");break;case 3:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("u");break;case 4:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("ente");break;case 5:if(!this.r_R1$esjava$0())return!1;this.slice_del$esjava$0(),t=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2))){this.cursor=this.limit-t;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-t;break e}switch(this.slice_del$esjava$0(),e){case 0:this.cursor=this.limit-t;break e;case 1:if(this.ket=this.cursor,!this.eq_s_b$esjava$1("at")){this.cursor=this.limit-t;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-t;break e}this.slice_del$esjava$0()}}while(0);break;case 6:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),n=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3))){this.cursor=this.limit-n;break e}switch(this.bra=this.cursor,e){case 0:this.cursor=this.limit-n;break e;case 1:if(!this.r_R2$esjava$0()){this.cursor=this.limit-n;break e}this.slice_del$esjava$0()}}while(0);break;case 7:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),i=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_4))){this.cursor=this.limit-i;break e}switch(this.bra=this.cursor,e){case 0:this.cursor=this.limit-i;break e;case 1:if(!this.r_R2$esjava$0()){this.cursor=this.limit-i;break e}this.slice_del$esjava$0()}}while(0);break;case 8:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),o=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("at")){this.cursor=this.limit-o;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-o;break e}this.slice_del$esjava$0()}while(0);break;case 9:if(!this.r_RV$esjava$0())return!1;if(!this.eq_s_b$esjava$1("e"))return!1;this.slice_from$esjava$1("ir")}return!0}},{key:"r_verb_suffix$esjava$0",value:function(){var e,t,n;if(t=this.limit-this.cursor,this.cursor<this.I_pV)return!1;if(this.cursor=this.I_pV,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_6)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,e){case 0:return this.limit_backward=n,!1;case 1:this.slice_del$esjava$0()}return this.limit_backward=n,!0}},{key:"r_residual_suffix$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_7)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_RV$esjava$0())return!1;this.slice_del$esjava$0()}return!0}},{key:"r_residual_form$esjava$0",value:function(){var e,t=void 0,n=void 0,i=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_8)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_RV$esjava$0())return!1;this.slice_del$esjava$0(),this.ket=this.cursor;e:do{t=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("u"))break t;if(this.bra=this.cursor,n=this.limit-this.cursor,!this.eq_s_b$esjava$1("g"))break t;this.cursor=this.limit-n;break e}while(0);if(this.cursor=this.limit-t,!this.eq_s_b$esjava$1("i"))return!1;if(this.bra=this.cursor,i=this.limit-this.cursor,!this.eq_s_b$esjava$1("c"))return!1;this.cursor=this.limit-i}while(0);if(!this.r_RV$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:this.slice_from$esjava$1("c")}return!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0;e=this.cursor;e:do{if(!this.r_prelude$esjava$0())break e}while(0);this.cursor=e,t=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=t,this.limit_backward=this.cursor,this.cursor=this.limit,n=this.limit-this.cursor;e:do{t:do{o=this.limit-this.cursor;n:do{s=this.limit-this.cursor;i:do{a=this.limit-this.cursor;r:do{if(!this.r_standard_suffix$esjava$0())break r;break i}while(0);if(this.cursor=this.limit-a,!this.r_verb_suffix$esjava$0())break n}while(0);this.cursor=this.limit-s,c=this.limit-this.cursor;i:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("i"))break i;if(this.bra=this.cursor,u=this.limit-this.cursor,!this.eq_s_b$esjava$1("c"))break i;if(this.cursor=this.limit-u,!this.r_RV$esjava$0())break i;this.slice_del$esjava$0()}while(0);this.cursor=this.limit-c;break t}while(0);if(this.cursor=this.limit-o,!this.r_residual_suffix$esjava$0())break e}while(0)}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(!this.r_residual_form$esjava$0())break e}while(0);this.cursor=this.limit-i,this.cursor=this.limit_backward,r=this.cursor;e:do{if(!this.r_postlude$esjava$0())break e}while(0);return this.cursor=r,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}},{key:"I_pV",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_pV")?this._$esjava$I_pV:this._$esjava$I_pV=0},set:function(e){this._$esjava$I_pV=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("",-1,3),new u("ã",0,1),new u("õ",0,2)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("",-1,3),new u("a~",0,1),new u("o~",0,2)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("ic",-1,-1),new u("ad",-1,-1),new u("os",-1,-1),new u("iv",-1,1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("ante",-1,1),new u("avel",-1,1),new u("ível",-1,1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("ic",-1,1),new u("abil",-1,1),new u("iv",-1,1)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("ica",-1,1),new u("ância",-1,1),new u("ência",-1,4),new u("logia",-1,2),new u("ira",-1,9),new u("adora",-1,1),new u("osa",-1,1),new u("ista",-1,1),new u("iva",-1,8),new u("eza",-1,1),new u("idade",-1,7),new u("ante",-1,1),new u("mente",-1,6),new u("amente",12,5),new u("ável",-1,1),new u("ível",-1,1),new u("ico",-1,1),new u("ismo",-1,1),new u("oso",-1,1),new u("amento",-1,1),new u("imento",-1,1),new u("ivo",-1,8),new u("aça~o",-1,1),new u("uça~o",-1,3),new u("ador",-1,1),new u("icas",-1,1),new u("ências",-1,4),new u("logias",-1,2),new u("iras",-1,9),new u("adoras",-1,1),new u("osas",-1,1),new u("istas",-1,1),new u("ivas",-1,8),new u("ezas",-1,1),new u("idades",-1,7),new u("adores",-1,1),new u("antes",-1,1),new u("aço~es",-1,1),new u("uço~es",-1,3),new u("icos",-1,1),new u("ismos",-1,1),new u("osos",-1,1),new u("amentos",-1,1),new u("imentos",-1,1),new u("ivos",-1,8)]}},{key:"a_6",get:function(){return delete r.a_6,r.a_6=[new u("ada",-1,1),new u("ida",-1,1),new u("ia",-1,1),new u("aria",2,1),new u("eria",2,1),new u("iria",2,1),new u("ara",-1,1),new u("era",-1,1),new u("ira",-1,1),new u("ava",-1,1),new u("asse",-1,1),new u("esse",-1,1),new u("isse",-1,1),new u("aste",-1,1),new u("este",-1,1),new u("iste",-1,1),new u("ei",-1,1),new u("arei",16,1),new u("erei",16,1),new u("irei",16,1),new u("am",-1,1),new u("iam",20,1),new u("ariam",21,1),new u("eriam",21,1),new u("iriam",21,1),new u("aram",20,1),new u("eram",20,1),new u("iram",20,1),new u("avam",20,1),new u("em",-1,1),new u("arem",29,1),new u("erem",29,1),new u("irem",29,1),new u("assem",29,1),new u("essem",29,1),new u("issem",29,1),new u("ado",-1,1),new u("ido",-1,1),new u("ando",-1,1),new u("endo",-1,1),new u("indo",-1,1),new u("ara~o",-1,1),new u("era~o",-1,1),new u("ira~o",-1,1),new u("ar",-1,1),new u("er",-1,1),new u("ir",-1,1),new u("as",-1,1),new u("adas",47,1),new u("idas",47,1),new u("ias",47,1),new u("arias",50,1),new u("erias",50,1),new u("irias",50,1),new u("aras",47,1),new u("eras",47,1),new u("iras",47,1),new u("avas",47,1),new u("es",-1,1),new u("ardes",58,1),new u("erdes",58,1),new u("irdes",58,1),new u("ares",58,1),new u("eres",58,1),new u("ires",58,1),new u("asses",58,1),new u("esses",58,1),new u("isses",58,1),new u("astes",58,1),new u("estes",58,1),new u("istes",58,1),new u("is",-1,1),new u("ais",71,1),new u("eis",71,1),new u("areis",73,1),new u("ereis",73,1),new u("ireis",73,1),new u("áreis",73,1),new u("éreis",73,1),new u("íreis",73,1),new u("ásseis",73,1),new u("ésseis",73,1),new u("ísseis",73,1),new u("áveis",73,1),new u("íeis",73,1),new u("aríeis",84,1),new u("eríeis",84,1),new u("iríeis",84,1),new u("ados",-1,1),new u("idos",-1,1),new u("amos",-1,1),new u("áramos",90,1),new u("éramos",90,1),new u("íramos",90,1),new u("ávamos",90,1),new u("íamos",90,1),new u("aríamos",95,1),new u("eríamos",95,1),new u("iríamos",95,1),new u("emos",-1,1),new u("aremos",99,1),new u("eremos",99,1),new u("iremos",99,1),new u("ássemos",99,1),new u("êssemos",99,1),new u("íssemos",99,1),new u("imos",-1,1),new u("armos",-1,1),new u("ermos",-1,1),new u("irmos",-1,1),new u("ámos",-1,1),new u("arás",-1,1),new u("erás",-1,1),new u("irás",-1,1),new u("eu",-1,1),new u("iu",-1,1),new u("ou",-1,1),new u("ará",-1,1),new u("erá",-1,1),new u("irá",-1,1)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("a",-1,1),new u("i",-1,1),new u("o",-1,1),new u("os",-1,1),new u("á",-1,1),new u("í",-1,1),new u("ó",-1,1)]}},{key:"a_8",get:function(){return delete r.a_8,r.a_8=[new u("e",-1,1),new u("ç",-1,2),new u("é",-1,1),new u("ê",-1,1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,0,0,0,0,0,0,0,0,0,0,0,0,0,3,19,12,2]}}]),r}(h),I=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_prelude$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0;e:for(;;){e=this.cursor;t:do{n:for(;;){t=this.cursor;i:do{if(!this.in_grouping$esjava$3(r.g_v,97,259))break i;this.bra=this.cursor;r:do{n=this.cursor;o:do{if(!this.eq_s$esjava$1("u"))break o;if(this.ket=this.cursor,!this.in_grouping$esjava$3(r.g_v,97,259))break o;this.slice_from$esjava$1("U");break r}while(0);if(this.cursor=n,!this.eq_s$esjava$1("i"))break i;if(this.ket=this.cursor,!this.in_grouping$esjava$3(r.g_v,97,259))break i;this.slice_from$esjava$1("I")}while(0);this.cursor=t;break n}while(0);if(this.cursor=t,this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=e;break e}return!0}},{key:"r_mark_regions$esjava$0",value:function(){var e,t,n=void 0,i=void 0,o=void 0;this.I_pV=this.limit,this.I_p1=this.limit,this.I_p2=this.limit,e=this.cursor;e:do{t:do{n=this.cursor;n:do{if(!this.in_grouping$esjava$3(r.g_v,97,259))break n;i:do{i=this.cursor;r:do{if(!this.out_grouping$esjava$3(r.g_v,97,259))break r;o:for(;;){s:do{if(!this.in_grouping$esjava$3(r.g_v,97,259))break s;break o}while(0);if(this.cursor>=this.limit)break r;this.cursor++}break i}while(0);if(this.cursor=i,!this.in_grouping$esjava$3(r.g_v,97,259))break n;r:for(;;){o:do{if(!this.out_grouping$esjava$3(r.g_v,97,259))break o;break r}while(0);if(this.cursor>=this.limit)break n;this.cursor++}}while(0);break t}while(0);if(this.cursor=n,!this.out_grouping$esjava$3(r.g_v,97,259))break e;n:do{o=this.cursor;i:do{if(!this.out_grouping$esjava$3(r.g_v,97,259))break i;r:for(;;){o:do{if(!this.in_grouping$esjava$3(r.g_v,97,259))break o;break r}while(0);if(this.cursor>=this.limit)break i;this.cursor++}break n}while(0);if(this.cursor=o,!this.in_grouping$esjava$3(r.g_v,97,259))break e;if(this.cursor>=this.limit)break e;this.cursor++}while(0)}while(0);this.I_pV=this.cursor}while(0);this.cursor=e,t=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,259))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,259))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p1=this.cursor;t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,259))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,259))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);return this.cursor=t,!0}},{key:"r_postlude$esjava$0",value:function(){var e=void 0,t=void 0;e:for(;;){t=this.cursor;t:do{if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_0)))break t;switch(this.ket=this.cursor,e){case 0:break t;case 1:this.slice_from$esjava$1("i");break;case 2:this.slice_from$esjava$1("u");break;case 3:if(this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=t;break e}return!0}},{key:"r_RV$esjava$0",value:function(){return this.I_pV<=this.cursor}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_step_0$esjava$0",value:function(){var e,t=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_1)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:this.slice_from$esjava$1("a");break;case 3:this.slice_from$esjava$1("e");break;case 4:this.slice_from$esjava$1("i");break;case 5:t=this.limit-this.cursor;e:do{if(!this.eq_s_b$esjava$1("ab"))break e;return!1}while(0);this.cursor=this.limit-t,this.slice_from$esjava$1("i");break;case 6:this.slice_from$esjava$1("at");break;case 7:this.slice_from$esjava$1("aţi")}return!0}},{key:"r_combo_suffix$esjava$0",value:function(){var e,t;if(t=this.limit-this.cursor,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2)))return!1;if(this.bra=this.cursor,!this.r_R1$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_from$esjava$1("abil");break;case 2:this.slice_from$esjava$1("ibil");break;case 3:this.slice_from$esjava$1("iv");break;case 4:this.slice_from$esjava$1("ic");break;case 5:this.slice_from$esjava$1("at");break;case 6:this.slice_from$esjava$1("it")}return this.B_standard_suffix_removed=!0,this.cursor=this.limit-t,!0}},{key:"r_standard_suffix$esjava$0",value:function(){var e,t=void 0;this.B_standard_suffix_removed=!1;e:for(;;){t=this.limit-this.cursor;t:do{if(!this.r_combo_suffix$esjava$0())break t;continue e}while(0);this.cursor=this.limit-t;break e}if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3)))return!1;if(this.bra=this.cursor,!this.r_R2$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:if(!this.eq_s_b$esjava$1("ţ"))return!1;this.bra=this.cursor,this.slice_from$esjava$1("t");break;case 3:this.slice_from$esjava$1("ist")}return this.B_standard_suffix_removed=!0,!0}},{key:"r_verb_suffix$esjava$0",value:function(){var e,t,n,i=void 0;if(t=this.limit-this.cursor,this.cursor<this.I_pV)return!1;if(this.cursor=this.I_pV,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_4)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,e){case 0:return this.limit_backward=n,!1;case 1:e:do{i=this.limit-this.cursor;t:do{if(!this.out_grouping_b$esjava$3(r.g_v,97,259))break t;break e}while(0);if(this.cursor=this.limit-i,!this.eq_s_b$esjava$1("u"))return this.limit_backward=n,!1}while(0);this.slice_del$esjava$0();break;case 2:this.slice_del$esjava$0()}return this.limit_backward=n,!0}},{key:"r_vowel_suffix$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_5)))return!1;if(this.bra=this.cursor,!this.r_RV$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_del$esjava$0()}return!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o,s,a=void 0;e=this.cursor;e:do{if(!this.r_prelude$esjava$0())break e}while(0);this.cursor=e,t=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=t,this.limit_backward=this.cursor,this.cursor=this.limit,n=this.limit-this.cursor;e:do{if(!this.r_step_0$esjava$0())break e}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(!this.r_standard_suffix$esjava$0())break e}while(0);this.cursor=this.limit-i,r=this.limit-this.cursor;e:do{t:do{a=this.limit-this.cursor;n:do{if(!this.B_standard_suffix_removed)break n;break t}while(0);if(this.cursor=this.limit-a,!this.r_verb_suffix$esjava$0())break e}while(0)}while(0);this.cursor=this.limit-r,o=this.limit-this.cursor;e:do{if(!this.r_vowel_suffix$esjava$0())break e}while(0);this.cursor=this.limit-o,this.cursor=this.limit_backward,s=this.cursor;e:do{if(!this.r_postlude$esjava$0())break e}while(0);return this.cursor=s,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"B_standard_suffix_removed",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_standard_suffix_removed")?this._$esjava$B_standard_suffix_removed:this._$esjava$B_standard_suffix_removed=!1},set:function(e){this._$esjava$B_standard_suffix_removed=e}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}},{key:"I_pV",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_pV")?this._$esjava$I_pV:this._$esjava$I_pV=0},set:function(e){this._$esjava$I_pV=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("",-1,3),new u("I",0,1),new u("U",0,2)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("ea",-1,3),new u("aţia",-1,7),new u("aua",-1,2),new u("iua",-1,4),new u("aţie",-1,7),new u("ele",-1,3),new u("ile",-1,5),new u("iile",6,4),new u("iei",-1,4),new u("atei",-1,6),new u("ii",-1,4),new u("ului",-1,1),new u("ul",-1,1),new u("elor",-1,3),new u("ilor",-1,4),new u("iilor",14,4)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("icala",-1,4),new u("iciva",-1,4),new u("ativa",-1,5),new u("itiva",-1,6),new u("icale",-1,4),new u("aţiune",-1,5),new u("iţiune",-1,6),new u("atoare",-1,5),new u("itoare",-1,6),new u("ătoare",-1,5),new u("icitate",-1,4),new u("abilitate",-1,1),new u("ibilitate",-1,2),new u("ivitate",-1,3),new u("icive",-1,4),new u("ative",-1,5),new u("itive",-1,6),new u("icali",-1,4),new u("atori",-1,5),new u("icatori",18,4),new u("itori",-1,6),new u("ători",-1,5),new u("icitati",-1,4),new u("abilitati",-1,1),new u("ivitati",-1,3),new u("icivi",-1,4),new u("ativi",-1,5),new u("itivi",-1,6),new u("icităi",-1,4),new u("abilităi",-1,1),new u("ivităi",-1,3),new u("icităţi",-1,4),new u("abilităţi",-1,1),new u("ivităţi",-1,3),new u("ical",-1,4),new u("ator",-1,5),new u("icator",35,4),new u("itor",-1,6),new u("ător",-1,5),new u("iciv",-1,4),new u("ativ",-1,5),new u("itiv",-1,6),new u("icală",-1,4),new u("icivă",-1,4),new u("ativă",-1,5),new u("itivă",-1,6)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("ica",-1,1),new u("abila",-1,1),new u("ibila",-1,1),new u("oasa",-1,1),new u("ata",-1,1),new u("ita",-1,1),new u("anta",-1,1),new u("ista",-1,3),new u("uta",-1,1),new u("iva",-1,1),new u("ic",-1,1),new u("ice",-1,1),new u("abile",-1,1),new u("ibile",-1,1),new u("isme",-1,3),new u("iune",-1,2),new u("oase",-1,1),new u("ate",-1,1),new u("itate",17,1),new u("ite",-1,1),new u("ante",-1,1),new u("iste",-1,3),new u("ute",-1,1),new u("ive",-1,1),new u("ici",-1,1),new u("abili",-1,1),new u("ibili",-1,1),new u("iuni",-1,2),new u("atori",-1,1),new u("osi",-1,1),new u("ati",-1,1),new u("itati",30,1),new u("iti",-1,1),new u("anti",-1,1),new u("isti",-1,3),new u("uti",-1,1),new u("işti",-1,3),new u("ivi",-1,1),new u("ităi",-1,1),new u("oşi",-1,1),new u("ităţi",-1,1),new u("abil",-1,1),new u("ibil",-1,1),new u("ism",-1,3),new u("ator",-1,1),new u("os",-1,1),new u("at",-1,1),new u("it",-1,1),new u("ant",-1,1),new u("ist",-1,3),new u("ut",-1,1),new u("iv",-1,1),new u("ică",-1,1),new u("abilă",-1,1),new u("ibilă",-1,1),new u("oasă",-1,1),new u("ată",-1,1),new u("ită",-1,1),new u("antă",-1,1),new u("istă",-1,3),new u("ută",-1,1),new u("ivă",-1,1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("ea",-1,1),new u("ia",-1,1),new u("esc",-1,1),new u("ăsc",-1,1),new u("ind",-1,1),new u("ând",-1,1),new u("are",-1,1),new u("ere",-1,1),new u("ire",-1,1),new u("âre",-1,1),new u("se",-1,2),new u("ase",10,1),new u("sese",10,2),new u("ise",10,1),new u("use",10,1),new u("âse",10,1),new u("eşte",-1,1),new u("ăşte",-1,1),new u("eze",-1,1),new u("ai",-1,1),new u("eai",19,1),new u("iai",19,1),new u("sei",-1,2),new u("eşti",-1,1),new u("ăşti",-1,1),new u("ui",-1,1),new u("ezi",-1,1),new u("âi",-1,1),new u("aşi",-1,1),new u("seşi",-1,2),new u("aseşi",29,1),new u("seseşi",29,2),new u("iseşi",29,1),new u("useşi",29,1),new u("âseşi",29,1),new u("işi",-1,1),new u("uşi",-1,1),new u("âşi",-1,1),new u("aţi",-1,2),new u("eaţi",38,1),new u("iaţi",38,1),new u("eţi",-1,2),new u("iţi",-1,2),new u("âţi",-1,2),new u("arăţi",-1,1),new u("serăţi",-1,2),new u("aserăţi",45,1),new u("seserăţi",45,2),new u("iserăţi",45,1),new u("userăţi",45,1),new u("âserăţi",45,1),new u("irăţi",-1,1),new u("urăţi",-1,1),new u("ârăţi",-1,1),new u("am",-1,1),new u("eam",54,1),new u("iam",54,1),new u("em",-1,2),new u("asem",57,1),new u("sesem",57,2),new u("isem",57,1),new u("usem",57,1),new u("âsem",57,1),new u("im",-1,2),new u("âm",-1,2),new u("ăm",-1,2),new u("arăm",65,1),new u("serăm",65,2),new u("aserăm",67,1),new u("seserăm",67,2),new u("iserăm",67,1),new u("userăm",67,1),new u("âserăm",67,1),new u("irăm",65,1),new u("urăm",65,1),new u("ârăm",65,1),new u("au",-1,1),new u("eau",76,1),new u("iau",76,1),new u("indu",-1,1),new u("ându",-1,1),new u("ez",-1,1),new u("ească",-1,1),new u("ară",-1,1),new u("seră",-1,2),new u("aseră",84,1),new u("seseră",84,2),new u("iseră",84,1),new u("useră",84,1),new u("âseră",84,1),new u("iră",-1,1),new u("ură",-1,1),new u("âră",-1,1),new u("ează",-1,1)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("a",-1,1),new u("e",-1,1),new u("ie",1,1),new u("i",-1,1),new u("ă",-1,1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,0,0,0,0,0,0,0,0,0,0,0,0,0,2,32,0,0,4]}}]),r}(h),R=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e;this.I_pV=this.limit,this.I_p2=this.limit,e=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,1072,1103))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_pV=this.cursor;t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,1072,1103))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,1072,1103))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,1072,1103))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);return this.cursor=e,!0}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_perfective_gerund$esjava$0",value:function(){var e,t=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_0)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:e:do{t=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("а"))break t;break e}while(0);if(this.cursor=this.limit-t,!this.eq_s_b$esjava$1("я"))return!1}while(0);this.slice_del$esjava$0();break;case 2:this.slice_del$esjava$0()}return!0}},{key:"r_adjective$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_1)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_del$esjava$0()}return!0}},{key:"r_adjectival$esjava$0",value:function(){var e,t=void 0,n=void 0;if(!this.r_adjective$esjava$0())return!1;e=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(t=this.find_among_b$esjava$1(r.a_2))){this.cursor=this.limit-e;break e}switch(this.bra=this.cursor,t){case 0:this.cursor=this.limit-e;break e;case 1:t:do{n=this.limit-this.cursor;n:do{if(!this.eq_s_b$esjava$1("а"))break n;break t}while(0);if(this.cursor=this.limit-n,!this.eq_s_b$esjava$1("я")){this.cursor=this.limit-e;break e}}while(0);this.slice_del$esjava$0();break;case 2:this.slice_del$esjava$0()}}while(0);return!0}},{key:"r_reflexive$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_del$esjava$0()}return!0}},{key:"r_verb$esjava$0",value:function(){var e,t=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_4)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:e:do{t=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("а"))break t;break e}while(0);if(this.cursor=this.limit-t,!this.eq_s_b$esjava$1("я"))return!1}while(0);this.slice_del$esjava$0();break;case 2:this.slice_del$esjava$0()}return!0}},{key:"r_noun$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_5)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_del$esjava$0()}return!0}},{key:"r_derivational$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_6)))return!1;if(this.bra=this.cursor,!this.r_R2$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.slice_del$esjava$0()}return!0}},{key:"r_tidy_up$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_7)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(this.slice_del$esjava$0(),this.ket=this.cursor,!this.eq_s_b$esjava$1("н"))return!1;if(this.bra=this.cursor,!this.eq_s_b$esjava$1("н"))return!1;this.slice_del$esjava$0();break;case 2:if(!this.eq_s_b$esjava$1("н"))return!1;this.slice_del$esjava$0();break;case 3:this.slice_del$esjava$0()}return!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o,s,a=void 0,c=void 0,u=void 0;e=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);if(this.cursor=e,this.limit_backward=this.cursor,this.cursor=this.limit,t=this.limit-this.cursor,this.cursor<this.I_pV)return!1;this.cursor=this.I_pV,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,i=this.limit-this.cursor;e:do{t:do{a=this.limit-this.cursor;n:do{if(!this.r_perfective_gerund$esjava$0())break n;break t}while(0);this.cursor=this.limit-a,c=this.limit-this.cursor;n:do{if(!this.r_reflexive$esjava$0()){this.cursor=this.limit-c;break n}}while(0);n:do{u=this.limit-this.cursor;i:do{if(!this.r_adjectival$esjava$0())break i;break n}while(0);this.cursor=this.limit-u;i:do{if(!this.r_verb$esjava$0())break i;break n}while(0);if(this.cursor=this.limit-u,!this.r_noun$esjava$0())break e}while(0)}while(0)}while(0);this.cursor=this.limit-i,r=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("и")){this.cursor=this.limit-r;break e}this.bra=this.cursor,this.slice_del$esjava$0()}while(0);o=this.limit-this.cursor;e:do{if(!this.r_derivational$esjava$0())break e}while(0);this.cursor=this.limit-o,s=this.limit-this.cursor;e:do{if(!this.r_tidy_up$esjava$0())break e}while(0);return this.cursor=this.limit-s,this.limit_backward=n,this.cursor=this.limit_backward,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_pV",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_pV")?this._$esjava$I_pV:this._$esjava$I_pV=0},set:function(e){this._$esjava$I_pV=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("в",-1,1),new u("ив",0,2),new u("ыв",0,2),new u("вши",-1,1),new u("ивши",3,2),new u("ывши",3,2),new u("вшись",-1,1),new u("ившись",6,2),new u("ывшись",6,2)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("ее",-1,1),new u("ие",-1,1),new u("ое",-1,1),new u("ые",-1,1),new u("ими",-1,1),new u("ыми",-1,1),new u("ей",-1,1),new u("ий",-1,1),new u("ой",-1,1),new u("ый",-1,1),new u("ем",-1,1),new u("им",-1,1),new u("ом",-1,1),new u("ым",-1,1),new u("его",-1,1),new u("ого",-1,1),new u("ему",-1,1),new u("ому",-1,1),new u("их",-1,1),new u("ых",-1,1),new u("ею",-1,1),new u("ою",-1,1),new u("ую",-1,1),new u("юю",-1,1),new u("ая",-1,1),new u("яя",-1,1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("ем",-1,1),new u("нн",-1,1),new u("вш",-1,1),new u("ивш",2,2),new u("ывш",2,2),new u("щ",-1,1),new u("ющ",5,1),new u("ующ",6,2)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("сь",-1,1),new u("ся",-1,1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("ла",-1,1),new u("ила",0,2),new u("ыла",0,2),new u("на",-1,1),new u("ена",3,2),new u("ете",-1,1),new u("ите",-1,2),new u("йте",-1,1),new u("ейте",7,2),new u("уйте",7,2),new u("ли",-1,1),new u("или",10,2),new u("ыли",10,2),new u("й",-1,1),new u("ей",13,2),new u("уй",13,2),new u("л",-1,1),new u("ил",16,2),new u("ыл",16,2),new u("ем",-1,1),new u("им",-1,2),new u("ым",-1,2),new u("н",-1,1),new u("ен",22,2),new u("ло",-1,1),new u("ило",24,2),new u("ыло",24,2),new u("но",-1,1),new u("ено",27,2),new u("нно",27,1),new u("ет",-1,1),new u("ует",30,2),new u("ит",-1,2),new u("ыт",-1,2),new u("ют",-1,1),new u("уют",34,2),new u("ят",-1,2),new u("ны",-1,1),new u("ены",37,2),new u("ть",-1,1),new u("ить",39,2),new u("ыть",39,2),new u("ешь",-1,1),new u("ишь",-1,2),new u("ю",-1,2),new u("ую",44,2)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("а",-1,1),new u("ев",-1,1),new u("ов",-1,1),new u("е",-1,1),new u("ие",3,1),new u("ье",3,1),new u("и",-1,1),new u("еи",6,1),new u("ии",6,1),new u("ами",6,1),new u("ями",6,1),new u("иями",10,1),new u("й",-1,1),new u("ей",12,1),new u("ией",13,1),new u("ий",12,1),new u("ой",12,1),new u("ам",-1,1),new u("ем",-1,1),new u("ием",18,1),new u("ом",-1,1),new u("ям",-1,1),new u("иям",21,1),new u("о",-1,1),new u("у",-1,1),new u("ах",-1,1),new u("ях",-1,1),new u("иях",26,1),new u("ы",-1,1),new u("ь",-1,1),new u("ю",-1,1),new u("ию",30,1),new u("ью",30,1),new u("я",-1,1),new u("ия",33,1),new u("ья",33,1)]}},{key:"a_6",get:function(){return delete r.a_6,r.a_6=[new u("ост",-1,1),new u("ость",-1,1)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("ейше",-1,1),new u("н",-1,2),new u("ейш",-1,1),new u("ь",-1,3)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[33,65,8,232]}}]),r}(h),O=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"stem$esjava$0",value:function(){var e,t=void 0,n=void 0,i=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0;for(this.I_p1=this.current.length(),this.limit_backward=this.cursor,this.cursor=this.limit,e=this.limit-this.cursor,n=4;n>0;n--){i=this.limit-this.cursor;e:do{if(!(this.I_p1>8)){this.cursor=this.limit-i;break e}if(this.ket=this.cursor,0===(t=this.find_among_b$esjava$1(r.a_0))){this.cursor=this.limit-i;break e}switch(this.bra=this.cursor,t){case 0:this.cursor=this.limit-i;break e;case 1:this.slice_del$esjava$0()}}while(0);o=this.limit-this.cursor;e:do{if(!(this.I_p1>7)){this.cursor=this.limit-o;break e}if(this.ket=this.cursor,0===(t=this.find_among_b$esjava$1(r.a_1))){this.cursor=this.limit-o;break e}switch(this.bra=this.cursor,t){case 0:this.cursor=this.limit-o;break e;case 1:this.slice_del$esjava$0()}}while(0);this.I_p1=this.current.length(),s=this.limit-this.cursor;e:do{if(!(this.I_p1>6)){this.cursor=this.limit-s;break e}if(this.ket=this.cursor,0===(t=this.find_among_b$esjava$1(r.a_2))){this.cursor=this.limit-s;break e}switch(this.bra=this.cursor,t){case 0:this.cursor=this.limit-s;break e;case 1:this.slice_del$esjava$0()}}while(0);this.I_p1=this.current.length(),a=this.limit-this.cursor;e:do{if(!(this.I_p1>6)){this.cursor=this.limit-a;break e}if(this.ket=this.cursor,0===(t=this.find_among_b$esjava$1(r.a_3))){this.cursor=this.limit-a;break e}switch(this.bra=this.cursor,t){case 0:this.cursor=this.limit-a;break e;case 1:this.slice_del$esjava$0()}}while(0);this.I_p1=this.current.length(),c=this.limit-this.cursor;e:do{if(!(this.I_p1>5)){this.cursor=this.limit-c;break e}if(this.ket=this.cursor,0===(t=this.find_among_b$esjava$1(r.a_4))){this.cursor=this.limit-c;break e}switch(this.bra=this.cursor,t){case 0:this.cursor=this.limit-c;break e;case 1:this.slice_del$esjava$0()}}while(0);this.I_p1=this.current.length(),u=this.limit-this.cursor;e:do{if(!(this.I_p1>6)){this.cursor=this.limit-u;break e}if(this.ket=this.cursor,!this.in_grouping_b$esjava$3(r.g_soglasniki,98,382)){this.cursor=this.limit-u;break e}if(this.bra=this.cursor,l=this.limit-this.cursor,!this.in_grouping_b$esjava$3(r.g_soglasniki,98,382)){this.cursor=this.limit-u;break e}this.cursor=this.limit-l,this.slice_del$esjava$0()}while(0);this.I_p1=this.current.length(),h=this.limit-this.cursor;e:do{if(!(this.I_p1>5)){this.cursor=this.limit-h;break e}if(this.ket=this.cursor,0===(t=this.find_among_b$esjava$1(r.a_5))){this.cursor=this.limit-h;break e}switch(this.bra=this.cursor,t){case 0:this.cursor=this.limit-h;break e;case 1:this.slice_del$esjava$0()}}while(0)}return this.cursor=this.limit-e,this.cursor=this.limit_backward,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("anski",-1,1),new u("evski",-1,1),new u("ovski",-1,1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("stvo",-1,1),new u("štvo",-1,1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("ega",-1,1),new u("ija",-1,1),new u("ila",-1,1),new u("ema",-1,1),new u("vna",-1,1),new u("ite",-1,1),new u("ste",-1,1),new u("šče",-1,1),new u("ski",-1,1),new u("ški",-1,1),new u("iti",-1,1),new u("ovi",-1,1),new u("ček",-1,1),new u("ovm",-1,1),new u("čan",-1,1),new u("len",-1,1),new u("ven",-1,1),new u("šen",-1,1),new u("ejo",-1,1),new u("ijo",-1,1),new u("ast",-1,1),new u("ost",-1,1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("ja",-1,1),new u("ka",-1,1),new u("ma",-1,1),new u("ec",-1,1),new u("je",-1,1),new u("eg",-1,1),new u("eh",-1,1),new u("ih",-1,1),new u("mi",-1,1),new u("ti",-1,1),new u("ij",-1,1),new u("al",-1,1),new u("il",-1,1),new u("em",-1,1),new u("om",-1,1),new u("an",-1,1),new u("en",-1,1),new u("in",-1,1),new u("do",-1,1),new u("jo",-1,1),new u("ir",-1,1),new u("at",-1,1),new u("ev",-1,1),new u("iv",-1,1),new u("ov",-1,1),new u("oč",-1,1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("a",-1,1),new u("c",-1,1),new u("e",-1,1),new u("i",-1,1),new u("m",-1,1),new u("o",-1,1),new u("u",-1,1),new u("š",-1,1)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("a",-1,1),new u("e",-1,1),new u("i",-1,1),new u("o",-1,1),new u("u",-1,1)]}},{key:"g_soglasniki",get:function(){return delete r.g_soglasniki,r.g_soglasniki=[119,95,23,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,128,0,0,0,16]}}]),r}(h),A=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e,t,n=void 0,i=void 0,o=void 0;this.I_pV=this.limit,this.I_p1=this.limit,this.I_p2=this.limit,e=this.cursor;e:do{t:do{n=this.cursor;n:do{if(!this.in_grouping$esjava$3(r.g_v,97,252))break n;i:do{i=this.cursor;r:do{if(!this.out_grouping$esjava$3(r.g_v,97,252))break r;o:for(;;){s:do{if(!this.in_grouping$esjava$3(r.g_v,97,252))break s;break o}while(0);if(this.cursor>=this.limit)break r;this.cursor++}break i}while(0);if(this.cursor=i,!this.in_grouping$esjava$3(r.g_v,97,252))break n;r:for(;;){o:do{if(!this.out_grouping$esjava$3(r.g_v,97,252))break o;break r}while(0);if(this.cursor>=this.limit)break n;this.cursor++}}while(0);break t}while(0);if(this.cursor=n,!this.out_grouping$esjava$3(r.g_v,97,252))break e;n:do{o=this.cursor;i:do{if(!this.out_grouping$esjava$3(r.g_v,97,252))break i;r:for(;;){o:do{if(!this.in_grouping$esjava$3(r.g_v,97,252))break o;break r}while(0);if(this.cursor>=this.limit)break i;this.cursor++}break n}while(0);if(this.cursor=o,!this.in_grouping$esjava$3(r.g_v,97,252))break e;if(this.cursor>=this.limit)break e;this.cursor++}while(0)}while(0);this.I_pV=this.cursor}while(0);this.cursor=e,t=this.cursor;e:do{t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,252))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,252))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p1=this.cursor;t:for(;;){n:do{if(!this.in_grouping$esjava$3(r.g_v,97,252))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}t:for(;;){n:do{if(!this.out_grouping$esjava$3(r.g_v,97,252))break n;break t}while(0);if(this.cursor>=this.limit)break e;this.cursor++}this.I_p2=this.cursor}while(0);return this.cursor=t,!0}},{key:"r_postlude$esjava$0",value:function(){var e=void 0,t=void 0;e:for(;;){t=this.cursor;t:do{if(this.bra=this.cursor,0===(e=this.find_among$esjava$1(r.a_0)))break t;switch(this.ket=this.cursor,e){case 0:break t;case 1:this.slice_from$esjava$1("a");break;case 2:this.slice_from$esjava$1("e");break;case 3:this.slice_from$esjava$1("i");break;case 4:this.slice_from$esjava$1("o");break;case 5:this.slice_from$esjava$1("u");break;case 6:if(this.cursor>=this.limit)break t;this.cursor++}continue e}while(0);this.cursor=t;break e}return!0}},{key:"r_RV$esjava$0",value:function(){return this.I_pV<=this.cursor}},{key:"r_R1$esjava$0",value:function(){return this.I_p1<=this.cursor}},{key:"r_R2$esjava$0",value:function(){return this.I_p2<=this.cursor}},{key:"r_attached_pronoun$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===this.find_among_b$esjava$1(r.a_1))return!1;if(this.bra=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2)))return!1;if(!this.r_RV$esjava$0())return!1;switch(e){case 0:return!1;case 1:this.bra=this.cursor,this.slice_from$esjava$1("iendo");break;case 2:this.bra=this.cursor,this.slice_from$esjava$1("ando");break;case 3:this.bra=this.cursor,this.slice_from$esjava$1("ar");break;case 4:this.bra=this.cursor,this.slice_from$esjava$1("er");break;case 5:this.bra=this.cursor,this.slice_from$esjava$1("ir");break;case 6:this.slice_del$esjava$0();break;case 7:if(!this.eq_s_b$esjava$1("u"))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_standard_suffix$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0,s=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_6)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),t=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ic")){this.cursor=this.limit-t;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-t;break e}this.slice_del$esjava$0()}while(0);break;case 3:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("log");break;case 4:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("u");break;case 5:if(!this.r_R2$esjava$0())return!1;this.slice_from$esjava$1("ente");break;case 6:if(!this.r_R1$esjava$0())return!1;this.slice_del$esjava$0(),n=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_3))){this.cursor=this.limit-n;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-n;break e}switch(this.slice_del$esjava$0(),e){case 0:this.cursor=this.limit-n;break e;case 1:if(this.ket=this.cursor,!this.eq_s_b$esjava$1("at")){this.cursor=this.limit-n;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-n;break e}this.slice_del$esjava$0()}}while(0);break;case 7:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),i=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_4))){this.cursor=this.limit-i;break e}switch(this.bra=this.cursor,e){case 0:this.cursor=this.limit-i;break e;case 1:if(!this.r_R2$esjava$0()){this.cursor=this.limit-i;break e}this.slice_del$esjava$0()}}while(0);break;case 8:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),o=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_5))){this.cursor=this.limit-o;break e}switch(this.bra=this.cursor,e){case 0:this.cursor=this.limit-o;break e;case 1:if(!this.r_R2$esjava$0()){this.cursor=this.limit-o;break e}this.slice_del$esjava$0()}}while(0);break;case 9:if(!this.r_R2$esjava$0())return!1;this.slice_del$esjava$0(),s=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("at")){this.cursor=this.limit-s;break e}if(this.bra=this.cursor,!this.r_R2$esjava$0()){this.cursor=this.limit-s;break e}this.slice_del$esjava$0()}while(0)}return!0}},{key:"r_y_verb_suffix$esjava$0",value:function(){var e,t,n;if(t=this.limit-this.cursor,this.cursor<this.I_pV)return!1;if(this.cursor=this.I_pV,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_7)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,this.limit_backward=n,e){case 0:return!1;case 1:if(!this.eq_s_b$esjava$1("u"))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_verb_suffix$esjava$0",value:function(){var e,t,n,i=void 0,o=void 0;if(t=this.limit-this.cursor,this.cursor<this.I_pV)return!1;if(this.cursor=this.I_pV,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_8)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,this.limit_backward=n,e){case 0:return!1;case 1:i=this.limit-this.cursor;e:do{if(!this.eq_s_b$esjava$1("u")){this.cursor=this.limit-i;break e}if(o=this.limit-this.cursor,!this.eq_s_b$esjava$1("g")){this.cursor=this.limit-i;break e}this.cursor=this.limit-o}while(0);this.bra=this.cursor,this.slice_del$esjava$0();break;case 2:this.slice_del$esjava$0()}return!0}},{key:"r_residual_suffix$esjava$0",value:function(){var e,t=void 0,n=void 0;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_9)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:if(!this.r_RV$esjava$0())return!1;this.slice_del$esjava$0();break;case 2:if(!this.r_RV$esjava$0())return!1;this.slice_del$esjava$0(),t=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("u")){this.cursor=this.limit-t;break e}if(this.bra=this.cursor,n=this.limit-this.cursor,!this.eq_s_b$esjava$1("g")){this.cursor=this.limit-t;break e}if(this.cursor=this.limit-n,!this.r_RV$esjava$0()){this.cursor=this.limit-t;break e}this.slice_del$esjava$0()}while(0)}return!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o=void 0;e=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=e,this.limit_backward=this.cursor,this.cursor=this.limit,t=this.limit-this.cursor;e:do{if(!this.r_attached_pronoun$esjava$0())break e}while(0);this.cursor=this.limit-t,n=this.limit-this.cursor;e:do{t:do{o=this.limit-this.cursor;n:do{if(!this.r_standard_suffix$esjava$0())break n;break t}while(0);this.cursor=this.limit-o;n:do{if(!this.r_y_verb_suffix$esjava$0())break n;break t}while(0);if(this.cursor=this.limit-o,!this.r_verb_suffix$esjava$0())break e}while(0)}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(!this.r_residual_suffix$esjava$0())break e}while(0);this.cursor=this.limit-i,this.cursor=this.limit_backward,r=this.cursor;e:do{if(!this.r_postlude$esjava$0())break e}while(0);return this.cursor=r,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_p2",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p2")?this._$esjava$I_p2:this._$esjava$I_p2=0},set:function(e){this._$esjava$I_p2=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}},{key:"I_pV",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_pV")?this._$esjava$I_pV:this._$esjava$I_pV=0},set:function(e){this._$esjava$I_pV=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("",-1,6),new u("á",0,1),new u("é",0,2),new u("í",0,3),new u("ó",0,4),new u("ú",0,5)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("la",-1,-1),new u("sela",0,-1),new u("le",-1,-1),new u("me",-1,-1),new u("se",-1,-1),new u("lo",-1,-1),new u("selo",5,-1),new u("las",-1,-1),new u("selas",7,-1),new u("les",-1,-1),new u("los",-1,-1),new u("selos",10,-1),new u("nos",-1,-1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("ando",-1,6),new u("iendo",-1,6),new u("yendo",-1,7),new u("ándo",-1,2),new u("iéndo",-1,1),new u("ar",-1,6),new u("er",-1,6),new u("ir",-1,6),new u("ár",-1,3),new u("ér",-1,4),new u("ír",-1,5)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("ic",-1,-1),new u("ad",-1,-1),new u("os",-1,-1),new u("iv",-1,1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("able",-1,1),new u("ible",-1,1),new u("ante",-1,1)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("ic",-1,1),new u("abil",-1,1),new u("iv",-1,1)]}},{key:"a_6",get:function(){return delete r.a_6,r.a_6=[new u("ica",-1,1),new u("ancia",-1,2),new u("encia",-1,5),new u("adora",-1,2),new u("osa",-1,1),new u("ista",-1,1),new u("iva",-1,9),new u("anza",-1,1),new u("logía",-1,3),new u("idad",-1,8),new u("able",-1,1),new u("ible",-1,1),new u("ante",-1,2),new u("mente",-1,7),new u("amente",13,6),new u("ación",-1,2),new u("ución",-1,4),new u("ico",-1,1),new u("ismo",-1,1),new u("oso",-1,1),new u("amiento",-1,1),new u("imiento",-1,1),new u("ivo",-1,9),new u("ador",-1,2),new u("icas",-1,1),new u("ancias",-1,2),new u("encias",-1,5),new u("adoras",-1,2),new u("osas",-1,1),new u("istas",-1,1),new u("ivas",-1,9),new u("anzas",-1,1),new u("logías",-1,3),new u("idades",-1,8),new u("ables",-1,1),new u("ibles",-1,1),new u("aciones",-1,2),new u("uciones",-1,4),new u("adores",-1,2),new u("antes",-1,2),new u("icos",-1,1),new u("ismos",-1,1),new u("osos",-1,1),new u("amientos",-1,1),new u("imientos",-1,1),new u("ivos",-1,9)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("ya",-1,1),new u("ye",-1,1),new u("yan",-1,1),new u("yen",-1,1),new u("yeron",-1,1),new u("yendo",-1,1),new u("yo",-1,1),new u("yas",-1,1),new u("yes",-1,1),new u("yais",-1,1),new u("yamos",-1,1),new u("yó",-1,1)]}},{key:"a_8",get:function(){return delete r.a_8,r.a_8=[new u("aba",-1,2),new u("ada",-1,2),new u("ida",-1,2),new u("ara",-1,2),new u("iera",-1,2),new u("ía",-1,2),new u("aría",5,2),new u("ería",5,2),new u("iría",5,2),new u("ad",-1,2),new u("ed",-1,2),new u("id",-1,2),new u("ase",-1,2),new u("iese",-1,2),new u("aste",-1,2),new u("iste",-1,2),new u("an",-1,2),new u("aban",16,2),new u("aran",16,2),new u("ieran",16,2),new u("ían",16,2),new u("arían",20,2),new u("erían",20,2),new u("irían",20,2),new u("en",-1,1),new u("asen",24,2),new u("iesen",24,2),new u("aron",-1,2),new u("ieron",-1,2),new u("arán",-1,2),new u("erán",-1,2),new u("irán",-1,2),new u("ado",-1,2),new u("ido",-1,2),new u("ando",-1,2),new u("iendo",-1,2),new u("ar",-1,2),new u("er",-1,2),new u("ir",-1,2),new u("as",-1,2),new u("abas",39,2),new u("adas",39,2),new u("idas",39,2),new u("aras",39,2),new u("ieras",39,2),new u("ías",39,2),new u("arías",45,2),new u("erías",45,2),new u("irías",45,2),new u("es",-1,1),new u("ases",49,2),new u("ieses",49,2),new u("abais",-1,2),new u("arais",-1,2),new u("ierais",-1,2),new u("íais",-1,2),new u("aríais",55,2),new u("eríais",55,2),new u("iríais",55,2),new u("aseis",-1,2),new u("ieseis",-1,2),new u("asteis",-1,2),new u("isteis",-1,2),new u("áis",-1,2),new u("éis",-1,1),new u("aréis",64,2),new u("eréis",64,2),new u("iréis",64,2),new u("ados",-1,2),new u("idos",-1,2),new u("amos",-1,2),new u("ábamos",70,2),new u("áramos",70,2),new u("iéramos",70,2),new u("íamos",70,2),new u("aríamos",74,2),new u("eríamos",74,2),new u("iríamos",74,2),new u("emos",-1,1),new u("aremos",78,2),new u("eremos",78,2),new u("iremos",78,2),new u("ásemos",78,2),new u("iésemos",78,2),new u("imos",-1,2),new u("arás",-1,2),new u("erás",-1,2),new u("irás",-1,2),new u("ís",-1,2),new u("ará",-1,2),new u("erá",-1,2),new u("irá",-1,2),new u("aré",-1,2),new u("eré",-1,2),new u("iré",-1,2),new u("ió",-1,2)]}},{key:"a_9",get:function(){return delete r.a_9,r.a_9=[new u("a",-1,1),new u("e",-1,2),new u("o",-1,1),new u("os",-1,1),new u("á",-1,1),new u("é",-1,2),new u("í",-1,1),new u("ó",-1,1)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,0,0,0,0,0,0,0,0,0,0,0,0,0,1,17,4,10]}}]),r}(h),$=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_mark_regions$esjava$0",value:function(){var e,t=void 0;this.I_p1=this.limit,e=this.cursor;var n=this.cursor+3;if(0>n||n>this.limit)return!1;this.cursor=n,this.I_x=this.cursor,this.cursor=e;e:for(;;){t=this.cursor;t:do{if(!this.in_grouping$esjava$3(r.g_v,97,246))break t;this.cursor=t;break e}while(0);if(this.cursor=t,this.cursor>=this.limit)return!1;this.cursor++}e:for(;;){t:do{if(!this.out_grouping$esjava$3(r.g_v,97,246))break t;break e}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}this.I_p1=this.cursor;e:do{if(!(this.I_p1<this.I_x))break e;this.I_p1=this.I_x}while(0);return!0}},{key:"r_main_suffix$esjava$0",value:function(){var e,t,n;if(t=this.limit-this.cursor,this.cursor<this.I_p1)return!1;if(this.cursor=this.I_p1,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_0)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,this.limit_backward=n,e){case 0:return!1;case 1:this.slice_del$esjava$0();break;case 2:if(!this.in_grouping_b$esjava$3(r.g_s_ending,98,121))return!1;this.slice_del$esjava$0()}return!0}},{key:"r_consonant_pair$esjava$0",value:function(){var e,t=void 0,n=void 0;return e=this.limit-this.cursor,!(this.cursor<this.I_p1||(this.cursor=this.I_p1,t=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-e,n=this.limit-this.cursor,0===this.find_among_b$esjava$1(r.a_1)?(this.limit_backward=t,1):(this.cursor=this.limit-n,this.ket=this.cursor,this.cursor<=this.limit_backward?(this.limit_backward=t,1):(this.cursor--,this.bra=this.cursor,this.slice_del$esjava$0(),this.limit_backward=t,0))))}},{key:"r_other_suffix$esjava$0",value:function(){var e,t,n;if(t=this.limit-this.cursor,this.cursor<this.I_p1)return!1;if(this.cursor=this.I_p1,n=this.limit_backward,this.limit_backward=this.cursor,this.cursor=this.limit-t,this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_2)))return this.limit_backward=n,!1;switch(this.bra=this.cursor,e){case 0:return this.limit_backward=n,!1;case 1:this.slice_del$esjava$0();break;case 2:this.slice_from$esjava$1("lös");break;case 3:this.slice_from$esjava$1("full")}return this.limit_backward=n,!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i;e=this.cursor;e:do{if(!this.r_mark_regions$esjava$0())break e}while(0);this.cursor=e,this.limit_backward=this.cursor,this.cursor=this.limit,t=this.limit-this.cursor;e:do{if(!this.r_main_suffix$esjava$0())break e}while(0);this.cursor=this.limit-t,n=this.limit-this.cursor;e:do{if(!this.r_consonant_pair$esjava$0())break e}while(0);this.cursor=this.limit-n,i=this.limit-this.cursor;e:do{if(!this.r_other_suffix$esjava$0())break e}while(0);return this.cursor=this.limit-i,this.cursor=this.limit_backward,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_x",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_x")?this._$esjava$I_x:this._$esjava$I_x=0},set:function(e){this._$esjava$I_x=e}},{key:"I_p1",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_p1")?this._$esjava$I_p1:this._$esjava$I_p1=0},set:function(e){this._$esjava$I_p1=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("a",-1,1),new u("arna",0,1),new u("erna",0,1),new u("heterna",2,1),new u("orna",0,1),new u("ad",-1,1),new u("e",-1,1),new u("ade",6,1),new u("ande",6,1),new u("arne",6,1),new u("are",6,1),new u("aste",6,1),new u("en",-1,1),new u("anden",12,1),new u("aren",12,1),new u("heten",12,1),new u("ern",-1,1),new u("ar",-1,1),new u("er",-1,1),new u("heter",18,1),new u("or",-1,1),new u("s",-1,2),new u("as",21,1),new u("arnas",22,1),new u("ernas",22,1),new u("ornas",22,1),new u("es",21,1),new u("ades",26,1),new u("andes",26,1),new u("ens",21,1),new u("arens",29,1),new u("hetens",29,1),new u("erns",21,1),new u("at",-1,1),new u("andet",-1,1),new u("het",-1,1),new u("ast",-1,1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("dd",-1,-1),new u("gd",-1,-1),new u("nn",-1,-1),new u("dt",-1,-1),new u("gt",-1,-1),new u("kt",-1,-1),new u("tt",-1,-1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("ig",-1,1),new u("lig",0,1),new u("els",-1,1),new u("fullt",-1,3),new u("löst",-1,2)]}},{key:"g_v",get:function(){return delete r.g_v,r.g_v=[17,65,16,1,0,0,0,0,0,0,0,0,0,0,0,0,24,0,32]}},{key:"g_s_ending",get:function(){return delete r.g_s_ending,r.g_s_ending=[119,127,149]}}]),r}(h),L=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_has_min_length$esjava$0",value:function(){return this.I_length=this.current.length(),this.I_length>4}},{key:"r_fix_va_start$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,r=void 0,o=void 0,s=void 0,a=void 0,c=void 0;e:do{e=this.cursor;t:do{t=this.cursor,n=this.cursor;n:do{if(!this.eq_s$esjava$1("வோ")){this.cursor=n;break n}}while(0);if(this.cursor=t,this.bra=this.cursor,!this.eq_s$esjava$1("வோ"))break t;this.ket=this.cursor,this.slice_from$esjava$1("ஓ");break e}while(0);this.cursor=e;t:do{i=this.cursor,r=this.cursor;n:do{if(!this.eq_s$esjava$1("வொ")){this.cursor=r;break n}}while(0);if(this.cursor=i,this.bra=this.cursor,!this.eq_s$esjava$1("வொ"))break t;this.ket=this.cursor,this.slice_from$esjava$1("ஒ");break e}while(0);this.cursor=e;t:do{o=this.cursor,s=this.cursor;n:do{if(!this.eq_s$esjava$1("வு")){this.cursor=s;break n}}while(0);if(this.cursor=o,this.bra=this.cursor,!this.eq_s$esjava$1("வு"))break t;this.ket=this.cursor,this.slice_from$esjava$1("உ");break e}while(0);this.cursor=e,a=this.cursor,c=this.cursor;t:do{if(!this.eq_s$esjava$1("வூ")){this.cursor=c;break t}}while(0);if(this.cursor=a,this.bra=this.cursor,!this.eq_s$esjava$1("வூ"))return!1;this.ket=this.cursor,this.slice_from$esjava$1("ஊ")}while(0);return!0}},{key:"r_fix_endings$esjava$0",value:function(){var e=void 0,t=void 0;this.B_found_wrong_ending=!0;e:for(;;){e=this.cursor;t:do{if(!this.B_found_wrong_ending)break t;t=this.cursor;n:do{if(!this.r_fix_ending$esjava$0())break n}while(0);this.cursor=t;continue e}while(0);this.cursor=e;break e}return!0}},{key:"r_remove_question_prefixes$esjava$0",value:function(){var e;if(this.bra=this.cursor,!this.eq_s$esjava$1("எ"))return!1;if(0===this.find_among$esjava$1(r.a_0))return!1;if(!this.eq_s$esjava$1("்"))return!1;this.ket=this.cursor,this.slice_del$esjava$0(),e=this.cursor;e:do{if(!this.r_fix_va_start$esjava$0())break e}while(0);return this.cursor=e,!0}},{key:"r_fix_ending$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0,d=void 0,f=void 0;if(this.B_found_wrong_ending=!1,this.I_length=this.current.length(),!(this.I_length>3))return!1;this.limit_backward=this.cursor,this.cursor=this.limit;e:do{e=this.limit-this.cursor;t:do{if(this.ket=this.cursor,0===this.find_among_b$esjava$1(r.a_1))break t;this.bra=this.cursor,this.slice_del$esjava$0();break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ய்"))break t;if(t=this.limit-this.cursor,0===this.find_among_b$esjava$1(r.a_2))break t;this.cursor=this.limit-t,this.bra=this.cursor,this.slice_del$esjava$0();break e}while(0);this.cursor=this.limit-e;t:do{this.ket=this.cursor;n:do{n=this.limit-this.cursor;i:do{if(!this.eq_s_b$esjava$1("ட்ப்"))break i;break n}while(0);if(this.cursor=this.limit-n,!this.eq_s_b$esjava$1("ட்க்"))break t}while(0);this.bra=this.cursor,this.slice_from$esjava$1("ள்");break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ன்ற்"))break t;this.bra=this.cursor,this.slice_from$esjava$1("ல்");break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ற்க்"))break t;this.bra=this.cursor,this.slice_from$esjava$1("ல்");break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ட்ட்"))break t;this.bra=this.cursor,this.slice_from$esjava$1("டு");break e}while(0);this.cursor=this.limit-e;t:do{if(!this.B_found_vetrumai_urupu)break t;if(this.ket=this.cursor,!this.eq_s_b$esjava$1("த்த்"))break t;i=this.limit-this.cursor,o=this.limit-this.cursor;n:do{if(!this.eq_s_b$esjava$1("ை"))break n;break t}while(0);this.cursor=this.limit-o,this.cursor=this.limit-i,this.bra=this.cursor,this.slice_from$esjava$1("ம்"),this.bra=this.cursor;break e}while(0);this.cursor=this.limit-e;t:do{this.ket=this.cursor;n:do{s=this.limit-this.cursor;i:do{if(!this.eq_s_b$esjava$1("ுக்"))break i;break n}while(0);if(this.cursor=this.limit-s,!this.eq_s_b$esjava$1("ுக்க்"))break t}while(0);this.bra=this.cursor,this.slice_from$esjava$1("்");break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("்"))break t;if(0===this.find_among_b$esjava$1(r.a_3))break t;if(!this.eq_s_b$esjava$1("்"))break t;if(0===this.find_among_b$esjava$1(r.a_4))break t;this.bra=this.cursor,this.slice_del$esjava$0();break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ுக்"))break t;this.bra=this.cursor,this.slice_from$esjava$1("்");break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("்"))break t;if(0===this.find_among_b$esjava$1(r.a_5))break t;this.bra=this.cursor,this.slice_del$esjava$0();break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("்"))break t;n:do{a=this.limit-this.cursor;i:do{if(0===this.find_among_b$esjava$1(r.a_6))break i;break n}while(0);if(this.cursor=this.limit-a,0===this.find_among_b$esjava$1(r.a_7))break t}while(0);if(!this.eq_s_b$esjava$1("்"))break t;this.bra=this.cursor,this.slice_from$esjava$1("்");break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,0===this.find_among_b$esjava$1(r.a_8))break t;this.bra=this.cursor,this.slice_del$esjava$0();break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("னு"))break t;c=this.limit-this.cursor,u=this.limit-this.cursor;n:do{if(0===this.find_among_b$esjava$1(r.a_9))break n;break t}while(0);this.cursor=this.limit-u,this.cursor=this.limit-c,this.bra=this.cursor,this.slice_del$esjava$0();break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ங்"))break t;l=this.limit-this.cursor,h=this.limit-this.cursor;n:do{if(!this.eq_s_b$esjava$1("ை"))break n;break t}while(0);this.cursor=this.limit-h,this.cursor=this.limit-l,this.bra=this.cursor,this.slice_from$esjava$1("ம்");break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ங்"))break t;this.bra=this.cursor,this.slice_del$esjava$0();break e}while(0);if(this.cursor=this.limit-e,this.ket=this.cursor,!this.eq_s_b$esjava$1("்"))return!1;d=this.limit-this.cursor;t:do{f=this.limit-this.cursor;n:do{if(0===this.find_among_b$esjava$1(r.a_10))break n;break t}while(0);if(this.cursor=this.limit-f,!this.eq_s_b$esjava$1("்"))return!1}while(0);this.cursor=this.limit-d,this.bra=this.cursor,this.slice_del$esjava$0()}while(0);return this.cursor=this.limit_backward,this.B_found_wrong_ending=!0,!0}},{key:"r_remove_pronoun_prefixes$esjava$0",value:function(){var e;if(this.B_found_a_match=!1,this.bra=this.cursor,0===this.find_among$esjava$1(r.a_11))return!1;if(0===this.find_among$esjava$1(r.a_12))return!1;if(!this.eq_s$esjava$1("்"))return!1;this.ket=this.cursor,this.slice_del$esjava$0(),this.B_found_a_match=!0,e=this.cursor;e:do{if(!this.r_fix_va_start$esjava$0())break e}while(0);return this.cursor=e,!0}},{key:"r_remove_plural_suffix$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0;this.B_found_a_match=!1,this.limit_backward=this.cursor,this.cursor=this.limit;e:do{e=this.limit-this.cursor;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ுங்கள்"))break t;t=this.limit-this.cursor,n=this.limit-this.cursor;n:do{if(0===this.find_among_b$esjava$1(r.a_13))break n;break t}while(0);this.cursor=this.limit-n,this.cursor=this.limit-t,this.bra=this.cursor,this.slice_from$esjava$1("்");break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ற்கள்"))break t;this.bra=this.cursor,this.slice_from$esjava$1("ல்");break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ட்கள்"))break t;this.bra=this.cursor,this.slice_from$esjava$1("ள்");break e}while(0);if(this.cursor=this.limit-e,this.ket=this.cursor,!this.eq_s_b$esjava$1("கள்"))return!1;this.bra=this.cursor,this.slice_del$esjava$0()}while(0);return this.B_found_a_match=!0,this.cursor=this.limit_backward,!0}},{key:"r_remove_question_suffixes$esjava$0",value:function(){var e,t;if(!this.r_has_min_length$esjava$0())return!1;this.B_found_a_match=!1,this.limit_backward=this.cursor,this.cursor=this.limit,e=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===this.find_among_b$esjava$1(r.a_14))break e;this.bra=this.cursor,this.slice_from$esjava$1("்"),this.B_found_a_match=!0}while(0);this.cursor=this.limit-e,this.cursor=this.limit_backward,t=this.cursor;e:do{if(!this.r_fix_endings$esjava$0())break e}while(0);return this.cursor=t,!0}},{key:"r_remove_command_suffixes$esjava$0",value:function(){return!!this.r_has_min_length$esjava$0()&&(this.B_found_a_match=!1,this.limit_backward=this.cursor,this.cursor=this.limit,this.ket=this.cursor,0!==this.find_among_b$esjava$1(r.a_15)&&(this.bra=this.cursor,this.slice_del$esjava$0(),this.B_found_a_match=!0,this.cursor=this.limit_backward,!0))}},{key:"r_remove_um$esjava$0",value:function(){var e;if(this.B_found_a_match=!1,!this.r_has_min_length$esjava$0())return!1;if(this.limit_backward=this.cursor,this.cursor=this.limit,this.ket=this.cursor,!this.eq_s_b$esjava$1("ும்"))return!1;this.bra=this.cursor,this.slice_from$esjava$1("்"),this.B_found_a_match=!0,this.cursor=this.limit_backward,e=this.cursor;e:do{if(!this.r_fix_ending$esjava$0())break e}while(0);return this.cursor=e,!0}},{key:"r_remove_common_word_endings$esjava$0",value:function(){var e,t=void 0,n=void 0,i=void 0,o=void 0,s=void 0,a=void 0;if(this.B_found_a_match=!1,!this.r_has_min_length$esjava$0())return!1;this.limit_backward=this.cursor,this.cursor=this.limit;e:do{t=this.limit-this.cursor;t:do{n=this.limit-this.cursor,this.ket=this.cursor;n:do{i=this.limit-this.cursor;i:do{if(!this.eq_s_b$esjava$1("ுடன்"))break i;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ில்லை"))break i;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ிடம்"))break i;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ின்றி"))break i;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ாகி"))break i;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ாகிய"))break i;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ென்று"))break i;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ுள்ள"))break i;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ுடைய"))break i;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ுடை"))break i;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ெனும்"))break i;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ல்ல"))break i;o=this.limit-this.cursor,s=this.limit-this.cursor;r:do{if(0===this.find_among_b$esjava$1(r.a_16))break r;break i}while(0);this.cursor=this.limit-s,this.cursor=this.limit-o;break n}while(0);this.cursor=this.limit-i;i:do{if(!this.eq_s_b$esjava$1("ென"))break i;break n}while(0);if(this.cursor=this.limit-i,!this.eq_s_b$esjava$1("ாகி"))break t}while(0);this.bra=this.cursor,this.slice_from$esjava$1("்"),this.B_found_a_match=!0,this.cursor=this.limit-n;break e}while(0);if(this.cursor=this.limit-t,a=this.limit-this.cursor,this.ket=this.cursor,0===this.find_among_b$esjava$1(r.a_17))return!1;this.bra=this.cursor,this.slice_del$esjava$0(),this.B_found_a_match=!0,this.cursor=this.limit-a}while(0);this.cursor=this.limit_backward,e=this.cursor;e:do{if(!this.r_fix_endings$esjava$0())break e}while(0);return this.cursor=e,!0}},{key:"r_remove_vetrumai_urupukal$esjava$0",value:function(){var e,t,n=void 0,i=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,w=void 0,b=void 0,_=void 0;if(this.B_found_a_match=!1,this.B_found_vetrumai_urupu=!1,!this.r_has_min_length$esjava$0())return!1;this.limit_backward=this.cursor,this.cursor=this.limit;e:do{n=this.limit-this.cursor;t:do{if(i=this.limit-this.cursor,this.ket=this.cursor,!this.eq_s_b$esjava$1("னை"))break t;this.bra=this.cursor,this.slice_del$esjava$0(),this.cursor=this.limit-i;break e}while(0);this.cursor=this.limit-n;t:do{o=this.limit-this.cursor,this.ket=this.cursor;n:do{s=this.limit-this.cursor;i:do{r:do{a=this.limit-this.cursor;o:do{if(!this.eq_s_b$esjava$1("ினை"))break o;break r}while(0);if(this.cursor=this.limit-a,!this.eq_s_b$esjava$1("ை"))break i}while(0);c=this.limit-this.cursor,u=this.limit-this.cursor;r:do{if(0===this.find_among_b$esjava$1(r.a_18))break r;break i}while(0);this.cursor=this.limit-u,this.cursor=this.limit-c;break n}while(0);if(this.cursor=this.limit-s,!this.eq_s_b$esjava$1("ை"))break t;if(l=this.limit-this.cursor,0===this.find_among_b$esjava$1(r.a_19))break t;if(!this.eq_s_b$esjava$1("்"))break t;this.cursor=this.limit-l}while(0);this.bra=this.cursor,this.slice_from$esjava$1("்"),this.cursor=this.limit-o;break e}while(0);this.cursor=this.limit-n;t:do{h=this.limit-this.cursor,this.ket=this.cursor;n:do{d=this.limit-this.cursor;i:do{if(!this.eq_s_b$esjava$1("ொடு"))break i;break n}while(0);this.cursor=this.limit-d;i:do{if(!this.eq_s_b$esjava$1("ோடு"))break i;break n}while(0);this.cursor=this.limit-d;i:do{if(!this.eq_s_b$esjava$1("ில்"))break i;break n}while(0);this.cursor=this.limit-d;i:do{if(!this.eq_s_b$esjava$1("ிற்"))break i;break n}while(0);this.cursor=this.limit-d;i:do{if(!this.eq_s_b$esjava$1("ின்"))break i;f=this.limit-this.cursor,p=this.limit-this.cursor;r:do{if(!this.eq_s_b$esjava$1("ம"))break r;break i}while(0);this.cursor=this.limit-p,this.cursor=this.limit-f;break n}while(0);this.cursor=this.limit-d;i:do{if(!this.eq_s_b$esjava$1("ின்று"))break i;break n}while(0);this.cursor=this.limit-d;i:do{if(!this.eq_s_b$esjava$1("ிருந்து"))break i;break n}while(0);this.cursor=this.limit-d;i:do{if(!this.eq_s_b$esjava$1("விட"))break i;break n}while(0);this.cursor=this.limit-d;i:do{if(!(this.I_length>=7))break i;if(!this.eq_s_b$esjava$1("ிடம்"))break i;break n}while(0);this.cursor=this.limit-d;i:do{if(!this.eq_s_b$esjava$1("ால்"))break i;break n}while(0);this.cursor=this.limit-d;i:do{if(!this.eq_s_b$esjava$1("ுடை"))break i;break n}while(0);this.cursor=this.limit-d;i:do{if(!this.eq_s_b$esjava$1("ாமல்"))break i;break n}while(0);this.cursor=this.limit-d;i:do{if(!this.eq_s_b$esjava$1("ல்"))break i;g=this.limit-this.cursor,v=this.limit-this.cursor;r:do{if(0===this.find_among_b$esjava$1(r.a_20))break r;break i}while(0);this.cursor=this.limit-v,this.cursor=this.limit-g;break n}while(0);if(this.cursor=this.limit-d,!this.eq_s_b$esjava$1("ுள்"))break t}while(0);this.bra=this.cursor,this.slice_from$esjava$1("்"),this.cursor=this.limit-h;break e}while(0);this.cursor=this.limit-n;t:do{m=this.limit-this.cursor,this.ket=this.cursor;n:do{y=this.limit-this.cursor;i:do{if(!this.eq_s_b$esjava$1("கண்"))break i;break n}while(0);this.cursor=this.limit-y;i:do{if(!this.eq_s_b$esjava$1("முன்"))break i;break n}while(0);this.cursor=this.limit-y;i:do{if(!this.eq_s_b$esjava$1("மேல்"))break i;break n}while(0);this.cursor=this.limit-y;i:do{if(!this.eq_s_b$esjava$1("மேற்"))break i;break n}while(0);this.cursor=this.limit-y;i:do{if(!this.eq_s_b$esjava$1("கீழ்"))break i;break n}while(0);this.cursor=this.limit-y;i:do{if(!this.eq_s_b$esjava$1("பின்"))break i;break n}while(0);if(this.cursor=this.limit-y,!this.eq_s_b$esjava$1("து"))break t;w=this.limit-this.cursor,b=this.limit-this.cursor;i:do{if(0===this.find_among_b$esjava$1(r.a_21))break i;break t}while(0);this.cursor=this.limit-b,this.cursor=this.limit-w}while(0);this.bra=this.cursor,this.slice_del$esjava$0(),this.cursor=this.limit-m;break e}while(0);if(this.cursor=this.limit-n,_=this.limit-this.cursor,this.ket=this.cursor,!this.eq_s_b$esjava$1("ீ"))return!1;this.bra=this.cursor,this.slice_from$esjava$1("ி"),this.cursor=this.limit-_}while(0);this.B_found_a_match=!0,this.B_found_vetrumai_urupu=!0,e=this.limit-this.cursor;e:do{if(this.ket=this.cursor,!this.eq_s_b$esjava$1("ின்"))break e;this.bra=this.cursor,this.slice_from$esjava$1("்")}while(0);this.cursor=this.limit-e,this.cursor=this.limit_backward,t=this.cursor;e:do{if(!this.r_fix_endings$esjava$0())break e}while(0);return this.cursor=t,!0}},{key:"r_remove_tense_suffixes$esjava$0",value:function(){var e=void 0,t=void 0;this.B_found_a_match=!0;e:for(;;){e=this.cursor;t:do{if(!this.B_found_a_match)break t;t=this.cursor;n:do{if(!this.r_remove_tense_suffix$esjava$0())break n}while(0);this.cursor=t;continue e}while(0);this.cursor=e;break e}return!0}},{key:"r_remove_tense_suffix$esjava$0",value:function(){var e,t,n,i=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0;if(this.B_found_a_match=!1,!this.r_has_min_length$esjava$0())return!1;this.limit_backward=this.cursor,this.cursor=this.limit,e=this.limit-this.cursor;e:do{t:do{i=this.limit-this.cursor;n:do{if(o=this.limit-this.cursor,this.ket=this.cursor,0===this.find_among_b$esjava$1(r.a_22))break n;this.bra=this.cursor,this.slice_del$esjava$0(),this.B_found_a_match=!0,this.cursor=this.limit-o;break t}while(0);this.cursor=this.limit-i;n:do{s=this.limit-this.cursor,this.ket=this.cursor;i:do{a=this.limit-this.cursor;r:do{if(!this.eq_s_b$esjava$1("மார்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("மின்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("னன்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("னான்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("னாள்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("னார்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("வன்"))break r;c=this.limit-this.cursor,u=this.limit-this.cursor;o:do{if(0===this.find_among_b$esjava$1(r.a_23))break o;break r}while(0);this.cursor=this.limit-u,this.cursor=this.limit-c;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("னள்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("வள்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("னர்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("வர்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("ன"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("ப"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("க"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("த"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("ய"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("பன்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("பள்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("பர்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("து"))break r;l=this.limit-this.cursor,h=this.limit-this.cursor;o:do{if(0===this.find_among_b$esjava$1(r.a_24))break o;break r}while(0);this.cursor=this.limit-h,this.cursor=this.limit-l;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("ிற்று"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("பம்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("னம்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("தும்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("றும்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("கும்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("னென்"))break r;break i}while(0);this.cursor=this.limit-a;r:do{if(!this.eq_s_b$esjava$1("னை"))break r;break i}while(0);if(this.cursor=this.limit-a,!this.eq_s_b$esjava$1("வை"))break n}while(0);this.bra=this.cursor,this.slice_del$esjava$0(),this.B_found_a_match=!0,this.cursor=this.limit-s;break t}while(0);this.cursor=this.limit-i;n:do{d=this.limit-this.cursor,this.ket=this.cursor;i:do{f=this.limit-this.cursor;r:do{if(!this.eq_s_b$esjava$1("ான்"))break r;p=this.limit-this.cursor,g=this.limit-this.cursor;o:do{if(!this.eq_s_b$esjava$1("ச"))break o;break r}while(0);this.cursor=this.limit-g,this.cursor=this.limit-p;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("ாள்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("ார்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("ேன்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("ா"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("ாம்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("ெம்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("ேம்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("ோம்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("கும்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("தும்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("டும்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("றும்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("ாய்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("னென்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("னிர்"))break r;break i}while(0);this.cursor=this.limit-f;r:do{if(!this.eq_s_b$esjava$1("ீர்"))break r;break i}while(0);if(this.cursor=this.limit-f,!this.eq_s_b$esjava$1("ீயர்"))break n}while(0);this.bra=this.cursor,this.slice_from$esjava$1("்"),this.B_found_a_match=!0,this.cursor=this.limit-d;break t}while(0);this.cursor=this.limit-i,v=this.limit-this.cursor,this.ket=this.cursor;n:do{m=this.limit-this.cursor;i:do{if(!this.eq_s_b$esjava$1("கு"))break i;break n}while(0);if(this.cursor=this.limit-m,!this.eq_s_b$esjava$1("து"))break e}while(0);if(y=this.limit-this.cursor,!this.eq_s_b$esjava$1("்"))break e;this.cursor=this.limit-y,this.bra=this.cursor,this.slice_del$esjava$0(),this.B_found_a_match=!0,this.cursor=this.limit-v}while(0)}while(0);this.cursor=this.limit-e,t=this.limit-this.cursor;e:do{if(this.ket=this.cursor,0===this.find_among_b$esjava$1(r.a_25))break e;this.bra=this.cursor,this.slice_del$esjava$0(),this.B_found_a_match=!0}while(0);this.cursor=this.limit-t,this.cursor=this.limit_backward,n=this.cursor;e:do{if(!this.r_fix_endings$esjava$0())break e}while(0);return this.cursor=n,!0}},{key:"stem$esjava$0",value:function(){var e,t,n,i,r,o,s,a,c,u;this.B_found_vetrumai_urupu=!1,e=this.cursor;e:do{if(!this.r_fix_ending$esjava$0())break e}while(0);if(this.cursor=e,!this.r_has_min_length$esjava$0())return!1;t=this.cursor;e:do{if(!this.r_remove_question_prefixes$esjava$0())break e}while(0);this.cursor=t,n=this.cursor;e:do{if(!this.r_remove_pronoun_prefixes$esjava$0())break e}while(0);this.cursor=n,i=this.cursor;e:do{if(!this.r_remove_question_suffixes$esjava$0())break e}while(0);this.cursor=i,r=this.cursor;e:do{if(!this.r_remove_um$esjava$0())break e}while(0);this.cursor=r,o=this.cursor;e:do{if(!this.r_remove_common_word_endings$esjava$0())break e}while(0);this.cursor=o,s=this.cursor;e:do{if(!this.r_remove_vetrumai_urupukal$esjava$0())break e}while(0);this.cursor=s,a=this.cursor;e:do{if(!this.r_remove_plural_suffix$esjava$0())break e}while(0);this.cursor=a,c=this.cursor;e:do{if(!this.r_remove_command_suffixes$esjava$0())break e}while(0);this.cursor=c,u=this.cursor;e:do{if(!this.r_remove_tense_suffixes$esjava$0())break e}while(0);return this.cursor=u,!0}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"I_length",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_length")?this._$esjava$I_length:this._$esjava$I_length=0},set:function(e){this._$esjava$I_length=e}},{key:"B_found_wrong_ending",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_found_wrong_ending")?this._$esjava$B_found_wrong_ending:this._$esjava$B_found_wrong_ending=!1},set:function(e){this._$esjava$B_found_wrong_ending=e}},{key:"B_found_vetrumai_urupu",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_found_vetrumai_urupu")?this._$esjava$B_found_vetrumai_urupu:this._$esjava$B_found_vetrumai_urupu=!1},set:function(e){this._$esjava$B_found_vetrumai_urupu=e}},{key:"B_found_a_match",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_found_a_match")?this._$esjava$B_found_a_match:this._$esjava$B_found_a_match=!1},set:function(e){this._$esjava$B_found_a_match=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("க",-1,-1),new u("ங",-1,-1),new u("ச",-1,-1),new u("ஞ",-1,-1),new u("த",-1,-1),new u("ந",-1,-1),new u("ப",-1,-1),new u("ம",-1,-1),new u("ய",-1,-1),new u("வ",-1,-1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("ந்த",-1,-1),new u("ந்த்",-1,-1),new u("ந்",-1,-1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("ி",-1,-1),new u("ீ",-1,-1),new u("ை",-1,-1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("க",-1,-1),new u("ச",-1,-1),new u("ட",-1,-1),new u("த",-1,-1),new u("ப",-1,-1),new u("ற",-1,-1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("க",-1,-1),new u("ச",-1,-1),new u("ட",-1,-1),new u("த",-1,-1),new u("ப",-1,-1),new u("ற",-1,-1)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("க",-1,-1),new u("ச",-1,-1),new u("ட",-1,-1),new u("த",-1,-1),new u("ப",-1,-1),new u("ற",-1,-1)]}},{key:"a_6",get:function(){return delete r.a_6,r.a_6=[new u("ய",-1,-1),new u("ர",-1,-1),new u("ல",-1,-1),new u("ள",-1,-1),new u("ழ",-1,-1),new u("வ",-1,-1)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("ங",-1,-1),new u("ஞ",-1,-1),new u("ண",-1,-1),new u("ந",-1,-1),new u("ன",-1,-1),new u("ம",-1,-1)]}},{key:"a_8",get:function(){return delete r.a_8,r.a_8=[new u("ய",-1,-1),new u("வ",-1,-1),new u("வ்",-1,-1)]}},{key:"a_9",get:function(){return delete r.a_9,r.a_9=[new u("ா",-1,-1),new u("ி",-1,-1),new u("ீ",-1,-1),new u("ு",-1,-1),new u("ூ",-1,-1),new u("ெ",-1,-1),new u("ே",-1,-1),new u("ை",-1,-1)]}},{key:"a_10",get:function(){return delete r.a_10,r.a_10=[new u("ா",-1,-1),new u("ி",-1,-1),new u("ீ",-1,-1),new u("ு",-1,-1),new u("ூ",-1,-1),new u("ெ",-1,-1),new u("ே",-1,-1),new u("ை",-1,-1)]}},{key:"a_11",get:function(){return delete r.a_11,r.a_11=[new u("அ",-1,-1),new u("இ",-1,-1),new u("உ",-1,-1)]}},{key:"a_12",get:function(){return delete r.a_12,r.a_12=[new u("க",-1,-1),new u("ங",-1,-1),new u("ச",-1,-1),new u("ஞ",-1,-1),new u("த",-1,-1),new u("ந",-1,-1),new u("ப",-1,-1),new u("ம",-1,-1),new u("ய",-1,-1),new u("வ",-1,-1)]}},{key:"a_13",get:function(){return delete r.a_13,r.a_13=[new u("க",-1,-1),new u("ச",-1,-1),new u("ட",-1,-1),new u("த",-1,-1),new u("ப",-1,-1),new u("ற",-1,-1)]}},{key:"a_14",get:function(){return delete r.a_14,r.a_14=[new u("ா",-1,-1),new u("ே",-1,-1),new u("ோ",-1,-1)]}},{key:"a_15",get:function(){return delete r.a_15,r.a_15=[new u("பி",-1,-1),new u("வி",-1,-1)]}},{key:"a_16",get:function(){return delete r.a_16,r.a_16=[new u("ா",-1,-1),new u("ி",-1,-1),new u("ீ",-1,-1),new u("ு",-1,-1),new u("ூ",-1,-1),new u("ெ",-1,-1),new u("ே",-1,-1),new u("ை",-1,-1)]}},{key:"a_17",get:function(){return delete r.a_17,r.a_17=[new u("பட்ட",-1,-1),new u("பட்டண",-1,-1),new u("தான",-1,-1),new u("படிதான",2,-1),new u("குரிய",-1,-1),new u("படி",-1,-1),new u("பற்றி",-1,-1),new u("படு",-1,-1),new u("விடு",-1,-1),new u("பட்டு",-1,-1),new u("விட்டு",-1,-1),new u("பட்டது",-1,-1),new u("ெல்லாம்",-1,-1)]}},{key:"a_18",get:function(){return delete r.a_18,r.a_18=[new u("க",-1,-1),new u("ச",-1,-1),new u("ட",-1,-1),new u("த",-1,-1),new u("ப",-1,-1),new u("ற",-1,-1)]}},{key:"a_19",get:function(){return delete r.a_19,r.a_19=[new u("க",-1,-1),new u("ச",-1,-1),new u("ட",-1,-1),new u("த",-1,-1),new u("ப",-1,-1),new u("ற",-1,-1)]}},{key:"a_20",get:function(){return delete r.a_20,r.a_20=[new u("ா",-1,-1),new u("ி",-1,-1),new u("ீ",-1,-1),new u("ு",-1,-1),new u("ூ",-1,-1),new u("ெ",-1,-1),new u("ே",-1,-1),new u("ை",-1,-1)]}},{key:"a_21",get:function(){return delete r.a_21,r.a_21=[new u("ா",-1,-1),new u("ி",-1,-1),new u("ீ",-1,-1),new u("ு",-1,-1),new u("ூ",-1,-1),new u("ெ",-1,-1),new u("ே",-1,-1),new u("ை",-1,-1)]}},{key:"a_22",get:function(){return delete r.a_22,r.a_22=[new u("படு",-1,-1),new u("கொண்டிர்",-1,-1)]}},{key:"a_23",get:function(){return delete r.a_23,r.a_23=[new u("அ",-1,-1),new u("ஆ",-1,-1),new u("இ",-1,-1),new u("ஈ",-1,-1),new u("உ",-1,-1),new u("ஊ",-1,-1),new u("எ",-1,-1),new u("ஏ",-1,-1),new u("ஐ",-1,-1),new u("ஒ",-1,-1),new u("ஓ",-1,-1),new u("ஔ",-1,-1)]}},{key:"a_24",get:function(){return delete r.a_24,r.a_24=[new u("ா",-1,-1),new u("ி",-1,-1),new u("ீ",-1,-1),new u("ு",-1,-1),new u("ூ",-1,-1),new u("ெ",-1,-1),new u("ே",-1,-1),new u("ை",-1,-1)]}},{key:"a_25",get:function(){return delete r.a_25,r.a_25=[new u("கிற",-1,-1),new u("கின்ற",-1,-1),new u("ாநின்ற",-1,-1),new u("கிற்",-1,-1),new u("கின்ற்",-1,-1),new u("ாநின்ற்",-1,-1)]}}]),r}(h),M=function(e){function r(){return i(this,r),t(this,Object.getPrototypeOf(r).apply(this,arguments))}return n(r,e),o(r,[{key:"r_check_vowel_harmony$esjava$0",value:function(){var e,t=void 0,n=void 0,i=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0;e=this.limit-this.cursor;e:for(;;){t=this.limit-this.cursor;t:do{if(!this.in_grouping_b$esjava$3(r.g_vowel,97,305))break t;this.cursor=this.limit-t;break e}while(0);if(this.cursor=this.limit-t,this.cursor<=this.limit_backward)return!1;this.cursor--}e:do{n=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("a"))break t;n:for(;;){i=this.limit-this.cursor;i:do{if(!this.in_grouping_b$esjava$3(r.g_vowel1,97,305))break i;this.cursor=this.limit-i;break n}while(0);if(this.cursor=this.limit-i,this.cursor<=this.limit_backward)break t;this.cursor--}break e}while(0);this.cursor=this.limit-n;t:do{if(!this.eq_s_b$esjava$1("e"))break t;n:for(;;){o=this.limit-this.cursor;i:do{if(!this.in_grouping_b$esjava$3(r.g_vowel2,101,252))break i;this.cursor=this.limit-o;break n}while(0);if(this.cursor=this.limit-o,this.cursor<=this.limit_backward)break t;this.cursor--}break e}while(0);this.cursor=this.limit-n;t:do{if(!this.eq_s_b$esjava$1("ı"))break t;n:for(;;){s=this.limit-this.cursor;i:do{if(!this.in_grouping_b$esjava$3(r.g_vowel3,97,305))break i;this.cursor=this.limit-s;break n}while(0);if(this.cursor=this.limit-s,this.cursor<=this.limit_backward)break t;this.cursor--}break e}while(0);this.cursor=this.limit-n;t:do{if(!this.eq_s_b$esjava$1("i"))break t;n:for(;;){a=this.limit-this.cursor;i:do{if(!this.in_grouping_b$esjava$3(r.g_vowel4,101,105))break i;this.cursor=this.limit-a;break n}while(0);if(this.cursor=this.limit-a,this.cursor<=this.limit_backward)break t;this.cursor--}break e}while(0);this.cursor=this.limit-n;t:do{if(!this.eq_s_b$esjava$1("o"))break t;n:for(;;){c=this.limit-this.cursor;i:do{if(!this.in_grouping_b$esjava$3(r.g_vowel5,111,117))break i;this.cursor=this.limit-c;break n}while(0);if(this.cursor=this.limit-c,this.cursor<=this.limit_backward)break t;this.cursor--}break e}while(0);this.cursor=this.limit-n;t:do{if(!this.eq_s_b$esjava$1("ö"))break t;n:for(;;){u=this.limit-this.cursor;i:do{if(!this.in_grouping_b$esjava$3(r.g_vowel6,246,252))break i;this.cursor=this.limit-u;break n}while(0);if(this.cursor=this.limit-u,this.cursor<=this.limit_backward)break t;this.cursor--}break e}while(0);this.cursor=this.limit-n;t:do{if(!this.eq_s_b$esjava$1("u"))break t;n:for(;;){l=this.limit-this.cursor;i:do{if(!this.in_grouping_b$esjava$3(r.g_vowel5,111,117))break i;this.cursor=this.limit-l;break n}while(0);if(this.cursor=this.limit-l,this.cursor<=this.limit_backward)break t;this.cursor--}break e}while(0);if(this.cursor=this.limit-n,!this.eq_s_b$esjava$1("ü"))return!1;t:for(;;){h=this.limit-this.cursor;n:do{if(!this.in_grouping_b$esjava$3(r.g_vowel6,246,252))break n;this.cursor=this.limit-h;break t}while(0);if(this.cursor=this.limit-h,this.cursor<=this.limit_backward)return!1;this.cursor--}}while(0);return this.cursor=this.limit-e,!0}},{key:"r_mark_suffix_with_optional_n_consonant$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0;e:do{e=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("n"))break t;if(t=this.limit-this.cursor,!this.in_grouping_b$esjava$3(r.g_vowel,97,305))break t;this.cursor=this.limit-t;break e}while(0);this.cursor=this.limit-e,n=this.limit-this.cursor;t:do{if(i=this.limit-this.cursor,!this.eq_s_b$esjava$1("n"))break t;return this.cursor=this.limit-i,!1}while(0);if(this.cursor=this.limit-n,o=this.limit-this.cursor,this.cursor<=this.limit_backward)return!1;if(this.cursor--,!this.in_grouping_b$esjava$3(r.g_vowel,97,305))return!1;this.cursor=this.limit-o}while(0);return!0}},{key:"r_mark_suffix_with_optional_s_consonant$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0;e:do{e=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("s"))break t;if(t=this.limit-this.cursor,!this.in_grouping_b$esjava$3(r.g_vowel,97,305))break t;this.cursor=this.limit-t;break e}while(0);this.cursor=this.limit-e,n=this.limit-this.cursor;t:do{if(i=this.limit-this.cursor,!this.eq_s_b$esjava$1("s"))break t;return this.cursor=this.limit-i,!1}while(0);if(this.cursor=this.limit-n,o=this.limit-this.cursor,this.cursor<=this.limit_backward)return!1;if(this.cursor--,!this.in_grouping_b$esjava$3(r.g_vowel,97,305))return!1;this.cursor=this.limit-o}while(0);return!0}},{key:"r_mark_suffix_with_optional_y_consonant$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0;e:do{e=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("y"))break t;if(t=this.limit-this.cursor,!this.in_grouping_b$esjava$3(r.g_vowel,97,305))break t;this.cursor=this.limit-t;break e}while(0);this.cursor=this.limit-e,n=this.limit-this.cursor;t:do{if(i=this.limit-this.cursor,!this.eq_s_b$esjava$1("y"))break t;return this.cursor=this.limit-i,!1}while(0);if(this.cursor=this.limit-n,o=this.limit-this.cursor,this.cursor<=this.limit_backward)return!1;if(this.cursor--,!this.in_grouping_b$esjava$3(r.g_vowel,97,305))return!1;this.cursor=this.limit-o}while(0);return!0}},{key:"r_mark_suffix_with_optional_U_vowel$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0;e:do{e=this.limit-this.cursor;t:do{if(!this.in_grouping_b$esjava$3(r.g_U,105,305))break t;if(t=this.limit-this.cursor,!this.out_grouping_b$esjava$3(r.g_vowel,97,305))break t;this.cursor=this.limit-t;break e}while(0);this.cursor=this.limit-e,n=this.limit-this.cursor;t:do{if(i=this.limit-this.cursor,!this.in_grouping_b$esjava$3(r.g_U,105,305))break t;return this.cursor=this.limit-i,!1}while(0);if(this.cursor=this.limit-n,o=this.limit-this.cursor,this.cursor<=this.limit_backward)return!1;if(this.cursor--,!this.out_grouping_b$esjava$3(r.g_vowel,97,305))return!1;this.cursor=this.limit-o}while(0);return!0}},{key:"r_mark_possessives$esjava$0",value:function(){return 0!==this.find_among_b$esjava$1(r.a_0)&&!!this.r_mark_suffix_with_optional_U_vowel$esjava$0()}},{key:"r_mark_sU$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&!!this.in_grouping_b$esjava$3(r.g_U,105,305)&&!!this.r_mark_suffix_with_optional_s_consonant$esjava$0()}},{key:"r_mark_lArI$esjava$0",value:function(){return 0!==this.find_among_b$esjava$1(r.a_1)}},{key:"r_mark_yU$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&!!this.in_grouping_b$esjava$3(r.g_U,105,305)&&!!this.r_mark_suffix_with_optional_y_consonant$esjava$0()}},{key:"r_mark_nU$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_2)}},{key:"r_mark_nUn$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_3)&&!!this.r_mark_suffix_with_optional_n_consonant$esjava$0()}},{key:"r_mark_yA$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_4)&&!!this.r_mark_suffix_with_optional_y_consonant$esjava$0()}},{key:"r_mark_nA$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_5)}},{key:"r_mark_DA$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_6)}},{key:"r_mark_ndA$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_7)}},{key:"r_mark_DAn$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_8)}},{key:"r_mark_ndAn$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_9)}},{key:"r_mark_ylA$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_10)&&!!this.r_mark_suffix_with_optional_y_consonant$esjava$0()}},{key:"r_mark_ki$esjava$0",value:function(){return!!this.eq_s_b$esjava$1("ki")}},{key:"r_mark_ncA$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_11)&&!!this.r_mark_suffix_with_optional_n_consonant$esjava$0()}},{key:"r_mark_yUm$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_12)&&!!this.r_mark_suffix_with_optional_y_consonant$esjava$0()}},{key:"r_mark_sUn$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_13)}},{key:"r_mark_yUz$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_14)&&!!this.r_mark_suffix_with_optional_y_consonant$esjava$0()}},{key:"r_mark_sUnUz$esjava$0",value:function(){return 0!==this.find_among_b$esjava$1(r.a_15)}},{key:"r_mark_lAr$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_16)}},{key:"r_mark_nUz$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_17)}},{key:"r_mark_DUr$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_18)}},{key:"r_mark_cAsInA$esjava$0",value:function(){return 0!==this.find_among_b$esjava$1(r.a_19)}},{key:"r_mark_yDU$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_20)&&!!this.r_mark_suffix_with_optional_y_consonant$esjava$0()}},{key:"r_mark_ysA$esjava$0",value:function(){return 0!==this.find_among_b$esjava$1(r.a_21)&&!!this.r_mark_suffix_with_optional_y_consonant$esjava$0()}},{key:"r_mark_ymUs_$esjava$0",value:function(){return!!this.r_check_vowel_harmony$esjava$0()&&0!==this.find_among_b$esjava$1(r.a_22)&&!!this.r_mark_suffix_with_optional_y_consonant$esjava$0()}},{key:"r_mark_yken$esjava$0",value:function(){return!!this.eq_s_b$esjava$1("ken")&&!!this.r_mark_suffix_with_optional_y_consonant$esjava$0()}},{key:"r_stem_nominal_verb_suffixes$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,r=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0;this.ket=this.cursor,this.B_continue_stemming_noun_suffixes=!0;e:do{e=this.limit-this.cursor;t:do{n:do{t=this.limit-this.cursor;i:do{if(!this.r_mark_ymUs_$esjava$0())break i;break n}while(0);this.cursor=this.limit-t;i:do{if(!this.r_mark_yDU$esjava$0())break i;break n}while(0);this.cursor=this.limit-t;i:do{if(!this.r_mark_ysA$esjava$0())break i;break n}while(0);if(this.cursor=this.limit-t,!this.r_mark_yken$esjava$0())break t}while(0);break e}while(0);this.cursor=this.limit-e;t:do{if(!this.r_mark_cAsInA$esjava$0())break t;n:do{n=this.limit-this.cursor;i:do{if(!this.r_mark_sUnUz$esjava$0())break i;break n}while(0);this.cursor=this.limit-n;i:do{if(!this.r_mark_lAr$esjava$0())break i;break n}while(0);this.cursor=this.limit-n;i:do{if(!this.r_mark_yUm$esjava$0())break i;break n}while(0);this.cursor=this.limit-n;i:do{if(!this.r_mark_sUn$esjava$0())break i;break n}while(0);this.cursor=this.limit-n;i:do{if(!this.r_mark_yUz$esjava$0())break i;break n}while(0);this.cursor=this.limit-n}while(0);if(!this.r_mark_ymUs_$esjava$0())break t;break e}while(0);this.cursor=this.limit-e;t:do{if(!this.r_mark_lAr$esjava$0())break t;this.bra=this.cursor,this.slice_del$esjava$0(),i=this.limit-this.cursor;n:do{this.ket=this.cursor;i:do{r=this.limit-this.cursor;r:do{if(!this.r_mark_DUr$esjava$0())break r;break i}while(0);this.cursor=this.limit-r;r:do{if(!this.r_mark_yDU$esjava$0())break r;break i}while(0);this.cursor=this.limit-r;r:do{if(!this.r_mark_ysA$esjava$0())break r;break i}while(0);if(this.cursor=this.limit-r,!this.r_mark_ymUs_$esjava$0()){this.cursor=this.limit-i;break n}}while(0)}while(0);this.B_continue_stemming_noun_suffixes=!1;break e}while(0);this.cursor=this.limit-e;t:do{if(!this.r_mark_nUz$esjava$0())break t;n:do{o=this.limit-this.cursor;i:do{if(!this.r_mark_yDU$esjava$0())break i;break n}while(0);if(this.cursor=this.limit-o,!this.r_mark_ysA$esjava$0())break t}while(0);break e}while(0);this.cursor=this.limit-e;t:do{n:do{s=this.limit-this.cursor;i:do{if(!this.r_mark_sUnUz$esjava$0())break i;break n}while(0);this.cursor=this.limit-s;i:do{if(!this.r_mark_yUz$esjava$0())break i;break n}while(0);this.cursor=this.limit-s;i:do{if(!this.r_mark_sUn$esjava$0())break i;break n}while(0);if(this.cursor=this.limit-s,!this.r_mark_yUm$esjava$0())break t}while(0);this.bra=this.cursor,this.slice_del$esjava$0(),a=this.limit-this.cursor;n:do{if(this.ket=this.cursor,!this.r_mark_ymUs_$esjava$0()){this.cursor=this.limit-a;break n}}while(0);break e}while(0);if(this.cursor=this.limit-e,!this.r_mark_DUr$esjava$0())return!1;this.bra=this.cursor,this.slice_del$esjava$0(),c=this.limit-this.cursor;t:do{this.ket=this.cursor;n:do{u=this.limit-this.cursor;i:do{if(!this.r_mark_sUnUz$esjava$0())break i;break n}while(0);this.cursor=this.limit-u;i:do{if(!this.r_mark_lAr$esjava$0())break i;break n}while(0);this.cursor=this.limit-u;i:do{if(!this.r_mark_yUm$esjava$0())break i;break n}while(0);this.cursor=this.limit-u;i:do{if(!this.r_mark_sUn$esjava$0())break i;break n}while(0);this.cursor=this.limit-u;i:do{if(!this.r_mark_yUz$esjava$0())break i;break n}while(0);this.cursor=this.limit-u}while(0);if(!this.r_mark_ymUs_$esjava$0()){this.cursor=this.limit-c;break t}}while(0)}while(0);return this.bra=this.cursor,this.slice_del$esjava$0(),!0}},{key:"r_stem_suffix_chain_before_ki$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,r=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0;if(this.ket=this.cursor,!this.r_mark_ki$esjava$0())return!1;e:do{e=this.limit-this.cursor;t:do{if(!this.r_mark_DA$esjava$0())break t;this.bra=this.cursor,this.slice_del$esjava$0(),t=this.limit-this.cursor;n:do{this.ket=this.cursor;i:do{n=this.limit-this.cursor;r:do{if(!this.r_mark_lAr$esjava$0())break r;this.bra=this.cursor,this.slice_del$esjava$0(),i=this.limit-this.cursor;o:do{if(!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-i;break o}}while(0);break i}while(0);if(this.cursor=this.limit-n,!this.r_mark_possessives$esjava$0()){this.cursor=this.limit-t;break n}this.bra=this.cursor,this.slice_del$esjava$0(),r=this.limit-this.cursor;r:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-r;break r}if(this.bra=this.cursor,this.slice_del$esjava$0(),!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-r;break r}}while(0)}while(0)}while(0);break e}while(0);this.cursor=this.limit-e;t:do{if(!this.r_mark_nUn$esjava$0())break t;this.bra=this.cursor,this.slice_del$esjava$0(),o=this.limit-this.cursor;n:do{this.ket=this.cursor;i:do{s=this.limit-this.cursor;r:do{if(!this.r_mark_lArI$esjava$0())break r;this.bra=this.cursor,this.slice_del$esjava$0();break i}while(0);this.cursor=this.limit-s;r:do{this.ket=this.cursor;o:do{a=this.limit-this.cursor;s:do{if(!this.r_mark_possessives$esjava$0())break s;break o}while(0);if(this.cursor=this.limit-a,!this.r_mark_sU$esjava$0())break r}while(0);this.bra=this.cursor,this.slice_del$esjava$0(),c=this.limit-this.cursor;o:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-c;break o}if(this.bra=this.cursor,this.slice_del$esjava$0(),!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-c;break o}}while(0);break i}while(0);if(this.cursor=this.limit-s,!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-o;break n}}while(0)}while(0);break e}while(0);if(this.cursor=this.limit-e,!this.r_mark_ndA$esjava$0())return!1;t:do{u=this.limit-this.cursor;n:do{if(!this.r_mark_lArI$esjava$0())break n;this.bra=this.cursor,this.slice_del$esjava$0();break t}while(0);this.cursor=this.limit-u;n:do{if(!this.r_mark_sU$esjava$0())break n;this.bra=this.cursor,this.slice_del$esjava$0(),l=this.limit-this.cursor;i:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-l;break i}if(this.bra=this.cursor,this.slice_del$esjava$0(),!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-l;break i}}while(0);break t}while(0);if(this.cursor=this.limit-u,!this.r_stem_suffix_chain_before_ki$esjava$0())return!1}while(0)}while(0);return!0}},{key:"r_stem_noun_suffixes$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,r=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,w=void 0,b=void 0,_=void 0,k=void 0,E=void 0,S=void 0,T=void 0,P=void 0;e:do{e=this.limit-this.cursor;t:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0())break t;this.bra=this.cursor,this.slice_del$esjava$0(),t=this.limit-this.cursor;n:do{if(!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-t;break n}}while(0);break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.r_mark_ncA$esjava$0())break t;this.bra=this.cursor,this.slice_del$esjava$0(),n=this.limit-this.cursor;n:do{i:do{i=this.limit-this.cursor;r:do{if(this.ket=this.cursor,!this.r_mark_lArI$esjava$0())break r;this.bra=this.cursor,this.slice_del$esjava$0();break i}while(0);this.cursor=this.limit-i;r:do{this.ket=this.cursor;o:do{r=this.limit-this.cursor;s:do{if(!this.r_mark_possessives$esjava$0())break s;break o}while(0);if(this.cursor=this.limit-r,!this.r_mark_sU$esjava$0())break r}while(0);this.bra=this.cursor,this.slice_del$esjava$0(),o=this.limit-this.cursor;o:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-o;break o}if(this.bra=this.cursor,this.slice_del$esjava$0(),!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-o;break o}}while(0);break i}while(0);if(this.cursor=this.limit-i,this.ket=this.cursor,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-n;break n}if(this.bra=this.cursor,this.slice_del$esjava$0(),!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-n;break n}}while(0)}while(0);break e}while(0);this.cursor=this.limit-e;t:do{this.ket=this.cursor;n:do{s=this.limit-this.cursor;i:do{if(!this.r_mark_ndA$esjava$0())break i;break n}while(0);if(this.cursor=this.limit-s,!this.r_mark_nA$esjava$0())break t}while(0);n:do{a=this.limit-this.cursor;i:do{if(!this.r_mark_lArI$esjava$0())break i;this.bra=this.cursor,this.slice_del$esjava$0();break n}while(0);this.cursor=this.limit-a;i:do{if(!this.r_mark_sU$esjava$0())break i;this.bra=this.cursor,this.slice_del$esjava$0(),c=this.limit-this.cursor;r:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-c;break r}if(this.bra=this.cursor,this.slice_del$esjava$0(),!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-c;break r}}while(0);break n}while(0);if(this.cursor=this.limit-a,!this.r_stem_suffix_chain_before_ki$esjava$0())break t}while(0);break e}while(0);this.cursor=this.limit-e;t:do{this.ket=this.cursor;n:do{u=this.limit-this.cursor;i:do{if(!this.r_mark_ndAn$esjava$0())break i;break n}while(0);if(this.cursor=this.limit-u,!this.r_mark_nU$esjava$0())break t}while(0);n:do{l=this.limit-this.cursor;i:do{if(!this.r_mark_sU$esjava$0())break i;this.bra=this.cursor,this.slice_del$esjava$0(),h=this.limit-this.cursor;r:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-h;break r}if(this.bra=this.cursor,this.slice_del$esjava$0(),!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-h;break r}}while(0);break n}while(0);if(this.cursor=this.limit-l,!this.r_mark_lArI$esjava$0())break t}while(0);break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.r_mark_DAn$esjava$0())break t;this.bra=this.cursor,this.slice_del$esjava$0(),d=this.limit-this.cursor;n:do{this.ket=this.cursor;i:do{f=this.limit-this.cursor;r:do{if(!this.r_mark_possessives$esjava$0())break r;this.bra=this.cursor,this.slice_del$esjava$0(),p=this.limit-this.cursor;o:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-p;break o}if(this.bra=this.cursor,this.slice_del$esjava$0(),!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-p;break o}}while(0);break i}while(0);this.cursor=this.limit-f;r:do{if(!this.r_mark_lAr$esjava$0())break r;this.bra=this.cursor,this.slice_del$esjava$0(),g=this.limit-this.cursor;o:do{if(!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-g;break o}}while(0);break i}while(0);if(this.cursor=this.limit-f,!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-d;break n}}while(0)}while(0);break e}while(0);this.cursor=this.limit-e;t:do{this.ket=this.cursor;n:do{v=this.limit-this.cursor;i:do{if(!this.r_mark_nUn$esjava$0())break i;break n}while(0);if(this.cursor=this.limit-v,!this.r_mark_ylA$esjava$0())break t}while(0);this.bra=this.cursor,this.slice_del$esjava$0(),m=this.limit-this.cursor;n:do{i:do{y=this.limit-this.cursor;r:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0())break r;if(this.bra=this.cursor,this.slice_del$esjava$0(),!this.r_stem_suffix_chain_before_ki$esjava$0())break r;break i}while(0);this.cursor=this.limit-y;r:do{this.ket=this.cursor;o:do{w=this.limit-this.cursor;s:do{if(!this.r_mark_possessives$esjava$0())break s;break o}while(0);if(this.cursor=this.limit-w,!this.r_mark_sU$esjava$0())break r}while(0);this.bra=this.cursor,this.slice_del$esjava$0(),b=this.limit-this.cursor;o:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-b;break o}if(this.bra=this.cursor,this.slice_del$esjava$0(),!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-b;break o}}while(0);break i}while(0);if(this.cursor=this.limit-y,!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-m;break n}}while(0)}while(0);break e}while(0);this.cursor=this.limit-e;t:do{if(this.ket=this.cursor,!this.r_mark_lArI$esjava$0())break t;this.bra=this.cursor,this.slice_del$esjava$0();break e}while(0);this.cursor=this.limit-e;t:do{if(!this.r_stem_suffix_chain_before_ki$esjava$0())break t;break e}while(0);this.cursor=this.limit-e;t:do{this.ket=this.cursor;n:do{_=this.limit-this.cursor;i:do{if(!this.r_mark_DA$esjava$0())break i;break n}while(0);this.cursor=this.limit-_;i:do{if(!this.r_mark_yU$esjava$0())break i;break n}while(0);if(this.cursor=this.limit-_,!this.r_mark_yA$esjava$0())break t}while(0);this.bra=this.cursor,this.slice_del$esjava$0(),k=this.limit-this.cursor;n:do{this.ket=this.cursor;i:do{E=this.limit-this.cursor;r:do{if(!this.r_mark_possessives$esjava$0())break r;this.bra=this.cursor,this.slice_del$esjava$0(),S=this.limit-this.cursor;o:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-S;break o}}while(0);break i}while(0);if(this.cursor=this.limit-E,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-k;break n}}while(0);if(this.bra=this.cursor,this.slice_del$esjava$0(),this.ket=this.cursor,!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-k;break n}}while(0);break e}while(0);this.cursor=this.limit-e,this.ket=this.cursor;t:do{T=this.limit-this.cursor;n:do{if(!this.r_mark_possessives$esjava$0())break n;break t}while(0);if(this.cursor=this.limit-T,!this.r_mark_sU$esjava$0())return!1}while(0);this.bra=this.cursor,this.slice_del$esjava$0(),P=this.limit-this.cursor;t:do{if(this.ket=this.cursor,!this.r_mark_lAr$esjava$0()){this.cursor=this.limit-P;break t}if(this.bra=this.cursor,this.slice_del$esjava$0(),!this.r_stem_suffix_chain_before_ki$esjava$0()){this.cursor=this.limit-P;break t}}while(0)}while(0);return!0}},{key:"r_post_process_last_consonants$esjava$0",value:function(){var e;if(this.ket=this.cursor,0===(e=this.find_among_b$esjava$1(r.a_23)))return!1;switch(this.bra=this.cursor,e){case 0:return!1;case 1:this.slice_from$esjava$1("p");break;case 2:this.slice_from$esjava$1("ç");break;case 3:this.slice_from$esjava$1("t");break;case 4:this.slice_from$esjava$1("k")}return!0}},{key:"r_append_U_to_stems_ending_with_d_or_g$esjava$0",value:function(){var e,t=void 0,n=void 0,i=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0;e=this.limit-this.cursor;e:do{t=this.limit-this.cursor;t:do{if(!this.eq_s_b$esjava$1("d"))break t;break e}while(0);if(this.cursor=this.limit-t,!this.eq_s_b$esjava$1("g"))return!1}while(0);this.cursor=this.limit-e;e:do{n=this.limit-this.cursor;t:do{i=this.limit-this.cursor;n:for(;;){o=this.limit-this.cursor;i:do{if(!this.in_grouping_b$esjava$3(r.g_vowel,97,305))break i;this.cursor=this.limit-o;break n}while(0);if(this.cursor=this.limit-o,this.cursor<=this.limit_backward)break t;this.cursor--}n:do{s=this.limit-this.cursor;i:do{if(!this.eq_s_b$esjava$1("a"))break i;break n}while(0);if(this.cursor=this.limit-s,!this.eq_s_b$esjava$1("ı"))break t}while(0);this.cursor=this.limit-i;var v=this.cursor;this.insert$esjava$3(this.cursor,this.cursor,"ı"),this.cursor=v;break e}while(0);this.cursor=this.limit-n;t:do{a=this.limit-this.cursor;n:for(;;){c=this.limit-this.cursor;i:do{if(!this.in_grouping_b$esjava$3(r.g_vowel,97,305))break i;this.cursor=this.limit-c;break n}while(0);if(this.cursor=this.limit-c,this.cursor<=this.limit_backward)break t;this.cursor--}n:do{u=this.limit-this.cursor;i:do{if(!this.eq_s_b$esjava$1("e"))break i;break n}while(0);if(this.cursor=this.limit-u,!this.eq_s_b$esjava$1("i"))break t}while(0);this.cursor=this.limit-a,v=this.cursor,this.insert$esjava$3(this.cursor,this.cursor,"i"),this.cursor=v;break e}while(0);this.cursor=this.limit-n;t:do{l=this.limit-this.cursor;n:for(;;){h=this.limit-this.cursor;i:do{if(!this.in_grouping_b$esjava$3(r.g_vowel,97,305))break i;this.cursor=this.limit-h;break n}while(0);if(this.cursor=this.limit-h,this.cursor<=this.limit_backward)break t;this.cursor--}n:do{d=this.limit-this.cursor;i:do{if(!this.eq_s_b$esjava$1("o"))break i;break n}while(0);if(this.cursor=this.limit-d,!this.eq_s_b$esjava$1("u"))break t}while(0);this.cursor=this.limit-l,v=this.cursor,this.insert$esjava$3(this.cursor,this.cursor,"u"),this.cursor=v;break e}while(0);this.cursor=this.limit-n,f=this.limit-this.cursor;t:for(;;){p=this.limit-this.cursor;n:do{if(!this.in_grouping_b$esjava$3(r.g_vowel,97,305))break n;this.cursor=this.limit-p;break t}while(0);if(this.cursor=this.limit-p,this.cursor<=this.limit_backward)return!1;this.cursor--}t:do{g=this.limit-this.cursor;n:do{if(!this.eq_s_b$esjava$1("ö"))break n;break t}while(0);if(this.cursor=this.limit-g,!this.eq_s_b$esjava$1("ü"))return!1}while(0);this.cursor=this.limit-f,v=this.cursor,this.insert$esjava$3(this.cursor,this.cursor,"ü"),this.cursor=v}while(0);return!0}},{key:"r_more_than_one_syllable_word$esjava$0",value:function(){var e,t=void 0;e=this.cursor;var n=2;e:for(;;){t=this.cursor;t:do{n:for(;;){i:do{if(!this.in_grouping$esjava$3(r.g_vowel,97,305))break i;break n}while(0);if(this.cursor>=this.limit)break t;this.cursor++}n--;continue e}while(0);this.cursor=t;break e}return!(n>0||(this.cursor=e,0))}},{key:"r_is_reserved_word$esjava$0",value:function(){var e=void 0,t=void 0,n=void 0;e:do{e=this.cursor;t:do{t=this.cursor;n:for(;;){i:do{if(!this.eq_s$esjava$1("ad"))break i;break n}while(0);if(this.cursor>=this.limit)break t;this.cursor++}if(this.I_strlen=2,this.I_strlen!==this.limit)break t;this.cursor=t;break e}while(0);this.cursor=e,n=this.cursor;t:for(;;){n:do{if(!this.eq_s$esjava$1("soyad"))break n;break t}while(0);if(this.cursor>=this.limit)return!1;this.cursor++}if(this.I_strlen=5,this.I_strlen!==this.limit)return!1;this.cursor=n}while(0);return!0}},{key:"r_postlude$esjava$0",value:function(){var e,t,n;e=this.cursor;e:do{if(!this.r_is_reserved_word$esjava$0())break e;return!1}while(0);this.cursor=e,this.limit_backward=this.cursor,this.cursor=this.limit,t=this.limit-this.cursor;e:do{if(!this.r_append_U_to_stems_ending_with_d_or_g$esjava$0())break e}while(0);this.cursor=this.limit-t,n=this.limit-this.cursor;e:do{if(!this.r_post_process_last_consonants$esjava$0())break e}while(0);return this.cursor=this.limit-n,this.cursor=this.limit_backward,!0}},{key:"stem$esjava$0",value:function(){var e,t;if(!this.r_more_than_one_syllable_word$esjava$0())return!1;this.limit_backward=this.cursor,this.cursor=this.limit,e=this.limit-this.cursor;e:do{if(!this.r_stem_nominal_verb_suffixes$esjava$0())break e}while(0);if(this.cursor=this.limit-e,!this.B_continue_stemming_noun_suffixes)return!1;t=this.limit-this.cursor;e:do{if(!this.r_stem_noun_suffixes$esjava$0())break e}while(0);return this.cursor=this.limit-t,this.cursor=this.limit_backward,!!this.r_postlude$esjava$0()}},{key:"stem",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?this.stem$esjava$0.apply(this,n):(e=s(Object.getPrototypeOf(r.prototype),"stem",this)).call.apply(e,[this].concat(n))}},{key:"B_continue_stemming_noun_suffixes",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$B_continue_stemming_noun_suffixes")?this._$esjava$B_continue_stemming_noun_suffixes:this._$esjava$B_continue_stemming_noun_suffixes=!1},set:function(e){this._$esjava$B_continue_stemming_noun_suffixes=e}},{key:"I_strlen",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$esjava$I_strlen")?this._$esjava$I_strlen:this._$esjava$I_strlen=0},set:function(e){this._$esjava$I_strlen=e}}],[{key:"a_0",get:function(){return delete r.a_0,r.a_0=[new u("m",-1,-1),new u("n",-1,-1),new u("miz",-1,-1),new u("niz",-1,-1),new u("muz",-1,-1),new u("nuz",-1,-1),new u("müz",-1,-1),new u("nüz",-1,-1),new u("mız",-1,-1),new u("nız",-1,-1)]}},{key:"a_1",get:function(){return delete r.a_1,r.a_1=[new u("leri",-1,-1),new u("ları",-1,-1)]}},{key:"a_2",get:function(){return delete r.a_2,r.a_2=[new u("ni",-1,-1),new u("nu",-1,-1),new u("nü",-1,-1),new u("nı",-1,-1)]}},{key:"a_3",get:function(){return delete r.a_3,r.a_3=[new u("in",-1,-1),new u("un",-1,-1),new u("ün",-1,-1),new u("ın",-1,-1)]}},{key:"a_4",get:function(){return delete r.a_4,r.a_4=[new u("a",-1,-1),new u("e",-1,-1)]}},{key:"a_5",get:function(){return delete r.a_5,r.a_5=[new u("na",-1,-1),new u("ne",-1,-1)]}},{key:"a_6",get:function(){return delete r.a_6,r.a_6=[new u("da",-1,-1),new u("ta",-1,-1),new u("de",-1,-1),new u("te",-1,-1)]}},{key:"a_7",get:function(){return delete r.a_7,r.a_7=[new u("nda",-1,-1),new u("nde",-1,-1)]}},{key:"a_8",get:function(){return delete r.a_8,r.a_8=[new u("dan",-1,-1),new u("tan",-1,-1),new u("den",-1,-1),new u("ten",-1,-1)]}},{key:"a_9",get:function(){return delete r.a_9,r.a_9=[new u("ndan",-1,-1),new u("nden",-1,-1)]}},{key:"a_10",get:function(){return delete r.a_10,r.a_10=[new u("la",-1,-1),new u("le",-1,-1)]}},{key:"a_11",get:function(){return delete r.a_11,r.a_11=[new u("ca",-1,-1),new u("ce",-1,-1)]}},{key:"a_12",get:function(){return delete r.a_12,r.a_12=[new u("im",-1,-1),new u("um",-1,-1),new u("üm",-1,-1),new u("ım",-1,-1)]}},{key:"a_13",get:function(){return delete r.a_13,r.a_13=[new u("sin",-1,-1),new u("sun",-1,-1),new u("sün",-1,-1),new u("sın",-1,-1)]}},{key:"a_14",get:function(){return delete r.a_14,r.a_14=[new u("iz",-1,-1),new u("uz",-1,-1),new u("üz",-1,-1),new u("ız",-1,-1)]}},{key:"a_15",get:function(){return delete r.a_15,r.a_15=[new u("siniz",-1,-1),new u("sunuz",-1,-1),new u("sünüz",-1,-1),new u("sınız",-1,-1)]}},{key:"a_16",get:function(){return delete r.a_16,r.a_16=[new u("lar",-1,-1),new u("ler",-1,-1)]}},{key:"a_17",get:function(){return delete r.a_17,r.a_17=[new u("niz",-1,-1),new u("nuz",-1,-1),new u("nüz",-1,-1),new u("nız",-1,-1)]}},{key:"a_18",get:function(){return delete r.a_18,r.a_18=[new u("dir",-1,-1),new u("tir",-1,-1),new u("dur",-1,-1),new u("tur",-1,-1),new u("dür",-1,-1),new u("tür",-1,-1),new u("dır",-1,-1),new u("tır",-1,-1)]}},{key:"a_19",get:function(){return delete r.a_19,r.a_19=[new u("casına",-1,-1),new u("cesine",-1,-1)]}},{key:"a_20",get:function(){return delete r.a_20,r.a_20=[new u("di",-1,-1),new u("ti",-1,-1),new u("dik",-1,-1),new u("tik",-1,-1),new u("duk",-1,-1),new u("tuk",-1,-1),new u("dük",-1,-1),new u("tük",-1,-1),new u("dık",-1,-1),new u("tık",-1,-1),new u("dim",-1,-1),new u("tim",-1,-1),new u("dum",-1,-1),new u("tum",-1,-1),new u("düm",-1,-1),new u("tüm",-1,-1),new u("dım",-1,-1),new u("tım",-1,-1),new u("din",-1,-1),new u("tin",-1,-1),new u("dun",-1,-1),new u("tun",-1,-1),new u("dün",-1,-1),new u("tün",-1,-1),new u("dın",-1,-1),new u("tın",-1,-1),new u("du",-1,-1),new u("tu",-1,-1),new u("dü",-1,-1),new u("tü",-1,-1),new u("dı",-1,-1),new u("tı",-1,-1)]}},{key:"a_21",get:function(){return delete r.a_21,r.a_21=[new u("sa",-1,-1),new u("se",-1,-1),new u("sak",-1,-1),new u("sek",-1,-1),new u("sam",-1,-1),new u("sem",-1,-1),new u("san",-1,-1),new u("sen",-1,-1)]}},{key:"a_22",get:function(){return delete r.a_22,r.a_22=[new u("miş",-1,-1),new u("muş",-1,-1),new u("müş",-1,-1),new u("mış",-1,-1)]}},{key:"a_23",get:function(){return delete r.a_23,r.a_23=[new u("b",-1,1),new u("c",-1,2),new u("d",-1,3),new u("ğ",-1,4)]}},{key:"g_vowel",get:function(){return delete r.g_vowel,r.g_vowel=[17,65,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,8,0,0,0,0,0,0,1]}},{key:"g_U",get:function(){return delete r.g_U,r.g_U=[1,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,1]}},{key:"g_vowel1",get:function(){return delete r.g_vowel1,r.g_vowel1=[1,64,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]}},{key:"g_vowel2",get:function(){return delete r.g_vowel2,r.g_vowel2=[17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,130]}},{key:"g_vowel3",get:function(){return delete r.g_vowel3,r.g_vowel3=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]}},{key:"g_vowel4",get:function(){return delete r.g_vowel4,r.g_vowel4=[17]}},{key:"g_vowel5",get:function(){return delete r.g_vowel5,r.g_vowel5=[65]}},{key:"g_vowel6",get:function(){return delete r.g_vowel6,r.g_vowel6=[65]}}]),r}(h)},void 0===(i=n.apply(t,[t]))||(e.exports=i)},10914:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var i=n(89945),r=function(){function e(){this.state=Int32Array.from(i.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>i.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===i.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%i.BLOCK_SIZE>=i.BLOCK_SIZE-8){for(var r=this.bufferLength;r<i.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<i.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(i.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(i.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(i.DIGEST_LENGTH);for(r=0;r<8;r++)o[4*r]=this.state[r]>>>24&255,o[4*r+1]=this.state[r]>>>16&255,o[4*r+2]=this.state[r]>>>8&255,o[4*r+3]=this.state[r]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=0;h<i.BLOCK_SIZE;h++){if(h<16)this.temp[h]=(255&e[4*h])<<24|(255&e[4*h+1])<<16|(255&e[4*h+2])<<8|255&e[4*h+3];else{var d=this.temp[h-2],f=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[h-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[h]=(f+this.temp[h-7]|0)+(p+this.temp[h-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&c^~a&u)|0)+(l+(i.KEY[h]+this.temp[h]|0)|0)|0,v=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&o^r&o)|0;l=u,u=c,c=a,a=s+g|0,s=o,o=r,r=n,n=g+v|0}t[0]+=n,t[1]+=r,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=c,t[6]+=u,t[7]+=l},e}();t.RawSha256=r},89945:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},41938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(73541).__exportStar(n(65430),t)},65430:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var i=n(73541),r=n(89945),o=n(10914),s=n(17658),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,s.convertToBuffer)(e);if(t.byteLength>r.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var i=new Uint8Array(r.BLOCK_SIZE);return i.set(t),i}(e),n=new Uint8Array(r.BLOCK_SIZE);n.set(t);for(var i=0;i<r.BLOCK_SIZE;i++)t[i]^=54,n[i]^=92;for(this.hash.update(t),this.outer.update(n),i=0;i<t.byteLength;i++)t[i]=0}}return e.prototype.update=function(e){if(!(0,s.isEmptyData)(e)&&!this.error)try{this.hash.update((0,s.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=a},73541:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return b},__asyncGenerator:function(){return w},__asyncValues:function(){return _},__await:function(){return y},__awaiter:function(){return l},__classPrivateFieldGet:function(){return T},__classPrivateFieldSet:function(){return P},__createBinding:function(){return d},__decorate:function(){return a},__exportStar:function(){return f},__extends:function(){return r},__generator:function(){return h},__importDefault:function(){return S},__importStar:function(){return E},__makeTemplateObject:function(){return k},__metadata:function(){return u},__param:function(){return c},__read:function(){return g},__rest:function(){return s},__spread:function(){return v},__spreadArrays:function(){return m},__values:function(){return p}});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function a(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,i){t(n,i,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function h(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){o.push([e,t,n,i])>1||a(e,t)}))})}function a(e,t){try{(n=r[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},51106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var i=n(36482),r="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:i.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?r(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},17658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var i=n(51106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return i.convertToBuffer}});var r=n(84304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var o=n(22174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=n(81558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},84304:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},22174:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},81558:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},86013:function(e,t,n){"use strict";n.d(t,{FetchHttpHandler:function(){return s}});var i=n(99391),r=n(94073),o=n(69384);class s{constructor(e){"function"==typeof e?this.configProvider=e().then((e=>e||{})):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let s=e.path;if(e.query){const t=(0,r.buildQueryString)(e.query);t&&(s+=`?${t}`)}const{port:a,method:c}=e,u=`${e.protocol}//${e.hostname}${a?`:${a}`:""}${s}`,l={body:"GET"===c||"HEAD"===c?void 0:e.body,headers:new Headers(e.headers),method:c};"undefined"!=typeof AbortController&&(l.signal=t);const h=new Request(u,l),d=[fetch(h).then((e=>{const t=e.headers,n={};for(const e of t.entries())n[e[0]]=e[1];return null!=e.body?{response:new i.HttpResponse({headers:n,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new i.HttpResponse({headers:n,statusCode:e.status,body:t})})))})),(0,o.requestTimeout)(n)];return t&&d.push(new Promise(((e,n)=>{t.onabort=()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)}}))),Promise.race(d)}}},44358:function(e,t,n){"use strict";var i=n(86013);n.o(i,"FetchHttpHandler")&&n.d(t,{FetchHttpHandler:function(){return i.FetchHttpHandler}});var r=n(48639);n.o(r,"FetchHttpHandler")&&n.d(t,{FetchHttpHandler:function(){return r.FetchHttpHandler}})},69384:function(e,t,n){"use strict";function i(e=0){return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",n(t)}),e)}))}n.d(t,{requestTimeout:function(){return i}})},48639:function(e,t,n){"use strict";n(27849)},90323:function(e,t,n){"use strict";n.d(t,{isArrayBuffer:function(){return i}});const i=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)},50621:function(e,t,n){"use strict";n(78281)},78281:function(e,t,n){"use strict";var i;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(i||(i={}))},41668:function(e,t,n){},69683:function(){},853:function(e,t,n){"use strict";n.d(t,{HttpRequest:function(){return i}});class i{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/"}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new i({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce(((e,n)=>{const i=t[n];return{...e,[n]:Array.isArray(i)?[...i]:i}}),{}))),e}}},16742:function(e,t,n){"use strict";n.d(t,{HttpResponse:function(){return i}});class i{constructor(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}},99391:function(e,t,n){"use strict";var i=n(50621);n.o(i,"HttpRequest")&&n.d(t,{HttpRequest:function(){return i.HttpRequest}}),n.o(i,"HttpResponse")&&n.d(t,{HttpResponse:function(){return i.HttpResponse}});var r=n(78281);n.o(r,"HttpRequest")&&n.d(t,{HttpRequest:function(){return r.HttpRequest}}),n.o(r,"HttpResponse")&&n.d(t,{HttpResponse:function(){return r.HttpResponse}});var o=n(41668);n.o(o,"HttpRequest")&&n.d(t,{HttpRequest:function(){return o.HttpRequest}}),n.o(o,"HttpResponse")&&n.d(t,{HttpResponse:function(){return o.HttpResponse}});var s=n(69683);n.o(s,"HttpRequest")&&n.d(t,{HttpRequest:function(){return s.HttpRequest}}),n.o(s,"HttpResponse")&&n.d(t,{HttpResponse:function(){return s.HttpResponse}});var a=n(853);n.o(a,"HttpRequest")&&n.d(t,{HttpRequest:function(){return a.HttpRequest}}),n.o(a,"HttpResponse")&&n.d(t,{HttpResponse:function(){return a.HttpResponse}});var c=n(16742);n.o(c,"HttpRequest")&&n.d(t,{HttpRequest:function(){return c.HttpRequest}}),n.o(c,"HttpResponse")&&n.d(t,{HttpResponse:function(){return c.HttpResponse}});var u=n(8587);n.o(u,"HttpRequest")&&n.d(t,{HttpRequest:function(){return u.HttpRequest}}),n.o(u,"HttpResponse")&&n.d(t,{HttpResponse:function(){return u.HttpResponse}})},8587:function(e,t,n){},94073:function(e,t,n){"use strict";n.d(t,{buildQueryString:function(){return r}});var i=n(63489);function r(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=(0,i.escapeUri)(n),Array.isArray(r))for(let e=0,o=r.length;e<o;e++)t.push(`${n}=${(0,i.escapeUri)(r[e])}`);else{let e=n;(r||"string"==typeof r)&&(e+=`=${(0,i.escapeUri)(r)}`),t.push(e)}}return t.join("&")}},56492:function(e,t,n){"use strict";n.d(t,{SignatureV4:function(){return g}});var i=n(73538),r=n(88792),o=n(35450),s=n(49889),a=n(79077),c=n(42221),u=n(52223),l=n(29389),h=n(88016),d=n(24888),f=n(13961),p=n(29529);class g{constructor({applyChecksum:e,credentials:t,region:n,service:i,sha256:o,uriEscapePath:s=!0}){this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=(0,r.normalizeProvider)(n),this.credentialProvider=(0,r.normalizeProvider)(t)}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:r,unhoistableHeaders:o,signableHeaders:u,signingRegion:h,signingService:p}=t,g=await this.credentialProvider();this.validateResolvedCredentials(g);const y=h??await this.regionProvider(),{longDate:w,shortDate:b}=v(n);if(i>s.MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const _=(0,a.createScope)(b,y,p??this.service),k=(0,d.moveHeadersToQuery)((0,f.prepareRequest)(e),{unhoistableHeaders:o});g.sessionToken&&(k.query[s.TOKEN_QUERY_PARAM]=g.sessionToken),k.query[s.ALGORITHM_QUERY_PARAM]=s.ALGORITHM_IDENTIFIER,k.query[s.CREDENTIAL_QUERY_PARAM]=`${g.accessKeyId}/${_}`,k.query[s.AMZ_DATE_QUERY_PARAM]=w,k.query[s.EXPIRES_QUERY_PARAM]=i.toString(10);const E=(0,c.getCanonicalHeaders)(k,r,u);return k.query[s.SIGNED_HEADERS_QUERY_PARAM]=m(E),k.query[s.SIGNATURE_QUERY_PARAM]=await this.getSignature(w,_,this.getSigningKey(g,y,b,p),this.createCanonicalRequest(k,E,await(0,l.getPayloadHash)(e,this.sha256))),k}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:r,signingRegion:o,signingService:c}){const u=o??await this.regionProvider(),{shortDate:h,longDate:d}=v(n),f=(0,a.createScope)(h,u,c??this.service),p=await(0,l.getPayloadHash)({headers:{},body:t},this.sha256),g=new this.sha256;g.update(e);const m=(0,i.toHex)(await g.digest()),y=[s.EVENT_ALGORITHM_IDENTIFIER,d,f,r,m,p].join("\n");return this.signString(y,{signingDate:n,signingRegion:u,signingService:c})}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:r}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const a=n??await this.regionProvider(),{shortDate:c}=v(t),u=new this.sha256(await this.getSigningKey(s,a,c,r));return u.update((0,o.toUint8Array)(e)),(0,i.toHex)(await u.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:r,signingService:o}={}){const u=await this.credentialProvider();this.validateResolvedCredentials(u);const d=r??await this.regionProvider(),p=(0,f.prepareRequest)(e),{longDate:g,shortDate:y}=v(t),w=(0,a.createScope)(y,d,o??this.service);p.headers[s.AMZ_DATE_HEADER]=g,u.sessionToken&&(p.headers[s.TOKEN_HEADER]=u.sessionToken);const b=await(0,l.getPayloadHash)(p,this.sha256);!(0,h.hasHeader)(s.SHA256_HEADER,p.headers)&&this.applyChecksum&&(p.headers[s.SHA256_HEADER]=b);const _=(0,c.getCanonicalHeaders)(p,i,n),k=await this.getSignature(g,w,this.getSigningKey(u,d,y,o),this.createCanonicalRequest(p,_,b));return p.headers[s.AUTH_HEADER]=`${s.ALGORITHM_IDENTIFIER} Credential=${u.accessKeyId}/${w}, SignedHeaders=${m(_)}, Signature=${k}`,p}createCanonicalRequest(e,t,n){const i=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(0,u.getCanonicalQuery)(e)}\n${i.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${i.join(";")}\n${n}`}async createStringToSign(e,t,n){const r=new this.sha256;r.update((0,o.toUint8Array)(n));const a=await r.digest();return`${s.ALGORITHM_IDENTIFIER}\n${e}\n${t}\n${(0,i.toHex)(a)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,t,n,r){const s=await this.createStringToSign(e,t,r),a=new this.sha256(await n);return a.update((0,o.toUint8Array)(s)),(0,i.toHex)(await a.digest())}getSigningKey(e,t,n,i){return(0,a.getSigningKey)(this.sha256,e,n,t,i||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const v=e=>{const t=(0,p.iso8601)(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},m=e=>Object.keys(e).sort().join(";")},69758:function(e,t,n){"use strict";n.d(t,{cloneRequest:function(){return i}});const i=({headers:e,query:t,...n})=>({...n,headers:{...e},query:t?r(t):void 0}),r=e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return{...t,[n]:Array.isArray(i)?[...i]:i}}),{})},49889:function(e,t,n){"use strict";n.d(t,{ALGORITHM_IDENTIFIER:function(){return w},ALGORITHM_QUERY_PARAM:function(){return i},ALWAYS_UNSIGNABLE_HEADERS:function(){return v},AMZ_DATE_HEADER:function(){return h},AMZ_DATE_QUERY_PARAM:function(){return o},AUTH_HEADER:function(){return l},CREDENTIAL_QUERY_PARAM:function(){return r},EVENT_ALGORITHM_IDENTIFIER:function(){return b},EXPIRES_QUERY_PARAM:function(){return a},GENERATED_HEADERS:function(){return d},KEY_TYPE_IDENTIFIER:function(){return E},MAX_CACHE_SIZE:function(){return k},MAX_PRESIGNED_TTL:function(){return S},PROXY_HEADER_PATTERN:function(){return m},SEC_HEADER_PATTERN:function(){return y},SHA256_HEADER:function(){return p},SIGNATURE_HEADER:function(){return f},SIGNATURE_QUERY_PARAM:function(){return c},SIGNED_HEADERS_QUERY_PARAM:function(){return s},TOKEN_HEADER:function(){return g},TOKEN_QUERY_PARAM:function(){return u},UNSIGNED_PAYLOAD:function(){return _}});const i="X-Amz-Algorithm",r="X-Amz-Credential",o="X-Amz-Date",s="X-Amz-SignedHeaders",a="X-Amz-Expires",c="X-Amz-Signature",u="X-Amz-Security-Token",l="authorization",h=o.toLowerCase(),d=[l,h,"date"],f=c.toLowerCase(),p="x-amz-content-sha256",g=u.toLowerCase(),v={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},m=/^proxy-/,y=/^sec-/,w="AWS4-HMAC-SHA256",b="AWS4-HMAC-SHA256-PAYLOAD",_="UNSIGNED-PAYLOAD",k=50,E="aws4_request",S=604800},79077:function(e,t,n){"use strict";n.d(t,{createScope:function(){return c},getSigningKey:function(){return u}});var i=n(73538),r=n(35450),o=n(49889);const s={},a=[],c=(e,t,n)=>`${e}/${t}/${n}/${o.KEY_TYPE_IDENTIFIER}`,u=async(e,t,n,r,c)=>{const u=await l(e,t.secretAccessKey,t.accessKeyId),h=`${n}:${r}:${c}:${(0,i.toHex)(u)}:${t.sessionToken}`;if(h in s)return s[h];for(a.push(h);a.length>o.MAX_CACHE_SIZE;)delete s[a.shift()];let d=`AWS4${t.secretAccessKey}`;for(const t of[n,r,c,o.KEY_TYPE_IDENTIFIER])d=await l(e,d,t);return s[h]=d},l=(e,t,n)=>{const i=new e(t);return i.update((0,r.toUint8Array)(n)),i.digest()}},42221:function(e,t,n){"use strict";n.d(t,{getCanonicalHeaders:function(){return r}});var i=n(49889);const r=({headers:e},t,n)=>{const r={};for(const o of Object.keys(e).sort()){if(null==e[o])continue;const s=o.toLowerCase();(s in i.ALWAYS_UNSIGNABLE_HEADERS||t?.has(s)||i.PROXY_HEADER_PATTERN.test(s)||i.SEC_HEADER_PATTERN.test(s))&&(!n||n&&!n.has(s))||(r[s]=e[o].trim().replace(/\s+/g," "))}return r}},52223:function(e,t,n){"use strict";n.d(t,{getCanonicalQuery:function(){return o}});var i=n(63489),r=n(49889);const o=({query:e={}})=>{const t=[],n={};for(const o of Object.keys(e).sort()){if(o.toLowerCase()===r.SIGNATURE_HEADER)continue;t.push(o);const s=e[o];"string"==typeof s?n[o]=`${(0,i.escapeUri)(o)}=${(0,i.escapeUri)(s)}`:Array.isArray(s)&&(n[o]=s.slice(0).sort().reduce(((e,t)=>e.concat([`${(0,i.escapeUri)(o)}=${(0,i.escapeUri)(t)}`])),[]).join("&"))}return t.map((e=>n[e])).filter((e=>e)).join("&")}},29389:function(e,t,n){"use strict";n.d(t,{getPayloadHash:function(){return a}});var i=n(90323),r=n(73538),o=n(35450),s=n(49889);const a=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===s.SHA256_HEADER)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(0,i.isArrayBuffer)(t)){const e=new n;return e.update((0,o.toUint8Array)(t)),(0,r.toHex)(await e.digest())}return s.UNSIGNED_PAYLOAD}},88016:function(e,t,n){"use strict";n.d(t,{hasHeader:function(){return i}});const i=(e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1}},21070:function(e,t,n){"use strict";var i=n(56492);n.o(i,"SignatureV4")&&n.d(t,{SignatureV4:function(){return i.SignatureV4}}),n(42221),n(52223),n(29389),n(13961);var r=n(79077);n.o(r,"SignatureV4")&&n.d(t,{SignatureV4:function(){return r.SignatureV4}})},24888:function(e,t,n){"use strict";n.d(t,{moveHeadersToQuery:function(){return r}});var i=n(69758);const r=(e,t={})=>{const{headers:n,query:r={}}="function"==typeof e.clone?e.clone():(0,i.cloneRequest)(e);for(const e of Object.keys(n)){const i=e.toLowerCase();"x-amz-"!==i.slice(0,6)||t.unhoistableHeaders?.has(i)||(r[e]=n[e],delete n[e])}return{...e,headers:n,query:r}}},13961:function(e,t,n){"use strict";n.d(t,{prepareRequest:function(){return o}});var i=n(69758),r=n(49889);const o=e=>{e="function"==typeof e.clone?e.clone():(0,i.cloneRequest)(e);for(const t of Object.keys(e.headers))r.GENERATED_HEADERS.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e}},29529:function(e,t,n){"use strict";n.d(t,{iso8601:function(){return i}});const i=e=>r(e).toISOString().replace(/\.\d{3}Z$/,"Z"),r=e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e},27849:function(){"use strict";const e={},t=new Array(64);for(let n=0,i="A".charCodeAt(0),r="Z".charCodeAt(0);n+i<=r;n++){const r=String.fromCharCode(n+i);e[r]=n,t[n]=r}for(let n=0,i="a".charCodeAt(0),r="z".charCodeAt(0);n+i<=r;n++){const r=String.fromCharCode(n+i),o=n+26;e[r]=o,t[o]=r}for(let n=0;n<10;n++){e[n.toString(10)]=n+52;const i=n.toString(10),r=n+52;e[i]=r,t[r]=i}e["+"]=62,t[62]="+",e["/"]=63,t[63]="/"},73538:function(e,t,n){"use strict";n.d(t,{toHex:function(){return o}});const i={},r={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),i[e]=t,r[t]=e}function o(e){let t="";for(let n=0;n<e.byteLength;n++)t+=i[e[n]];return t}},88792:function(e,t,n){"use strict";var i=n(57079);n.o(i,"normalizeProvider")&&n.d(t,{normalizeProvider:function(){return i.normalizeProvider}})},57079:function(e,t,n){"use strict";n.d(t,{normalizeProvider:function(){return i}});const i=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t}},14279:function(e,t,n){},76528:function(e,t,n){"use strict";n.d(t,{escapeUri:function(){return i}});const i=e=>encodeURIComponent(e).replace(/[!'()*]/g,r),r=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},63489:function(e,t,n){"use strict";var i=n(76528);n.o(i,"escapeUri")&&n.d(t,{escapeUri:function(){return i.escapeUri}});var r=n(14279);n.o(r,"escapeUri")&&n.d(t,{escapeUri:function(){return r.escapeUri}})},36482:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return o},toUtf8:function(){return s}});var i=n(7586),r=n(40043);const o=e=>"function"==typeof TextEncoder?(0,r.fromUtf8)(e):(0,i.fromUtf8)(e),s=e=>"function"==typeof TextDecoder?(0,r.toUtf8)(e):(0,i.toUtf8)(e)},7586:function(e,t,n){"use strict";n.d(t,{fromUtf8:function(){return i},toUtf8:function(){return r}});const i=e=>{const t=[];for(let n=0,i=e.length;n<i;n++){const i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){const r=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)},r=e=>{let t="";for(let n=0,i=e.length;n<i;n++){const i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){const r=e[++n];t+=String.fromCharCode((31&i)<<6|63&r)}else if(240<=i&&i<365){const r="%"+[i,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(r)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}},40043:function(e,t,n){"use strict";function i(e){return(new TextEncoder).encode(e)}function r(e){return new TextDecoder("utf-8").decode(e)}n.d(t,{fromUtf8:function(){return i},toUtf8:function(){return r}})},82498:function(e,t,n){"use strict";n.d(t,{fromUtf8:function(){return i}});const i=e=>(new TextEncoder).encode(e)},35450:function(e,t,n){"use strict";var i=n(82498);n.o(i,"toUint8Array")&&n.d(t,{toUint8Array:function(){return i.toUint8Array}});var r=n(20916);n.o(r,"toUint8Array")&&n.d(t,{toUint8Array:function(){return r.toUint8Array}});var o=n(6521);n.o(o,"toUint8Array")&&n.d(t,{toUint8Array:function(){return o.toUint8Array}})},20916:function(e,t,n){"use strict";n.d(t,{toUint8Array:function(){return r}});var i=n(82498);const r=e=>"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)},6521:function(e,t,n){},67228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}},23646:function(e,t,n){var i=n(67228);e.exports=function(e){if(Array.isArray(e))return i(e)}},81506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},34575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},93913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}},59713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},16525:function(e,t,n){var i=n(58331);function r(t,n,o){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=r=Reflect.get:e.exports=r=function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},r(t,n,o||t)}e.exports=r},29754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t},2205:function(e,t,n){var i=n(99489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},95318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},20862:function(e,t,n){var i=n(50008);function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n}},46860:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},98206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},60693:function(e,t,n){var i=n(59713);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}},78585:function(e,t,n){var i=n(50008),r=n(81506);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t}},2911:function(e,t,n){var i=n(58331),r=n(59713);function o(e,t,n,s){return o="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,o){var s,a=i(e,t);if(a){if((s=Object.getOwnPropertyDescriptor(a,t)).set)return s.set.call(o,n),!0;if(!s.writable)return!1}if(s=Object.getOwnPropertyDescriptor(o,t)){if(!s.writable)return!1;s.value=n,Object.defineProperty(o,t,s)}else r(o,t,n);return!0},o(e,t,n,s)}e.exports=function(e,t,n,i,r){if(!o(e,t,n,i||e)&&r)throw new Error("failed to set property");return n}},99489:function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,i)}e.exports=t},58331:function(e,t,n){var i=n(29754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}},319:function(e,t,n){var i=n(23646),r=n(46860),o=n(60379),s=n(98206);e.exports=function(e){return i(e)||r(e)||o(e)||s()}},50008:function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},60379:function(e,t,n){var i=n(67228);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}},24382:function(e,t,n){"use strict";n.d(t,{c:function(){return d}});var i,r=n(61340),o=n(85626),s=function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},a=function(e){if(void 0===i){var t=void 0!==e.style.animationName,n=void 0!==e.style.webkitAnimationName;i=!t&&n?"-webkit-":""}return i},c=function(e,t,n){var i=t.startsWith("animation")?a(e):"";e.style.setProperty(i+t,n)},u=function(e,t){var n=t.startsWith("animation")?a(e):"";e.style.removeProperty(n+t)},l=[],h=function(e,t){if(void 0===e&&(e=[]),void 0!==t){var n=Array.isArray(t)?t:[t];return(0,r.__spreadArray)((0,r.__spreadArray)([],e),n)}return e},d=function(e){var t,n,i,d,f,p,g,v,m,y,w,b,_,k=[],E=[],S=[],T=!1,P={},C=[],x=[],I={},R=0,O=!1,A=!1,$=!0,L=!1,M=!0,j=e,D=[],N=[],F=[],B=[],U=[],z=[],H=[],V=[],G=[],W=[],q="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Y="function"==typeof Element&&"function"==typeof Element.prototype.animate&&q,K=function(e,t){return(t&&t.oneTimeCallback?N:D).push({c:e,o:t}),_},X=function(){if(Y)W.forEach((function(e){e.cancel()})),W.length=0;else{var e=F.slice();(0,o.r)((function(){e.forEach((function(e){u(e,"animation-name"),u(e,"animation-duration"),u(e,"animation-timing-function"),u(e,"animation-iteration-count"),u(e,"animation-delay"),u(e,"animation-play-state"),u(e,"animation-fill-mode"),u(e,"animation-direction")}))}))}},Z=function(){U.forEach((function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})),U.length=0},J=function(){return void 0!==f?f:g?g.getFill():"both"},Q=function(){return void 0!==m?m:void 0!==p?p:g?g.getDirection():"normal"},ee=function(){return O?"linear":void 0!==i?i:g?g.getEasing():"linear"},te=function(){return A?0:void 0!==y?y:void 0!==n?n:g?g.getDuration():0},ne=function(){return void 0!==d?d:g?g.getIterations():1},ie=function(){return void 0!==w?w:void 0!==t?t:g?g.getDelay():0},re=function(){0!==R&&0==--R&&(function(){fe(),V.forEach((function(e){return e()})),G.forEach((function(e){return e()}));var e=$?1:0,t=C,n=x,i=I;F.forEach((function(e){var r=e.classList;for(var o in t.forEach((function(e){return r.add(e)})),n.forEach((function(e){return r.remove(e)})),i)i.hasOwnProperty(o)&&c(e,o,i[o])})),D.forEach((function(t){return t.c(e,_)})),N.forEach((function(t){return t.c(e,_)})),N.length=0,M=!0,$&&(L=!0),$=!0}(),g&&g.animationFinish())},oe=function(t){void 0===t&&(t=!0),Z();var n=function(e){return e.forEach((function(e){for(var t in e)if(e.hasOwnProperty(t)){var n,i=e[t];"easing"===t?(e[n="animation-timing-function"]=i,delete e[t]):(n=s(t))!==t&&(e[n]=i,delete e[t])}})),e}(k);F.forEach((function(i){if(n.length>0){var r=function(e){return void 0===e&&(e=[]),e.map((function(e){var t=e.offset,n=[];for(var i in e)e.hasOwnProperty(i)&&"offset"!==i&&n.push(i+": "+e[i]+";");return 100*t+"% { "+n.join(" ")+" }"})).join(" ")}(n);b=void 0!==e?e:function(e){var t=l.indexOf(e);return t<0&&(t=l.push(e)-1),"ion-animation-"+t}(r);var s=function(e,t,n){var i=function(e){var t=e.getRootNode();return t.head||t}(n),r=a(n),o=i.querySelector("#"+e);if(o)return o;var s=(n.ownerDocument||document).createElement("style");return s.id=e,s.textContent="@"+r+"keyframes "+e+" { "+t+" } @"+r+"keyframes "+e+"-alt { "+t+" }",i.appendChild(s),s}(b,r,i);U.push(s),c(i,"animation-duration",te()+"ms"),c(i,"animation-timing-function",ee()),c(i,"animation-delay",ie()+"ms"),c(i,"animation-fill-mode",J()),c(i,"animation-direction",Q());var u=ne()===1/0?"infinite":ne().toString();c(i,"animation-iteration-count",u),c(i,"animation-play-state","paused"),t&&c(i,"animation-name",s.id+"-alt"),(0,o.r)((function(){c(i,"animation-name",s.id||null)}))}}))},se=function(e){void 0===e&&(e=!0),function(){z.forEach((function(e){return e()})),H.forEach((function(e){return e()}));var e=E,t=S,n=P;F.forEach((function(i){var r=i.classList;for(var o in e.forEach((function(e){return r.add(e)})),t.forEach((function(e){return r.remove(e)})),n)n.hasOwnProperty(o)&&c(i,o,n[o])}))}(),k.length>0&&(Y?(F.forEach((function(e){var t=e.animate(k,{id:j,delay:ie(),duration:te(),easing:ee(),iterations:ne(),fill:J(),direction:Q()});t.pause(),W.push(t)})),W.length>0&&(W[0].onfinish=function(){re()})):oe(e)),T=!0},ae=function(e){if(e=Math.min(Math.max(e,0),.9999),Y)W.forEach((function(t){t.currentTime=t.effect.getComputedTiming().delay+te()*e,t.pause()}));else{var t="-"+te()*e+"ms";F.forEach((function(e){k.length>0&&(c(e,"animation-delay",t),c(e,"animation-play-state","paused"))}))}},ce=function(e){W.forEach((function(e){e.effect.updateTiming({delay:ie(),duration:te(),easing:ee(),iterations:ne(),fill:J(),direction:Q()})})),void 0!==e&&ae(e)},ue=function(e,t){void 0===e&&(e=!0),(0,o.r)((function(){F.forEach((function(n){c(n,"animation-name",b||null),c(n,"animation-duration",te()+"ms"),c(n,"animation-timing-function",ee()),c(n,"animation-delay",void 0!==t?"-"+t*te()+"ms":ie()+"ms"),c(n,"animation-fill-mode",J()||null),c(n,"animation-direction",Q()||null);var i=ne()===1/0?"infinite":ne().toString();c(n,"animation-iteration-count",i),e&&c(n,"animation-name",b+"-alt"),(0,o.r)((function(){c(n,"animation-name",b||null)}))}))}))},le=function(e,t,n){return void 0===e&&(e=!1),void 0===t&&(t=!0),e&&B.forEach((function(i){i.update(e,t,n)})),Y?ce(n):ue(t,n),_},he=function(){T&&(Y?W.forEach((function(e){e.pause()})):F.forEach((function(e){c(e,"animation-play-state","paused")})))},de=function(){v=void 0,re()},fe=function(){v&&clearTimeout(v)},pe=function(e){return new Promise((function(t){e&&e.sync&&(A=!0,K((function(){return A=!1}),{oneTimeCallback:!0})),T||se(),L&&(Y?(ae(0),ce()):ue(),L=!1),M&&(R=B.length+1,M=!1),K((function(){return t()}),{oneTimeCallback:!0}),B.forEach((function(e){e.play()})),Y?(W.forEach((function(e){e.play()})),0!==k.length&&0!==F.length||re()):function(){if(fe(),(0,o.r)((function(){F.forEach((function(e){k.length>0&&c(e,"animation-play-state","running")}))})),0===k.length||0===F.length)re();else{var e=ie()||0,t=te()||0,n=ne()||1;isFinite(n)&&(v=setTimeout(de,e+t*n+100)),function(e,t){var n,i={passive:!0},r=function(){n&&n()},s=function(t){e===t.target&&(r(),fe(),(0,o.r)((function(){F.forEach((function(e){u(e,"animation-duration"),u(e,"animation-delay"),u(e,"animation-play-state")})),(0,o.r)(re)})))};e&&(e.addEventListener("webkitAnimationEnd",s,i),e.addEventListener("animationend",s,i),n=function(){e.removeEventListener("webkitAnimationEnd",s,i),e.removeEventListener("animationend",s,i)})}(F[0])}}()}))},ge=function(e,t){var n,i=k[0];return void 0===i||void 0!==i.offset&&0!==i.offset?k=(0,r.__spreadArray)([(n={offset:0},n[e]=t,n)],k):i[e]=t,_};return _={parentAnimation:g,elements:F,childAnimations:B,id:j,animationFinish:re,from:ge,to:function(e,t){var n,i=k[k.length-1];return void 0===i||void 0!==i.offset&&1!==i.offset?k=(0,r.__spreadArray)((0,r.__spreadArray)([],k),[(n={offset:1},n[e]=t,n)]):i[e]=t,_},fromTo:function(e,t,n){return ge(e,t).to(e,n)},parent:function(e){return g=e,_},play:pe,pause:function(){return B.forEach((function(e){e.pause()})),he(),_},stop:function(){B.forEach((function(e){e.stop()})),T&&(X(),T=!1),O=!1,A=!1,M=!0,m=void 0,y=void 0,w=void 0,R=0,L=!1,$=!0},destroy:function(e){return B.forEach((function(t){t.destroy(e)})),function(e){X(),e&&Z()}(e),F.length=0,B.length=0,k.length=0,D.length=0,N.length=0,T=!1,M=!0,_},keyframes:function(e){return k=e,_},addAnimation:function(e){if(null!=e)if(Array.isArray(e))for(var t=0,n=e;t<n.length;t++){var i=n[t];i.parent(_),B.push(i)}else e.parent(_),B.push(e);return _},addElement:function(e){if(null!=e)if(1===e.nodeType)F.push(e);else if(e.length>=0)for(var t=0;t<e.length;t++)F.push(e[t]);else console.error("Invalid addElement value");return _},update:le,fill:function(e){return f=e,le(!0),_},direction:function(e){return p=e,le(!0),_},iterations:function(e){return d=e,le(!0),_},duration:function(e){return Y||0!==e||(e=1),n=e,le(!0),_},easing:function(e){return i=e,le(!0),_},delay:function(e){return t=e,le(!0),_},getWebAnimations:function(){return W},getKeyframes:function(){return k},getFill:J,getDirection:Q,getDelay:ie,getIterations:ne,getEasing:ee,getDuration:te,afterAddRead:function(e){return V.push(e),_},afterAddWrite:function(e){return G.push(e),_},afterClearStyles:function(e){void 0===e&&(e=[]);for(var t=0,n=e;t<n.length;t++){var i=n[t];I[i]=""}return _},afterStyles:function(e){return void 0===e&&(e={}),I=e,_},afterRemoveClass:function(e){return x=h(x,e),_},afterAddClass:function(e){return C=h(C,e),_},beforeAddRead:function(e){return z.push(e),_},beforeAddWrite:function(e){return H.push(e),_},beforeClearStyles:function(e){void 0===e&&(e=[]);for(var t=0,n=e;t<n.length;t++){var i=n[t];P[i]=""}return _},beforeStyles:function(e){return void 0===e&&(e={}),P=e,_},beforeRemoveClass:function(e){return S=h(S,e),_},beforeAddClass:function(e){return E=h(E,e),_},onFinish:K,progressStart:function(e,t){return void 0===e&&(e=!1),B.forEach((function(n){n.progressStart(e,t)})),he(),O=e,T?le(!1,!0,t):se(),_},progressStep:function(e){return B.forEach((function(t){t.progressStep(e)})),ae(e),_},progressEnd:function(e,t,n){return O=!1,B.forEach((function(i){i.progressEnd(e,t,n)})),void 0!==n&&(y=n),L=!1,$=!0,0===e?("reverse"==(m="reverse"===Q()?"normal":"reverse")&&($=!1),Y?(le(),ae(1-t)):(w=(1-t)*te()*-1,le(!1,!1))):1===e&&(Y?(le(),ae(t)):(w=t*te()*-1,le(!1,!1))),void 0!==e&&(K((function(){y=void 0,m=void 0,w=void 0}),{oneTimeCallback:!0}),g||pe()),_}}}},59850:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});var i=n(23007).i},76755:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});var i=function(e,t,n,i,s){return o(e[1],t[1],n[1],i[1],s).map((function(o){return r(e[0],t[0],n[0],i[0],o)}))},r=function(e,t,n,i,r){return r*(3*t*Math.pow(r-1,2)+r*(-3*n*r+3*n+i*r))-e*Math.pow(r-1,3)},o=function(e,t,n,i,r){return s((i-=r)-3*(n-=r)+3*(t-=r)-(e-=r),3*n-6*t+3*e,3*t-3*e,e).filter((function(e){return e>=0&&e<=1}))},s=function(e,t,n,i){if(0===e)return function(e,t,n){var i=t*t-4*e*n;return i<0?[]:[(-t+Math.sqrt(i))/(2*e),(-t-Math.sqrt(i))/(2*e)]}(t,n,i);var r=(3*(n/=e)-(t/=e)*t)/3,o=(2*t*t*t-9*t*n+27*(i/=e))/27;if(0===r)return[Math.pow(-o,1/3)];if(0===o)return[Math.sqrt(-r),-Math.sqrt(-r)];var s=Math.pow(o/2,2)+Math.pow(r/3,3);if(0===s)return[Math.pow(o/2,.5)-t/3];if(s>0)return[Math.pow(-o/2+Math.sqrt(s),1/3)-Math.pow(o/2+Math.sqrt(s),1/3)-t/3];var a=Math.sqrt(Math.pow(-r/3,3)),c=Math.acos(-o/(2*Math.sqrt(Math.pow(-r/3,3)))),u=2*Math.pow(a,1/3);return[u*Math.cos(c/3)-t/3,u*Math.cos((c+2*Math.PI)/3)-t/3,u*Math.cos((c+4*Math.PI)/3)-t/3]}},36221:function(e,t,n){"use strict";n.d(t,{G:function(){return a}});var i=function(){function e(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}return e.prototype.createGesture=function(e){return new r(this,this.newID(),e.name,e.priority||0,!!e.disableScroll)},e.prototype.createBlocker=function(e){return void 0===e&&(e={}),new o(this,this.newID(),e.disable,!!e.disableScroll)},e.prototype.start=function(e,t,n){return this.canStart(e)?(this.requestedStart.set(t,n),!0):(this.requestedStart.delete(t),!1)},e.prototype.capture=function(e,t,n){if(!this.start(e,t,n))return!1;var i=this.requestedStart,r=-1e4;if(i.forEach((function(e){r=Math.max(r,e)})),r===n){this.capturedId=t,i.clear();var o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(o),!0}return i.delete(t),!1},e.prototype.release=function(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)},e.prototype.disableGesture=function(e,t){var n=this.disabledGestures.get(e);void 0===n&&(n=new Set,this.disabledGestures.set(e,n)),n.add(t)},e.prototype.enableGesture=function(e,t){var n=this.disabledGestures.get(e);void 0!==n&&n.delete(t)},e.prototype.disableScroll=function(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(s)},e.prototype.enableScroll=function(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(s)},e.prototype.canStart=function(e){return void 0===this.capturedId&&!this.isDisabled(e)},e.prototype.isCaptured=function(){return void 0!==this.capturedId},e.prototype.isScrollDisabled=function(){return this.disabledScroll.size>0},e.prototype.isDisabled=function(e){var t=this.disabledGestures.get(e);return!!(t&&t.size>0)},e.prototype.newID=function(){return this.gestureId++,this.gestureId},e}(),r=function(){function e(e,t,n,i,r){this.id=t,this.name=n,this.disableScroll=r,this.priority=1e6*i+t,this.ctrl=e}return e.prototype.canStart=function(){return!!this.ctrl&&this.ctrl.canStart(this.name)},e.prototype.start=function(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)},e.prototype.capture=function(){if(!this.ctrl)return!1;var e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e},e.prototype.release=function(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))},e.prototype.destroy=function(){this.release(),this.ctrl=void 0},e}(),o=function(){function e(e,t,n,i){this.id=t,this.disable=n,this.disableScroll=i,this.ctrl=e}return e.prototype.block=function(){if(this.ctrl){if(this.disable)for(var e=0,t=this.disable;e<t.length;e++){var n=t[e];this.ctrl.disableGesture(n,this.id)}this.disableScroll&&this.ctrl.disableScroll(this.id)}},e.prototype.unblock=function(){if(this.ctrl){if(this.disable)for(var e=0,t=this.disable;e<t.length;e++){var n=t[e];this.ctrl.enableGesture(n,this.id)}this.disableScroll&&this.ctrl.enableScroll(this.id)}},e.prototype.destroy=function(){this.unblock(),this.ctrl=void 0},e}(),s="backdrop-no-scroll",a=new i},16895:function(e,t,n){"use strict";n.r(t),n.d(t,{MENU_BACK_BUTTON_PRIORITY:function(){return a},OVERLAY_BACK_BUTTON_PRIORITY:function(){return s},blockHardwareBackButton:function(){return r},startHardwareBackButton:function(){return o}});var i=n(61340),r=function(){document.addEventListener("backbutton",(function(){}))},o=function(){var e=document,t=!1;e.addEventListener("backbutton",(function(){if(!t){var n=0,r=[],o=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register:function(e,t){r.push({priority:e,handler:t,id:n++})}}});e.dispatchEvent(o);var s=function(){if(r.length>0){var e={priority:Number.MIN_SAFE_INTEGER,handler:function(){},id:-1};r.forEach((function(t){t.priority>=e.priority&&(e=t)})),t=!0,r=r.filter((function(t){return t.id!==e.id})),function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e&&e.handler?null==(t=e.handler(s))?[3,2]:[4,t]:[3,2];case 1:i.sent(),i.label=2;case 2:return[3,4];case 3:return n=i.sent(),console.error(n),[3,4];case 4:return[2]}}))}))}(e).then((function(){return t=!1}))}};s()}}))},s=100,a=99},85626:function(e,t,n){"use strict";n.d(t,{a:function(){return c},b:function(){return u},c:function(){return r},d:function(){return p},e:function(){return g},f:function(){return _},g:function(){return l},h:function(){return o},i:function(){return a},j:function(){return f},k:function(){return v},l:function(){return d},m:function(){return m},n:function(){return b},o:function(){return k},p:function(){return w},q:function(){return y},r:function(){return h}});var i=n(61340),r=function(e,t){e.componentOnReady?e.componentOnReady().then((function(e){return t(e)})):h((function(){return t(e)}))},o=function(e,t){void 0===t&&(t=[]);var n={};return t.forEach((function(t){e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))})),n},s=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],a=function(e){return o(e,s)},c=function(e,t,n,i){if("undefined"!=typeof window){var r=window,o=r&&r.Ionic&&r.Ionic.config;if(o){var s=o.get("_ael");if(s)return s(e,t,n,i);if(o._ael)return o._ael(e,t,n,i)}}return e.addEventListener(t,n,i)},u=function(e,t,n,i){if("undefined"!=typeof window){var r=window,o=r&&r.Ionic&&r.Ionic.config;if(o){var s=o.get("_rel");if(s)return s(e,t,n,i);if(o._rel)return o._rel(e,t,n,i)}}return e.removeEventListener(t,n,i)},l=function(e,t){return void 0===t&&(t=e),e.shadowRoot||t},h=function(e){return"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)},d=function(e){return!!e.shadowRoot&&!!e.attachShadow},f=function(e){var t=e.closest("ion-item");return t?t.querySelector("ion-label"):null},p=function(e,t){var n,i=e.getAttribute("aria-labelledby"),r=e.id,o=null!==i&&""!==i.trim()?i:t+"-lbl",s=null!==i&&""!==i.trim()?document.getElementById(i):f(e);return s?(null===i&&(s.id=o),n=s.textContent,s.setAttribute("aria-hidden","true")):""!==r.trim()&&(s=document.querySelector('label[for="'+r+'"]'))&&(""!==s.id?o=s.id:s.id=o=r+"-lbl",n=s.textContent),{label:s,labelId:o,labelText:n}},g=function(e,t,n,i,r){if(e||d(t)){var o=t.querySelector("input.aux-input");o||((o=t.ownerDocument.createElement("input")).type="hidden",o.classList.add("aux-input"),t.appendChild(o)),o.disabled=r,o.name=n,o.value=i||""}},v=function(e,t,n){return Math.max(e,Math.min(t,n))},m=function(e,t){if(!e){var n="ASSERT: "+t;throw console.error(n),new Error(n)}},y=function(e){return e.timeStamp||Date.now()},w=function(e){if(e){var t=e.changedTouches;if(t&&t.length>0){var n=t[0];return{x:n.clientX,y:n.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},b=function(e){var t="rtl"===document.dir;switch(e){case"start":return t;case"end":return!t;default:throw new Error('"'+e+'" is not a valid value for [side]. Use "start" or "end" instead.')}},_=function(e,t){var n=e._original||e;return{_original:e,emit:k(n.emit.bind(n),t)}},k=function(e,t){var n;return void 0===t&&(t=0),function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout.apply(void 0,(0,i.__spreadArray)([e,t],r))}}},44511:function(e,t,n){"use strict";n.d(t,{m:function(){return b}});var i,r,o,s,a,c,u,l,h,d,f,p=n(61340),g=n(16895),v=n(85626),m=n(23007),y=n(24382),w=function(e){return(0,y.c)().duration(e?400:300)},b=(i=new Map,r=[],o=function(e){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,f()];case 1:return i.sent(),"start"===e||"end"===e?(t=d((function(t){return t.side===e&&!t.disabled})),t?[2,t]:[2,d((function(t){return t.side===e}))]):null!=e?[2,d((function(t){return t.menuId===e}))]:(n=d((function(e){return!e.disabled})),n?[2,n]:[2,r.length>0?r[0].el:void 0])}}))}))},s=function(){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,f()];case 1:return e.sent(),[2,u()]}}))}))},a=function(e,t){i.set(e,t)},c=function(e){var t=e.side;r.filter((function(n){return n.side===t&&n!==e})).forEach((function(e){return e.disabled=!0}))},u=function(){return d((function(e){return e._isOpen}))},l=function(){return r.map((function(e){return e.el}))},h=function(){return r.some((function(e){return e.isAnimating}))},d=function(e){var t=r.find(e);if(void 0!==t)return t.el},f=function(){return Promise.all(Array.from(document.querySelectorAll("ion-menu")).map((function(e){return new Promise((function(t){return(0,v.c)(e,t)}))})))},a("reveal",(function(e){var t=(0,m.b)(e),n=e.width*(e.isEndSide?-1:1)+"px",i=(0,y.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)","translateX("+n+")");return w("ios"===t).addAnimation(i)})),a("push",(function(e){var t,n,i=(0,m.b)(e),r=e.width;e.isEndSide?(t=-r+"px",n=r+"px"):(t=r+"px",n=-r+"px");var o=(0,y.c)().addElement(e.menuInnerEl).fromTo("transform","translateX("+n+")","translateX(0px)"),s=(0,y.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)","translateX("+t+")"),a=(0,y.c)().addElement(e.backdropEl).fromTo("opacity",.01,.32);return w("ios"===i).addAnimation([o,s,a])})),a("overlay",(function(e){var t,n,i=e.width+8,r=(0,y.c)(),o=(0,y.c)();e.isEndSide?(t=i+"px",n="0px"):(t=-i+"px",n="0px"),r.addElement(e.menuInnerEl).fromTo("transform","translateX("+t+")","translateX("+n+")");var s="ios"===(0,m.b)(e),a=s?.2:.25;return o.addElement(e.backdropEl).fromTo("opacity",.01,a),w(s).addAnimation([r,o])})),"undefined"!=typeof document&&document.addEventListener("ionBackButton",(function(e){var t=u();t&&e.detail.register(g.MENU_BACK_BUTTON_PRIORITY,(function(){return t.close()}))})),{registerAnimation:a,get:o,getMenus:function(){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,f()];case 1:return e.sent(),[2,l()]}}))}))},getOpen:s,isEnabled:function(e){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,o(e)];case 1:return(t=n.sent())?[2,!t.disabled]:[2,!1]}}))}))},swipeGesture:function(e,t){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,o(t)];case 1:return(n=i.sent())&&(n.swipeGesture=e),[2,n]}}))}))},isAnimating:function(){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,f()];case 1:return e.sent(),[2,h()]}}))}))},isOpen:function(e){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return null==e?[3,2]:[4,o(e)];case 1:return[2,void 0!==(t=n.sent())&&t.isOpen()];case 2:return[4,s()];case 3:return[2,void 0!==(t=n.sent())]}}))}))},enable:function(e,t){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,o(t)];case 1:return(n=i.sent())&&(n.disabled=!e),[2,n]}}))}))},toggle:function(e){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,o(e)];case 1:return(t=n.sent())?[2,t.toggle()]:[2,!1]}}))}))},close:function(e){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,void 0!==e?o(e):s()];case 1:return void 0!==(t=n.sent())?[2,t.close()]:[2,!1]}}))}))},open:function(e){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,o(e)];case 1:return(t=n.sent())?[2,t.open()]:[2,!1]}}))}))},_getOpenSync:u,_createAnimation:function(e,t){var n=i.get(e);if(!n)throw new Error("animation not registered");return n(t)},_register:function(e){r.indexOf(e)<0&&(e.disabled||c(e),r.push(e))},_unregister:function(e){var t=r.indexOf(e);t>-1&&r.splice(t,1)},_setOpen:function(e,t,n){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var i;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return h()?[2,!1]:t?[4,s()]:[3,3];case 1:return(i=r.sent())&&e.el!==i?[4,i.setOpen(!1,!1)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2,e._setOpen(t,n)]}}))}))},_setActiveMenu:c})},68224:function(e,t,n){"use strict";n.r(t),n.d(t,{GESTURE_CONTROLLER:function(){return r.G},createGesture:function(){return c}});var i,r=n(36221),o=function(e,t,n,i){var r,o,a=s(e)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;return e.__zone_symbol__addEventListener?(r="__zone_symbol__addEventListener",o="__zone_symbol__removeEventListener"):(r="addEventListener",o="removeEventListener"),e[r](t,n,a),function(){e[o](t,n,a)}},s=function(e){if(void 0===i)try{var t=Object.defineProperty({},"passive",{get:function(){i=!0}});e.addEventListener("optsTest",(function(){}),t)}catch(e){i=!1}return!!i},a=function(e){return e instanceof Document?e:e.ownerDocument},c=function(e){var t=!1,n=!1,i=!0,s=!1,c=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),d=c.canStart,f=c.onWillStart,p=c.onStart,g=c.onEnd,v=c.notCaptured,m=c.onMove,y=c.threshold,w=c.passive,b=c.blurOnStart,_={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},k=function(e,t,n){var i=n*(Math.PI/180),r="x"===e,o=Math.cos(i),s=t*t,a=0,c=0,u=!1,l=0;return{start:function(e,t){a=e,c=t,l=0,u=!0},detect:function(e,t){if(!u)return!1;var n=e-a,i=t-c,h=n*n+i*i;if(h<s)return!1;var d=Math.sqrt(h),f=(r?n:i)/d;return l=f>o?1:f<-o?-1:0,u=!1,!0},isGesture:function(){return 0!==l},getDirection:function(){return l}}}(c.direction,c.threshold,c.maxAngle),E=r.G.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),S=function(){t&&(s=!1,m&&m(_))},T=function(){return!(E&&!E.capture()||(t=!0,i=!1,_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime,f?f(_).then(P):P(),0))},P=function(){b&&function(){if("undefined"!=typeof document){var e=document.activeElement;null!==e&&e.blur&&e.blur()}}(),p&&p(_),i=!0},C=function(){t=!1,n=!1,s=!1,i=!0,E.release()},x=function(e){var n=t,r=i;C(),r&&(u(_,e),n?g&&g(_):v&&v(_))},I=function(e,t,n,i,r){var s,c,u,l,h,d,f,p=0,g=function(i){p=Date.now()+2e3,t(i)&&(!c&&n&&(c=o(e,"touchmove",n,r)),u||(u=o(i.target,"touchend",m,r)),l||(l=o(i.target,"touchcancel",m,r)))},v=function(i){p>Date.now()||t(i)&&(!d&&n&&(d=o(a(e),"mousemove",n,r)),f||(f=o(a(e),"mouseup",y,r)))},m=function(e){w(),i&&i(e)},y=function(e){b(),i&&i(e)},w=function(){c&&c(),u&&u(),l&&l(),c=u=l=void 0},b=function(){d&&d(),f&&f(),d=f=void 0},_=function(){w(),b()},k=function(t){void 0===t&&(t=!0),t?(s||(s=o(e,"touchstart",g,r)),h||(h=o(e,"mousedown",v,r))):(s&&s(),h&&h(),s=h=void 0,_())};return{enable:k,stop:_,destroy:function(){k(!1),i=n=t=void 0}}}(c.el,(function(e){var t=h(e);return!(n||!i)&&(l(e,_),_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime=t,_.velocityX=_.velocityY=_.deltaX=_.deltaY=0,_.event=e,(!d||!1!==d(_))&&(E.release(),!!E.start()&&(n=!0,0===y?T():(k.start(_.startX,_.startY),!0))))}),(function(e){t?!s&&i&&(s=!0,u(_,e),requestAnimationFrame(S)):(u(_,e),k.detect(_.currentX,_.currentY)&&(k.isGesture()&&T()||R()))}),x,{capture:!1,passive:w}),R=function(){C(),I.stop(),v&&v(_)};return{enable:function(e){void 0===e&&(e=!0),e||(t&&x(void 0),C()),I.enable(e)},destroy:function(){E.destroy(),I.destroy()}}},u=function(e,t){if(t){var n=e.currentX,i=e.currentY,r=e.currentTime;l(t,e);var o=e.currentX,s=e.currentY,a=(e.currentTime=h(t))-r;if(a>0&&a<100){var c=(o-n)/a,u=(s-i)/a;e.velocityX=.7*c+.3*e.velocityX,e.velocityY=.7*u+.3*e.velocityY}e.deltaX=o-e.startX,e.deltaY=s-e.startY,e.event=t}},l=function(e,t){var n=0,i=0;if(e){var r=e.changedTouches;if(r&&r.length>0){var o=r[0];n=o.clientX,i=o.clientY}else void 0!==e.pageX&&(n=e.pageX,i=e.pageY)}t.currentX=n,t.currentY=i},h=function(e){return e.timeStamp||Date.now()}},75121:function(e,t,n){"use strict";n.d(t,{B:function(){return Ge},C:function(){return f},H:function(){return N},a:function(){return m},b:function(){return Te},c:function(){return Ve},e:function(){return se},f:function(){return He},g:function(){return $},h:function(){return j},i:function(){return oe},j:function(){return pe},k:function(){return Pe},p:function(){return g},r:function(){return Ie},s:function(){return A},w:function(){return d}});var i,r,o,s=n(61340),a=!1,c=!1,u=!1,l=!1,h=!1,d="undefined"!=typeof window?window:{},f=d.CSS,p=d.document||{head:{}},g={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,i){return e.addEventListener(t,n,i)},rel:function(e,t,n,i){return e.removeEventListener(t,n,i)},ce:function(e,t){return new CustomEvent(e,t)}},v=(p.head.attachShadow+"").indexOf("[native")>-1,m=function(e){return Promise.resolve(e)},y=function(){try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(e){}return!1}(),w=function(e,t,n,i){n&&n.map((function(n){var i=n[0],r=n[1],o=n[2],s=_(e,i),a=b(t,o),c=k(i);g.ael(s,r,a,c),(t.$rmListeners$=t.$rmListeners$||[]).push((function(){return g.rel(s,r,a,c)}))}))},b=function(e,t){return function(n){try{256&e.$flags$?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(e){Ae(e)}}},_=function(e,t){return 4&t?p:8&t?d:16&t?p.body:e},k=function(e){return 0!=(2&e)},E="s-id",S="c-id",T="http://www.w3.org/1999/xlink",P=function(e,t){return void 0===t&&(t=""),function(){}},C=new WeakMap,x=function(e,t,n){var i=Me.get(e);y&&n?(i=i||new CSSStyleSheet).replace(t):i=t,Me.set(e,i)},I=function(e,t,n,i){var r=R(t,n),o=Me.get(r);if(e=11===e.nodeType?e:p,o)if("string"==typeof o){e=e.head||e;var a=C.get(e),c=void 0;if(a||C.set(e,a=new Set),!a.has(r)){if(e.host&&(c=e.querySelector('[sty-id="'+r+'"]')))c.innerHTML=o;else{if(g.$cssShim$){var u=(c=g.$cssShim$.createHostStyle(i,r,o,!!(10&t.$flags$)))["s-sc"];u&&(r=u,a=null)}else(c=p.createElement("style")).innerHTML=o;e.insertBefore(c,e.querySelector("link"))}a&&a.add(r)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=(0,s.__spreadArray)((0,s.__spreadArray)([],e.adoptedStyleSheets),[o]));return r},R=function(e,t){return"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$)},O=function(e){return e.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{")},A=function(e){return je.push(e)},$=function(e){return xe(e).$modeName$},L={},M=function(e){return"object"==(e=typeof e)||"function"===e},j=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=null,o=null,s=null,a=!1,c=!1,u=[],l=function(t){for(var n=0;n<t.length;n++)r=t[n],Array.isArray(r)?l(r):null!=r&&"boolean"!=typeof r&&((a="function"!=typeof e&&!M(r))&&(r=String(r)),a&&c?u[u.length-1].$text$+=r:u.push(a?D(null,r):r),c=a)};if(l(n),t){t.key&&(o=t.key),t.name&&(s=t.name);var h=t.className||t.class;h&&(t.class="object"!=typeof h?h:Object.keys(h).filter((function(e){return h[e]})).join(" "))}if("function"==typeof e)return e(null===t?{}:t,u,F);var d=D(e,null);return d.$attrs$=t,u.length>0&&(d.$children$=u),d.$key$=o,d.$name$=s,d},D=function(e,t){return{$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}},N={},F={forEach:function(e,t){return e.map(B).forEach(t)},map:function(e,t){return e.map(B).map(t).map(U)}},B=function(e){return{vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}},U=function(e){if("function"==typeof e.vtag){var t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),j.apply(void 0,(0,s.__spreadArray)([e.vtag,t],e.vchildren||[]))}var n=D(e.vtag,e.vtext);return n.$attrs$=e.vattrs,n.$children$=e.vchildren,n.$key$=e.vkey,n.$name$=e.vname,n},z=function(e,t,n,i,r,o){if(n!==i){var s=Oe(e,t),a=t.toLowerCase();if("class"===t){var c=e.classList,u=V(n),l=V(i);c.remove.apply(c,u.filter((function(e){return e&&!l.includes(e)}))),c.add.apply(c,l.filter((function(e){return e&&!u.includes(e)})))}else if("style"===t){for(var h in n)i&&null!=i[h]||(h.includes("-")?e.style.removeProperty(h):e.style[h]="");for(var h in i)n&&i[h]===n[h]||(h.includes("-")?e.style.setProperty(h,i[h]):e.style[h]=i[h])}else if("key"===t);else if("ref"===t)i&&i(e);else if(s||"o"!==t[0]||"n"!==t[1]){var f=M(i);if((s||f&&null!==i)&&!r)try{if(e.tagName.includes("-"))e[t]=i;else{var p=null==i?"":i;"list"===t?s=!1:null!=n&&e[t]==p||(e[t]=p)}}catch(e){}var v=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,v=!0),null==i||!1===i?!1===i&&""!==e.getAttribute(t)||(v?e.removeAttributeNS(T,t):e.removeAttribute(t)):(!s||4&o||r)&&!f&&(i=!0===i?"":i,v?e.setAttributeNS(T,t,i):e.setAttribute(t,i))}else t="-"===t[2]?t.slice(3):Oe(d,a)?a.slice(2):a[2]+t.slice(3),n&&g.rel(e,t,n,!1),i&&g.ael(e,t,i,!1)}},H=/\s/,V=function(e){return e?e.split(H):[]},G=function(e,t,n,i){var r=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||L,s=t.$attrs$||L;for(i in o)i in s||z(r,i,o[i],void 0,n,t.$flags$);for(i in s)z(r,i,o[i],s[i],n,t.$flags$)},W=function(e,t,n,s){var c,h,d,f=t.$children$[n],g=0;if(a||(u=!0,"slot"===f.$tag$&&(i&&s.classList.add(i+"-s"),f.$flags$|=f.$children$?2:1)),null!==f.$text$)c=f.$elm$=p.createTextNode(f.$text$);else if(1&f.$flags$)c=f.$elm$=p.createTextNode("");else{if(l||(l="svg"===f.$tag$),c=f.$elm$=p.createElementNS(l?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&f.$flags$?"slot-fb":f.$tag$),l&&"foreignObject"===f.$tag$&&(l=!1),G(null,f,l),function(e){return null!=e}(i)&&c["s-si"]!==i&&c.classList.add(c["s-si"]=i),f.$children$)for(g=0;g<f.$children$.length;++g)(h=W(e,f,g,c))&&c.appendChild(h);"svg"===f.$tag$?l=!1:"foreignObject"===c.tagName&&(l=!0)}return c["s-hn"]=o,3&f.$flags$&&(c["s-sr"]=!0,c["s-cr"]=r,c["s-sn"]=f.$name$||"",(d=e&&e.$children$&&e.$children$[n])&&d.$tag$===f.$tag$&&e.$elm$&&q(e.$elm$,!1)),c},q=function(e,t){g.$flags$|=1;for(var n=e.childNodes,i=n.length-1;i>=0;i--){var r=n[i];r["s-hn"]!==o&&r["s-ol"]&&(J(r).insertBefore(r,Z(r)),r["s-ol"].remove(),r["s-ol"]=void 0,u=!0),t&&q(r,t)}g.$flags$&=-2},Y=function(e,t,n,i,r,s){var a,c=e["s-cr"]&&e["s-cr"].parentNode||e;for(c.shadowRoot&&c.tagName===o&&(c=c.shadowRoot);r<=s;++r)i[r]&&(a=W(null,n,r,e))&&(i[r].$elm$=a,c.insertBefore(a,Z(t)))},K=function(e,t,n,i,r){for(;t<=n;++t)(i=e[t])&&(r=i.$elm$,re(i),c=!0,r["s-ol"]?r["s-ol"].remove():q(r,!0),r.remove())},X=function(e,t){return e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$)},Z=function(e){return e&&e["s-ol"]||e},J=function(e){return(e["s-ol"]?e["s-ol"]:e).parentNode},Q=function(e,t){var n,i=t.$elm$=e.$elm$,r=e.$children$,o=t.$children$,s=t.$tag$,a=t.$text$;null===a?(l="svg"===s||"foreignObject"!==s&&l,"slot"===s||G(e,t,l),null!==r&&null!==o?function(e,t,n,i){for(var r,o,s=0,a=0,c=0,u=0,l=t.length-1,h=t[0],d=t[l],f=i.length-1,p=i[0],g=i[f];s<=l&&a<=f;)if(null==h)h=t[++s];else if(null==d)d=t[--l];else if(null==p)p=i[++a];else if(null==g)g=i[--f];else if(X(h,p))Q(h,p),h=t[++s],p=i[++a];else if(X(d,g))Q(d,g),d=t[--l],g=i[--f];else if(X(h,g))"slot"!==h.$tag$&&"slot"!==g.$tag$||q(h.$elm$.parentNode,!1),Q(h,g),e.insertBefore(h.$elm$,d.$elm$.nextSibling),h=t[++s],g=i[--f];else if(X(d,p))"slot"!==h.$tag$&&"slot"!==g.$tag$||q(d.$elm$.parentNode,!1),Q(d,p),e.insertBefore(d.$elm$,h.$elm$),d=t[--l],p=i[++a];else{for(c=-1,u=s;u<=l;++u)if(t[u]&&null!==t[u].$key$&&t[u].$key$===p.$key$){c=u;break}c>=0?((o=t[c]).$tag$!==p.$tag$?r=W(t&&t[a],n,c,e):(Q(o,p),t[c]=void 0,r=o.$elm$),p=i[++a]):(r=W(t&&t[a],n,a,e),p=i[++a]),r&&J(h.$elm$).insertBefore(r,Z(h.$elm$))}s>l?Y(e,null==i[f+1]?null:i[f+1].$elm$,n,i,a,f):a>f&&K(t,s,l)}(i,r,t,o):null!==o?(null!==e.$text$&&(i.textContent=""),Y(i,null,t,o,0,o.length-1)):null!==r&&K(r,0,r.length-1),l&&"svg"===s&&(l=!1)):(n=i["s-cr"])?n.parentNode.textContent=a:e.$text$!==a&&(i.data=a)},ee=function(e){var t,n,i,r,o,s,a=e.childNodes;for(n=0,i=a.length;n<i;n++)if(1===(t=a[n]).nodeType){if(t["s-sr"])for(o=t["s-sn"],t.hidden=!1,r=0;r<i;r++)if(s=a[r].nodeType,a[r]["s-hn"]!==t["s-hn"]||""!==o){if(1===s&&o===a[r].getAttribute("slot")){t.hidden=!0;break}}else if(1===s||3===s&&""!==a[r].textContent.trim()){t.hidden=!0;break}ee(t)}},te=[],ne=function(e){for(var t,n,i,r,o,s,a=0,u=e.childNodes,l=u.length;a<l;a++){if((t=u[a])["s-sr"]&&(n=t["s-cr"])&&n.parentNode)for(i=n.parentNode.childNodes,r=t["s-sn"],s=i.length-1;s>=0;s--)(n=i[s])["s-cn"]||n["s-nr"]||n["s-hn"]===t["s-hn"]||(ie(n,r)?(o=te.find((function(e){return e.$nodeToRelocate$===n})),c=!0,n["s-sn"]=n["s-sn"]||r,o?o.$slotRefNode$=t:te.push({$slotRefNode$:t,$nodeToRelocate$:n}),n["s-sr"]&&te.map((function(e){ie(e.$nodeToRelocate$,n["s-sn"])&&(o=te.find((function(e){return e.$nodeToRelocate$===n})),o&&!e.$slotRefNode$&&(e.$slotRefNode$=o.$slotRefNode$))}))):te.some((function(e){return e.$nodeToRelocate$===n}))||te.push({$nodeToRelocate$:n}));1===t.nodeType&&ne(t)}},ie=function(e,t){return 1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t},re=function(e){e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(re)},oe=function(e){return xe(e).$hostElement$},se=function(e,t,n){var i=oe(e);return{emit:function(e){return ae(i,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}}},ae=function(e,t,n){var i=g.ce(t,n);return e.dispatchEvent(i),i},ce=function(e,t){t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((function(t){return e.$onRenderResolve$=t})))},ue=function(e,t){if(e.$flags$|=16,!(4&e.$flags$))return ce(e,e.$ancestorComponent$),Ve((function(){return le(e,t)}));e.$flags$|=512},le=function(e,t){var n,i=P(0,e.$cmpMeta$.$tagName$),r=e.$lazyInstance$;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((function(e){var t=e[0],n=e[1];return ve(r,t,n)})),e.$queuedListeners$=null),n=ve(r,"componentWillLoad")),n=me(n,(function(){return ve(r,"componentWillRender")})),i(),me(n,(function(){return he(e,r,t)}))},he=function(e,t,n){return(0,s.__awaiter)(void 0,void 0,void 0,(function(){var i,r,o,a,c,u;return(0,s.__generator)(this,(function(s){return i=e.$hostElement$,r=P(0,e.$cmpMeta$.$tagName$),o=i["s-rc"],n&&function(e){var t=e.$cmpMeta$,n=e.$hostElement$,i=t.$flags$,r=P(0,t.$tagName$),o=I(v&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$,n);10&i&&(n["s-sc"]=o,n.classList.add(o+"-h"),2&i&&n.classList.add(o+"-s")),r()}(e),a=P(0,e.$cmpMeta$.$tagName$),de(e,t),g.$cssShim$&&g.$cssShim$.updateHost(i),o&&(o.map((function(e){return e()})),i["s-rc"]=void 0),a(),r(),c=i["s-p"],u=function(){return fe(e)},0===c.length?u():(Promise.all(c).then(u),e.$flags$|=4,c.length=0),[2]}))}))},de=function(e,t,n){try{t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,function(e,t){var n=e.$hostElement$,s=e.$cmpMeta$,l=e.$vnode$||D(null,null),h=function(e){return e&&e.$tag$===N}(t)?t:j(null,null,t);if(o=n.tagName,s.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},s.$attrsToReflect$.map((function(e){var t=e[0],i=e[1];return h.$attrs$[i]=n[t]}))),h.$tag$=null,h.$flags$|=4,e.$vnode$=h,h.$elm$=l.$elm$=n.shadowRoot||n,i=n["s-sc"],r=n["s-cr"],a=v&&0!=(1&s.$flags$),c=!1,Q(l,h),g.$flags$|=1,u){ne(h.$elm$);for(var d=void 0,f=void 0,m=void 0,y=void 0,w=void 0,b=void 0,_=0;_<te.length;_++)(f=(d=te[_]).$nodeToRelocate$)["s-ol"]||((m=p.createTextNode(""))["s-nr"]=f,f.parentNode.insertBefore(f["s-ol"]=m,f));for(_=0;_<te.length;_++)if(f=(d=te[_]).$nodeToRelocate$,d.$slotRefNode$){for(y=d.$slotRefNode$.parentNode,w=d.$slotRefNode$.nextSibling,m=f["s-ol"];m=m.previousSibling;)if((b=m["s-nr"])&&b["s-sn"]===f["s-sn"]&&y===b.parentNode&&(!(b=b.nextSibling)||!b["s-nr"])){w=b;break}(!w&&y!==f.parentNode||f.nextSibling!==w)&&f!==w&&(!f["s-hn"]&&f["s-ol"]&&(f["s-hn"]=f["s-ol"].parentNode.nodeName),y.insertBefore(f,w))}else 1===f.nodeType&&(f.hidden=!0)}c&&ee(h.$elm$),g.$flags$&=-2,te.length=0}(e,t)}catch(t){Ae(t,e.$hostElement$)}return null},fe=function(e){var t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,i=P(0,t),r=e.$lazyInstance$,o=e.$ancestorComponent$;64&e.$flags$?(ve(r,"componentDidUpdate"),i()):(e.$flags$|=64,ye(n),ve(r,"componentDidLoad"),i(),e.$onReadyResolve$(n),o||ge()),e.$onInstanceResolve$(n),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&ze((function(){return ue(e,!1)})),e.$flags$&=-517},pe=function(e){var t=xe(e),n=t.$hostElement$.isConnected;return n&&2==(18&t.$flags$)&&ue(t,!1),n},ge=function(e){ye(p.documentElement),ze((function(){return ae(d,"appload",{detail:{namespace:"ionic"}})}))},ve=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(e){Ae(e)}},me=function(e,t){return e&&e.then?e.then(t):t()},ye=function(e){return e.classList.add("hydrated")},we=function(e,t,n,i,r,o,s){var a,c,u,l;if(1===o.nodeType){for((a=o.getAttribute(S))&&((c=a.split("."))[0]!==s&&"0"!==c[0]||(u={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:o.tagName.toLowerCase(),$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},t.push(u),o.removeAttribute(S),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,e=u,i&&"0"===u.$depth$&&(i[u.$index$]=u.$elm$))),l=o.childNodes.length-1;l>=0;l--)we(e,t,n,i,r,o.childNodes[l],s);if(o.shadowRoot)for(l=o.shadowRoot.childNodes.length-1;l>=0;l--)we(e,t,n,i,r,o.shadowRoot.childNodes[l],s)}else if(8===o.nodeType)(c=o.nodeValue.split("."))[1]!==s&&"0"!==c[1]||(a=c[0],u={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===a?(u.$elm$=o.nextSibling,u.$elm$&&3===u.$elm$.nodeType&&(u.$text$=u.$elm$.textContent,t.push(u),o.remove(),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,i&&"0"===u.$depth$&&(i[u.$index$]=u.$elm$))):u.$hostId$===s&&("s"===a?(u.$tag$="slot",c[5]?o["s-sn"]=u.$name$=c[5]:o["s-sn"]="",o["s-sr"]=!0,i&&(u.$elm$=p.createElement(u.$tag$),u.$name$&&u.$elm$.setAttribute("name",u.$name$),o.parentNode.insertBefore(u.$elm$,o),o.remove(),"0"===u.$depth$&&(i[u.$index$]=u.$elm$)),n.push(u),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u):"r"===a&&(i?o.remove():(r["s-cr"]=o,o["s-cn"]=!0))));else if(e&&"style"===e.$tag$){var h=D(null,o.textContent);h.$elm$=o,h.$index$="0",e.$children$=[h]}},be=function(e,t){if(1===e.nodeType){for(var n=0;n<e.childNodes.length;n++)be(e.childNodes[n],t);if(e.shadowRoot)for(n=0;n<e.shadowRoot.childNodes.length;n++)be(e.shadowRoot.childNodes[n],t)}else if(8===e.nodeType){var i=e.nodeValue.split(".");"o"===i[0]&&(t.set(i[1]+"."+i[2],e),e.nodeValue="",e["s-en"]=i[3])}},_e=function(e,t,n){if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);var i=Object.entries(t.$members$),r=e.prototype;if(i.map((function(e){var i=e[0],o=e[1][0];31&o||2&n&&32&o?Object.defineProperty(r,i,{get:function(){return function(e,t){return xe(e).$instanceValues$.get(t)}(this,i)},set:function(e){!function(e,t,n,i){var r=xe(e),o=r.$hostElement$,s=r.$instanceValues$.get(t),a=r.$flags$,c=r.$lazyInstance$;if(n=function(e,t){return null==e||M(e)?e:4&t?"false"!==e&&(""===e||!!e):2&t?parseFloat(e):1&t?String(e):e}(n,i.$members$[t][0]),!(8&a&&void 0!==s||n===s)&&(r.$instanceValues$.set(t,n),c)){if(i.$watchers$&&128&a){var u=i.$watchers$[t];u&&u.map((function(e){try{c[e](n,s,t)}catch(e){Ae(e,o)}}))}2==(18&a)&&ue(r,!1)}}(this,i,e,t)},configurable:!0,enumerable:!0}):1&n&&64&o&&Object.defineProperty(r,i,{value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xe(this);return n.$onInstancePromise$.then((function(){var t;return(t=n.$lazyInstance$)[i].apply(t,e)}))}})})),1&n){var o=new Map;r.attributeChangedCallback=function(e,t,n){var i=this;g.jmp((function(){var t=o.get(e);i[t]=(null!==n||"boolean"!=typeof i[t])&&n}))},e.observedAttributes=i.filter((function(e){return e[0],15&e[1][0]})).map((function(e){var n=e[0],i=e[1],r=i[1]||n;return o.set(r,n),512&i[0]&&t.$attrsToReflect$.push([n,r]),r}))}}return e},ke=function(e){ve(e,"connectedCallback")},Ee=function(e){if(0==(1&g.$flags$)){var t=xe(e),i=t.$cmpMeta$,r=P(0,i.$tagName$);if(1&t.$flags$)w(e,t,i.$listeners$),ke(t.$lazyInstance$);else{var o;if(t.$flags$|=1,o=e.getAttribute(E)){if(v&&1&i.$flags$){var a=I(e.shadowRoot,i,e.getAttribute("s-mode"));e.classList.remove(a+"-h",a+"-s")}!function(e,t,n,i){var r=P(0,t),o=e.shadowRoot,s=[],a=o?[]:null,c=i.$vnode$=D(t,null);g.$orgLocNodes$||be(p.body,g.$orgLocNodes$=new Map),e["s-id"]=n,e.removeAttribute(E),we(c,s,[],a,e,e,n),s.map((function(e){var n=e.$hostId$+"."+e.$nodeId$,i=g.$orgLocNodes$.get(n),r=e.$elm$;i&&v&&""===i["s-en"]&&i.parentNode.insertBefore(r,i.nextSibling),o||(r["s-hn"]=t,i&&(r["s-ol"]=i,r["s-ol"]["s-nr"]=r)),g.$orgLocNodes$.delete(n)})),o&&a.map((function(e){e&&o.appendChild(e)})),r()}(e,i.$tagName$,o,t)}o||12&i.$flags$&&Se(e);for(var c=e;c=c.parentNode||c.host;)if(1===c.nodeType&&c.hasAttribute("s-id")&&c["s-p"]||c["s-p"]){ce(t,t.$ancestorComponent$=c);break}i.$members$&&Object.entries(i.$members$).map((function(t){var n=t[0];if(31&t[1][0]&&e.hasOwnProperty(n)){var i=e[n];delete e[n],e[n]=i}})),ze((function(){return function(e,t,i,r,o){return(0,s.__awaiter)(void 0,void 0,void 0,(function(){var r,a,c,u,l,h,d;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return 0!=(32&t.$flags$)?[3,5]:(t.$flags$|=32,(o=Le(i)).then?(r=function(){},[4,o]):[3,2]);case 1:o=s.sent(),r(),s.label=2;case 2:o.isProxied||(i.$watchers$=o.watchers,_e(o,i,2),o.isProxied=!0),a=P(0,i.$tagName$),t.$flags$|=8;try{new o(t)}catch(e){Ae(e)}return t.$flags$&=-9,t.$flags$|=128,a(),ke(t.$lazyInstance$),o.style?("string"!=typeof(c=o.style)&&(c=c[t.$modeName$=function(e){return je.map((function(t){return t(e)})).find((function(e){return!!e}))}(e)]),u=R(i,t.$modeName$),Me.has(u)?[3,5]:(l=P(0,i.$tagName$),8&i.$flags$?[4,n.e(6048).then(n.bind(n,66048)).then((function(e){return e.scopeCss(c,u,!1)}))]:[3,4])):[3,5];case 3:c=s.sent(),s.label=4;case 4:x(u,c,!!(1&i.$flags$)),l(),s.label=5;case 5:return h=t.$ancestorComponent$,d=function(){return ue(t,!0)},h&&h["s-rc"]?h["s-rc"].push(d):d(),[2]}}))}))}(e,t,i)}))}r()}},Se=function(e){var t=e["s-cr"]=p.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Te=function(e,t){void 0===t&&(t={});var n,i=P(),r=[],o=t.exclude||[],a=d.customElements,c=p.head,u=c.querySelector("meta[charset]"),l=p.createElement("style"),h=[],f=p.querySelectorAll("[sty-id]"),m=!0,y=0;for(Object.assign(g,t),g.$resourcesUrl$=new URL(t.resourcesUrl||"./",p.baseURI).href,g.$flags$|=2;y<f.length;y++)x(f[y].getAttribute("sty-id"),O(f[y].innerHTML),!0);e.map((function(e){return e[1].map((function(t){var i={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};i.$members$=t[2],i.$listeners$=t[3],i.$attrsToReflect$=[],i.$watchers$={},!v&&1&i.$flags$&&(i.$flags$|=8);var c=i.$tagName$,u=function(e){function t(t){var n=e.call(this,t)||this;return Re(t=n,i),1&i.$flags$&&(v?t.attachShadow({mode:"open",delegatesFocus:!!(16&i.$flags$)}):"shadowRoot"in t||(t.shadowRoot=t)),n}return(0,s.__extends)(t,e),t.prototype.connectedCallback=function(){var e=this;n&&(clearTimeout(n),n=null),m?h.push(this):g.jmp((function(){return Ee(e)}))},t.prototype.disconnectedCallback=function(){var e=this;g.jmp((function(){return function(e){if(0==(1&g.$flags$)){var t=xe(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map((function(e){return e()})),t.$rmListeners$=void 0),g.$cssShim$&&g.$cssShim$.removeHost(e),ve(n,"disconnectedCallback")}}(e)}))},t.prototype.componentOnReady=function(){return xe(this).$onReadyPromise$},t}(HTMLElement);i.$lazyBundleId$=e[0],o.includes(c)||a.get(c)||(r.push(c),a.define(c,_e(u,i,1)))}))})),l.innerHTML=r+"{visibility:hidden}.hydrated{visibility:inherit}",l.setAttribute("data-styles",""),c.insertBefore(l,u?u.nextSibling:c.firstChild),m=!1,h.length?h.map((function(e){return e.connectedCallback()})):g.jmp((function(){return n=setTimeout(ge,30)})),i()},Pe=function(e){var t=new URL(e,g.$resourcesUrl$);return t.origin!==d.location.origin?t.href:t.pathname},Ce=new WeakMap,xe=function(e){return Ce.get(e)},Ie=function(e,t){return Ce.set(t.$lazyInstance$=e,t)},Re=function(e,t){var n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise((function(e){return n.$onInstanceResolve$=e})),n.$onReadyPromise$=new Promise((function(e){return n.$onReadyResolve$=e})),e["s-p"]=[],e["s-rc"]=[],w(e,n,t.$listeners$),Ce.set(e,n)},Oe=function(e,t){return t in e},Ae=function(e,t){return(0,console.error)(e,t)},$e=new Map,Le=function(e,t,i){var r=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$,s=$e.get(o);return s?s[r]:n(379)("./"+o+".entry.js").then((function(e){return $e.set(o,e),e[r]}),Ae)},Me=new Map,je=[],De=[],Ne=[],Fe=function(e,t){return function(n){e.push(n),h||(h=!0,t&&4&g.$flags$?ze(Ue):g.raf(Ue))}},Be=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){Ae(e)}e.length=0},Ue=function(){Be(De),Be(Ne),(h=De.length>0)&&g.raf(Ue)},ze=function(e){return m().then(e)},He=Fe(De,!1),Ve=Fe(Ne,!0),Ge={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},42494:function(e,t,n){"use strict";n.d(t,{I:function(){return u},s:function(){return i}});var i=function(e){try{if(e instanceof u)return e.value;if(!s()||"string"!=typeof e||""===e)return e;var t=document.createDocumentFragment(),n=document.createElement("div");t.appendChild(n),n.innerHTML=e,c.forEach((function(e){for(var n=t.querySelectorAll(e),i=n.length-1;i>=0;i--){var s=n[i];s.parentNode?s.parentNode.removeChild(s):t.removeChild(s);for(var a=o(s),c=0;c<a.length;c++)r(a[c])}}));for(var i=o(t),a=0;a<i.length;a++)r(i[a]);var l=document.createElement("div");l.appendChild(t);var h=l.querySelector("div");return null!==h?h.innerHTML:l.innerHTML}catch(e){return console.error(e),""}},r=function(e){if(!e.nodeType||1===e.nodeType){for(var t=e.attributes.length-1;t>=0;t--){var n=e.attributes.item(t),i=n.name;if(a.includes(i.toLowerCase())){var s=n.value;null!=s&&s.toLowerCase().includes("javascript:")&&e.removeAttribute(i)}else e.removeAttribute(i)}var c=o(e);for(t=0;t<c.length;t++)r(c[t])}},o=function(e){return null!=e.children?e.children:e.childNodes},s=function(){var e=window,t=e&&e.Ionic&&e.Ionic.config;return!t||(t.get?t.get("sanitizerEnabled",!0):!0===t.sanitizerEnabled||void 0===t.sanitizerEnabled)},a=["class","id","href","src","name","slot"],c=["script","style","iframe","meta","link","object","embed"],u=function(e){this.value=e}},49580:function(e,t,n){"use strict";n.d(t,{L:function(){return s},a:function(){return a},b:function(){return c},c:function(){return u},d:function(){return l},e:function(){return T},g:function(){return x},l:function(){return E},s:function(){return P},t:function(){return h}});var i=n(61340),r=n(75121),o=n(85626),s="ionViewWillEnter",a="ionViewDidEnter",c="ionViewWillLeave",u="ionViewDidLeave",l="ionViewWillUnload",h=function(e){return new Promise((function(t,n){(0,r.c)((function(){d(e),f(e).then((function(n){n.animation&&n.animation.destroy(),p(e),t(n)}),(function(t){p(e),n(t)}))}))}))},d=function(e){var t=e.enteringEl,n=e.leavingEl;C(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),P(t,!1),t.style.setProperty("pointer-events","none"),n&&(P(n,!1),n.style.setProperty("pointer-events","none"))},f=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,g(e)];case 1:return[2,(t=n.sent())&&r.B.isBrowser?v(t,e):m(e)]}}))}))},p=function(e){var t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},g=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e.leavingEl&&e.animated&&0!==e.duration?e.animationBuilder?[2,e.animationBuilder]:"ios"!==e.mode?[3,2]:[4,Promise.resolve().then(n.bind(n,273))]:[2,void 0];case 1:return t=i.sent().iosTransitionAnimation,[3,4];case 2:return[4,Promise.resolve().then(n.bind(n,62930))];case 3:t=i.sent().mdTransitionAnimation,i.label=4;case 4:return[2,t]}}))}))},v=function(e,t){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,y(t,!0)];case 1:return i.sent(),n=e(t.baseEl,t),_(t.enteringEl,t.leavingEl),[4,b(n,t)];case 2:return r=i.sent(),t.progressCallback&&t.progressCallback(void 0),r&&k(t.enteringEl,t.leavingEl),[2,{hasCompleted:r,animation:n}]}}))}))},m=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=e.enteringEl,n=e.leavingEl,[4,y(e,!1)];case 1:return i.sent(),_(t,n),k(t,n),[2,{hasCompleted:!0}]}}))}))},y=function(e,t){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=void 0!==e.deepWait?e.deepWait:t,r=n?[T(e.enteringEl),T(e.leavingEl)]:[S(e.enteringEl),S(e.leavingEl)],[4,Promise.all(r)];case 1:return i.sent(),[4,w(e.viewIsReady,e.enteringEl)];case 2:return i.sent(),[2]}}))}))},w=function(e,t){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return e?[4,e(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},b=function(e,t){var n=t.progressCallback,i=new Promise((function(t){e.onFinish((function(e){return t(1===e)}))}));return n?(e.progressStart(!0),n(e)):e.play(),i},_=function(e,t){E(t,c),E(e,s)},k=function(e,t){E(e,a),E(t,u)},E=function(e,t){if(e){var n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},S=function(e){return e?new Promise((function(t){return(0,o.c)(e,t)})):Promise.resolve()},T=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return(t=e)?null==t.componentOnReady?[3,2]:[4,t.componentOnReady()]:[3,4];case 1:if(null!=n.sent())return[2];n.label=2;case 2:return[4,Promise.all(Array.from(t.children).map(T))];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},P=function(e,t){t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},C=function(e,t,n){void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},x=function(e){return e.classList.contains("ion-page")?e:e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||e}},53774:function(e,t,n){"use strict";n.r(t),n.d(t,{IonicSafeString:function(){return l.I},IonicSlides:function(){return y},IonicSwiper:function(){return m},LIFECYCLE_DID_ENTER:function(){return h.a},LIFECYCLE_DID_LEAVE:function(){return h.c},LIFECYCLE_WILL_ENTER:function(){return h.L},LIFECYCLE_WILL_LEAVE:function(){return h.b},LIFECYCLE_WILL_UNLOAD:function(){return h.d},actionSheetController:function(){return f.b},alertController:function(){return f.a},componentOnReady:function(){return u.c},createAnimation:function(){return i.c},createGesture:function(){return a.createGesture},getMode:function(){return g},getPlatforms:function(){return c.g},getTimeGivenProgression:function(){return s.g},initialize:function(){return c.i},iosTransitionAnimation:function(){return r.iosTransitionAnimation},isPlatform:function(){return c.a},loadingController:function(){return f.l},mdTransitionAnimation:function(){return o.mdTransitionAnimation},menuController:function(){return d.m},modalController:function(){return f.m},pickerController:function(){return f.p},popoverController:function(){return f.c},setupConfig:function(){return p},toastController:function(){return f.t}});var i=n(24382),r=n(273),o=n(62930),s=n(76755),a=n(68224),c=n(23007),u=n(85626),l=n(42494),h=n(49580),d=n(44511),f=n(33960),p=(n(36221),n(75121),function(e){var t=window,n=t.Ionic;if(!n||!n.config||"Object"===n.config.constructor.name)return t.Ionic=t.Ionic||{},t.Ionic.config=Object.assign(Object.assign({},t.Ionic.config),e),t.Ionic.config}),g=function(){var e=window,t=e&&e.Ionic&&e.Ionic.config;return t?t.mode?t.mode:t.get("mode"):"md"},v=function(e,t){if(void 0===t&&(t=!0),"undefined"!=typeof window){var n=e.el,i=n.closest(".ion-page");if(i){var r=n.closest("ion-modal, ion-popover");if(r){var o="ION-MODAL"===r.tagName?"ionModalWillPresent":"ionPopoverWillPresent",s=function(){(0,u.r)((function(){n.swiper.update(),(0,u.b)(r,o,s)}))};(0,u.a)(r,o,s)}else{var a=new MutationObserver((function(e){var t,r=null===(t=e[0].oldValue)||void 0===t?void 0:t.includes("ion-page-invisible"),o=i.classList.contains("ion-page-invisible");o||o===r||n.swiper.update()}));a.observe(i,{attributeFilter:["class"],attributeOldValue:!0})}var c=function(){n.swiper.update(),(0,u.b)(window,"appload",c)};(0,u.a)(window,"appload",c)}else if(t){var l=n.getRootNode();if("DIV"===l.tagName){var h=new MutationObserver((function(t){var n=null===t[0].oldValue,i=l.classList.contains("ion-page");n&&i&&(h.disconnect(),v(e,!1))}));h.observe(l,{attributeFilter:["class"],attributeOldValue:!0})}}}},m={name:"ionic",on:{afterInit:function(e){console.warn("[Deprecation Warning]: The IonicSwiper module has been deprecated in favor of the IonSlides module. This change was made to better support the Swiper 7 release. The IonicSwiper module will be removed in Ionic 7.0. See https://ionicframework.com/docs/api/slides#migration for revised migration steps."),v(e)}}},y=function(e){var t=e.swiper,n=e.extendParams,i={effect:void 0,direction:"horizontal",initialSlide:0,loop:!1,parallax:!1,slidesPerView:1,spaceBetween:0,speed:300,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,touchEventsTarget:"container",autoplay:!1,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,zoom:{maxRatio:3,minRatio:1,toggle:!1},touchRatio:1,touchAngle:45,simulateTouch:!0,touchStartPreventDefault:!1,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loopAdditionalSlides:0,noSwiping:!0,runCallbacksOnInit:!0,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flipEffect:{slideShadows:!0,limitRotation:!0},cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fadeEffect:{crossFade:!1},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide"}};t.pagination&&(i.pagination={type:"bullets",clickable:!1,hideOnClick:!1}),t.scrollbar&&(i.scrollbar={hide:!0}),n(i)}},23007:function(e,t,n){"use strict";n.d(t,{a:function(){return s},b:function(){return _},c:function(){return y},g:function(){return o},i:function(){return k}});var i,r=n(75121),o=function(e){return a(e)},s=function(e,t){return"string"==typeof e&&(t=e,e=void 0),o(e).includes(t)},a=function(e){if(void 0===e&&(e=window),void 0===e)return[];e.Ionic=e.Ionic||{};var t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=c(e)).forEach((function(t){return e.document.documentElement.classList.add("plt-"+t)})),t},c=function(e){return Object.keys(m).filter((function(t){return m[t](e)}))},u=function(e){return!!g(e,/iPad/i)||!(!g(e,/Macintosh/i)||!h(e))},l=function(e){return g(e,/android|sink/i)},h=function(e){return v(e,"(any-pointer:coarse)")},d=function(e){return f(e)||p(e)},f=function(e){return!!(e.cordova||e.phonegap||e.PhoneGap)},p=function(e){var t=e.Capacitor;return!(!t||!t.isNative)},g=function(e,t){return t.test(e.navigator.userAgent)},v=function(e,t){return e.matchMedia(t).matches},m={ipad:u,iphone:function(e){return g(e,/iPhone/i)},ios:function(e){return g(e,/iPhone|iPod/i)||u(e)},android:l,phablet:function(e){var t=e.innerWidth,n=e.innerHeight,i=Math.min(t,n),r=Math.max(t,n);return i>390&&i<520&&r>620&&r<800},tablet:function(e){var t=e.innerWidth,n=e.innerHeight,i=Math.min(t,n),r=Math.max(t,n);return u(e)||function(e){return l(e)&&!g(e,/mobile/i)}(e)||i>460&&i<820&&r>780&&r<1400},cordova:f,capacitor:p,electron:function(e){return g(e,/electron/i)},pwa:function(e){return!(!e.matchMedia("(display-mode: standalone)").matches&&!e.navigator.standalone)},mobile:h,mobileweb:function(e){return h(e)&&!d(e)},desktop:function(e){return!h(e)},hybrid:d},y=new(function(){function e(){this.m=new Map}return e.prototype.reset=function(e){this.m=new Map(Object.entries(e))},e.prototype.get=function(e,t){var n=this.m.get(e);return void 0!==n?n:t},e.prototype.getBoolean=function(e,t){void 0===t&&(t=!1);var n=this.m.get(e);return void 0===n?t:"string"==typeof n?"true"===n:!!n},e.prototype.getNumber=function(e,t){var n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n},e.prototype.set=function(e,t){this.m.set(e,t)},e}()),w="ionic:",b="ionic-persist-config",_=function(e){return e&&(0,r.g)(e)||i},k=function(e){if(void 0===e&&(e={}),"undefined"!=typeof window){var t=window.document,n=window,o=n.Ionic=n.Ionic||{};a(n);var c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e){try{var t=e.sessionStorage.getItem(b);return null!==t?JSON.parse(t):{}}catch(e){return{}}}(n)),{persistConfig:!1}),o.config),function(e){var t={};return e.location.search.slice(1).split("&").map((function(e){return e.split("=")})).map((function(e){var t=e[0],n=e[1];return[decodeURIComponent(t),decodeURIComponent(n)]})).filter((function(e){return function(e,t){return e.substr(0,t.length)===t}(e[0],w)})).map((function(e){var t=e[0],n=e[1];return[t.slice(w.length),n]})).forEach((function(e){var n=e[0],i=e[1];t[n]=i})),t}(n)),e);y.reset(c),y.getBoolean("persistConfig")&&function(e,t){try{e.sessionStorage.setItem(b,JSON.stringify(t))}catch(e){return}}(n,c),o.config=y,o.mode=i=y.get("mode",t.documentElement.getAttribute("mode")||(s(n,"ios")?"ios":"md")),y.set("mode",i),t.documentElement.setAttribute("mode",i),t.documentElement.classList.add(i),y.getBoolean("_testing")&&y.set("animated",!1);var u=function(e){return e.tagName&&e.tagName.startsWith("ION-")},l=function(e){return["ios","md"].includes(e)};(0,r.s)((function(e){for(;e;){var t=e.mode||e.getAttribute("mode");if(t){if(l(t))return t;u(e)&&console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}e=e.parentElement}return i}))}}},273:function(e,t,n){"use strict";n.r(t),n.d(t,{iosTransitionAnimation:function(){return h},shadow:function(){return s}});var i=n(24382),r=n(49580),o=(n(75121),function(e){return document.querySelector(e+".ion-cloned-element")}),s=function(e){return e.shadowRoot||e},a=function(e){var t="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs"),n="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=t){var i=t.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=i?i.querySelector(n):null}return e.querySelector(n)},c=function(e,t){var n="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs"),i=[];if(null!=n){var r=n.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=r&&(i=r.querySelectorAll("ion-buttons"))}else i=e.querySelectorAll("ion-buttons");for(var o=0,s=i;o<s.length;o++){var a=s[o],c=a.closest("ion-header"),u=c&&!c.classList.contains("header-collapse-condense-inactive"),l=a.querySelector("ion-back-button"),h=a.classList.contains("buttons-collapse"),d="start"===a.slot||""===a.slot;if(null!==l&&d&&(h&&u&&t||!h))return l}return null},u=function(e,t,n,r,a,c){var u=t?"calc(100% - "+(c.right+4)+"px)":c.left-4+"px",l=t?"7px":"-7px",h=t?"-4px":"4px",d=t?"-4px":"4px",f=t?"right":"left",p=t?"left":"right",g=[{offset:0,opacity:0,transform:"translate3d("+l+", "+(a.top-40)+"px, 0) scale(2.1)"},{offset:1,opacity:1,transform:"translate3d("+h+", "+(c.top-46)+"px, 0) scale(1)"}],v=[{offset:0,opacity:1,transform:"translate3d("+h+", "+(c.top-46)+"px, 0) scale(1)"},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d("+l+", "+(a.top-40)+"px, 0) scale(2.1)"}],m=n?v:g,y=[{offset:0,opacity:0,transform:"translate3d("+d+", "+(c.top-41)+"px, 0) scale(0.6)"},{offset:1,opacity:1,transform:"translate3d("+d+", "+(c.top-46)+"px, 0) scale(1)"}],w=[{offset:0,opacity:1,transform:"translate3d("+d+", "+(c.top-46)+"px, 0) scale(1)"},{offset:.2,opacity:0,transform:"translate3d("+d+", "+(c.top-41)+"px, 0) scale(0.6)"},{offset:1,opacity:0,transform:"translate3d("+d+", "+(c.top-41)+"px, 0) scale(0.6)"}],b=n?w:y,_=(0,i.c)(),k=(0,i.c)(),E=o("ion-back-button"),S=s(E).querySelector(".button-text"),T=s(E).querySelector("ion-icon");E.text=r.text,E.mode=r.mode,E.icon=r.icon,E.color=r.color,E.disabled=r.disabled,E.style.setProperty("display","block"),E.style.setProperty("position","fixed"),k.addElement(T),_.addElement(S),_.beforeStyles({"transform-origin":f+" center"}).beforeAddWrite((function(){r.style.setProperty("display","none"),E.style.setProperty(f,u)})).afterAddWrite((function(){r.style.setProperty("display",""),E.style.setProperty("display","none"),E.style.removeProperty(f)})).keyframes(m),k.beforeStyles({"transform-origin":p+" center"}).keyframes(b),e.addAnimation([_,k])},l=function(e,t,n,r,s,a){var c,u=t?"calc(100% - "+s.right+"px)":s.left+"px",l=t?"-18px":"18px",h=t?"right":"left",d=[{offset:0,opacity:0,transform:"translate3d("+l+", "+(a.top-4)+"px, 0) scale(0.49)"},{offset:.1,opacity:0},{offset:1,opacity:1,transform:"translate3d(0, "+(s.top-2)+"px, 0) scale(1)"}],f=[{offset:0,opacity:.99,transform:"translate3d(0, "+(s.top-2)+"px, 0) scale(1)"},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d("+l+", "+(a.top-4)+"px, 0) scale(0.5)"}],p=n?d:f,g=o("ion-title"),v=(0,i.c)();g.innerText=r.innerText,g.size=r.size,g.color=r.color,v.addElement(g),v.beforeStyles((c={"transform-origin":h+" center",height:"46px",display:"",position:"relative"},c[h]=u,c)).beforeAddWrite((function(){r.style.setProperty("display","none")})).afterAddWrite((function(){r.style.setProperty("display",""),g.style.setProperty("display","none")})).keyframes(p),e.addAnimation(v)},h=function(e,t){try{var n="opacity",o="transform",h="rtl"===e.ownerDocument.dir,d=h?"-99.5%":"99.5%",f=h?"33%":"-33%",p=t.enteringEl,g=t.leavingEl,v="back"===t.direction,m=p.querySelector(":scope > ion-content"),y=p.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),w=p.querySelectorAll(":scope > ion-header > ion-toolbar"),b=(0,i.c)(),_=(0,i.c)();if(b.addElement(p).duration(t.duration||540).easing(t.easing||"cubic-bezier(0.32,0.72,0,1)").fill("both").beforeRemoveClass("ion-page-invisible"),g&&e){var k=(0,i.c)();k.addElement(e),b.addAnimation(k)}if(m||0!==w.length||0!==y.length?(_.addElement(m),_.addElement(y)):_.addElement(p.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),b.addAnimation(_),v?_.beforeClearStyles([n]).fromTo("transform","translateX("+f+")","translateX(0%)").fromTo(n,.8,1):_.beforeClearStyles([n]).fromTo("transform","translateX("+d+")","translateX(0%)"),m){var E=s(m).querySelector(".transition-effect");if(E){var S=E.querySelector(".transition-cover"),T=E.querySelector(".transition-shadow"),P=(0,i.c)(),C=(0,i.c)(),x=(0,i.c)();P.addElement(E).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),C.addElement(S).beforeClearStyles([n]).fromTo(n,0,.1),x.addElement(T).beforeClearStyles([n]).fromTo(n,.03,.7),P.addAnimation([C,x]),_.addAnimation([P])}}var I=p.querySelector("ion-header.header-collapse-condense"),R=function(e,t,n,i,r){var o=c(i,n),s=a(r),h=a(i),d=c(r,n),f=null!==o&&null!==s&&!n,p=null!==h&&null!==d&&n;if(f){var g=s.getBoundingClientRect(),v=o.getBoundingClientRect();l(e,t,n,s,g,v),u(e,t,n,o,g,v)}else if(p){var m=h.getBoundingClientRect(),y=d.getBoundingClientRect();l(e,t,n,h,m,y),u(e,t,n,d,m,y)}return{forward:f,backward:p}}(b,h,v,p,g),O=R.forward,A=R.backward;if(w.forEach((function(e){var t=(0,i.c)();t.addElement(e),b.addAnimation(t);var r=(0,i.c)();r.addElement(e.querySelector("ion-title"));var o,a=(0,i.c)(),c=Array.from(e.querySelectorAll("ion-buttons,[menuToggle]")),u=e.closest("ion-header"),l=u&&u.classList.contains("header-collapse-condense-inactive");o=v?c.filter((function(e){var t=e.classList.contains("buttons-collapse");return t&&!l||!t})):c.filter((function(e){return!e.classList.contains("buttons-collapse")})),a.addElement(o);var p=(0,i.c)();p.addElement(e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));var g=(0,i.c)();g.addElement(s(e).querySelector(".toolbar-background"));var m=(0,i.c)(),y=e.querySelector("ion-back-button");if(y&&m.addElement(y),t.addAnimation([r,a,p,g,m]),a.fromTo(n,.01,1),p.fromTo(n,.01,1),v)l||r.fromTo("transform","translateX("+f+")","translateX(0%)").fromTo(n,.01,1),p.fromTo("transform","translateX("+f+")","translateX(0%)"),m.fromTo(n,.01,1);else if(I||r.fromTo("transform","translateX("+d+")","translateX(0%)").fromTo(n,.01,1),p.fromTo("transform","translateX("+d+")","translateX(0%)"),g.beforeClearStyles([n,"transform"]),(null==u?void 0:u.translucent)?g.fromTo("transform",h?"translateX(-100%)":"translateX(100%)","translateX(0px)"):g.fromTo(n,.01,"var(--opacity)"),O||m.fromTo(n,.01,1),y&&!O){var w=(0,i.c)();w.addElement(s(y).querySelector(".button-text")).fromTo("transform",h?"translateX(-100px)":"translateX(100px)","translateX(0px)"),t.addAnimation(w)}})),g){var $=(0,i.c)(),L=g.querySelector(":scope > ion-content"),M=g.querySelectorAll(":scope > ion-header > ion-toolbar"),j=g.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(L||0!==M.length||0!==j.length?($.addElement(L),$.addElement(j)):$.addElement(g.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),b.addAnimation($),v){$.beforeClearStyles([n]).fromTo("transform","translateX(0%)",h?"translateX(-100%)":"translateX(100%)");var D=(0,r.g)(g);b.afterAddWrite((function(){"normal"===b.getDirection()&&D.style.setProperty("display","none")}))}else $.fromTo("transform","translateX(0%)","translateX("+f+")").fromTo(n,1,.8);if(L){var N=s(L).querySelector(".transition-effect");if(N){var F=N.querySelector(".transition-cover"),B=N.querySelector(".transition-shadow"),U=(0,i.c)(),z=(0,i.c)(),H=(0,i.c)();U.addElement(N).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),z.addElement(F).beforeClearStyles([n]).fromTo(n,.1,0),H.addElement(B).beforeClearStyles([n]).fromTo(n,.7,.03),U.addAnimation([z,H]),$.addAnimation([U])}}M.forEach((function(e){var t=(0,i.c)();t.addElement(e);var r=(0,i.c)();r.addElement(e.querySelector("ion-title"));var a=(0,i.c)(),c=e.querySelectorAll("ion-buttons,[menuToggle]"),u=e.closest("ion-header"),l=u&&u.classList.contains("header-collapse-condense-inactive"),d=Array.from(c).filter((function(e){var t=e.classList.contains("buttons-collapse");return t&&!l||!t}));a.addElement(d);var p=(0,i.c)(),g=e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");g.length>0&&p.addElement(g);var m=(0,i.c)();m.addElement(s(e).querySelector(".toolbar-background"));var y=(0,i.c)(),w=e.querySelector("ion-back-button");if(w&&y.addElement(w),t.addAnimation([r,a,p,y,m]),b.addAnimation(t),y.fromTo(n,.99,0),a.fromTo(n,.99,0),p.fromTo(n,.99,0),v){if(l||r.fromTo("transform","translateX(0%)",h?"translateX(-100%)":"translateX(100%)").fromTo(n,.99,0),p.fromTo("transform","translateX(0%)",h?"translateX(-100%)":"translateX(100%)"),m.beforeClearStyles([n,"transform"]),(null==u?void 0:u.translucent)?m.fromTo("transform","translateX(0px)",h?"translateX(-100%)":"translateX(100%)"):m.fromTo(n,"var(--opacity)",0),w&&!A){var _=(0,i.c)();_.addElement(s(w).querySelector(".button-text")).fromTo("transform","translateX(0%)","translateX("+(h?-124:124)+"px)"),t.addAnimation(_)}}else l||r.fromTo("transform","translateX(0%)","translateX("+f+")").fromTo(n,.99,0).afterClearStyles([o,n]),p.fromTo("transform","translateX(0%)","translateX("+f+")").afterClearStyles([o,n]),y.afterClearStyles([n]),r.afterClearStyles([n]),a.afterClearStyles([n])}))}return b}catch(e){throw e}}},40823:function(e,t,n){"use strict";n.d(t,{defineCustomElements:function(){return o}});var i=n(75121),r=n(59850),o=(n(23007),function(e,t){return"undefined"==typeof window?Promise.resolve():(i.C&&i.C.supports&&i.C.supports("color","var(--c)")?(0,i.a)():n.e(5999).then(n.t.bind(n,25999,23)).then((function(){return(i.p.$cssShim$=i.w.__cssshim)?i.p.$cssShim$.i():0}))).then((function(){return(0,r.g)(),(0,i.b)(JSON.parse('[["ion-select_3",[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionChange","onSelect"]]],[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}]]],["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"activated":[32]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-modal",[[34,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-popover",[[34,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-app_8",[[0,"ion-app"],[34,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-datetime_3",[[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[33,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"displayTimezone":[1,"display-timezone"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ariaLabel":[1537,"aria-label"],"ariaHidden":[513,"aria-hidden"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),t)}))})},62930:function(e,t,n){"use strict";n.r(t),n.d(t,{mdTransitionAnimation:function(){return o}});var i=n(24382),r=n(49580),o=(n(75121),function(e,t){var n="back"===t.direction,o=t.enteringEl,s=t.leavingEl,a=(0,r.g)(o),c=a.querySelector("ion-toolbar"),u=(0,i.c)();if(u.addElement(a).fill("both").beforeRemoveClass("ion-page-invisible"),n?u.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):u.duration(t.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),c){var l=(0,i.c)();l.addElement(c),u.addAnimation(l)}if(s&&n){u.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var h=(0,i.c)();h.addElement((0,r.g)(s)).onFinish((function(e){1===e&&h.elements.length>0&&h.elements[0].style.setProperty("display","none")})).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),u.addAnimation(h)}return u})},33960:function(e,t,n){"use strict";n.d(t,{B:function(){return M},a:function(){return l},b:function(){return h},c:function(){return g},d:function(){return T},e:function(){return m},f:function(){return C},g:function(){return R},h:function(){return c},i:function(){return A},l:function(){return d},m:function(){return f},p:function(){return p},s:function(){return L},t:function(){return v}});var i=n(61340),r=n(23007),o=n(16895),s=n(85626),a=0,c=new WeakMap,u=function(e){return{create:function(t){return y(e,t)},dismiss:function(t,n,i){return k(document,t,n,e,i)},getTop:function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return[2,E(document,e)]}))}))}}},l=u("ion-alert"),h=u("ion-action-sheet"),d=u("ion-loading"),f=u("ion-modal"),p=u("ion-picker"),g=u("ion-popover"),v=u("ion-toast"),m=function(e){"undefined"!=typeof document&&_(document);var t=a++;e.overlayIndex=t,e.hasAttribute("id")||(e.id="ion-overlay-"+t)},y=function(e,t){return"undefined"!=typeof customElements?customElements.whenDefined(e).then((function(){var n=document.createElement(e);return n.classList.add("overlay-hidden"),Object.assign(n,t),x(document).appendChild(n),new Promise((function(e){return(0,s.c)(n,e)}))})):Promise.resolve()},w='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',b="input:not([type=hidden]), textarea, button, select",_=function(e){0===a&&(a=1,e.addEventListener("focus",(function(t){return function(e,t){var n=E(t),i=e.target;if(n&&i)if(n===i)n.lastFocus=void 0;else{var r=(0,s.g)(n);if(!r.contains(i))return;var o=r.querySelector(".ion-overlay-wrapper");if(!o)return;if(o.contains(i))n.lastFocus=i;else{var a=n.lastFocus;!function(e,t){var n=e.querySelector(w),i=n&&n.shadowRoot;i&&(n=i.querySelector(b)||n),n?n.focus():t.focus()}(o,n),a===t.activeElement&&function(e,t){var n=Array.from(e.querySelectorAll(w)),i=n.length>0?n[n.length-1]:null,r=i&&i.shadowRoot;r&&(i=r.querySelector(b)||i),i?i.focus():t.focus()}(o,n),n.lastFocus=t.activeElement}}}(t,e)}),!0),e.addEventListener("ionBackButton",(function(t){var n=E(e);n&&n.backdropDismiss&&t.detail.register(o.OVERLAY_BACK_BUTTON_PRIORITY,(function(){return n.dismiss(void 0,M)}))})),e.addEventListener("keyup",(function(t){if("Escape"===t.key){var n=E(e);n&&n.backdropDismiss&&n.dismiss(void 0,M)}})))},k=function(e,t,n,i,r){var o=E(e,i,r);return o?o.dismiss(t,n):Promise.reject("overlay does not exist")},E=function(e,t,n){var i=function(e,t){return void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter((function(e){return e.overlayIndex>0}))}(e,t);return void 0===n?i[i.length-1]:i.find((function(e){return e.id===n}))},S=function(e){void 0===e&&(e=!1);var t=x(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},T=function(e,t,n,o,s){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var a,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e.presented?[2]:(S(!0),e.presented=!0,e.willPresent.emit(),a=(0,r.b)(e),c=e.enterAnimation?e.enterAnimation:r.c.get(t,"ios"===a?n:o),[4,I(e,c,e.el,s)]);case 1:return i.sent()&&e.didPresent.emit(),"ION-TOAST"!==e.el.tagName&&P(e.el),e.keyboardClose&&e.el.focus(),[2]}}))}))},P=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(t=document.activeElement)?((n=t&&t.shadowRoot)&&(t=n.querySelector(b)||t),[4,e.onDidDismiss()]):[2];case 1:return i.sent(),t.focus(),[2]}}))}))},C=function(e,t,n,o,s,a,u){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var l,h,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(!e.presented)return[2,!1];S(!1),e.presented=!1,i.label=1;case 1:return i.trys.push([1,4,,5]),e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:t,role:n}),l=(0,r.b)(e),h=e.leaveAnimation?e.leaveAnimation:r.c.get(o,"ios"===l?s:a),"gesture"===n?[3,3]:[4,I(e,h,e.el,u)];case 2:i.sent(),i.label=3;case 3:return e.didDismiss.emit({data:t,role:n}),c.delete(e),[3,5];case 4:return d=i.sent(),console.error(d),[3,5];case 5:return e.el.remove(),[2,!0]}}))}))},x=function(e){return e.querySelector("ion-app")||e.body},I=function(e,t,n,o){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var s,a,u;return(0,i.__generator)(this,(function(l){switch(l.label){case 0:return n.classList.remove("overlay-hidden"),s=n.shadowRoot||e.el,a=t(s,o),e.animated&&r.c.getBoolean("animated",!0)||a.duration(0),e.keyboardClose&&a.beforeAddWrite((function(){var e=n.ownerDocument.activeElement;e&&e.matches("input, ion-input, ion-textarea")&&e.blur()})),u=c.get(e)||[],c.set(e,(0,i.__spreadArray)((0,i.__spreadArray)([],u),[a])),[4,a.play()];case 1:return l.sent(),[2,!0]}}))}))},R=function(e,t){var n,i=new Promise((function(e){return n=e}));return O(e,t,(function(e){n(e.detail)})),i},O=function(e,t,n){var i=function(r){(0,s.b)(e,t,i),n(r)};(0,s.a)(e,t,i)},A=function(e){return"cancel"===e||e===M},$=function(e){return e()},L=function(e,t){if("function"==typeof e)return r.c.get("_zoneGate",$)((function(){try{return e(t)}catch(e){console.error(e)}}))},M="backdrop"},379:function(e,t,n){var i={"./ion-action-sheet.entry.js":[48451,8451],"./ion-alert.entry.js":[18550,8550],"./ion-app_8.entry.js":[91006,1006],"./ion-avatar_3.entry.js":[9169,9169],"./ion-back-button.entry.js":[9112,9112],"./ion-backdrop.entry.js":[59389,9389],"./ion-button_2.entry.js":[17733,7733],"./ion-card_5.entry.js":[82011,2011],"./ion-checkbox.entry.js":[3562,3562],"./ion-chip.entry.js":[62185,2185],"./ion-col_3.entry.js":[17478,7478],"./ion-datetime_3.entry.js":[49440,9440],"./ion-fab_3.entry.js":[56608,6608],"./ion-img.entry.js":[88014,8014],"./ion-infinite-scroll_2.entry.js":[16270,6270],"./ion-input.entry.js":[42865,2865],"./ion-item-option_3.entry.js":[964,964],"./ion-item_8.entry.js":[97419,7419],"./ion-loading.entry.js":[59740,9740],"./ion-menu_3.entry.js":[19936,9936],"./ion-modal.entry.js":[53731,3731],"./ion-nav_2.entry.js":[14288,4288],"./ion-popover.entry.js":[36560,6560],"./ion-progress-bar.entry.js":[55051,5051],"./ion-radio_2.entry.js":[62932,2932],"./ion-range.entry.js":[26074,6074],"./ion-refresher_2.entry.js":[28290,8290],"./ion-reorder_2.entry.js":[53479,3479],"./ion-ripple-effect.entry.js":[84905,4905],"./ion-route_4.entry.js":[85095,5095],"./ion-searchbar.entry.js":[57421,7421],"./ion-segment_2.entry.js":[53806,3806],"./ion-select_3.entry.js":[97421,6306],"./ion-slide_2.entry.js":[34208,4208],"./ion-spinner.entry.js":[63046,3046],"./ion-split-pane.entry.js":[34774,4774],"./ion-tab-bar_2.entry.js":[33196,3196],"./ion-tab_2.entry.js":[13965,3965],"./ion-text.entry.js":[19431,2516],"./ion-textarea.entry.js":[12117,2117],"./ion-toast.entry.js":[24617,4617],"./ion-toggle.entry.js":[29125,9125],"./ion-virtual-scroll.entry.js":[19480,9480]};function r(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(i)},r.id=379,e.exports=r},92448:function(e,t,n){},9905:function(e,t,n){"use strict";n.r(t);var i=n(53774),r={};for(var o in i)"default"!==o&&(r[o]=function(e){return i[e]}.bind(0,o));n.d(t,r)},14454:function(e,t,n){"use strict";var i=n(92448);n.o(i,"defineCustomElements")&&n.d(t,{defineCustomElements:function(){return i.defineCustomElements}});var r=n(40823);n.o(r,"defineCustomElements")&&n.d(t,{defineCustomElements:function(){return r.defineCustomElements}}),function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}()},61340:function(e,t,n){"use strict";n.d(t,{__awaiter:function(){return o},__extends:function(){return r},__generator:function(){return s},__spreadArray:function(){return a}});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function s(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function a(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create,Object.create},11677:function(e,t,n){"use strict";n.r(t),n.d(t,{CreateAnimation:function(){return Lt},DefaultIonLifeCycleContext:function(){return f},IonActionSheet:function(){return nt},IonAlert:function(){return Ze},IonApp:function(){return $},IonAvatar:function(){return j},IonBackButton:function(){return Ct},IonBackdrop:function(){return D},IonBadge:function(){return N},IonButton:function(){return F},IonButtons:function(){return B},IonCard:function(){return U},IonCardContent:function(){return z},IonCardHeader:function(){return H},IonCardSubtitle:function(){return V},IonCardTitle:function(){return G},IonCheckbox:function(){return W},IonChip:function(){return K},IonCol:function(){return q},IonContent:function(){return Y},IonDatetime:function(){return X},IonFab:function(){return Z},IonFabButton:function(){return J},IonFabList:function(){return Q},IonFooter:function(){return ee},IonGrid:function(){return te},IonHeader:function(){return ne},IonIcon:function(){return It},IonImg:function(){return ie},IonInfiniteScroll:function(){return re},IonInfiniteScrollContent:function(){return oe},IonInput:function(){return se},IonItem:function(){return ae},IonItemDivider:function(){return ce},IonItemGroup:function(){return ue},IonItemOption:function(){return le},IonItemOptions:function(){return he},IonItemSliding:function(){return de},IonLabel:function(){return fe},IonLifeCycleContext:function(){return d},IonList:function(){return pe},IonListHeader:function(){return ge},IonLoading:function(){return Je},IonMenu:function(){return ve},IonMenuButton:function(){return me},IonMenuToggle:function(){return ye},IonModal:function(){return it},IonNav:function(){return _e},IonNote:function(){return we},IonPage:function(){return ct},IonPicker:function(){return et},IonPickerColumn:function(){return be},IonPopover:function(){return rt},IonProgressBar:function(){return ke},IonRadio:function(){return Ee},IonRadioGroup:function(){return Se},IonRange:function(){return Te},IonRedirect:function(){return Ot},IonRefresher:function(){return Pe},IonRefresherContent:function(){return Ce},IonReorder:function(){return xe},IonReorderGroup:function(){return Ie},IonRippleEffect:function(){return Re},IonRoute:function(){return Rt},IonRouterContext:function(){return At},IonRouterLink:function(){return M},IonRouterOutlet:function(){return yt},IonRow:function(){return Oe},IonSearchbar:function(){return Ae},IonSegment:function(){return $e},IonSegmentButton:function(){return Le},IonSelect:function(){return Me},IonSelectOption:function(){return je},IonSelectPopover:function(){return De},IonSkeletonText:function(){return Ne},IonSlide:function(){return Fe},IonSlides:function(){return Be},IonSpinner:function(){return Ue},IonSplitPane:function(){return ze},IonTab:function(){return L},IonTabBar:function(){return kt},IonTabButton:function(){return wt},IonTabs:function(){return Pt},IonTabsContext:function(){return ut},IonText:function(){return He},IonTextarea:function(){return Ve},IonThumbnail:function(){return Ge},IonTitle:function(){return We},IonToast:function(){return Qe},IonToggle:function(){return qe},IonToolbar:function(){return Ye},IonVirtualScroll:function(){return Ke},IonicSafeString:function(){return c.IonicSafeString},IonicSlides:function(){return c.IonicSlides},IonicSwiper:function(){return c.IonicSwiper},LocationHistory:function(){return Kt},NavContext:function(){return w},NavManager:function(){return Xt},RouteManagerContext:function(){return qt},StackContext:function(){return ot},ViewLifeCycleManager:function(){return Yt},ViewStacks:function(){return Zt},createAnimation:function(){return c.createAnimation},createGesture:function(){return c.createGesture},generateId:function(){return Qt},getConfig:function(){return O},getPlatforms:function(){return R},iosTransitionAnimation:function(){return c.iosTransitionAnimation},isPlatform:function(){return I},mdTransitionAnimation:function(){return c.mdTransitionAnimation},setupConfig:function(){return c.setupConfig},useIonActionSheet:function(){return Ft},useIonAlert:function(){return Bt},useIonLoading:function(){return Wt},useIonModal:function(){return Ht},useIonPicker:function(){return Gt},useIonPopover:function(){return Vt},useIonRouter:function(){return $t},useIonToast:function(){return Ut},useIonViewDidEnter:function(){return v},useIonViewDidLeave:function(){return y},useIonViewWillEnter:function(){return g},useIonViewWillLeave:function(){return m},withIonLifeCycle:function(){return p}});var i=n(67294),r=n.n(i),o=n(14454),s=n(44066),a=n(18903),c=n(9905),u=n(70655),l=n(73935),h=n.n(l);const d=r().createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{}}),f=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[]}onIonViewWillEnter(e){if(e.id){const t=this.ionViewWillEnterCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewWillEnterCallbacks[t]=e:this.ionViewWillEnterCallbacks.push(e)}else this.ionViewWillEnterCallbacks.push(e)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach((e=>e()))}onIonViewDidEnter(e){if(e.id){const t=this.ionViewDidEnterCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewDidEnterCallbacks[t]=e:this.ionViewDidEnterCallbacks.push(e)}else this.ionViewDidEnterCallbacks.push(e)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach((e=>e()))}onIonViewWillLeave(e){if(e.id){const t=this.ionViewWillLeaveCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewWillLeaveCallbacks[t]=e:this.ionViewWillLeaveCallbacks.push(e)}else this.ionViewWillLeaveCallbacks.push(e)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach((e=>e()))}onIonViewDidLeave(e){if(e.id){const t=this.ionViewDidLeaveCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewDidLeaveCallbacks[t]=e:this.ionViewDidLeaveCallbacks.push(e)}else this.ionViewDidLeaveCallbacks.push(e)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach((e=>e())),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(e){this.componentCanBeDestroyedCallback=e}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},p=e=>class extends r().Component{constructor(e){super(e),this.componentRef=r().createRef()}componentDidMount(){const e=this.componentRef.current;this.context.onIonViewWillEnter((()=>{e&&e.ionViewWillEnter&&e.ionViewWillEnter()})),this.context.onIonViewDidEnter((()=>{e&&e.ionViewDidEnter&&e.ionViewDidEnter()})),this.context.onIonViewWillLeave((()=>{e&&e.ionViewWillLeave&&e.ionViewWillLeave()})),this.context.onIonViewDidLeave((()=>{e&&e.ionViewDidLeave&&e.ionViewDidLeave()}))}render(){return r().createElement(d.Consumer,null,(t=>(this.context=t,r().createElement(e,Object.assign({ref:this.componentRef},this.props)))))}},g=(e,t=[])=>{const n=(0,i.useContext)(d),r=(0,i.useRef)();r.current=r.current||Math.floor(1e6*Math.random()),(0,i.useEffect)((()=>{e.id=r.current,n.onIonViewWillEnter(e)}),t)},v=(e,t=[])=>{const n=(0,i.useContext)(d),r=(0,i.useRef)();r.current=r.current||Math.floor(1e6*Math.random()),(0,i.useEffect)((()=>{e.id=r.current,n.onIonViewDidEnter(e)}),t)},m=(e,t=[])=>{const n=(0,i.useContext)(d),r=(0,i.useRef)();r.current=r.current||Math.floor(1e6*Math.random()),(0,i.useEffect)((()=>{e.id=r.current,n.onIonViewWillLeave(e)}),t)},y=(e,t=[])=>{const n=(0,i.useContext)(d),r=(0,i.useRef)();r.current=r.current||Math.floor(1e6*Math.random()),(0,i.useEffect)((()=>{e.id=r.current,n.onIonViewDidLeave(e)}),t)},w=r().createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:e=>{"undefined"!=typeof window&&("string"==typeof e?window.location.pathname=e:window.history.back())},navigate:e=>{"undefined"!=typeof window&&(window.location.pathname=e)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(e,t)=>{"undefined"!=typeof window&&(window.location.pathname=t)},resetTab:(e,t)=>{"undefined"!=typeof window&&(window.location.pathname=t)}}),b=e=>e.replace(/([A-Z])/g,(e=>`-${e[0].toLowerCase()}`)),_=(e,t,n={})=>{if(e instanceof Element){const i=k(e.classList,t,n);""!==i&&(e.className=i),Object.keys(t).forEach((n=>{if("children"!==n&&"style"!==n&&"ref"!==n&&"class"!==n&&"className"!==n&&"forwardedRef"!==n)if(0===n.indexOf("on")&&n[2]===n[2].toUpperCase()){const i=n.substring(2),r=i[0].toLowerCase()+i.substring(1);E(r)||S(e,r,t[n])}else"string"==typeof t[n]?e.setAttribute(b(n),t[n]):e[n]=t[n]}))}},k=(e,t,n)=>{const i=t.className||t.class,r=n.className||n.class,o=T(e),s=T(i?i.split(" "):[]),a=T(r?r.split(" "):[]),c=[];return o.forEach((e=>{s.has(e)?(c.push(e),s.delete(e)):a.has(e)||c.push(e)})),s.forEach((e=>c.push(e))),c.join(" ")},E=e=>{if("undefined"==typeof document)return!0;{const t="on"+e;let n=t in document;if(!n){const e=document.createElement("div");e.setAttribute(t,"return;"),n="function"==typeof e[t]}return n}},S=(e,t,n)=>{const i=e.__events||(e.__events={}),r=i[t];r&&e.removeEventListener(t,r),e.addEventListener(t,i[t]=function(e){n&&n.call(this,e)})},T=e=>{const t=new Map;return e.forEach((e=>t.set(e,e))),t},P=(e,t)=>{const n=(t,n)=>r().createElement(e,Object.assign({},t,{forwardedRef:n}));return n.displayName=t,r().forwardRef(n)},C=(e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)},x=(...e)=>t=>{e.forEach((e=>{C(e,t)}))},I=e=>(0,c.isPlatform)(window,e),R=()=>(0,c.getPlatforms)(window),O=()=>{if("undefined"!=typeof window){const e=window.Ionic;if(e&&e.config)return e.config}return null},A=(e,t=!1)=>{const n=e.toLowerCase().split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),i=class extends r().Component{constructor(e){super(e),this.handleClick=e=>{const{routerLink:t,routerDirection:n,routerOptions:i,routerAnimation:r}=this.props;void 0!==t&&(e.preventDefault(),this.context.navigate(t,n,void 0,r,i))},this.ref=r().createRef(),this.stableMergedRefs=x(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(e){const t=this.ref.current;_(t,this.props,e)}render(){const n=this.props,{children:i,forwardedRef:o,style:s,className:a,ref:c}=n,l=(0,u.__rest)(n,["children","forwardedRef","style","className","ref"]),h=Object.keys(l).reduce(((e,t)=>{if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const n=t.substring(2).toLowerCase();E(n)&&(e[t]=l[t])}else["string","boolean","number"].includes(typeof l[t])&&(e[b(t)]=l[t]);return e}),{}),d=Object.assign(Object.assign({},h),{ref:this.stableMergedRefs,style:s});if(t)if(this.props.routerLink&&!this.props.href&&(d.href=this.props.routerLink),d.onClick){const e=d.onClick;d.onClick=t=>{e(t),t.defaultPrevented||this.handleClick(t)}}else d.onClick=this.handleClick;return r().createElement(e,d,i)}static get displayName(){return n}static get contextType(){return w}};return P(i,n)},$=A("ion-app"),L=A("ion-tab"),M=A("ion-router-link",!0),j=A("ion-avatar"),D=A("ion-backdrop"),N=A("ion-badge"),F=A("ion-button",!0),B=A("ion-buttons"),U=A("ion-card",!0),z=A("ion-card-content"),H=A("ion-card-header"),V=A("ion-card-subtitle"),G=A("ion-card-title"),W=A("ion-checkbox"),q=A("ion-col"),Y=A("ion-content"),K=A("ion-chip"),X=A("ion-datetime"),Z=A("ion-fab"),J=A("ion-fab-button",!0),Q=A("ion-fab-list"),ee=A("ion-footer"),te=A("ion-grid"),ne=A("ion-header"),ie=A("ion-img"),re=A("ion-infinite-scroll"),oe=A("ion-infinite-scroll-content"),se=A("ion-input"),ae=A("ion-item",!0),ce=A("ion-item-divider"),ue=A("ion-item-group"),le=A("ion-item-option",!0),he=A("ion-item-options"),de=A("ion-item-sliding"),fe=A("ion-label"),pe=A("ion-list"),ge=A("ion-list-header"),ve=A("ion-menu"),me=A("ion-menu-button"),ye=A("ion-menu-toggle"),we=A("ion-note"),be=A("ion-picker-column"),_e=A("ion-nav"),ke=A("ion-progress-bar"),Ee=A("ion-radio"),Se=A("ion-radio-group"),Te=A("ion-range"),Pe=A("ion-refresher"),Ce=A("ion-refresher-content"),xe=A("ion-reorder"),Ie=A("ion-reorder-group"),Re=A("ion-ripple-effect"),Oe=A("ion-row"),Ae=A("ion-searchbar"),$e=A("ion-segment"),Le=A("ion-segment-button"),Me=A("ion-select"),je=A("ion-select-option"),De=A("ion-select-popover"),Ne=A("ion-skeleton-text"),Fe=A("ion-slide"),Be=A("ion-slides"),Ue=A("ion-spinner"),ze=A("ion-split-pane"),He=A("ion-text"),Ve=A("ion-textarea"),Ge=A("ion-thumbnail"),We=A("ion-title"),qe=A("ion-toggle"),Ye=A("ion-toolbar"),Ke=A("ion-virtual-scroll"),Xe=(e,t)=>{const n=`on${e}DidDismiss`,i=`on${e}DidPresent`,o=`on${e}WillDismiss`,s=`on${e}WillPresent`;class a extends r().Component{constructor(e){super(e),this.isUnmounted=!1,this.handleDismiss=this.handleDismiss.bind(this)}static get displayName(){return e}async componentDidMount(){const{isOpen:e}=this.props;e&&this.present()}componentWillUnmount(){this.isUnmounted=!0,this.overlay&&this.overlay.dismiss()}async componentDidUpdate(e){e.isOpen!==this.props.isOpen&&!0===this.props.isOpen&&this.present(e),this.overlay&&e.isOpen!==this.props.isOpen&&!1===this.props.isOpen&&await this.overlay.dismiss()}handleDismiss(e){this.props.onDidDismiss&&this.props.onDidDismiss(e),C(this.props.forwardedRef,null)}async present(e){const r=this.props,a=(0,u.__rest)(r,["isOpen","onDidDismiss","onDidPresent","onWillDismiss","onWillPresent"]);this.overlay=await t.create(Object.assign({},a)),_(this.overlay,{[n]:this.handleDismiss,[i]:e=>this.props.onDidPresent&&this.props.onDidPresent(e),[o]:e=>this.props.onWillDismiss&&this.props.onWillDismiss(e),[s]:e=>this.props.onWillPresent&&this.props.onWillPresent(e)},e),!0===this.props.isOpen&&!1===this.isUnmounted&&(C(this.props.forwardedRef,this.overlay),await this.overlay.present())}render(){return null}}return r().forwardRef(((e,t)=>r().createElement(a,Object.assign({},e,{forwardedRef:t}))))},Ze=Xe("IonAlert",c.alertController),Je=Xe("IonLoading",c.loadingController),Qe=Xe("IonToast",{create:e=>c.toastController.create(e),dismiss:(e,t,n)=>c.toastController.dismiss(e,t,n),getTop:()=>c.toastController.getTop()}),et=Xe("IonPicker",c.pickerController),tt=(e,t)=>{const n=`on${e}DidDismiss`,i=`on${e}DidPresent`,o=`on${e}WillDismiss`,s=`on${e}WillPresent`;class a extends r().Component{constructor(e){super(e),this.isDismissing=!1,"undefined"!=typeof document&&(this.el=document.createElement("div")),this.handleDismiss=this.handleDismiss.bind(this)}static get displayName(){return e}componentDidMount(){this.props.isOpen&&this.present()}componentWillUnmount(){this.overlay&&this.overlay.dismiss()}handleDismiss(e){this.props.onDidDismiss&&this.props.onDidDismiss(e),C(this.props.forwardedRef,null)}shouldComponentUpdate(e){return this.overlay&&e.isOpen!==this.props.isOpen&&!1===e.isOpen&&(this.isDismissing=!0),!0}async componentDidUpdate(e){this.overlay&&_(this.overlay,this.props,e),e.isOpen!==this.props.isOpen&&!0===this.props.isOpen&&this.present(e),this.overlay&&e.isOpen!==this.props.isOpen&&!1===this.props.isOpen&&(await this.overlay.dismiss(),this.isDismissing=!1,this.forceUpdate())}async present(e){const r=this.props,a=(0,u.__rest)(r,["children","isOpen","onDidDismiss","onDidPresent","onWillDismiss","onWillPresent"]),c=Object.assign(Object.assign({},a),{ref:this.props.forwardedRef,[n]:this.handleDismiss,[i]:e=>this.props.onDidPresent&&this.props.onDidPresent(e),[o]:e=>this.props.onWillDismiss&&this.props.onWillDismiss(e),[s]:e=>this.props.onWillPresent&&this.props.onWillPresent(e)});this.overlay=await t.create(Object.assign(Object.assign({},c),{component:this.el,componentProps:{}})),C(this.props.forwardedRef,this.overlay),_(this.overlay,c,e),await this.overlay.present()}render(){return h().createPortal(this.props.isOpen||this.isDismissing?this.props.children:null,this.el)}}return r().forwardRef(((e,t)=>r().createElement(a,Object.assign({},e,{forwardedRef:t}))))},nt=tt("IonActionSheet",{create:e=>c.actionSheetController.create(e),dismiss:(e,t,n)=>c.actionSheetController.dismiss(e,t,n),getTop:()=>c.actionSheetController.getTop()}),it=tt("IonModal",c.modalController),rt=tt("IonPopover",c.popoverController),ot=r().createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class st extends r().PureComponent{constructor(e){super(e),this.ionPageElementRef=r().createRef(),this.stableMergedRefs=x(this.ionPageElementRef,this.props.forwardedRef)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:t,children:n,routeInfo:i,forwardedRef:o}=e,s=(0,u.__rest)(e,["className","children","routeInfo","forwardedRef"]);return r().createElement(d.Consumer,null,(e=>(this.ionLifeCycleContext=e,r().createElement("div",Object.assign({className:t?`${t} ion-page`:"ion-page",ref:this.stableMergedRefs},s),n))))}static get contextType(){return ot}}class at extends r().Component{constructor(e){super(e)}render(){const e=this.props,{className:t,children:n,forwardedRef:i}=e,o=(0,u.__rest)(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?r().createElement(st,Object.assign({className:t?`${t}`:"",routeInfo:this.context.routeInfo,forwardedRef:i},o),n):r().createElement("div",Object.assign({className:t?`ion-page ${t}`:"ion-page",ref:i},o),n)}static get displayName(){return"IonPage"}static get contextType(){return w}}const ct=P(at,"IonPage"),ut=r().createContext({activeTab:void 0,selectTab:()=>!1}),lt="undefined"!=typeof HTMLElement?HTMLElement:class{},ht=A("ion-tab-button"),dt=A("ion-tab-bar"),ft=A("ion-back-button"),pt=A("ion-router-outlet"),gt=A("ion-icon");class vt extends r().Component{constructor(e){super(e)}componentDidMount(){this.ionRouterOutlet&&(setTimeout((()=>{this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),25),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:t,children:n,routeInfo:i}=e,o=(0,u.__rest)(e,["StackManager","children","routeInfo"]);return r().createElement(d.Consumer,null,(e=>(this.ionLifeCycleContext=e,r().createElement(t,{routeInfo:i},r().createElement(pt,Object.assign({setRef:e=>this.ionRouterOutlet=e},o),n)))))}static get contextType(){return ot}}class mt extends r().Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),t=this.props,{children:n,forwardedRef:i}=t,o=(0,u.__rest)(t,["children","forwardedRef"]);return this.context.hasIonicRouter()?o.ionPage?r().createElement(vt,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},o),n):r().createElement(e,{routeInfo:this.context.routeInfo},r().createElement(pt,Object.assign({},o,{forwardedRef:i}),n)):r().createElement(pt,Object.assign({ref:i},this.props),this.props.children)}static get contextType(){return w}}const yt=P(mt,"IonRouterOutlet");class wt extends r().Component{constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const e=this.props,t=(0,u.__rest)(e,["onClick"]);return r().createElement(ht,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},t))}static get displayName(){return"IonTabButton"}}class bt extends r().PureComponent{constructor(e){super(e),this.setActiveTabOnContext=e=>{};const t={};r().Children.forEach(e.children,(n=>{var i,r,o,s;null!=n&&"object"==typeof n&&n.props&&(n.type===wt||n.type.isTabButton)&&(t[n.props.tab]={originalHref:n.props.href,currentHref:n.props.href,originalRouteOptions:n.props.href===(null===(i=e.routeInfo)||void 0===i?void 0:i.pathname)?null===(r=e.routeInfo)||void 0===r?void 0:r.routeOptions:void 0,currentRouteOptions:n.props.href===(null===(o=e.routeInfo)||void 0===o?void 0:o.pathname)?null===(s=e.routeInfo)||void 0===s?void 0:s.routeOptions:void 0})})),this.state={tabs:t},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,t=Object.keys(e).find((t=>{const n=e[t].originalHref;return this.props.routeInfo.pathname.startsWith(n)}));t&&this.setState({activeTab:t})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const t=this.state.tabs[e];return!!t&&(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0)}static getDerivedStateFromProps(e,t){var n,i,o;const s=Object.assign({},t.tabs),a=Object.keys(t.tabs).find((n=>{const i=t.tabs[n].originalHref;return e.routeInfo.pathname.startsWith(i)}));r().Children.forEach(e.children,(e=>{if(null!=e&&"object"==typeof e&&e.props&&(e.type===wt||e.type.isTabButton)){const t=s[e.props.tab];t&&t.originalHref===e.props.href||(s[e.props.tab]={originalHref:e.props.href,currentHref:e.props.href,originalRouteOptions:e.props.routeOptions,currentRouteOptions:e.props.routeOptions})}}));const{activeTab:c}=t;if(a&&c){const r=t.tabs[c].currentHref,u=t.tabs[c].currentRouteOptions;a===c&&r===(null===(n=e.routeInfo)||void 0===n?void 0:n.pathname)&&u===(null===(i=e.routeInfo)||void 0===i?void 0:i.routeOptions)||(s[a]={originalHref:s[a].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:s[a].originalRouteOptions,currentRouteOptions:null===(o=e.routeInfo)||void 0===o?void 0:o.routeOptions},"pop"===e.routeInfo.routeAction&&a!==c&&(s[c]={originalHref:s[c].originalHref,currentHref:s[c].originalHref,originalRouteOptions:s[c].originalRouteOptions,currentRouteOptions:s[c].currentRouteOptions}))}return a&&e.onSetCurrentTab(a,e.routeInfo),{activeTab:a,tabs:s}}onTabButtonClick(e){const t=this.state.tabs[e.detail.tab],n=t.originalHref,i=e.detail.href,{activeTab:r}=this.state;r===e.detail.tab?n!==i&&this.context.resetTab(e.detail.tab,n,t.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,i,e.detail.routeOptions))}renderTabButton(e){return t=>{var n,i;if(null!=t&&t.props&&(t.type===wt||t.type.isTabButton)){const o=t.props.tab===e?null===(n=this.props.routeInfo)||void 0===n?void 0:n.pathname:this.state.tabs[t.props.tab].currentHref,s=t.props.tab===e?null===(i=this.props.routeInfo)||void 0===i?void 0:i.routeOptions:this.state.tabs[t.props.tab].currentRouteOptions;return r().cloneElement(t,{href:o,routeOptions:s,onClick:this.onTabButtonClick})}return null}}render(){const{activeTab:e}=this.state;return r().createElement(dt,Object.assign({},this.props,{selectedTab:e}),r().Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return w}}const _t=r().memo((e=>{var{forwardedRef:t}=e,n=(0,u.__rest)(e,["forwardedRef"]);const o=(0,i.useContext)(w);return r().createElement(bt,Object.assign({ref:t},n,{routeInfo:n.routeInfo||o.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:o.setCurrentTab}),n.children)})),kt=P(_t,"IonTabBar");class Et extends lt{constructor(){super()}}"undefined"!=typeof window&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",Et));const St={display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",flexDirection:"column",width:"100%",height:"100%",contain:"layout size style"},Tt={position:"relative",flex:1,contain:"layout size style"};class Pt extends r().Component{constructor(e){super(e),this.routerOutletRef=r().createRef(),this.tabBarRef=r().createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}render(){let e,t;const n=this.props,{className:o,onIonTabsDidChange:s,onIonTabsWillChange:a}=n,c=(0,u.__rest)(n,["className","onIonTabsDidChange","onIonTabsWillChange"]),l="function"==typeof this.props.children?this.props.children(this.ionTabContextState):this.props.children;if(r().Children.forEach(l,(n=>{if(null==n||"object"!=typeof n||!n.hasOwnProperty("type"))return;n.type===yt||n.type.isRouterOutlet?e=r().cloneElement(n,{tabs:!0}):n.type===i.Fragment&&n.props.children[0].type===yt&&(e=n.props.children[0]);let o={ref:this.tabBarRef};void 0!==s&&(o=Object.assign(Object.assign({},o),{onIonTabsDidChange:s})),void 0!==a&&(o=Object.assign(Object.assign({},o),{onIonTabsWillChange:a})),n.type===kt||n.type.isTabBar?t=r().cloneElement(n,o):n.type!==i.Fragment||n.props.children[1].type!==kt&&!n.props.children[1].type.isTabBar||(t=r().cloneElement(n.props.children[1],o))})),!e)throw new Error("IonTabs must contain an IonRouterOutlet");if(!t)throw new Error("IonTabs needs a IonTabBar");return r().createElement(ut.Provider,{value:this.ionTabContextState},this.context.hasIonicRouter()?r().createElement(st,Object.assign({className:o?`${o}`:"",routeInfo:this.context.routeInfo},c),r().createElement("ion-tabs",{className:"ion-tabs",style:St},"top"===t.props.slot?t:null,r().createElement("div",{style:Tt,className:"tabs-inner"},e),"bottom"===t.props.slot?t:null)):r().createElement("div",Object.assign({className:o?`${o}`:"ion-tabs"},c,{style:St}),"top"===t.props.slot?t:null,r().createElement("div",{style:Tt,className:"tabs-inner"},e),"bottom"===t.props.slot?t:null))}static get contextType(){return w}}const Ct=(()=>class extends r().Component{constructor(){super(...arguments),this.clickButton=e=>{const{defaultHref:t,routerAnimation:n}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(t,n)):void 0!==t&&(window.location.href=t)}}render(){return r().createElement(ft,Object.assign({onClick:this.clickButton},this.props))}static get displayName(){return"IonBackButton"}static get contextType(){return w}})();class xt extends r().PureComponent{constructor(e){super(e),this.props.name&&process&&process.env}render(){var e,t;const n=this.props,{icon:i,ios:o,md:s}=n,a=(0,u.__rest)(n,["icon","ios","md"]);let c;return c=o||s?I("ios")?null!==(e=null!=o?o:s)&&void 0!==e?e:i:null!==(t=null!=s?s:o)&&void 0!==t?t:i:i,r().createElement(gt,Object.assign({ref:this.props.forwardedRef,icon:c},a),this.props.children)}static get contextType(){return w}}const It=P(xt,"IonIcon");class Rt extends r().PureComponent{render(){const e=this.context.getIonRoute();return this.context.hasIonicRouter()&&Rt?r().createElement(e,Object.assign({},this.props)):(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null)}static get contextType(){return w}}class Ot extends r().PureComponent{render(){const e=this.context.getIonRedirect();return this.context.hasIonicRouter()&&Ot?r().createElement(e,Object.assign({},this.props)):(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null)}static get contextType(){return w}}const At=r().createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});function $t(){const e=(0,i.useContext)(At);return{back:e.back,push:e.push,goBack:e.back,canGoBack:e.canGoBack,routeInfo:e.routeInfo}}class Lt extends r().PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=(0,c.createAnimation)(e.id)}setupAnimation(e){const t=this.animation;this.nodes.size>0&&t.addElement(Array.from(this.nodes.values())),Mt(t,e),Dt(t,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const t=this.animation,n=this.props;Mt(t,n,e),jt(t,n,e),Dt(t,n,e)}render(){const{children:e}=this.props;return r().createElement(r().Fragment,null,r().Children.map(e,((e,t)=>r().cloneElement(e,{ref:e=>this.nodes.set(t,e)}))))}}const Mt=(e,t={},n={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const r in t)t.hasOwnProperty(r)&&!i.includes(r)&&t[r]!==n[r]&&e[r](t[r]);const r=t.from;r&&r!==n.from&&(Array.isArray(r)?r:[r]).forEach((t=>e.from(t.property,t.value)));const o=t.to;o&&o!==n.to&&(Array.isArray(o)?o:[o]).forEach((t=>e.to(t.property,t.value)));const s=t.fromTo;s&&s!==n.fromTo&&(Array.isArray(s)?s:[s]).forEach((t=>e.fromTo(t.property,t.fromValue,t.toValue)));const a=t.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach((t=>e.onFinish(t.callback,t.opts)))},jt=(e,t={},n={})=>{var i,r,o,s,a;const{progressStart:c,progressStep:u,progressEnd:l}=t;!c||(null===(i=n.progressStart)||void 0===i?void 0:i.forceLinearEasing)===(null==c?void 0:c.forceLinearEasing)&&(null===(r=n.progressStart)||void 0===r?void 0:r.step)===(null==c?void 0:c.step)||e.progressStart(c.forceLinearEasing,c.step),u&&(null===(o=n.progressStep)||void 0===o?void 0:o.step)!==(null==u?void 0:u.step)&&e.progressStep(u.step),!l||(null===(s=n.progressEnd)||void 0===s?void 0:s.playTo)===(null==l?void 0:l.playTo)&&(null===(a=n.progressEnd)||void 0===a?void 0:a.step)===(null==l?void 0:l.step)&&(null==n?void 0:n.dur)===(null==l?void 0:l.dur)||e.progressEnd(l.playTo,l.step,l.dur)},Dt=(e,t={},n={})=>{!n.play&&t.play&&e.play(),!n.pause&&t.pause&&e.pause(),!n.stop&&t.stop&&e.stop(),!n.destroy&&t.destroy&&e.destroy()};function Nt(e,t){const n=(0,i.useRef)(),r=(0,i.useMemo)((()=>`on${e}DidDismiss`),[e]),o=(0,i.useMemo)((()=>`on${e}DidPresent`),[e]),s=(0,i.useMemo)((()=>`on${e}WillDismiss`),[e]),a=(0,i.useMemo)((()=>`on${e}WillPresent`),[e]);return{present:(0,i.useCallback)((async e=>{if(n.current)return;const{onDidDismiss:i,onWillDismiss:c,onDidPresent:l,onWillPresent:h}=e,d=(0,u.__rest)(e,["onDidDismiss","onWillDismiss","onDidPresent","onWillPresent"]);n.current=await t.create(Object.assign({},d)),_(n.current,{[r]:e=>{i&&i(e),n.current=void 0},[o]:e=>l&&l(e),[s]:e=>c&&c(e),[a]:e=>h&&h(e)}),n.current.present()}),[t]),dismiss:(0,i.useCallback)((async()=>{n.current&&await n.current.dismiss(),n.current=void 0}),[])}}function Ft(){const e=Nt("IonActionSheet",c.actionSheetController);return[(0,i.useCallback)(((t,n)=>Array.isArray(t)?e.present({buttons:t,header:n}):e.present(t)),[e.present]),e.dismiss]}function Bt(){const e=Nt("IonAlert",c.alertController);return[(0,i.useCallback)(((t,n)=>"string"==typeof t?e.present({message:t,buttons:null!=n?n:[{text:"Ok"}]}):e.present(t)),[e.present]),e.dismiss]}function Ut(){const e=Nt("IonToast",c.toastController);return[(0,i.useCallback)(((t,n)=>"string"==typeof t?e.present({message:t,duration:n}):e.present(t)),[e.present]),e.dismiss]}function zt(e,t,n,o){const s=(0,i.useRef)(),a=(0,i.useRef)(),c=(0,i.useMemo)((()=>`on${e}DidDismiss`),[e]),l=(0,i.useMemo)((()=>`on${e}DidPresent`),[e]),d=(0,i.useMemo)((()=>`on${e}WillDismiss`),[e]),f=(0,i.useMemo)((()=>`on${e}WillPresent`),[e]),[p,g]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{p&&n&&a.current&&(r().isValidElement(n)?h().render(n,a.current):h().render(r().createElement(n,o),a.current))}),[n,a.current,p,o]),{present:(0,i.useCallback)((async e=>{if(s.current)return;const{onDidDismiss:n,onWillDismiss:i,onDidPresent:r,onWillPresent:o}=e,h=(0,u.__rest)(e,["onDidDismiss","onWillDismiss","onDidPresent","onWillPresent"]);"undefined"!=typeof document&&(a.current=document.createElement("div")),s.current=await t.create(Object.assign(Object.assign({},h),{component:a.current})),_(s.current,{[c]:function(e){n&&n(e),s.current=void 0,a.current=void 0,g(!1)},[l]:e=>r&&r(e),[d]:e=>i&&i(e),[f]:e=>o&&o(e)}),s.current.present(),g(!0)}),[]),dismiss:(0,i.useCallback)((async()=>{s.current&&await s.current.dismiss(),s.current=void 0,a.current=void 0}),[])}}function Ht(e,t){const n=zt("IonModal",c.modalController,e,t);return[(0,i.useCallback)(((e={})=>{n.present(e)}),[n.present]),n.dismiss]}function Vt(e,t){const n=zt("IonPopover",c.popoverController,e,t);return[(0,i.useCallback)(((e={})=>{n.present(e)}),[n.present]),n.dismiss]}function Gt(){const e=Nt("IonPicker",c.pickerController);return[(0,i.useCallback)(((t,n)=>Array.isArray(t)?e.present({columns:t,buttons:null!=n?n:[{text:"Ok"}]}):e.present(t)),[e.present]),e.dismiss]}function Wt(){const e=Nt("IonLoading",c.loadingController);return[(0,i.useCallback)(((t="",n,i)=>"string"==typeof t?e.present({message:t,duration:n,spinner:null!=i?i:"lines"}):e.present(t)),[e.present]),e.dismiss]}(0,s.addIcons)({"arrow-back-sharp":a.arrowBackSharp,"caret-back-sharp":a.caretBackSharp,"chevron-back":a.chevronBack,"chevron-forward":a.chevronForward,close:a.close,"close-circle":a.closeCircle,"close-sharp":a.closeSharp,"menu-outline":a.menuOutline,"menu-sharp":a.menuSharp,"reorder-two-sharp":a.reorderTwoSharp,"reorder-three-outline":a.reorderThreeOutline,"search-outline":a.searchOutline,"search-sharp":a.searchSharp}),"undefined"!=typeof window&&(0,o.defineCustomElements)(window);const qt=r().createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class Yt extends r().Component{constructor(e){super(e),this.ionLifeCycleContext=new f,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed((()=>{this.props.mount||this._isMounted&&this.setState({show:!1},(()=>this.props.removeView()))})),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return r().createElement(d.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class Kt{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){"push"===e.routeAction||null==e.routeAction?this._add(e):"pop"===e.routeAction?this._pop(e):"replace"===e.routeAction&&this._replace(e),"root"===e.routeDirection&&(this._clear(),this._add(e))}clearTabStack(e){const t=this._getRouteInfosByKey(e);t&&(t.forEach((e=>{this.locationHistory=this.locationHistory.filter((t=>t.id!==e.id))})),this.tabHistory[e]=[])}update(e){const t=this.locationHistory.findIndex((t=>t.id===e.id));t>-1&&this.locationHistory.splice(t,1,e);const n=this.tabHistory[e.tab||""];if(n){const t=n.findIndex((t=>t.id===e.id));t>-1?n.splice(t,1,e):n.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const t=this._getRouteInfosByKey(e.tab);t&&(this._areRoutesEqual(t[t.length-1],e)&&t.pop(),t.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,t){return!(!e||!t)&&e.pathname===t.pathname&&e.search===t.search}_pop(e){const t=this._getRouteInfosByKey(e.tab);t&&(t.pop(),t.pop(),t.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const t=this._getRouteInfosByKey(e.tab);t&&t.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach((e=>this.tabHistory[e]=[])),this.locationHistory=[]}_getRouteInfosByKey(e){let t;return e&&(t=this.tabHistory[e],t||(t=this.tabHistory[e]=[])),t}getFirstRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[0]}getCurrentRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[t.length-1]}findLastLocation(e){const t=this._getRouteInfosByKey(e.tab);if(t)for(let n=t.length-2;n>=0;n--){const i=t[n];if(i&&i.pathname===e.pushedByRoute)return i}for(let t=this.locationHistory.length-2;t>=0;t--){const n=this.locationHistory[t];if(n&&n.pathname===e.pushedByRoute)return n}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class Xt extends r().PureComponent{constructor(e){super(e),this._isMounted=!1,this.ionRouterContextValue={push:(e,t,n,i,r)=>{this.navigate(e,t,n,r,i)},back:e=>{this.goBack(void 0,e)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab},"undefined"!=typeof document&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){"undefined"!=typeof document&&(document.removeEventListener("ionBackButton",this.handleHardwareBackButton),this._isMounted=!1)}handleHardwareBackButton(e){e.detail.register(0,(e=>{this._isMounted&&(this.nativeGoBack(),e())}))}goBack(e,t){this.props.onNavigateBack(e,t)}nativeGoBack(){this.props.onNativeBack()}navigate(e,t="forward",n="push",i,r,o){this.props.onNavigate(e,n,t,i,r,o)}getPageManager(){return st}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return r().createElement(w.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},r().createElement(At.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class Zt{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:t}=e;this.viewStacks[t]?this.viewStacks[t].push(e):this.viewStacks[t]=[e]}clear(e){setTimeout((()=>{delete this.viewStacks[e]}),500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:t}=e,n=this.viewStacks[t];if(n){const i=n.find((t=>t.id===e.id));i&&(i.mount=!1,this.viewStacks[t]=n.filter((e=>e.id!==i.id)))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),t=[];return e.forEach((e=>{t.push(...this.viewStacks[e])})),t}}const Jt={main:0},Qt=(e="main")=>{var t;const n=(null!==(t=Jt[e])&&void 0!==t?t:0)+1;return Jt[e]=n,n.toString()}},65973:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAggregator=void 0;var n=function(){function e(e){var t=this;this.filterFunction=e,this.aggregatedMetrics={},window.addEventListener("katal.metrics.publish",(function(e){t.aggregateMetric(e)}))}return e.prototype.aggregateMetric=function(e){var t=e.detail,n=t.metric,i=t.context,r=i.serviceName,o=i.methodName;this.filterFunction&&!this.filterFunction(n,i)||(this.aggregatedMetrics[r]=this.aggregatedMetrics[r]||{},this.aggregatedMetrics[r][o]=this.aggregatedMetrics[r][o]||{},this.aggregatedMetrics[r][o][n.name]=this.aggregatedMetrics[r][o][n.name]||[],this.aggregatedMetrics[r][o][n.name].push(n.value))},e}();t.MetricsAggregator=n},8434:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Level=void 0;var s,a=o(n(73705)),c=o(n(70401)),u=n(15782),l=n(65973);!function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error",e.FATAL="fatal"}(s=t.Level||(t.Level={}));var h=[s.DEBUG,s.INFO,s.WARN,s.ERROR,s.FATAL],d={logThreshold:s.DEBUG,maxLogLineSize:1e4,batchTimeoutDuration:5e3,decodeStackTrace:!1,recordMetrics:!0,context:{},headers:{},logToConsole:!1,maxLogsPerBatch:25,useXMLHttpRequest:!1},f=["bubbles","cancelBubble","cancelable","composed","currentTarget","deepPath","defaultPrevented","eventPhase","explicitOriginalTarget","originalTarget","returnValue","srcElement","target","timeStamp","type","isTrusted"],p=r(f,["message"]),g=function(){function e(e){var t=this;this.resourceTimingLogged=!1,this.sendLogsToBackend=function(){var e=t.logLineQueue;if(0!==e.length){t.logLineQueue=[],t.currentLogBatchSize=0;var n={logs:e};t.sendLogToBackend(t.toJSON(n)),t.queueTimerId=void 0}};var n=i(i({},d),e);if(this.url=n.url,this.logThreshold=n.logThreshold,this.maxLogLineSize=n.maxLogLineSize,this.context=n.context,this.logToConsole=n.logToConsole,this.headers=n.headers,this.recordMetrics=n.recordMetrics,this.batchTimeoutDuration=n.batchTimeoutDuration,this.decodeStackTrace=n.decodeStackTrace,this.maxLogsPerBatch=n.maxLogsPerBatch,this.maxLogBatchSize=e.maxLogBatchSize||this.maxLogLineSize*(this.maxLogsPerBatch||1),this.currentLogBatchSize=0,this.xhrWithCredentials=n.xhrWithCredentials,this.useXMLHttpRequest=n.useXMLHttpRequest,this.logLineQueue=[],this.unregisterFns=[],this.unloaded=!1,this.logThresholdIndex=Math.max(h.indexOf(s.DEBUG),h.indexOf(this.logThreshold)),this.maxLogBatchSize<this.maxLogLineSize)throw new Error("maxLogBatchSize("+this.maxLogBatchSize+") must be greater than maxLogLineSize("+this.maxLogLineSize+")");n.sendToBackendOverride&&"function"==typeof n.sendToBackendOverride&&(this.sendLogToBackend=n.sendToBackendOverride),this.recordMetrics&&(this.metricsPublisher=u.createMetricsPublisher("KatalLogger:Loaded"),this.metricsPublisher.publishCounterMonitor("KatalLogger:construct",1)),this.registerUnloadAction((function(){t.unloaded=!0,t.sendLogsToBackend()})),this.registerBackToPageAction((function(){t.unloaded=!1}))}return e.prototype.registerUnloadAction=function(e){this.registerEvent("pagehide",e),this.registerEvent("beforeunload",e),this.registerEvent("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},e.prototype.registerBackToPageAction=function(e){this.registerEvent("pageshow",e),this.registerEvent("visibilitychange",(function(){"visible"===document.visibilityState&&e()}))},e.prototype.addMetricsListener=function(e){var t=this,n=new l.MetricsAggregator(e),i=!1;this.registerUnloadAction((function(){i||(i=!0,t.info("Katal Metrics",n.aggregatedMetrics))}))},e.prototype.addPerformanceListener=function(){var e=this;this.registerUnloadAction((function(){e.logResourceTiming()}))},e.prototype.logResourceTiming=function(){var e,t;if(!this.resourceTimingLogged){this.resourceTimingLogged=!0;var n=window.performance.getEntriesByType("resource").reduce((function(e,t){var n,i=t,r=i.name,o=i.initiatorType,s=i.duration,a=r.split("/").pop();return e[o]=null!==(n=e[o])&&void 0!==n?n:{},e[o][a]=Math.round(s),e}),{}),i=window.performance.getEntriesByType("paint").reduce((function(e,t){var n=t.name,i=t.startTime;return e[n]=Math.round(i),e}),{}),r=Object.entries(null!==(t=null===(e=window.performance.getEntriesByType("navigation")[0])||void 0===e?void 0:e.toJSON())&&void 0!==t?t:{}).reduce((function(e,t){var n=t[0],i=t[1];return e[n]="number"==typeof i?Math.round(i):i,e}),{});this.info("Performance Timing",{resource:n,paint:i,navigation:r})}},e.prototype.addErrorListener=function(e){var t=this;["error","unhandledrejection"].map((function(n){t.registerEvent(n,(function(n){return t.eventListener(n,e)}),!0)}))},e.prototype.removeErrorListener=function(){this.unregisterFns.forEach((function(e){return e()}))},e.prototype.registerEvent=function(e,t,n){window.addEventListener(e,t,n),this.unregisterFns.push((function(){window.removeEventListener(e,t,n)}))},e.prototype.eventListener=function(e,t){var n,i;if(e.error?(n=e.error.message,i=e.error):e.reason?v(e.reason)?(n=e.reason.message,i=e.reason):n=e.reason:v(e)?(n=e.message,i=e):(n="An unknown error occurred: "+this.toStringObject(e),i=new Error("Unknown error")),"KatalLogger error"!==n&&(!t||t(i)))try{return this.error(n,i)}catch(e){}},e.prototype.createJsonStringifyReplacer=function(){var e=new Map;return function(t,n){if("object"==typeof n&&null!=n){if(e.has(n))return"reference-loop, also referenced from '"+e.get(n)+"'";e.set(n,t)}return n}},e.prototype.toStringObject=function(e){var t=e.constructor.name;if(e instanceof Event){var n=f,i={};e instanceof ErrorEvent&&(n=p);for(var r=0,o=n;r<o.length;r++){var s=o[r];e[s]!==window&&(i[s]=e[s])}e=i}return t+":"+this.toJSON(e)},e.prototype.toJSON=function(e){var t;try{t=JSON.stringify(e,this.createJsonStringifyReplacer())}catch(n){t='{ "KatalLogger": "Failed to serialize!", "data": "'+e+'", "error": "'+n+'" }'}return t},e.prototype.debug=function(e,t,n){var i=this;return this.extractArgs(s.DEBUG,e,t,n).then((function(e){return i.sendRequest(e)}))},e.prototype.info=function(e,t,n){var i=this;return this.extractArgs(s.INFO,e,t,n).then((function(e){return i.sendRequest(e)}))},e.prototype.warn=function(e,t,n){var i=this;return this.extractArgs(s.WARN,e,t,n).then((function(e){return i.sendRequest(e)}))},e.prototype.error=function(e,t,n){var i=this;return this.extractArgs(s.ERROR,e,t,n).then((function(e){return i.sendRequest(e)}))},e.prototype.fatal=function(e,t,n){var i=this;return this.extractArgs(s.FATAL,e,t,n).then((function(e){return i.sendRequest(e)}))},e.prototype.extractArgs=function(e,t,n,r){var o=v(n)?{errorMessage:n.message,errorName:n.name,errorStackTrace:""}:void 0,s={level:e,message:t,error:o,context:i(i(i({},this.context),o?r:n),{logTime:Date.now()})};return s.error?this.getStackTraceFromError(n).then((function(e){return s.error.errorStackTrace=e,s})):a.default.resolve(s)},e.prototype.getStackTraceFromError=function(e){return this.decodeStackTrace?a.default.resolve(c.default.fromError(e).then((function(e){return e.map((function(e){return e.toString()})).join("\n")})).catch((function(t){return String(e.stack)+"\n\nFailed to decode stacktrace:\n"+String(t)}))):a.default.resolve(String(e.stack))},e.prototype.sendRequest=function(e){this.queueLogLine(e),this.logToConsole&&this.sendLogToConsole(e)},e.prototype.sendLogToConsole=function(e){var t=e.level;h.includes(e.level)&&e.level!==s.FATAL||(t=s.ERROR),console[t](e)},e.prototype.queueLogLine=function(e){if(this.payloadIsValid(e)){var t=this.getPayloadSize(e);this.currentLogBatchSize+t>this.maxLogBatchSize&&this.sendLogsToBackend(),this.appendToQueue(e),this.currentLogBatchSize+=t,this.unloaded||this.logLineQueue.length>=this.maxLogsPerBatch?this.sendLogsToBackend():this.queueTimerId||(this.queueTimerId=window.setTimeout(this.sendLogsToBackend,this.batchTimeoutDuration))}},e.prototype.appendToQueue=function(e){this.logLineQueue.push(e)},e.prototype.doCallBeacon=function(){return(null===navigator||void 0===navigator?void 0:navigator.sendBeacon)&&!(Object.keys(this.headers).length||this.useXMLHttpRequest)},e.prototype.sendLogToBackend=function(e){if(this.url)if(this.doCallBeacon())navigator.sendBeacon(this.url,e);else{var t=new XMLHttpRequest;t.open("POST",this.url,!0),this.xhrWithCredentials&&(t.withCredentials=this.xhrWithCredentials),Object.entries(this.headers).forEach((function(e){var n=e[0],i=e[1];t.setRequestHeader(n,i)})),t.send(e)}},e.prototype.payloadIsValid=function(e){return h.indexOf(e.level)>=this.logThresholdIndex&&this.getPayloadSize(e)<=this.maxLogLineSize},e.prototype.getPayloadSize=function(e){return this.toJSON(e).length},e}();function v(e){return(null==e?void 0:e.name)&&e.message&&(e.stack||!!e.constructor)}t.default=g},15782:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMetricsPublisher=void 0;var i=n(77317);t.createMetricsPublisher=function(e){return i.MetricsPublisherSingleton.getInstance().newChildActionPublisherForMethod(e)}},77317:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsPublisherSingleton=void 0;var a=o(n(95989)),c=s(n(28277)),u=function(){function e(){}return e.getInstance=function(){if(!e.instance){var t=function(e){console.error(e)},n=this.getMetricsDriver(t),i=this.getMetricsContext();e.instance=new a.Publisher(n,t,i)}return e.instance},e.getMetricsContext=function(){var e=/([^?]+)/.exec(window.location.href),t=new a.Metric.String("url",e?e[1]:window.location.href);return t.truncate=!0,(new a.Context.Builder).withSite("KatalLoggerInternalMetrics").withServiceName("KatalLogger").addRelatedMetrics(t).build()},e.getMetricsDriver=function(e){return(new c.default.Builder).withDomainRealm("prod","USAmazon").withErrorHandler(e).build()},e}();t.MetricsPublisherSingleton=u},65216:function(e,t,n){"use strict";n.d(t,{initializeI18n:function(){return u}});var i=n(36609),r=n(89935),o=n(84093),s=n(26071),a=n(74860),c=n(40850),u=function(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t;return function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){switch(n.label){case 0:return[4,(t=i.default.createInstance({lng:e})).use(r.default).use(o.default).use(s.default).init({react:{useSuspense:!0},debug:!1,fallbackLng:["en-US"],interpolation:{escapeValue:!1},load:"currentOnly",backend:{loadPath:function(e){return(0,c.getBucketUrl)()+"/"+a.default[e]}},detection:{order:["querystring","localStorage","navigator","htmlTag"],lookupQuerystring:"language"}}).then((function(){console.info("LITB: initializeI18n:i18next object initialised successfully.")})).catch((function(e){console.error("LITB: initializeI18n:initialisation fail for i18next obj.",e)}))];case 1:return n.sent(),[2,t]}}))}))}},94562:function(e,t,n){"use strict";var i,r,o,s,a,c;n.d(t,{OfferActionProgramCode:function(){return a},OfferActionType:function(){return i}}),n(68217),function(e){e.BUY="Buy",e.BORROW="Borrow",e.PREORDER="Preorder",e.READ="Read",e.SAMPLE="Sample"}(i||(i={})),function(e){e.CART="cart",e.PLAY="play",e.HAND="hand"}(r||(r={})),function(e){e.ALC="Purchase",e.KU="KindleUnlimited",e.PRR="Prime"}(o||(o={})),function(e){e.SUCCESS="Success",e.VIOLATION="Violation"}(s||(s={})),function(e){e.KINDLE_UNLIMITED="KINDLE_UNLIMITED",e.PRIME="PRIME",e.KINDLE_FIRST="KindleFirst"}(a||(a={})),function(e){e.KINDLE_UNLIMITED="KU",e.PRIME_READING="PrimeReading"}(c||(c={}))},45170:function(e,t,n){"use strict";n.d(t,{getAsinFromUrl:function(){return i}});var i=function(){var e=window.location.pathname.split("/");return e[e.length-1]}},96915:function(e,t,n){"use strict";n.d(t,{MobileOS:function(){return i},adjustHeight:function(){return y},getMobileOS:function(){return f},getWindowHeight:function(){return v},getWindowWidth:function(){return m},isActionSupported:function(){return g},isAndroid:function(){return o},isFirefox:function(){return l},isIE11:function(){return p},isIOS:function(){return a},isIOSSafari:function(){return u},isMShop:function(){return d},isSamsungInternet:function(){return h},isiPad:function(){return s}});var i,r=n(94562);!function(e){e[e.Android=0]="Android",e[e.iOS=1]="iOS",e[e.unknown=2]="unknown"}(i||(i={}));var o=function(){return-1!==window.navigator.userAgent.indexOf("Android")},s=function(){return-1!==window.navigator.userAgent.indexOf("iPad")||c()&&window.navigator.maxTouchPoints>2},a=function(){return s()||-1!==window.navigator.userAgent.indexOf("iPhone")||-1!==window.navigator.userAgent.indexOf("iPod")},c=function(){return-1!==window.navigator.userAgent.indexOf("Mac OS X")},u=function(){return a()&&!/criOS|fxiOS/i.test(navigator.userAgent)},l=function(){return/Firefox|fxiOS/i.test(navigator.userAgent)},h=function(){return/Samsung/i.test(navigator.userAgent)},d=function(){return!!window.smash},f=function(){return o()?i.Android:a()?i.iOS:i.unknown},p=function(){return/Trident\/[78]\.0/.test(window.navigator.userAgent)},g=function(e,t){return!(d()&&a()&&t===r.OfferActionType.BUY&&!e)},v=function(){return u()&&!d()?Math.min(window.innerHeight,window.document.documentElement.clientHeight):document.documentElement.clientHeight},m=function(){return document.documentElement.clientWidth},y=function(e){if(void 0===e&&(e=!0),a()){var t=v(),n=document.getElementById("mainContainer"),i=document.documentElement.clientHeight-window.innerHeight;n&&(e&&window.scrollTo(window.scrollX,window.scrollY-i),n.style.height=t+"px",n.style.position="relative")}}},40850:function(e,t,n){"use strict";n.d(t,{getBaseImagesUrl:function(){return r},getBucketUrl:function(){return i}});var i=function(e){return void 0===e&&(e=document.getElementById("assetsCfUrl")),e?""+e.getAttribute("data-assets-cf-url"):""},r=function(){var e,t=(void 0===e&&(e=document.getElementById("assetsCfUrl")),i(e)+"/assets");return t?t+"/images":""}},49034:function(e,t,n){"use strict";n.d(t,{getAppDownloadURL:function(){return a},getKindleAppURL:function(){return o},getKindleLiteAppURL:function(){return s},openKindleApp:function(){return l},registerAppOpenCheck:function(){return c}});var i,r=n(96915),o=function(e){return"kindle://book/?action=open&asin="+e},s=function(e){return"kindlelite://book/?action=open&asin="+e},a=function(e){return"https://www.amazon.com/gp/kindle/kcpApp.html?ref_="+e};function c(){window.addEventListener("blur",(function(){return i=!0}))}function u(e){window.top.location.href=a(e)}function l(e,t){var n=r.getMobileOS();n===r.MobileOS.unknown||r.isIOSSafari()?u(t):(i=!1,window.top.location.href=o(e),setTimeout((function(){i||(n!==r.MobileOS.Android||r.isFirefox()?u(t):(window.top.location.href=s(e),setTimeout((function(){i||u(t)}),1e3)))}),1e3))}},78751:function(e,t,n){"use strict";n.d(t,{getLangFromLocale:function(){return u},getLocaleFromUrlOrCookie:function(){return o},getLocalizedPriceDisplayString:function(){return c},getTextDirectionFromLocale:function(){return s},getTextDirectionStyle:function(){return a}});var i=n(36808),r=["ar","he","fa","ur","sd"],o=function(){var e,t=new URL(window.location.href).searchParams.get("l");return"iw_IL"===t&&(t="he_IL"),t||(t=(null===(e=document.getElementById("locale"))||void 0===e?void 0:e.getAttribute("data-value"))||i.get("lc-main")||""),t||"en_US"},s=function(e){var t=e.split("_")[0];return r.indexOf(t)>-1?"rtl":"ltr"},a=function(e){return"rtl"===e?{direction:"rtl"}:void 0},c=function(e,t,n){var i=[e.replace("_","-")||"en-US"];return t.toLocaleString(i,{style:"currency",currency:n,currencyDisplay:"code"})},u=function(){return o().split("_").map((function(e){return e.toLowerCase()})).join("-")}},98087:function(e,t,n){"use strict";n.d(t,{getMarketplace:function(){return r},marketplaceInfo:function(){return i}});var i={US:{marketplace:"US",domain:"read.amazon.com",region:"us-east-1",storeLink:"www.amazon.com/dp/",marketplaceId:"ATVPDKIKX0DER",katalCloudWatchEndpoint:"https://uq4ue90d3b.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"USAmazon"},JP:{marketplace:"JP",domain:"read.amazon.co.jp",region:"ap-northeast-1",storeLink:"www.amazon.co.jp/dp/",marketplaceId:"A1VC38T7YXB528",katalCloudWatchEndpoint:"https://arp3q8lp5d.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://bs7kdk5kxb.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalMetricsRealm:"JPAmazon"},CA:{marketplace:"CA",domain:"read.amazon.ca",region:"us-east-1",storeLink:"www.amazon.ca/dp/",marketplaceId:"A2EUQ1WTGCTBG2",katalCloudWatchEndpoint:"https://uq4ue90d3b.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"NAAmazon"},BR:{marketplace:"BR",domain:"ler.amazon.com.br",region:"eu-west-1",storeLink:"www.amazon.com.br/dp/",marketplaceId:"A2Q3Y263D00KWC",katalCloudWatchEndpoint:"https://uq4ue90d3b.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"NAAmazon"},AU:{marketplace:"AU",domain:"read.amazon.com.au",region:"ap-northeast-1",storeLink:"www.amazon.com.au/dp/",marketplaceId:"A39IBJ37TRP1C6",katalCloudWatchEndpoint:"https://arp3q8lp5d.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://bs7kdk5kxb.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalMetricsRealm:"FEAmazon"},MX:{marketplace:"MX",domain:"leer.amazon.com.mx",region:"us-east-1",storeLink:"www.amazon.com.mx/dp/",marketplaceId:"A1AM78C64UM0Y8",katalCloudWatchEndpoint:"https://uq4ue90d3b.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"NAAmazon"},UK:{marketplace:"GB",domain:"read.amazon.co.uk",region:"eu-west-1",storeLink:"www.amazon.co.uk/dp/",marketplaceId:"A1F83G8C2ARO7P",katalCloudWatchEndpoint:"https://nd5w81xywf.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},DE:{marketplace:"DE",domain:"lesen.amazon.de",region:"eu-west-1",storeLink:"www.amazon.de/dp/",marketplaceId:"A1PA6795UKMFR9",katalCloudWatchEndpoint:"https://nd5w81xywf.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},FR:{marketplace:"FR",domain:"lire.amazon.fr",region:"eu-west-1",storeLink:"www.amazon.fr/dp/",marketplaceId:"A13V1IB3VIYZZH",katalCloudWatchEndpoint:"https://nd5w81xywf.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},IT:{marketplace:"IT",domain:"leggi.amazon.it",region:"eu-west-1",storeLink:"www.amazon.it/dp/",marketplaceId:"APJ6JRA9NG5V4",katalCloudWatchEndpoint:"https://nd5w81xywf.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},ES:{marketplace:"ES",domain:"leer.amazon.es",region:"eu-west-1",storeLink:"www.amazon.es/dp/",marketplaceId:"A1RKKUPIHCS9HS",katalCloudWatchEndpoint:"https://nd5w81xywf.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},NL:{marketplace:"NL",domain:"lezen.amazon.nl",region:"eu-west-1",storeLink:"www.amazon.nl/dp/",marketplaceId:"A1805IZSGTT6HS",katalCloudWatchEndpoint:"https://nd5w81xywf.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},IN:{marketplace:"IN",domain:"read.amazon.in",region:"eu-west-1",storeLink:"www.amazon.in/dp/",marketplaceId:"A21TJRUUN4KGV",katalCloudWatchEndpoint:"https://nd5w81xywf.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},CN:{marketplace:"CN",domain:"read.amazon.cn",region:"ap-northeast-1",storeLink:"www.amazon.cn/dp/",marketplaceId:"AAHKV2X7AFYLW",katalCloudWatchEndpoint:"https://arp3q8lp5d.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://bs7kdk5kxb.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalMetricsRealm:"CNAmazon"},USPreProd:{marketplace:"US",domain:"read-preprod.amazon.com",region:"us-east-1",storeLink:"pre-prod.amazon.com/dp/",marketplaceId:"ATVPDKIKX0DER",katalCloudWatchEndpoint:"https://s1ehmz8awg.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"USAmazon"},JPPreProd:{marketplace:"JP",domain:"read-pre-prod-jp.amazon.com",region:"ap-northeast-1",storeLink:"jp-pre-prod.amazon.com/dp/",marketplaceId:"A1VC38T7YXB528",katalCloudWatchEndpoint:"https://8p02hhqzs7.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://arufknsm9d.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalMetricsRealm:"JPAmazon"},CAPreProd:{marketplace:"CA",domain:"read-pre-prod-ca.amazon.com",region:"us-east-1",storeLink:"ca-pre-prod.amazon.com/dp/",marketplaceId:"A2EUQ1WTGCTBG2",katalCloudWatchEndpoint:"https://s1ehmz8awg.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"NAAmazon"},BRPreProd:{marketplace:"BR",domain:"read-pre-prod-br.amazon.com",region:"eu-west-1",storeLink:"br-pre-prod.amazon.com/dp/",marketplaceId:"A2Q3Y263D00KWC",katalCloudWatchEndpoint:"https://s1ehmz8awg.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"NAAmazon"},AUPreProd:{marketplace:"AU",domain:"read-pre-prod-au.amazon.com",region:"ap-northeast-1",storeLink:"au-pre-prod.amazon.com/dp/",marketplaceId:"A39IBJ37TRP1C6",katalCloudWatchEndpoint:"https://8p02hhqzs7.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://arufknsm9d.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalMetricsRealm:"FEAmazon"},MXPreProd:{marketplace:"MX",domain:"read-pre-prod-mx.amazon.com",region:"us-east-1",storeLink:"mx-pre-prod.amazon.com/dp/",marketplaceId:"A1AM78C64UM0Y8",katalCloudWatchEndpoint:"https://s1ehmz8awg.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"NAAmazon"},UKPreProd:{marketplace:"GB",domain:"read-pre-prod-uk.amazon.com",region:"eu-west-1",storeLink:"uk-pre-prod.amazon.com/dp/",marketplaceId:"A1F83G8C2ARO7P",katalCloudWatchEndpoint:"https://97meb3x32g.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},DEPreProd:{marketplace:"DE",domain:"read-pre-prod-de.amazon.com",region:"eu-west-1",storeLink:"de-pre-prod.amazon.com/dp/",marketplaceId:"A1PA6795UKMFR9",katalCloudWatchEndpoint:"https://97meb3x32g.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},FRPreProd:{marketplace:"FR",domain:"read-pre-prod-fr.amazon.com",storeLink:"fr-pre-prod.amazon.com/dp/",region:"eu-west-1",marketplaceId:"A13V1IB3VIYZZH",katalCloudWatchEndpoint:"https://97meb3x32g.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},ITPreProd:{marketplace:"IT",domain:"read-pre-prod-it.amazon.com",region:"eu-west-1",storeLink:"it-pre-prod.amazon.com/dp/",marketplaceId:"APJ6JRA9NG5V4",katalCloudWatchEndpoint:"https://97meb3x32g.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},ESPreProd:{marketplace:"ES",domain:"read-pre-prod-es.amazon.com",region:"eu-west-1",storeLink:"es-pre-prod.amazon.com/dp/",marketplaceId:"A1RKKUPIHCS9HS",katalCloudWatchEndpoint:"https://97meb3x32g.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},NLPreProd:{marketplace:"NL",domain:"lezen-nl-preprod.dub.xcorp.amazon.com",region:"eu-west-1",storeLink:"nl-pre-prod.amazon.com/dp/",marketplaceId:"A1805IZSGTT6HS",katalCloudWatchEndpoint:"https://97meb3x32g.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},INPreProd:{marketplace:"IN",domain:"read-pre-prod-in.amazon.com",region:"eu-west-1",storeLink:"in-pre-prod.amazon.com/dp/",marketplaceId:"A21TJRUUN4KGV",katalCloudWatchEndpoint:"https://97meb3x32g.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log",katalMetricsRealm:"EUAmazon"},CNPreProd:{marketplace:"CN",domain:"read-pre-prod-cn.amazon.com",region:"ap-northeast-1",storeLink:"cn-pre-prod.amazon.com/dp/",marketplaceId:"AAHKV2X7AFYLW",katalCloudWatchEndpoint:"https://8p02hhqzs7.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalCloudWatchEndpointEmf:"https://arufknsm9d.execute-api.us-west-2.amazonaws.com/prod/v1/log",katalMetricsRealm:"CNAmazon"}},r=function(){switch(window.location.hostname){case i.US.domain:return i.US;case i.JP.domain:return i.JP;case i.CA.domain:return i.CA;case i.BR.domain:return i.BR;case i.AU.domain:return i.AU;case i.MX.domain:return i.MX;case i.UK.domain:return i.UK;case i.DE.domain:return i.DE;case i.FR.domain:return i.FR;case i.IT.domain:return i.IT;case i.ES.domain:return i.ES;case i.NL.domain:return i.NL;case i.IN.domain:return i.IN;case i.CN.domain:return i.CN;case i.USPreProd.domain:return i.USPreProd;case i.JPPreProd.domain:return i.JPPreProd;case i.CAPreProd.domain:return i.CAPreProd;case i.BRPreProd.domain:return i.BRPreProd;case i.AUPreProd.domain:return i.AUPreProd;case i.MXPreProd.domain:return i.MXPreProd;case i.UKPreProd.domain:return i.UKPreProd;case i.DEPreProd.domain:return i.DEPreProd;case i.FRPreProd.domain:return i.FRPreProd;case i.ITPreProd.domain:return i.ITPreProd;case i.ESPreProd.domain:return i.ESPreProd;case i.NLPreProd.domain:return i.NLPreProd;case i.INPreProd.domain:return i.INPreProd;case i.CNPreProd.domain:return i.CNPreProd;default:return i.US}}},19198:function(e,t,n){"use strict";n.d(t,{arabicToRoman:function(){return r},clamp:function(){return i}});var i=function(e,t,n){return e<t?t:e>n?n:e},r=function(e){for(var t=["","c","cc","ccc","cd","d","dc","dcc","dccc","cm","","x","xx","xxx","xl","l","lx","lxx","lxxx","xc","","i","ii","iii","iv","v","vi","vii","viii","ix"],n=e.toString().split(""),i="",r=3;r--;){var o=n.pop();o&&(i=(t[parseInt(o)+10*r]||"")+i)}return i}},85856:function(e,t,n){"use strict";n.d(t,{getRefTag:function(){return o},getRefTagMethodForCTAButton:function(){return c},getRefTagWithSurface:function(){return s},getUrlWithRefTag:function(){return a}});var i=n(94562),r=n(96915),o=function(e,t){return e+"_"+t},s=function(e,t,n){return e+"_"+(t?"d":"m")+"_"+n},a=function(e,t){var n=new URL(e);return n.searchParams.append("ref_",t),r.isAndroid()&&n.searchParams.append("nodl_android","1"),n.href},c=function(e,t){switch(e){case i.OfferActionType.BUY:return"bb";case i.OfferActionType.BORROW:return t===i.OfferActionProgramCode.PRIME?"prr":"ku";case i.OfferActionType.PREORDER:return"preb";case i.OfferActionType.SAMPLE:return"sb";default:return"bb"}}},68217:function(e,t,n){"use strict";n.d(t,{getRequest:function(){return s},postRequest:function(){return a}});var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=function(e){if(!e.ok||e.status>=400){var t={type:"generic",response:e,retry:!0};return Promise.reject(t)}return Promise.resolve(e)},o=function(e,t,n){void 0===n&&(n=0);var s=i({mode:"cors",credentials:"same-origin"},t);return fetch(e,s).catch((function(e){if("AbortError"===e.name){var t={type:"abort",error:e,retry:!1};return Promise.reject(t)}if(navigator.onLine){var n={type:"connection",error:e,retry:!0};return Promise.reject(n)}var i={type:"offline",error:e,retry:!0};return Promise.reject(i)})).then(r).catch((function(t){return 3!==n&&t.retry?new Promise((function(t,i){setTimeout((function(){o(e,s,n+1).then(t).catch(i)}),3e3)})):Promise.reject(t)}))},s=function(e,t){return void 0===t&&(t={}),o(e,t)},a=function(e,t,n){void 0===n&&(n={});var i=new Headers(n.headers);i.set("Content-Type","application/json");var r={headers:i,credentials:n.credentials,method:"POST"};return r.body=JSON.stringify(t),s(e,r)}},79634:function(e,t){"use strict";var n=function(){function e(){}return e.LITB_READER="LitbReader",e.BOOK_CONTENT_RENDERED="BookContentRendered",e.BOOK_OPEN="clickToBookOpen",e.BOOK_PAGE_TURN="BookPageTurn",e.BOOK_BINGE_READING_NEXT="BookBingeReadingNext",e.BOOK_BINGE_READING_PREV="BookBingeReadingPrev",e.BOOK_REFRESHED="BookRefreshed",e.BINGE_READING_BOOKS_READ="BingeReadingBooksRead",e.SUSPEND_DETECTED="SuspendDetected",e.DISCARDED_METRIC_TIMERS_AFTER_SUSPEND="DiscardedMetricTimersAfterSuspend",e.CLOSED_TAB="ClosedTab",e.HAMBURGER_WEB_LIBRARY_LINK_CLICKED="WebLibraryLinkClicked",e.HAMBURGER_FEEDBACK_LINK_CLICKED="FeedbackLinkClicked",e.HAMBURGER_READ_IN_KINDLE_CLICKED="ReadInKindleClicked",e.HAMBURGER_BEFORE_YOU_GO_CILCKED="BeforeYouGoClicked",e.HAMBURGER_GO_TO_BEGINNING_CILCKED="GoToBeginningClicked",e.HAMBURGER_GO_TO_COVER_CLICKED="GoToCoverClicked",e.HAMBURGER_GO_TO_PAGE_CLICKED="GoToPageClicked",e.HAMBURGER_MENU_SHOWN_VIA_CLICK="HamburgerMenuShown:Clicked",e.HAMBURGER_MENU_SHOWN_VIA_KEY_PRESS="HamburgerMenuShown:KeyPress",e.SETTINGS_BUTTON_CLICKED="SettingsButton:Clicked",e.SETTINGS_SCROLL_DIRECTION_CLICKED="SettingsScrollDirection:Clicked",e.SETTINGS_DOUBLE_PAGE_SPREAD_CLICKED="SettingsDoublePageSpread:Clicked",e.SETTINGS_LITB_RENDER="SettingsLitbRender",e.LEFT_CHEVRON_CLICKED="ChevronClicked:Left",e.RIGHT_CHEVRON_CLICKED="ChevronClicked:Right",e.TIME_SPINNER_SHOWN_TO_CUSTOMER="TimeCustomerSeesSpinner",e.ROTATE_FROM_LANSCAPE_TO_PORTRAIT="RotateDeviceFromLandscapeToPortrait",e.ROTATE_FROM_PORTRAIT_TO_LANDSCAPE="RotateDeviceFromPortraitToLandscape",e.END_ACTIONS_REACHED="EndActionsReached",e.BUY_BOX_IN_HEADER="BuyBoxInHeader",e.FAST_METRICS_FAILED_FLUSH="KwrpFastMetricsFailedFlush",e.FAST_METRICS_RECORDS_LOST="KwrpFastMetricsRecordsLost",e.CLIENT_SIDE_METRICS_TO_CAPTURE=[e.BOOK_OPEN,"clickToCoverImageShown","clickToBlackCurtainShown","loadReaderClientSideLatency","clickToLoadReaderResponseReceived","clickToReaderInitialized","clickToLoadBootstrapperDomReady"],e.MRPR_MATCH_WITH_LOCAL_STORAGE="MrprMatchesLocalStore",e.LOCAL_STORAGE_MRPR_IS_AHEAD="MrprLocalStoreMatchesOrAheadOfServer",e.PRICE_LOADED="PriceLoaded",e.TIMED_OUT="TimedOut",e.COVER_SHOWN=e.LITB_READER+"CoverShown",e.DISPLAY_OPTION_SHOWN=e.LITB_READER+"DisplayOptionShown",e.CHROME_SUMMONED=e.LITB_READER+"ChromeSummoned",e.ZOOM_SELECTOR_SHOWN=e.LITB_READER+"ZoomSelectorShown",e.ZOOM_OUT_BUTTON_PRESSED=e.LITB_READER+"ZoomOutButtonPressed",e.ZOOM_IN_BUTTON_PRESSED=e.LITB_READER+"ZoomInButtonPressed",e.ZOOM_SLIDER_SCRUBBED=e.LITB_READER+"ZoomSliderScrubbed",e.LITB_UNLOAD_READER_BOOK_NOT_LOADED=e.LITB_READER+"UnloadedBookNotLoaded",e.LITB_UNLOAD_READER_BOOK_LOADED=e.LITB_READER+"UnloadedBookLoaded",e.LITB_UNLOAD_READER_ERROR_SHOWN=e.LITB_READER+"UnloadedErrorShown",e.IFRAME_HANDSHAKE_FAILED=e.LITB_READER+"IframeHandshakeFailed",e.LITB_DESKTOP_INTIALIZED=e.LITB_READER+"DesktopIntialized",e.LITB_MOBILE_INTIALIZED=e.LITB_READER+"MobileIntialized",e.LITB_LOADED_PRINT_SEARCH_RESULTS=e.LITB_READER+"LoadedPrintSearchResults",e.LITB_PRINT_SEARCH_QUERY_ENTERED=e.LITB_READER+"PrintSearchQueryEntered",e.LITB_PRINT_SEARCH_SHOWN=e.LITB_READER+"PrintSearchShown",e.LITB_PRINT_SEARCH_ABORTED=e.LITB_READER+"PrintSearchAborted",e.LITB_PRINT_SEARCH_LATENCY="PrintSearchLatency",e.LITB_KV3_SEARCH_LATENCY="Kv3SearchLatency",e.LITB_ASSETS_LOAD_TIME="AssetsLoadTime",e.LITB_DPX_HANDSHAKE_TIME="DPXHandshakeTime",e.RELATED_EDITION_HAS_DIFFERENT_PUBLISHER="RelatedEditionHasDifferentPublisher",e.PRINT_RELATED_EDITION_SHOWN="PrintRelatedEditionShown",e.CHROME_TOP_BAR_SELECT_OPTION="ChromeTopBarSelectOption::",e.CHROME_TOP_BAR_BACK_TO_LIBRARY="ChromeTopBarBackToLibrary",e.CHROME_TOP_BAR_BACK_TO_STORE="ChromeTopBarBackToStore",e.SIDE_PANEL_SELECT_OPTION="SidePanelSelectOption::",e.BUY_BUTTON_RENDER="CTA::BB::Render",e.BUY_BUTTON_CLICK="CTA::BB::Click",e.ADD_SAMPLE_RENDER="CTA::SAMPLE::Render",e.ADD_SAMPLE_CLICK="CTA::SAMPLE::Click",e.NOT_SUPPORTED_RENDER="CTA::UnsupportedOrGeoRestricted::Render",e.NOT_SUPPORTED_CLICK="CTA::UnsupportedOrGeoRestricted::Click",e.READ_NOW_RENDER="CTA::ReadNow::Render",e.READ_NOW_CLICK="CTA::ReadNow::Click",e.KINDLE_APP_RENDER="CTA::KindleAppButton::Render",e.KINDLE_APP_CLICK="CTA::KindleAppButton::Click",e.BUYING_OFFERS_RENDER="CTA::BuyingOffers::Render",e.BUYING_OFFERS_CLICK="CTA::BuyingOffers::Click",e.PROCEED_TO_CART_RENDER="CTA::ProceedToCart::Render",e.PROCEED_TO_CART_CLICK="CTA::ProceedToCart::Click",e.BIFROST_SUCCESS="LITB::BIFROST::SUCCESS",e.BIFROST_VIOLATION="LITB::BIFROST::VIOLATION",e.BIFROST_FAILURE="LITB::BIFROST::FAILURE",e.BIFROST_UNEXPECTED_RESPONSE="LITB::BIFROST::UNEXPECTED_RESPONSE",e.SYNC_LPR_SUCCESS="SyncLPRSuccess",e.SYNC_LPR_FAILURE="SyncLPRFailure",e.VALID_FULL_BOOK_BROWSER="ValidFullBookBrowser",e.INVALID_FULL_BOOK_BROWSER="InValidFullBookBrowser",e.FAILED_FULL_BOOK_BROWSER="FullBookBrowserFailure",e.MISSING_KCMS_METADATA="MissingKcmsMetadata",e.DEVICE_TOKEN_SUCCESS="DeviceTokenSuccess",e.DEVICE_TOKEN_FAILURE="DeviceTokenFailure",e.NO_DEVICE_TOKEN="NoDeviceToken",e.CAN_START_READING_RETRIES="CanStartReadingRetries",e.CAN_START_READING_SUCCESS="CanStartReadingSuccess",e.CAN_START_READING_FAILURE="CanStartReadingFailure",e.MISSING_TRANSLATIONS="MissingTranslations",e.STUCCO_FORMAT_FALLBACK="StuccoFormatFallback",e.ADD_TO_CART_CSRF_WEBLAB_DISABLED="AddToCartCsrf_WeblabDisabled",e.ADD_TO_CART_CSRF_NO_SP_TOKEN="AddToCartCsrf_ShoppingPortalTokenIsEmpty",e.ADD_TO_CART_CSRF_SP_TOKEN_USED="AddToCartCsrf_ShoppingPortalTokenWasUsed",e.S2F_UNSUPPORTED_FIXED_FORMAT="S2FUnsupportedFF",e.S2F_CAN_NOT_OPEN="S2FCantOpenByKfW",e}();t.default=n},91428:function(e,t,n){"use strict";n.d(t,{buyBoxURL:function(){return a},canStartReadingURL:function(){return v},getBaseUrl:function(){return r},getBifrostUrl:function(){return o},getDeviceTokenURL:function(){return m},karamelTokenURL:function(){return p},kcmsMetadataURL:function(){return f},metadataURL:function(){return c},printURL:function(){return l},recommendationURL:function(){return u},startReadingURL:function(){return y},syncSampleLPRToFullBookURL:function(){return g},validateFullBookBrowserURL:function(){return h},weblabURL:function(){return d}});var i=function(){return window.location.pathname.startsWith("/litb")},r=function(){return i()?"/litb":"/sample"},o=function(){return i()?"/api/bifrost/acquisitions/v1/actions":window.location.origin+"/internal/bifrost/api/bifrost/acquisitions/v1/actions"},s="https://read.amazon.com/"+r(),a=r()+"/buybox",c=r()+"/meta",u=r()+"/rec",l=r()+"/print",h=r()+"/isValidFullBookBrowser",d=r()+"/trigger-weblab",f=s+"/kcmsMetadata",p=r()+"/karamel-token",g=s+"/syncSampleLPRToFullBook",v="/service/web/reader/canStartReading",m="/service/web/register/getDeviceToken",y="/service/web/content/startReading"},9731:function(e,t,n){"use strict";n.d(t,{CLIENT_ID:function(){return r},DEFAULT_CLIENT_ID:function(){return o},SITB_ERROR_REF_TAG:function(){return i}});var i={AUTHENTICATION_REQUIRED:"rdr_bar_login",BOOK_IS_NOT_SUPPORTED:"rdr_bar_unav"},r={KFW:"kfw",DPX:"dpx"},o=r.DPX},84550:function(e,t,n){"use strict";n.d(t,{BLACK:function(){return d},CHEVRON_LEFT_STRING:function(){return s},CHEVRON_RIGHT_STRING:function(){return o},DEFAULT_FADE_DURATION:function(){return h},DEFAULT_RECS_SHOVELER_LIMIT:function(){return r},KWR_DISPLAY_SETTINGS_STORAGE_KEY:function(){return p},LIGHT_BLUE:function(){return f},LITB_READER_MAIN_CLASS_NAME:function(){return a},LITB_READER_MOBILE_CLASS_NAME:function(){return c},MIN_COVER_APPEAR:function(){return l},RIGHT_SIDEBAR_CLASS_NAME:function(){return u}});var i,r=24,o="Right",s="Left";!function(e){e[e.RIGHT=0]="RIGHT",e[e.LEFT=1]="LEFT"}(i||(i={}));var a="litb-reader-main",c="litb-reader-mobile",u="right-sidebar",l=500,h=300,d="#000000",f="#1E78BA",p="KWR_Display_Settings"},42105:function(e,t,n){"use strict";var i;n.d(t,{ANIMATION_DURATION_ARRAY:function(){return c},DEFAULT_ANIMATION_DURATION:function(){return a},FONT_SIZE_ARRAY:function(){return s},INDEX_OF_FONT_SIZE_ARRAY_DEFAULT:function(){return o},STUCCO_INDEX_OF_FONT_SIZE_ARRAY_DEFAULT:function(){return r}}),function(e){e[e.LTR_NAV_DIRECTION=0]="LTR_NAV_DIRECTION",e[e.RTL_NAV_DIRECTION=1]="RTL_NAV_DIRECTION",e[e.VERTICAL_NAV_DIRECTION=2]="VERTICAL_NAV_DIRECTION"}(i||(i={}));var r=7,o=4,s=[11,12.3,13.9,15.6,17.6,19.8,22.3,25,28.2,31.7,35.7,40.1,45.2,50.8],a=600,c=[1e3,900,800,700,600,500,400,300,200,100]},5130:function(e,t,n){"use strict";n.d(t,{AnnotationsProvider:function(){return u},useAnnotations:function(){return l}});var i=n(67294),r=n(3571),o=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},s=(0,i.createContext)({}),a=[],c=function(){return Promise.resolve(a)},u=function(e){var t=e.children,n=(0,i.useState)(a),u=n[0],l=n[1],h=(0,i.useState)((function(){return c})),d=h[0],f=h[1],p=(0,i.useRef)(new Set),g=(0,i.useCallback)((function(e,t){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var n,i;return function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){switch(r.label){case 0:return n=e+"-"+t,p.current.has(n)?[3,2]:(p.current.add(n),[4,d(e,t)]);case 1:(i=r.sent()).length&&l((function(e){return o(e,i)})),r.label=2;case 2:return[2]}}))}))}),[d]),v=(0,i.useCallback)((function(e){return{type:r.AnnotationType.SearchResult,start:e,position:e,end:e,context:"",note:"",highlightColor:"yellow",asin:"",modifiedTimestamp:(new Date).getTime()}}),[]),m=(0,i.useCallback)((function(e){l(o(e.map((function(e){return v(e)}))))}),[v]),y=u,w=(0,i.useCallback)((function(){l(a),f((function(){return c})),p.current.clear()}),[]),b=(0,i.useCallback)((function(e){l(a),p.current.clear(),f((function(){return e}))}),[]),_=(0,i.useMemo)((function(){return{setFetchSearchAnnotationsCallback:b,includeAnnotationsInRange:g,addSearchResults:m,annotations:y,clear:w}}),[y,g,m]);return i.createElement(s.Provider,{value:_},t)},l=function(){var e=i.useContext(s);if(void 0===e)throw new Error("useAnnotations is missing an AnnotationsProvider");return e}},58484:function(e,t,n){"use strict";n.d(t,{AsinWeblabProvider:function(){return c},useAsinWeblab:function(){return u}});var i=n(67294),r=n(37602),o=n(38823),s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)},a=(0,i.createContext)(void 0),c=function(e){var t=e.children,n=e.initAsin,c=e.asin,u=(0,i.useState)(new Set),l=u[0],h=u[1],d=(0,i.useState)(new Map),f=d[0],p=d[1],g=(0,i.useCallback)((function(e,t){e!==c&&p((function(n){var i=new Map(n);return i.set(e,t),i}))}),[c]),v=(0,i.useMemo)((function(){if(!c)return[void 0,void 0];var e=f.get(c),t=null==e?void 0:e.weblab;return t&&(0,r.isWeblab)(t)?[t,(0,r.getWeblabTreatment)(t)]:[void 0,void 0]}),[c,f]),m=v[0],y=v[1],w=(0,i.useMemo)((function(){return m===r.Weblabs.BOOKS_LITB_KV3_YJHTML_DESKTOP_1008673?[y!==r.Treatments.C,y===r.Treatments.T2]:m===r.Weblabs.BOOKS_LITB_KV3_YJHTML_MOBILE_1059273?[y!==r.Treatments.C,!1]:[!1,!1]}),[m,y]),b=w[0],_=w[1];(0,i.useEffect)((function(){m&&!l.has(m)&&((0,r.triggerWeblab)(m),h((function(e){var t=new Set(e);return t.add(m),t})))}),[l,m]),(0,i.useEffect)((function(){if(n){var e={weblab:(0,o.getAppConfig)().kv3Weblab};p((function(t){var i=new Map(t);return i.set(n,e),i}))}}),[n]);var k={registerNewAsin:g,showKv3Features:b,showWideKv3:_};return i.createElement(a.Provider,{value:s({},k)},t)},u=function(){var e=i.useContext(a);if(void 0===e)throw new Error("useAsinWeblab is missing AsinWeblabProvider");return e}},49868:function(e,t,n){"use strict";n.d(t,{ActionType:function(){return i},LastPositionReadContext:function(){return o},LastPositionReadProvider:function(){return a}});var i,r=n(67294),o=(0,r.createContext)({});!function(e){e.SET_LPR="SetLastPositionRead"}(i||(i={}));var s=function(e,t){if(t.type===i.SET_LPR)return{lastPositionRead:t.payload}},a=function(e){var t=e.children,n=(0,r.useReducer)(s,{lastPositionRead:void 0}),i=n[0],a=n[1];return r.createElement(o.Provider,{value:{state:i,dispatch:a}},t)}},99377:function(e,t,n){"use strict";n.d(t,{ActionType:function(){return i},LitbTranslationContext:function(){return c},LitbTranslationProvider:function(){return l}});var i,r=n(67294),o=n(65216),s=n(78751),a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},c=(0,r.createContext)({});!function(e){e.INITIALIZE="Initialize",e.SET_TEXT_DIRECTION="Set Text Direction"}(i||(i={}));var u=function(e,t){switch(t.type){case i.INITIALIZE:return a(a({},e),{getLitbTranslation:t.payload.getLitbTranslation,textDirection:t.payload.textDirection,locale:t.payload.locale,translationsReady:!0});case i.SET_TEXT_DIRECTION:return a(a({},e),{textDirection:t.payload})}},l=function(e){var t=e.children,n=e.locale,l=(0,r.useReducer)(u,{getLitbTranslation:function(e){return""},textDirection:"ltr",translationsReady:!1,locale:"en_US"}),h=l[0],d=l[1];return(0,r.useEffect)((function(){var e=n.replace("_","-");(0,o.initializeI18n)(e).then((function(e){var t={getLitbTranslation:function(t,n,i){return void 0===n&&(n=""),void 0===i&&(i={}),e.t(t,a({defaultValue:n},i))},textDirection:(0,s.getTextDirectionFromLocale)(n),locale:n};d({type:i.INITIALIZE,payload:t}),window.i18nextInstance=e}))}),[]),r.createElement(c.Provider,{value:{state:h,dispatch:d}},t)}},82182:function(e,t,n){"use strict";n.d(t,{SearchProvider:function(){return c},useSearch:function(){return u}});var i=n(67294),r=n(5086),o=n(58484),s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)},a=(0,i.createContext)({}),c=function(e){var t,n=e.children,c=e.searchServiceProperties,u=(0,i.useState)([]),l=u[0],h=u[1],d=(0,i.useState)(""),f=d[0],p=d[1],g=(0,i.useState)("Unavailable"),v=g[0],m=g[1],y=(0,o.useAsinWeblab)().showKv3Features,w=(0,i.useCallback)((function(){h([]),p(""),m("Ready")}),[]),b={results:l,setResults:h,input:f,setInput:p,status:v,setStatus:m,clear:w},_=(0,i.useMemo)((function(){return c?r.SearchServiceFactory.build(s(s({},c),{searchContext:b,enableSearchInYJ:y})):void 0}),[y,null==c?void 0:c.bookInformation,null===(t=null==c?void 0:c.bookMetadata)||void 0===t?void 0:t.supportsSearch]);return i.createElement(a.Provider,{value:s(s({},b),{searchService:_})},n)},u=function(){var e=i.useContext(a);if(void 0===e)throw new Error("useSearch is missing an SearchProvider");return e}},86379:function(e,t,n){"use strict";n.d(t,{LITB_RENDER_TYPE:function(){return i},READING_DIRECTION:function(){return u},fetchLitbBookData:function(){return l},fetchSearchResults:function(){return d},formatConverter:function(){return v},getLocalizedBindingKey:function(){return y},isPhysicalBook:function(){return w},renderTypeConverter:function(){return m},shouldShowUpsellWidget:function(){return b}});var i,r=n(20247),o=n(9731),s=n(63721),a=n(14705),c=n(91428);!function(e){e[e.YJHTML=1]="YJHTML",e[e.Stucco=2]="Stucco",e[e.YJ=3]="YJ",e[e.FixedFormatImage=4]="FixedFormatImage"}(i||(i={}));var u={RTL:"rtl",LTR:"ltr"},l=function(e,t,n,i){var o=c.metadataURL+"/"+e,u=(0,a.getClientIdFromUrl)();return t&&(o=(0,a.appendOptionalQueryParamToTheEnd)(o,"sampleAsin",t)),o=(0,a.appendOptionalQueryParamToTheEnd)(o,"locale",n),o=(0,a.appendOptionalQueryParamToTheEnd)(o,"clientId",u),o=(0,a.appendOptionalQueryParamToTheEnd)(o,"ref_",h(i)),(0,r.getRequest)(o,{},!0).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return(0,s.handleError)(e),Promise.reject(e)}))},h=function(e){return"mobile"===e?"litb_o_m":"litb_o_d"},d=function(e,t,n,i,r,o){return f("search-results",{asin:e,buyingAsin:t,query:n,pageNumber:i,pageSize:r},o)},f=function(e,t,n){var i=new Headers({Accept:"application/json"}),o=p(t);return(0,r.getRequest)(c.printURL+"/"+e+"?"+o,{signal:n,headers:i}).then((function(e){return e.json()})).then((function(e){return e.error?g(e.error.reftag,e):e})).catch((function(e){return(0,s.handleError)(e),Promise.reject(e)}))},p=function(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")},g=function(e,t){switch(e){case o.SITB_ERROR_REF_TAG.AUTHENTICATION_REQUIRED:return t;case o.SITB_ERROR_REF_TAG.BOOK_IS_NOT_SUPPORTED:return Promise.reject((0,s.createError)("FailedToLoadBook:BookIsNotSupported","Book is unavailable"))}},v=function(e){switch(e){case"HTML_YJ":return 1;case"HTML_MOBI":case"KCR_MOBI":default:return 2;case"YJ":return 3;case"IMAGE_JPG":return 4}},m=function(e){switch(e){case"HTML_YJ":return i.YJHTML;case"HTML_MOBI":case"KCR_MOBI":default:return i.Stucco;case"IMAGE_JPG":return i.FixedFormatImage;case"YJ":return i.YJ}},y=function(e){switch(e?e.toLowerCase():""){case"kindle_edition":return"kw-litb-kindle";case"hardcover":return"kw-litb-book-type-hardcover-preview";case"paperback":return"kw-litb-book-type-paperback-preview";default:return""}},w=function(e){return!!e&&!e.toLowerCase().includes("kindle")},b=function(e){return"kindle_edition"!==e.bindingSymbol&&!!e.kindleRelatedEditionInfo.asin&&"fixed_format"!==e.kindleRelatedEditionInfo.revisionId}},13135:function(e,t,n){"use strict";n.d(t,{Availability:function(){return i},fetchBuyBoxData:function(){return a}});var i,r=n(20247),o=n(91428),s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};!function(e){e.GEO_BLOCK="geo_block",e.UNSUPPORTED_COR="unsupported_cor",e.NOT_YET_AVAILABLE="not_yet_available",e.UNAVAILABLE_FOR_EXTENDED_MARKETPLACE="unavailable-for-extended-customer",e.PERIODICAL_EDITION_NO_OFFER="ep_edition_no_offer"}(i||(i={}));var a=function(e,t){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var n,i;return function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(s){return n={credentials:"include"},i=t?o.buyBoxURL+"/"+e+"?locale="+t:o.buyBoxURL+"/"+e,[2,(0,r.getRequest)(i,n).then((function(e){return e.json()})).then(c)]}))}))},c=function(e){var t=s(s({},e),{actionType:e.actionType,pointsValue:e.pointsValue?parseInt(e.pointsValue,10):e.pointsValue,priceWithCoP:u(e.priceWithCoP),price:u(e.price)});return e.acquisitionType&&(t.acquisitionType=e.acquisitionType),e.secondaryActionType&&(t.secondaryActionType=e.secondaryActionType),t},u=function(e){if(e)return s(s({},e),{amount:parseFloat(e.amount)});throw new Error("Missing price")}},37602:function(e,t,n){"use strict";n.d(t,{Treatments:function(){return r},Weblabs:function(){return i},getWeblabTreatment:function(){return f},isWeblab:function(){return d},isWeblabEnabled:function(){return p},triggerWeblab:function(){return l}});var i,r,o=n(20247),s=n(91428),a=n(10885),c=n(88306),u=n.n(c);function l(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t,n,i,r;return function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(c){return t=h(),e&&t[e]?(n=(0,a.appendCsrfHeader)({},"litb-amzn-csrf"),i=t[e],r={url:s.weblabURL+"?weblab="+e+"&expectedTreatment="+i,postData:{weblab:e},postHeaders:n},(0,o.postRequest)(r,!1).then((function(e){return e.json()})).then((function(e){return e})),[2]):[2,Promise.reject("Weblab "+e+" cannot be triggered because it is not allow-listed")]}))}))}!function(e){e.LITB_S2F_DESKTOP_531998="LITB_S2F_DESKTOP_531998",e.LITB_S2F_MOBILE_531590="LITB_S2F_MOBILE_531590",e.BOOKS_LITB_ASSETS_LATENCY_745921="BOOKS_LITB_ASSETS_LATENCY_745921",e.BOOKS_LITB_ASSETS_LATENCY_MOBILE_745934="BOOKS_LITB_ASSETS_LATENCY_MOBILE_745934",e.LITB_KV3_E1_OVERRIDE_576776="LITB_KV3_E1_OVERRIDE_576776",e.BOOKS_LITB_KV3_YJHTML_DESKTOP_1008673="BOOKS_LITB_KV3_YJHTML_DESKTOP_1008673",e.BOOKS_LITB_KV3_YJHTML_MOBILE_1059273="BOOKS_LITB_KV3_YJHTML_MOBILE_1059273",e.BOOKS_LITB_FIXED_FORMAT_FEATURES_1011644="BOOKS_LITB_FIXED_FORMAT_FEATURES_1011644",e.BOOKS_LITB_SHARE_SAMPLE_BUTTON_1046267="BOOKS_LITB_SHARE_SAMPLE_BUTTON_1046267"}(i||(i={})),function(e){e.C="C",e.T1="T1",e.T2="T2"}(r||(r={}));var h=u()((function(){var e,t;return((t=(e=document.getElementById("litbState"))?e.getAttribute("data-state-wl"):null)?JSON.parse(decodeURIComponent(t)):null)||Object.keys(i).filter((function(e){return isNaN(Number(e))})).reduce((function(e,t){return e[t]="C",e}),{})}));function d(e){return e in i}function f(e){var t;return null!==(t=h()[e])&&void 0!==t?t:r.C}function p(e){return f(e)!==r.C}},82272:function(e,t,n){"use strict";n.d(t,{AcquisitionStatus:function(){return s},AcquisitionType:function(){return o},BuyButtonIcon:function(){return r},OfferActionProgramCode:function(){return a},OfferActionType:function(){return i},addToCart:function(){return m},postAcquisitionAction:function(){return h},postAcquisitionActionAfr:function(){return f},postAcquisitionActionInline:function(){return d},postAddToCartAction:function(){return g}});var i,r,o,s,a,c,u=n(68217),l=n(18481);!function(e){e.BUY="Buy",e.BORROW="Borrow",e.PREORDER="Preorder",e.READ="Read",e.SAMPLE="Sample"}(i||(i={})),function(e){e.CART="cart",e.PLAY="play",e.HAND="hand"}(r||(r={})),function(e){e.ALC="Purchase",e.KU="KindleUnlimited",e.PRR="Prime"}(o||(o={})),function(e){e.SUCCESS="Success",e.VIOLATION="Violation"}(s||(s={})),function(e){e.KINDLE_UNLIMITED="KINDLE_UNLIMITED",e.PRIME="PRIME",e.KINDLE_FIRST="KindleFirst"}(a||(a={})),function(e){e.KINDLE_UNLIMITED="KU",e.PRIME_READING="PrimeReading"}(c||(c={}));var h=function(e,t,n,r,o,s){var a=document.createElement("form");a.appendChild(y("csrf",n)),s===i.SAMPLE&&a.appendChild(y("device.encryptedDeviceAccountId","DT:KCL")),a.action=t+"/"+r+"?x-client-id="+e+"&accept=application/json/ref_="+o,a.method="POST",a.target="_parent",document.body.appendChild(a),a.submit()},d=function(e,t,n,i,r){var o=t+"/"+i+"?x-client-id="+e+"&ref_="+r,s={csrf:n};return(0,u.postRequest)(o,s,{headers:{Accept:"application/json"},credentials:"include"}).then((function(e){return e.json()}))},f=function(e,t,n,i,r){var o=document.createElement("form");p(o,e,t,n,i,r)},p=function(e,t,n,r,o,s){s===i.SAMPLE&&e.appendChild(y("device.encryptedDeviceAccountId","DT:KCL")),void 0!==o&&new Map(Object.entries(o)).forEach((function(t,n){e.appendChild(y(n,t))})),e.appendChild(y("csrf",n)),e.appendChild(y("ref_",r+"_afr"));var a=new URL(window.location.origin);e.action="https://"+(0,l.getRetailHostname)(a).trim()+t,e.method="POST",e.target="_parent",document.body.appendChild(e),e.submit()},g=function(e,t,n,i,r,o){var s=document.createElement("form");v(s,e,t,n,i,r,o)},v=function(e,t,n,i,r,o,s){e.action=t+"/ref="+o,e.method="POST",e.target="_parent",s&&e.appendChild(y("anti-csrftoken-a2z",s)),e.appendChild(y("items[0.base][asin]",n)),e.appendChild(y("items[0.base][offerListingId]",i)),e.appendChild(y("clientName","K4W_ReaderBuyBox_LITB")),document.body.appendChild(e),e.submit()},m=function(e,t,n){var i=window.location.origin+"/litb/cart/"+e+"/add-to-cart";n&&(i+="?showGoToCart=true");var r={offerListingId:t};return(0,u.postRequest)(i,r,{headers:{Accept:"application/json"},credentials:"include"}).then((function(e){return e.json()}))},y=function(e,t){var n=document.createElement("input");return n.type="hidden",n.name=e,n.value=t,n}},76166:function(e,t,n){"use strict";n.d(t,{PrintSearchService:function(){return d}});var i=n(3571),r=n(37593),o=n(86379),s=n(79634),a=n(19198),c=n(71450),u=n(96486),l=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},h=function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},d=function(){function e(e){var t=this;this.properties=e,this.updateResultContextForUnavailable=function(e){e[2]='<i class="search-result-item-not-included">'+t.properties.translate("kw-litb-page-not-included-in-sample")+"</i>"},this.createAnnotationsFetcher=function(e,n){return function(i,r){return Promise.all(e.results.map((function(e){return l(t,void 0,void 0,(function(){return h(this,(function(t){return[2,this.printSearchResultsToKryptoniteReaderSearchResults({start:i,end:r},e,n)]}))}))}))).then((function(e){return e.flat()}))}},this.printSearchResultsToKryptoniteReaderSearchResults=function(e,n,r){return l(t,void 0,void 0,(function(){var t,o,s,a,c=this;return h(this,(function(u){switch(u.label){case 0:return(t=parseInt(n[0],10))<e.start&&void 0!==e.start||void 0!==e.end&&t>e.end?[2,[]]:(o=null!==(a=n[3])&&void 0!==a?a:null,[4,i.PrintRendererClient.fetchSearchHighlights(this.properties.bookInformation.asin,r,t,o)]);case 1:return"error"in(s=u.sent())?[2,[]]:[2,Object.values(s.highlights).flatMap((function(e){return e.map((function(e){return c.printHighlightToKryptoniteReaderAnnotation(e,t)}))}))]}}))}))},this.printHighlightToKryptoniteReaderAnnotation=function(e,n){return{asin:t.properties.bookInformation.asin,position:n,highlightColor:"yellow",context:"",start:parseInt(e[0],10),end:parseInt(e[0],10)+parseInt(e[2],10),startY:parseInt(e[1],10),endY:parseInt(e[1],10)+parseInt(e[3],10),note:"",type:i.AnnotationType.SearchResult}},this.generatePageLabels=function(){var e,n,i,r=null===(e=t.properties.bookMetadata)||void 0===e?void 0:e.bookmarks,o=null===(n=t.properties.bookMetadata)||void 0===n?void 0:n.pageLabelSet,s=null===(i=t.properties.bookMetadata)||void 0===i?void 0:i.numberOfPages,c=[];return r&&r.forEach((function(e){var t=e[0],n=e[1],i=e[2];(0,u.range)(n,n+i).forEach((function(e){c[e]=" - "+t}))})),o&&o.split("),").forEach((function(e){var n=e.replace("(","").replace(")","").split(","),i=n[0],r=n[1],o=n[2],l=new RegExp("/"+t.properties.translate("kw-litb-front-cover")+"|"+t.properties.translate("kw-litb-back-cover")+"|"+t.properties.translate("kw-litb-front-flap")+"|"+t.properties.translate("kw-litb-back-flap")+"/"),h=parseInt(i,10);(0,u.range)(h,s).forEach((function(e){if(!c[e]||!c[e].match(l))if("a"===r){var t=e-h+parseInt(o,10);c[e]=t.toString()}else"r"===r&&(c[e]=a.arabicToRoman(e-h+parseInt(o,10)))}))})),c},this.pageLabels=this.generatePageLabels(),this.properties.searchContext.setStatus("Ready")}return e.prototype.performSearch=function(e){var t,n=this;this.properties.searchContext.setInput(e);var i=!e.trim(),a=this.properties;if(a.bookInformation.asin&&!i){var u=new AbortController,l=(0,r.createLatencyTimer)(s.default.LITB_PRINT_SEARCH_LATENCY);l.start(),this.properties.searchContext.setStatus("Searching"),(0,o.fetchSearchResults)(a.bookInformation.asin,a.bookInformation.asin,e,1,null!==(t=a.batchSize)&&void 0!==t?t:100,u.signal).then((function(t){(0,c.isSearchResults)(t)?((0,r.recordCountMetric)(s.default.LITB_LOADED_PRINT_SEARCH_RESULTS,1),(0,r.recordLatencyMetric)(l),n.processAndConvertResults(t,e)):(0,c.isEmptySearchResults)(t)?((0,r.recordLatencyMetric)(l),(0,r.recordCountMetric)(s.default.LITB_LOADED_PRINT_SEARCH_RESULTS,1),n.clearResults()):((0,r.recordCountMetric)(s.default.LITB_LOADED_PRINT_SEARCH_RESULTS,0),n.clearResults()),n.properties.searchContext.setStatus("Ready")})).catch((function(e){e&&e.error&&"AbortError"===e.error.name?(0,r.recordCountMetric)(s.default.LITB_PRINT_SEARCH_ABORTED,1):((0,r.recordLatencyMetric)(l),(0,r.recordCountMetric)(s.default.LITB_LOADED_PRINT_SEARCH_RESULTS,0)),n.clearResults(),n.properties.searchContext.setStatus("Unavailable")}))}return!0},e.prototype.clearResults=function(){var e,t;null===(t=(e=this.properties.searchContext).setResults)||void 0===t||t.call(e,[]),this.properties.setAnnotationsFetcherCallback((function(){return Promise.resolve([])}))},e.prototype.processAndConvertResults=function(e,t){var n,i,r=this,o=this.createAnnotationsFetcher(e,t);this.properties.setAnnotationsFetcherCallback(o);var s=e.results.map((function(e){var n,i=e[0],o=e[2],s=e[3],a=parseInt(i,10),c=o!==t;return c?null===(n=r.properties.printTokenProvider)||void 0===n||n.setToken(a,s):r.updateResultContextForUnavailable(e),new f(e,r.getLabelForPage(a),c)}));null===(i=(n=this.properties.searchContext).setResults)||void 0===i||i.call(n,s)},e.prototype.getLabelForPage=function(e){var t;if(this.pageLabels[e])return this.pageLabels[e];var n=null===(t=this.properties.bookMetadata)||void 0===t?void 0:t.numberOfPages;return n&&e>n/2?" - "+this.properties.translate("kw-litb-back-matter"):" - "+this.properties.translate("kw-litb-front-matter")},e}(),f=function(){function e(e,t,n){void 0===n&&(n=!0),this.item=e,this.label=t,this.isAvailable=n}return e.prototype.getPositions=function(){return Promise.resolve(this.isAvailable?[parseInt(this.item[0])]:[])},e.prototype.getContext=function(){return Promise.resolve(this.item[2])},e.prototype.getLocation=function(){return Promise.resolve(parseInt(this.item[0]))},e.prototype.getPage=function(){var e;return Promise.resolve(null!==(e=this.label)&&void 0!==e?e:this.item[0])},e}()},5086:function(e,t,n){"use strict";n.d(t,{SearchServiceFactory:function(){return s}});var i=n(76166),r=n(55703),o=Object.freeze({IMAGE_JPG:function(e){return new i.PrintSearchService(e)},YJ:r.YJSearchService.create}),s=Object.freeze({build:function(e){var t=o[e.bookInformation.format],n=null==t?void 0:t(e);return n||e.searchContext.setStatus("Unavailable"),n}})},55703:function(e,t,n){"use strict";n.d(t,{YJSearchService:function(){return c}});var i=n(33561),r=n(37593),o=n(79634),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},a=function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=function(){function e(e){var t=this;this.properties=e,this.searchContextService=new i.SrsSearchContextService,this.asin=e.bookInformation.asin,this.revision=e.bookInformation.revision,this.positionMapper=e.bookMetadata.positionMapper,Promise.all([this.searchPositionsService=this.buildSearchPositionsService(e),this.searchResultsService=this.buildSearchService()]).then((function(){return t.properties.searchContext.setStatus("Ready")})).catch((function(){return t.properties.searchContext.setStatus("Unavailable")}))}return e.create=function(t){if(t.enableSearchInYJ)return new e(t)},e.prototype.buildSearchPositionsService=function(e){var t,n;return s(this,void 0,void 0,(function(){var r,o,s,c,u,l,h,d;return a(this,(function(a){switch(a.label){case 0:if(r=new i.SrsSearchIndexService,o=null===(t=null==e?void 0:e.bookInformation)||void 0===t?void 0:t.asin,s=null===(n=null==e?void 0:e.bookInformation)||void 0===n?void 0:n.revision,!o||!s||!this.positionMapper)throw Error("Missing book information or position mapper");return[4,r.getSearchIndexInfo(o,s)];case 1:if(!(c=a.sent())||"string"==typeof c)throw new Error("Index info unavailable");return[4,this.positionMapper.getLastLocationPosition()];case 2:return u=a.sent(),[4,new i.SmylSearchIndexProvider(c,u).getSearchIndex()];case 3:return l=a.sent(),h=l.getProperty("LanguageId"),d=new i.SmylWordStemmer(h),[2,new i.LocalSearchPositionsService(d,l)]}}))}))},e.prototype.buildSearchService=function(){return s(this,void 0,void 0,(function(){var e,t,n,r;return a(this,(function(o){switch(o.label){case 0:return this.properties.searchContext.setStatus("Initializing"),[4,this.searchPositionsService];case 1:if(!(e=o.sent())||!this.positionMapper)throw Error("Search index or position mapper unavailable for YJ Search");if(t=new i.SrsSearchContextDecorator(this.searchContextService),n=new i.PositionMapperSearchDecorator(this.positionMapper),!(r=i.SearchResultsServiceFactory.create(e,t,n,n)))throw Error("Could not create SearchResultsService");return[2,r]}}))}))},e.prototype.performSearch=function(e){return s(this,void 0,void 0,(function(){var t,n,i,s;return a(this,(function(a){switch(a.label){case 0:return this.properties.searchContext.setInput(e),t=!e.trim(),!this.asin||t?[3,5]:((n=(0,r.createLatencyTimer)(o.default.LITB_KV3_SEARCH_LATENCY)).start(),this.properties.searchContext.setStatus("Searching"),[4,this.searchResultsService]);case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,i.getResults(this.asin,this.revision,e)];case 3:return s=a.sent(),this.properties.searchContext.setResults(s),(0,r.recordLatencyMetric)(n),this.properties.searchContext.setStatus("Ready"),[3,5];case 4:return a.sent(),this.properties.searchContext.setStatus("Unavailable"),[3,5];case 5:return[2]}}))}))},e}()},63721:function(e,t,n){"use strict";n.d(t,{createError:function(){return i.createError},handleError:function(){return h},handleErrors:function(){return u},handleInitializationErrors:function(){return l},logErrorThroughCSM:function(){return d},registerGlobalErrorHandlers:function(){return p}});var i=n(65907),r=n(80505),o=n(84276),s=n(37593),a=n(3571),c=function(e){return e instanceof Error||"string"==typeof e?e:"Received unsupported type instead of error: "+JSON.stringify(e)},u=function(e){switch(e.constructor){case a.FailedToGetBookManifestError:case a.ContentUnSupported:case a.GeoLocationNotAllowed:case a.ContentNotAllowed:h(e.name,e,!0);break;default:h("PageRenderingError",e,!0)}},l=function(e){e instanceof Error?u(e):e&&e.type&&e.error?function(e){switch(e.type){case"offline":h((0,i.createError)("NoNetworkError",e.error.message));break;case"connection":h((0,i.createError)("GenericNetworkError",e.error.message));break;case"abort":h((0,i.createError)("AbortError",e.error.message));break;default:h((0,i.createError)("GenericError",e.error.message))}}(e):h((0,i.createError)("UnknownError",c(e)))},h=function(e,t,n){var s;if("string"==typeof e&&(t instanceof Error||"string"==typeof t)){var a=e,u=!!n,l=c(t);s=(0,i.createError)(a,l,u)}else s=function(e,t){return(0,i.isKwrpError)(e)?e:(0,i.createError)("UnknownError",c(e),t)}(e,u=!!t);d(s),f(s.name,s.error),r.EventManager.triggerEvent(o.Events.ErrorEvent.Error,s)},d=function(e,t){if(window.ueLogError){var n=e.error,i=n.stack?"\nStack Trace: "+n.stack:"",r={message:"Error Name: ["+n.name+"]\nDetails: ["+e.details+"]\nMessage:["+n.message+"]\nStacktrace:["+i+"]",attribution:e.name,logLevel:t||e.logLevel};window.ueLogError(n,r)}},f=function(e,t){(0,s.recordCountMetric)(e)},p=function(){window.addEventListener("error",(function(e){if(e.error)h("UnknownError",e.error);else{var t=new Error(e.message);h("UnknownError",t)}return!0})),window.addEventListener("unhandledrejection",(function(e){var t=new Error(e.reason);h("UnknownError",t)}))}},65907:function(e,t,n){"use strict";n.d(t,{DEGRADED_EXPERIENCE:function(){return o},ERROR_POPUP:function(){return r},createError:function(){return a},isKwrpError:function(){return c}});var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r="ErrorPopup",o="DegradedExperience",s={logLevel:"ERROR",showErrorDialog:!1,errorDialogDetails:{messageStringId:"genericErrorMessage",headerStringId:"genericErrorTitle",retriable:!0,detailPageButton:!0,backButton:!0,readSample:!1,readInKindle:!1,downloadKindle:!1}},a=function(e,t,n){void 0===n&&(n=!0);var r=function(e){if("string"==typeof e)return new Error(e);if(!e.stack||""===e.stack)try{throw new Error}catch(t){e.stack=t.stack}return e}(t);return i(i(i({},s),{name:e,isRuntime:n,error:r}),function(e){switch(e){case"GenericError":case"GenericNetworkError":case"SampleTookTooLongToLoadError":return{logLevel:"FATAL",showErrorDialog:!0,errorDialogDetails:{messageStringId:"genericErrorMessage",headerStringId:"genericErrorTitle",retriable:!0,detailPageButton:!0,backButton:!0,readSample:!1,readInKindle:!1,downloadKindle:!1}};case"UnknownError":case"MissingTranslations":return{logLevel:"ERROR",showErrorDialog:!1};case"PageRenderingError":case"StuccoFailedToGetBookManifestError":case"YJFailedToGetBookManifestError":case"PrintFailedToGetBookManifestError":case"NoNetworkError":return{logLevel:"FATAL",showErrorDialog:!0,errorDialogDetails:{messageStringId:"networkErrorMessage",headerStringId:"networkErrorTitle",retriable:!0,detailPageButton:!0,backButton:!0,readSample:!1,readInKindle:!1,downloadKindle:!1}};case"FailedToLoadBook:CustomerDoesNotOwnBook":return{logLevel:"WARN",showErrorDialog:!0,errorDialogDetails:{messageStringId:"ownershipErrorMessage",headerStringId:"ownershipErrorTitle",retriable:!1,detailPageButton:!0,backButton:!1,readSample:!0,readInKindle:!1,downloadKindle:!1}};case"StuccoGeoLocationNotAllowed":case"StuccoContentUnsupported":case"StuccoContentNotAllowed":case"FailedToLoadBook:BookIsNotSupported":return{showErrorDialog:!0,errorDialogDetails:{messageStringId:"unsupportedErrorMessage",headerStringId:"unsupportedErrorTitle",retriable:!1,detailPageButton:!0,backButton:!0,readSample:!1,readInKindle:!0,downloadKindle:!1}};case"FailedToLoadBook:AuthenticationRequired":case"AbortError":return{logLevel:"WARN",showErrorDialog:!1};case"AppOpenError":return{showErrorDialog:!0,errorDialogDetails:{messageStringId:"kindleProtocolErrorMessage",headerStringId:"kindleProtocolErrorTitle",retriable:!1,detailPageButton:!0,backButton:!0,readSample:!1,readInKindle:!1,downloadKindle:!0}};case"SampleRecommendationsLoadingError":case"BuyBoxLoadingError":return{logLevel:"FATAL",showErrorDialog:!1,errorDialogDetails:{messageStringId:"genericErrorMessage",headerStringId:"genericErrorTitle",retriable:!1,detailPageButton:!0,backButton:!0,readSample:!1,readInKindle:!1,downloadKindle:!1}};case"KCMSMetadataLoadingError":return{logLevel:"ERROR"}}}(e))},c=function(e){return"object"==typeof e&&e.name&&e.logLevel&&e.error}},80505:function(e,t,n){"use strict";n.d(t,{EventManager:function(){return r}});var i=n(84276),r=function(){function e(){}return e.registerEventListener=function(e,t){document.body.addEventListener(e,t,!1)},e.deregisterEventListener=function(e,t){document.body.removeEventListener(e,t,!1)},e.triggerEvent=function(e,t){var n=new CustomEvent(e,{detail:t});document.body.dispatchEvent(n)},e.registerWindowEvents=function(){window.addEventListener("resize",(function(t){e.triggerEvent(i.default.Window.RESIZED)})),this.absorbTouchAndContextMenuEvents(window)},e.sendMessage=function(e,t){e.postMessage(t,"*")},e.receiveMessage=function(e){window.addEventListener("message",e,!1)},e.stopReceiveMessage=function(e){window.removeEventListener("message",e,!1)},e.enablePinchZoom=function(){window.removeEventListener("touchmove",window.pinchZoomBlocker)},e.absorbTouchAndContextMenuEvents=function(e){e.addEventListener("contextmenu",(function(){return!1}),!1)},e}()},84276:function(e,t,n){"use strict";n.d(t,{Events:function(){return i}});var i={Window:{ORIENTATION_CHANGED:"OrientationChanged.Window",RESIZED:"Resized.Window"},Viewport:{VIEWPORT_CLICKED:"ViewportClicked.Viewport"},ReaderHamburgerMenu:{NAVIGATION_OPTION_CLICKED:"NavigationOptionClicked.ReaderHamburgerMenu"},Book:{END_REACHED:"EndReached.Book",PAGE_RENDERED:"PageRendered.Book",FIRST_PAGE_RENDERED:"FirstPageRendered.Book",LOADING_PAGE:"LoadingPage.Book"},Slider:{SLIDER_DRAGGER_MOVING:"SliderDraggerMoving.Slider",SLIDER_FINISHED_MOVING:"SliderFinishedMoving.Slider"},EndActions:{SHOW:"Show.EndActions",POPULATE:"Populate.EndActions"},Chevrons:{CLICKED_LEFT_CHEVRON:"ClickedLeft.Chevron",CLICKED_RIGHT_CHEVRON:"ClickedRight.Chevron"},KeyPress:{LEFT_ARROW_PRESSED:"LeftArrow.KeyPress",RIGHT_ARROW_PRESSED:"RightArrow.KeyPress"},BlackCurtain:{ACCEPTED:"Accepted.BlackCurtain"},ErrorEvent:{ERROR:"Error.Error"},DisplayOptions:{SHOW:"Show.DisplayOptions"},MarkerEndActions:{PAGE_TURN:"MarkerEndActions.PageTurn",RESET:"MarkerEndActions.Reset"}};t.default=i},74e3:function(e,t,n){"use strict";n.d(t,{katalLogger:function(){return s}});var i=n(8434),r=n.n(i),o={url:(0,n(38823).getAppConfig)().katalCloudWatchEndpointEmf,batchTimeoutDuration:1e4},s=new(r())(o)},15258:function(e,t,n){"use strict";n.d(t,{useKatalLogger:function(){return a}});var i=n(67294),r=n(8434),o=n.n(r),s=n(38823),a=function(){return(0,i.useState)(new(o())({url:(0,s.getAppConfig)().katalCloudWatchEndpoint}))[0]}},47903:function(e,t,n){"use strict";n.d(t,{useLitbTranslation:function(){return h}});var i=n(67294),r=n(99377),o=n(37593),s=n(79634),a=n(65907),c=n(15258),u=n(90268),l=function(){return l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)},h=function(){var e=(0,i.useContext)(r.LitbTranslationContext),t=e.state,n=e.dispatch,h=(0,c.useKatalLogger)();return{textDirection:t.textDirection,translationsReady:t.translationsReady,getLitbTranslation:function(e,n,i){if(void 0===n&&(n=""),void 0===i&&(i={}),!t.translationsReady)return n;var r=t.getLitbTranslation(e,"",l({},i));if(""===r){(0,o.recordCountMetric)(s.default.MISSING_TRANSLATIONS+"::"+t.locale,1);var c=(0,a.createError)("MissingTranslations","Missing translations for locale:"+t.locale+" and key: "+e);return h.error(c.error.message,c.error,(0,u.buildContextForCloudWatchLog)(c)),n}return r},setTextDirection:function(e){n({type:r.ActionType.SET_TEXT_DIRECTION,payload:e})}}}},62963:function(e,t,n){"use strict";n.d(t,{useFastMetricsManager:function(){return l}});var i,r=n(67294),o=n(55609),s=n(85609),a=n(14165),c=n(38823),u=n(11202),l=function(){var e=function(){if(!i){var e=(0,c.getAppConfig)();i=new o.FastMetricsService({appVersion:""+e.appVersion,countryOfResidence:e.countryCode,customerId:e.customerId,deviceFamily:"KindleWebReaderPlatform",deviceModel:(0,u.detectBrowser)(),deviceSerialNumber:e.dsn,deviceType:e.deviceType,fastMetricsSushiEndpoint:e.eelEndpoint,osVersion:""+e.appVersion,preferredMarketplaceId:e.marketplaceId,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})}return i}(),t=(0,r.useCallback)((function(t){e.getClient().startReadingSession(function(e){return{asin:e.asin,content_type:"EBSP",end_reading_location:e.endReadingPosition,format:e.format,max_position:e.endReadingPosition,mime_type:"",revision_id:e.revision,start_reading_location:e.startReadingPosition,asset_id:e.assetId,embedded_id:e.embeddedIdd}}(t)),e.getBatcher().flush().catch((function(e){console.warn("[FastMetrics error]: "+e)}))}),[e]),n=(0,r.useCallback)((function(){e.getClient().endReadingSession(),e.getBatcher().flush().catch((function(e){console.warn("[FastMetrics error]: "+e)}))}),[e]),l=(0,r.useCallback)((function(t){e.emitEvent(new a.ReadingDetailsEvent(t))}),[e]),h=(0,r.useCallback)((function(t){e.emitEvent(new s.InBookActionEvent(t))}),[e]);return(0,r.useMemo)((function(){return{openBook:t,closeBook:n,consumeContent:l,emitInBookAction:h,service:e}}),[t,n,l,h,e])}},55609:function(e,t,n){"use strict";n.d(t,{FastMetricEvent:function(){return r},FastMetricsService:function(){return o}});var i=n(82403),r=function(){this.getVersion=function(){return 0}},o=function(){function e(e){var t=e.fastMetricsSushiEndpoint||"",n={device_family:e.deviceFamily,device_type:e.deviceType,device_model:e.deviceModel,device_serial_number:e.deviceSerialNumber,app_version:e.appVersion,os_version:e.osVersion,time_zone:e.timeZone,customer_id:e.customerId,preferred_marketplace_id:e.preferredMarketplaceId,country_of_residence:e.countryOfResidence},r=new i.SushiPublisher(t);this.batcher=new i.Batcher(r,100,100,1e4),this.client=new i.MetricsClient(n,this.batcher),this.shouldFlush=!0}return e.prototype.getClient=function(){return this.client},e.prototype.getBatcher=function(){return this.batcher},e.prototype.emitEvent=function(e,t){var n=this;void 0===t&&(t=!0),this.client.emitRecord(e.getSchema(),e.getVersion(),e.getPayload()),t&&this.shouldFlush&&(this.shouldFlush=!1,this.batcher.flush().finally((function(){return n.shouldFlush=!0})))},e}()},85609:function(e,t,n){"use strict";n.d(t,{InBookActionEvent:function(){return s}});var i,r=n(55609),o=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return o(t,e),t.prototype.getSchema=function(){return"litb_anon_inbook_actions"},t.prototype.getPayload=function(){var e;return{event_context:this.data.context,event_action:this.data.action,action_value:null!==(e=this.data.value)&&void 0!==e?e:""}},t}(r.FastMetricEvent)},14165:function(e,t,n){"use strict";n.d(t,{ReadingDetailsEvent:function(){return s}});var i,r=n(55609),o=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return o(t,e),t.prototype.getSchema=function(){return"litb_anon_reading"},t.prototype.getPayload=function(){var e;return{start_position:this.data.startPosition,end_position:this.data.endPosition,event_context:null!==(e=this.data.context)&&void 0!==e?e:"Reading",event_action:this.data.action,content_type:this.data.contentType}},t}(r.FastMetricEvent)},37593:function(e,t,n){"use strict";n.r(t),n.d(t,{DIMENSIONS:function(){return v},computeTimeMetricFromCustomStartTime:function(){return x},createLatencyTimer:function(){return R},getClientIdMetricName:function(){return b},getErrorMetricName:function(){return m},getLatencyMetricName:function(){return y},getSuccessMetricName:function(){return w},recordCountAndUploadMetric:function(){return S},recordCountMetric:function(){return _},recordCountMetricOnlyOnce:function(){return k},recordLatencyMetric:function(){return T},recordSessionsWithCountMetric:function(){return E},recordTimeMetric:function(){return P},recordTimeMetricFromCustomStartTime:function(){return I},recordTimeMetricFromNavigationStart:function(){return C}});var i,r,o,s=n(88306),a=n.n(s),c=n(9731),u=n(60107),l=n(22926),h=n(38823),d=n(99030),f=n(14705),p=n(86379),g=(0,h.getAppConfig)(),v={region:g.region,marketplace:g.countryCode,platform:(null===(i=g.platform)||void 0===i?void 0:i.toLowerCase())||"",clientId:g.clientId||c.CLIENT_ID.DPX,version:""+g.appVersion,format:""+(null!==(r=p.LITB_RENDER_TYPE&&(null===f.getInitialLitbData||void 0===f.getInitialLitbData?void 0:(0,f.getInitialLitbData)().format))&&void 0!==r?r:"unknown"),experiment:null!==(o=g.experiment)&&void 0!==o?o:"none",fixedFormat:g.fixedFormat?"fixedformat":"reflowable",productCategory:g.productCategory},m=function(e){return e+"Error"},y=function(e){return e+"Latency"},w=function(e){return e+"Success"},b=function(e,t){var n=t.toUpperCase();return""+e+(n in c.CLIENT_ID?n:"Invalid")+"ClientId"},_=function(e,t){void 0===t&&(t=1),e&&(0,u.emitEmfMetrics)(e,t,l.MetricUnit.COUNT,v)},k=a()((function(e){return _(e,1)})),E=function(e,t){void 0===t&&(t=1),t>=1&&k("SessionsWith::"+e)},S=function(e,t){return void 0===t&&(t=1),(0,u.emitEmfMetrics)(e,t,l.MetricUnit.COUNT,v)},T=function(e){e.getTime()>0&&(0,u.emitEmfMetrics)(e.getName(),e.getTime(),l.MetricUnit.MILLISECONDS,v)},P=function(e,t){t>0&&(0,u.emitEmfMetrics)(e,t,l.MetricUnit.MILLISECONDS,v)},C=function(e){var t=x(0);P(e,t)},x=function(e){if(0===e){if(!(window.performance&&window.performance.timing&&window.performance.timing.navigationStart))return-1;e=window.performance.timing.navigationStart}return Date.now()-e},I=function(e,t){var n=x(t);P(e,n)},R=function(e){return new d.Timer(e)}},60107:function(e,t,n){"use strict";n.d(t,{emitEmfMetrics:function(){return a}});var i=n(22926),r=n(74e3),o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},s=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},a=function(e,t,n,o,s){void 0===n&&(n=i.MetricUnit.NONE),void 0===o&&(o={clientName:"KindleWebReaderLitbWebsite"});var a=c(e,t,n,o,s);return r.katalLogger.info(e,{emfLog:a})},c=function(e,t,n,r,a){var c;return o(o({_aws:{Timestamp:Date.now(),CloudWatchMetrics:[{Namespace:""+i.DEFAULT_NAMESPACE,Dimensions:s(Object.keys(r).map((function(e){return[e]})),[Object.keys(r)]),Metrics:[{Name:e,Unit:n}]}]}},r),((c={})[e]=t,c.Context=a,c))}},22926:function(e,t,n){"use strict";var i;n.d(t,{DEFAULT_NAMESPACE:function(){return r},MetricUnit:function(){return i}}),function(e){e.COUNT="Count",e.MILLISECONDS="Milliseconds",e.NONE="None"}(i||(i={}));var r="LITB"},99030:function(e,t,n){"use strict";n.d(t,{Timer:function(){return i}});var i=function(){function e(e){this.startTime=-1,this.name=e}return e.prototype.getName=function(){return this.name},e.prototype.start=function(){return this.startTime=window.performance.now(),this},e.prototype.getTime=function(){return-1===this.startTime?-1:window.performance.now()-this.startTime},e}()},48361:function(e,t,n){"use strict";var i;n.d(t,{ActionType:function(){return i},setAppType:function(){return r},setAsin:function(){return o},setInteractionManager:function(){return s},setProductAsin:function(){return a},setPurchaseCompleted:function(){return l},setRenderType:function(){return c},setRevisionId:function(){return u}}),function(e){e.SET_APP_TYPE="SET_APP_TYPE",e.SET_ASIN="SET_ASIN",e.SET_INTERACTION_MANAGER="SET_INTERACTION_MANAGER",e.SET_PRODUCT_ASIN="SET_PRODUCT_ASIN",e.SET_RENDER_TYPE="SET_RENDER_TYPE",e.SET_REVISION_ID="SET_REVISION_ID",e.SET_PURCHASE="SET_PURCHASE"}(i||(i={}));var r=function(e){return{type:i.SET_APP_TYPE,payload:e}},o=function(e){return{type:i.SET_ASIN,payload:e}},s=function(e){return{type:i.SET_INTERACTION_MANAGER,payload:e}},a=function(e){return{type:i.SET_PRODUCT_ASIN,payload:e}},c=function(e){return{type:i.SET_RENDER_TYPE,payload:e}},u=function(e){return{type:i.SET_REVISION_ID,payload:e}},l=function(e){return{type:i.SET_PURCHASE,payload:e}}},41096:function(e,t,n){"use strict";var i;n.d(t,{ActionType:function(){return i},createBookCardBooleanAction:function(){return r},setATFHeight:function(){return c},setActivateModalOverlay:function(){return a},setDisplayModalOverlay:function(){return s},setInitialized:function(){return o}}),function(e){e.SET_INITIALIZED="INITIALIZED",e.SET_ATF_HEIGHT="ATF_HEIGHT",e.SET_ACCESSIBLE_CARD_TRIGGER="SET_ACCESSIBLE_CARD_TRIGGER",e.SET_DRAGGING="SET_DRAGGING",e.SET_DISPLAY_MODAL_OVERLAY="SET_DISPLAY_MODAL_OVERLAY",e.SET_ACTIVATE_MODAL_OVERLAY="SET_ACTIVATE_MODAL_OVERLAY",e.SET_BOOK_TYPE="SET_BOOK_TYPE"}(i||(i={}));var r=function(e,t){return{type:e,payload:t}},o=function(e){return{type:i.SET_INITIALIZED,payload:e}},s=function(e){return{type:i.SET_DISPLAY_MODAL_OVERLAY,payload:e}},a=function(e){return{type:i.SET_ACTIVATE_MODAL_OVERLAY,payload:e}},c=function(e){return{type:i.SET_ATF_HEIGHT,payload:e}}},95880:function(e,t,n){"use strict";var i;n.d(t,{ActionType:function(){return i},setBookOffer:function(){return r},setContentHeightWithoutBuyBox:function(){return o},setProceedToCheckoutMetadata:function(){return a},setShowInlineBuyBox:function(){return s}}),function(e){e.SET_BOOK_OFFER="SET_BOOK_OFFER",e.SET_CONTENT_HEIGHT_WITHOUT_BUY_BOX="SET_CONTENT_HEIGHT_WITHOUT_BUY_BOX",e.SET_PROCEED_TO_CHECKOUT_METADATA="SET_PROCEED_TO_CHECKOUT_METADATA",e.SET_SHOW_INLINE_BUY_BOX="SET_SHOW_INLINE_BUY_BOX"}(i||(i={}));var r=function(e){return{type:i.SET_BOOK_OFFER,payload:e}},o=function(e){return{type:i.SET_CONTENT_HEIGHT_WITHOUT_BUY_BOX,payload:e}},s=function(e){return{type:i.SET_SHOW_INLINE_BUY_BOX,payload:e}},a=function(e){return{type:i.SET_PROCEED_TO_CHECKOUT_METADATA,payload:e}}},53889:function(e,t,n){"use strict";var i;n.d(t,{ActionType:function(){return i},setEndOfSampleMessage:function(){return o},setOverlayMode:function(){return r},setSelectedOption:function(){return l},setShowErrorModal:function(){return a},setShowInlineEndAction:function(){return s},setShowRatingsPopover:function(){return c},setSupportedOptions:function(){return u}}),function(e){e.SET_OVERLAY_MODE="SET_OVERLAY_MODE",e.SET_END_OF_SAMPLE_MESSAGE="SET_END_OF_SAMPLE_MESSAGE",e.SET_SHOW_INLINE_END_ACTIONS="SET_SHOW_INLINE_END_ACTIONS",e.SET_SHOW_ERROR_MODAL="SET_SHOW_ERROR_MODAL",e.SET_SHOW_RATINGS_POPOVER="SET_SHOW_RATINGS_POPOVER",e.SET_SUPPORT_OPTIONS="SET_SUPPORT_OPTIONS",e.SET_SELECTED_OPTION="SET_SELECTED_OPTION"}(i||(i={}));var r=function(e){return{type:i.SET_OVERLAY_MODE,payload:e}},o=function(e){return{type:i.SET_END_OF_SAMPLE_MESSAGE,payload:e}},s=function(e){return{type:i.SET_SHOW_INLINE_END_ACTIONS,payload:e}},a=function(e){return{type:i.SET_SHOW_ERROR_MODAL,payload:e}},c=function(e){return{type:i.SET_SHOW_RATINGS_POPOVER,payload:e}},u=function(e){return{type:i.SET_SUPPORT_OPTIONS,payload:e}},l=function(e){return{type:i.SET_SELECTED_OPTION,payload:e}}},80142:function(e,t,n){"use strict";var i;n.r(t),n.d(t,{ActionType:function(){return i},setBookContent:function(){return d},setBookInformation:function(){return r},setBookOpen:function(){return c},setContentKCMSMetadata:function(){return g},setCoverImageLoaded:function(){return a},setLitbBook:function(){return o},setNumberOfPages:function(){return p},setPageLabelSet:function(){return f},setPositionEvent:function(){return l},setReadingLocationData:function(){return u},setRecommendationsData:function(){return h},setTableOfContents:function(){return s}}),function(e){e.SET_BOOK_INFORMATION="SET_BOOK_INFORMATION",e.SET_BOOK="SET_BOOK",e.SET_BOOK_CONTENT="SET_BOOK_CONTENT",e.SET_BOOK_OPEN="SET_BOOK_OPEN",e.SET_COVER_IMAGE_LOADED="SET_COVER_IMAGE_LOADED",e.SET_NUMBER_OF_PAGES="SET_NUMBER_OF_PAGES",e.SET_PAGE_LABEL_SET="SET_PAGE_LABEL_SET",e.SET_POSITION_EVENT="SET_POSITION_EVENT",e.SET_READING_LOCATION_DATA="SET_READING_LOCATION_DATA",e.SET_RECOMMENDATIONS_DATA="SET_RECOMMENDATIONS_DATA",e.SET_TABLE_OF_CONTENTS="SET_TABLE_OF_CONTENTS",e.SET_CONTENT_KCMS_METADATA="SET_CONTENT_KCMS_METADATA"}(i||(i={}));var r=function(e){return{type:i.SET_BOOK_INFORMATION,payload:e}},o=function(e){return{type:i.SET_BOOK,payload:e}},s=function(e){return{type:i.SET_TABLE_OF_CONTENTS,payload:e}},a=function(e){return{type:i.SET_COVER_IMAGE_LOADED,payload:e}},c=function(e){return{type:i.SET_BOOK_OPEN,payload:e}},u=function(e){return{type:i.SET_READING_LOCATION_DATA,payload:e}},l=function(e){return{type:i.SET_POSITION_EVENT,payload:e}},h=function(e){return{type:i.SET_RECOMMENDATIONS_DATA,payload:e}},d=function(e){return{type:i.SET_BOOK_CONTENT,payload:e}},f=function(e){return{type:i.SET_PAGE_LABEL_SET,payload:e}},p=function(e){return{type:i.SET_NUMBER_OF_PAGES,payload:e}},g=function(e){return{type:i.SET_CONTENT_KCMS_METADATA,payload:e}}},35807:function(e,t,n){"use strict";n.d(t,{setAnimationDuration:function(){return o},setAnimationDurationEnabled:function(){return s},setFontAlignment:function(){return c},setFontColor:function(){return a},setFontFamily:function(){return i},setFontSizeIndex:function(){return r},setLinkOutsideRange:function(){return g},setRenderedBookMetadata:function(){return h},setRenderingSettings:function(){return l},setScrollDelta:function(){return p},setShowUpsellWidget:function(){return f},setSupportedAaMenuOptions:function(){return u},setZoomPercent:function(){return d}});var i=function(e){return{type:"SET_FONT_FAMILY",payload:e}},r=function(e){return{type:"SET_FONT_SIZE_INDEX",payload:e}},o=function(e){return{type:"SET_ANIMATION_DURATION",payload:e}},s=function(e){return{type:"SET_ANIMATION_DURATION_ENABLED",payload:e}},a=function(e){return{type:"SET_FONT_COLOR",payload:e}},c=function(e){return{type:"SET_FONT_ALIGNMENT",payload:e}},u=function(e){return{type:"SET_SUPPORTED_AA_MENU_OPTIONS",payload:e}},l=function(e){return{type:"SET_RENDERING_SETTINGS",payload:e}},h=function(e){return{type:"SET_RENDERED_BOOK_METADATA",payload:e}},d=function(e,t){return void 0===t&&(t=!1),{type:"SET_ZOOM_PERCENT",payload:{zoomPercent:e,isRendererPropagatedZoom:t}}},f=function(e){return{type:"SET_SHOW_UPSELL_WIDGET",payload:e}},p=function(e){return{type:"SET_SCROLL_DELTA",payload:e}},g=function(e){return{type:"SET_LINK_OUTSIDE_RANGE",payload:e}}},36114:function(e,t,n){"use strict";var i;n.d(t,{ActionType:function(){return i},reinitialize:function(){return r}}),function(e){e.REINITIALIZE="REINITIALIZE"}(i||(i={}));var r=function(e){return{type:i.REINITIALIZE,payload:e}}},9656:function(e,t,n){"use strict";n.d(t,{appStateReducer:function(){return a}});var i=n(48361),r=n(36114),o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},s={appType:null,asin:null,productAsin:null,renderType:null,purchaseCompleted:!1},a=function(e,t){switch(void 0===e&&(e=s),t.type){case i.ActionType.SET_APP_TYPE:return o(o({},e),{appType:t.payload});case i.ActionType.SET_ASIN:return o(o({},e),{asin:t.payload});case i.ActionType.SET_INTERACTION_MANAGER:return o(o({},e),{interactionManager:t.payload});case i.ActionType.SET_PRODUCT_ASIN:return o(o({},e),{productAsin:t.payload});case i.ActionType.SET_RENDER_TYPE:return o(o({},e),{renderType:t.payload});case i.ActionType.SET_REVISION_ID:return o(o({},e),{revisionId:t.payload});case r.ActionType.REINITIALIZE:return o(o({},e),{initTime:t.payload});case i.ActionType.SET_PURCHASE:return o(o({},e),{purchaseCompleted:t.payload});default:return e}}},37832:function(e,t,n){"use strict";n.d(t,{bookCardReducer:function(){return s}});var i=n(41096),r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},o={initialized:!1,atfHeight:0,accessibleFlag:!1,dragging:!1,displayModalOverlay:!1,activateModalOverlay:!1,bookType:"Kindle"},s=function(e,t){switch(void 0===e&&(e=o),t.type){case i.ActionType.SET_INITIALIZED:return r(r({},e),{initialized:t.payload});case i.ActionType.SET_ATF_HEIGHT:return r(r({},e),{atfHeight:t.payload});case i.ActionType.SET_ACCESSIBLE_CARD_TRIGGER:return r(r({},e),{accessibleFlag:t.payload});case i.ActionType.SET_DRAGGING:return r(r({},e),{dragging:t.payload});case i.ActionType.SET_DISPLAY_MODAL_OVERLAY:return r(r({},e),{displayModalOverlay:t.payload});case i.ActionType.SET_ACTIVATE_MODAL_OVERLAY:return r(r({},e),{activateModalOverlay:t.payload});case i.ActionType.SET_BOOK_TYPE:return r(r({},e),{bookType:t.payload});default:return e}}},19897:function(e,t,n){"use strict";n.d(t,{buyBoxReducer:function(){return s}});var i=n(95880),r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},o={bookOffer:null,contentHeightWithoutBuyBox:0,proceedToCheckoutMetadata:{},showInlineBuyBox:!1},s=function(e,t){switch(void 0===e&&(e=o),t.type){case i.ActionType.SET_BOOK_OFFER:return r(r({},e),{bookOffer:t.payload});case i.ActionType.SET_CONTENT_HEIGHT_WITHOUT_BUY_BOX:return r(r({},e),{contentHeightWithoutBuyBox:t.payload});case i.ActionType.SET_PROCEED_TO_CHECKOUT_METADATA:return r(r({},e),{proceedToCheckoutMetadata:t.payload});case i.ActionType.SET_SHOW_INLINE_BUY_BOX:return r(r({},e),{showInlineBuyBox:t.payload});default:return e}}},137:function(e,t,n){"use strict";n.d(t,{chromeOverlayReducer:function(){return s}});var i=n(53889),r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},o={isOverlayModeOn:!0,showInlineEndActions:!1,showEndOfSampleMessage:!1,showErrorModal:!1,showRatingsPopover:!1,supportedOptions:new Map([]),selectedOption:null},s=function(e,t){switch(void 0===e&&(e=o),t.type){case i.ActionType.SET_OVERLAY_MODE:return r(r({},e),{isOverlayModeOn:t.payload});case i.ActionType.SET_END_OF_SAMPLE_MESSAGE:return r(r({},e),{showEndOfSampleMessage:t.payload});case i.ActionType.SET_SHOW_ERROR_MODAL:return r(r({},e),{showErrorModal:t.payload});case i.ActionType.SET_SHOW_INLINE_END_ACTIONS:return r(r({},e),{showInlineEndActions:t.payload});case i.ActionType.SET_SHOW_RATINGS_POPOVER:return r(r({},e),{showRatingsPopover:t.payload});case i.ActionType.SET_SELECTED_OPTION:return r(r({},e),{selectedOption:t.payload});case i.ActionType.SET_SUPPORT_OPTIONS:return r(r({},e),{supportedOptions:t.payload});default:return e}}},70411:function(e,t,n){"use strict";n.d(t,{litbBookReducer:function(){return s}});var i=n(80142),r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},o={acquisition:{successful:!1,thankYouUrl:""},bookOpen:!1,shovelerData:null,coverImageLoaded:!1,litbBook:null,positionEvent:null,readingLocationData:null,tableOfContents:null,bookContent:[],kcmsMetadata:null},s=function(e,t){switch(void 0===e&&(e=o),t.type){case i.ActionType.SET_BOOK_INFORMATION:return r(r({},e),{bookInformation:t.payload});case i.ActionType.SET_BOOK:return r(r({},e),{litbBook:t.payload});case i.ActionType.SET_TABLE_OF_CONTENTS:return r(r({},e),{tableOfContents:t.payload});case i.ActionType.SET_COVER_IMAGE_LOADED:return r(r({},e),{coverImageLoaded:t.payload});case i.ActionType.SET_READING_LOCATION_DATA:return r(r({},e),{readingLocationData:t.payload});case i.ActionType.SET_BOOK_OPEN:return r(r({},e),{bookOpen:t.payload});case i.ActionType.SET_NUMBER_OF_PAGES:return r(r({},e),{numberOfPages:t.payload});case i.ActionType.SET_PAGE_LABEL_SET:return r(r({},e),{pageLabelSet:t.payload});case i.ActionType.SET_POSITION_EVENT:return r(r({},e),{positionEvent:t.payload});case i.ActionType.SET_RECOMMENDATIONS_DATA:return r(r({},e),{shovelerData:t.payload});case i.ActionType.SET_BOOK_CONTENT:return r(r({},e),{bookContent:t.payload});case i.ActionType.SET_CONTENT_KCMS_METADATA:return r(r({},e),{kcmsMetadata:t.payload});default:return e}}},57209:function(e,t,n){"use strict";n.d(t,{rendererReducer:function(){return a}});var i=n(3571),r=n(42105),o=n(84550),s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)},a=function(e,t){switch(void 0===e&&(e=function(e){var t={fontFamily:void 0,fontSizeIndex:r.INDEX_OF_FONT_SIZE_ARRAY_DEFAULT,fontSize:r.FONT_SIZE_ARRAY[r.INDEX_OF_FONT_SIZE_ARRAY_DEFAULT],fontColor:"white",fontAlignment:"JUSTIFY",isRendererPropagatedZoom:!1,showUpsellWidget:!1,zoomPercent:100,animationDuration:r.DEFAULT_ANIMATION_DURATION,animationDurationEnabled:!0},n=void 0,a=new i.PrintTokenProvider;if(window.localStorage){var c=window.localStorage.getItem(o.KWR_DISPLAY_SETTINGS_STORAGE_KEY);if(c)return{displayOptions:s(s({},t),JSON.parse(c)),supportedAaMenuOptions:n,scrollDelta:0,printTokenProvider:a,linkOutsideRange:!1}}return{displayOptions:t,supportedAaMenuOptions:n,scrollDelta:0,printTokenProvider:a,linkOutsideRange:!1}}()),t.type){case"SET_FONT_FAMILY":return s(s({},e),{displayOptions:s(s({},e.displayOptions),{fontFamily:t.payload}),renderingSettings:s(s({},e.renderingSettings),{fontFamily:t.payload})});case"SET_FONT_SIZE_INDEX":return s(s({},e),{displayOptions:s(s({},e.displayOptions),{fontSizeIndex:t.payload,fontSize:r.FONT_SIZE_ARRAY[t.payload]})});case"SET_FONT_COLOR":return s(s({},e),{displayOptions:s(s({},e.displayOptions),{fontColor:t.payload})});case"SET_FONT_ALIGNMENT":return s(s({},e),{displayOptions:s(s({},e.displayOptions),{fontAlignment:t.payload})});case"SET_ANIMATION_DURATION":return s(s({},e),{displayOptions:s(s({},e.displayOptions),{animationDuration:t.payload})});case"SET_ANIMATION_DURATION_ENABLED":return s(s({},e),{displayOptions:s(s({},e.displayOptions),{animationDurationEnabled:t.payload})});case"SET_SUPPORTED_AA_MENU_OPTIONS":return s(s({},e),{supportedAaMenuOptions:t.payload});case"SET_RENDERING_SETTINGS":return s(s({},e),{renderingSettings:s(s({},e.renderingSettings),t.payload)});case"SET_RENDERED_BOOK_METADATA":return s(s({},e),{renderedBookMetadata:t.payload});case"SET_ZOOM_PERCENT":return s(s({},e),{displayOptions:s(s({},e.displayOptions),t.payload)});case"SET_SHOW_UPSELL_WIDGET":return s(s({},e),{displayOptions:s(s({},e.displayOptions),{showUpsellWidget:t.payload})});case"SET_SCROLL_DELTA":return s(s({},e),{scrollDelta:t.payload});case"SET_LINK_OUTSIDE_RANGE":return s(s({},e),{linkOutsideRange:t.payload});default:return e}}},62022:function(e,t,n){"use strict";n.d(t,{rootReducer:function(){return d}});var i=n(14890),r=n(137),o=n(37832),s=n(57209),a=n(70411),c=n(9656),u=n(19897),l=n(36114),h=(0,i.combineReducers)({appState:c.appStateReducer,bookCard:o.bookCardReducer,buyBox:u.buyBoxReducer,chromeOverlay:r.chromeOverlayReducer,renderer:s.rendererReducer,litbBook:a.litbBookReducer}),d=function(e,t){var n;return t.type===l.ActionType.REINITIALIZE&&(null===(n=window.KindleRenderer)||void 0===n||n.shutdown(),e=void 0),h(e,t)}},95840:function(e,t,n){"use strict";n.r(t),n.d(t,{store:function(){return o}});var i=n(14890),r=n(62022),o=(0,i.createStore)(r.rootReducer)},11096:function(e,t,n){"use strict";n.d(t,{RendererOperation:function(){return i},createPaginateLatencyMetric:function(){return l},getCurrentMetrics:function(){return v},getMetricName:function(){return c},recordBookOpenMetric:function(){return g},recordPaginateLatencyMetric:function(){return h},recordReadingProgressMetric:function(){return d}});var i,r=n(37593),o=n(86379),s=n(88306),a=n.n(s);!function(e){e.API_METADATA="ApiMetadata",e.BOOK_CARD_OPEN="BookCardOpen",e.BOOK_OPEN="BookOpen",e.BOOK_OPEN_LESS_THAN_COVER="BookOpenLessThanCover",e.COVER_SHOWN="CoverShown",e.FIRST_FULL_RENDER="FirstFullRender",e.INITIAL_RENDER="InitialRender",e.LOADED_BUY_BOX="LoadedBuyBox",e.LOADED_CONTENT="LoadedContent",e.LOADED_FONTS="LoadedFonts",e.LOADED_TOC="LoadedToc",e.PAGINATION="Pagination",e.PERCEIVED_LATENCY="Perceived",e.PRELOAD_METADATA="PreloadMetadata",e.RENDERER_INITIALIZED="RendererInitialized",e.KCMS_METADATA_LOAD="KCMSMetadata",e.RECOMMENDATION_SHOVELER_ITEM_LOADED="RecShovelerItemLoaded",e.RECOMMENDATION_SHOVELER_ITEM_CLICKED="RecShovelerItemClicked",e.RECOMMENDATION_SHOVELER_COVER_CLICKED="RecShovelerCoverClicked",e.RECOMMENDATION_SHOVELER_RATING_CLICKED="RecShovelerRatingClicked",e.TOC_ITEM_CLICKED="TocItemClicked",e.TOC_PRERENDERED="TocPrerendered",e.DISPLAY_OPTIONS_PRERENDERED="DisplayOptionsPrerendered",e.SEARCH_PRERENDERED="SearchPrerendered",e.STUCCO_SCRIPT_INITIALIZATION="StuccoScriptInitialization"}(i||(i={}));var c=function(e,t){return""+function(e){switch(e){case o.LITB_RENDER_TYPE.YJHTML:return"YjHTML";case o.LITB_RENDER_TYPE.Stucco:return"Stucco";case o.LITB_RENDER_TYPE.FixedFormatImage:return"Print";case o.LITB_RENDER_TYPE.YJ:return"YjBinary";default:return""}}(t)+e},u=function(){function e(e){this.litbRenderType=o.LITB_RENDER_TYPE.Stucco,this.litbRenderType=e,this.latencyTimers=new Map}return e.prototype.getLatencyTimer=function(e){var t=this.latencyTimers.get(e);return t||(t=(0,r.createLatencyTimer)(e),this.latencyTimers.set(e,t)),t},e.prototype.deleteLatencyTimer=function(e){this.latencyTimers.delete(e)},e.prototype.startTimer=function(e){this.getLatencyTimer(e).start()},e.prototype.stopTimer=function(e){var t=this.getLatencyTimer(e);(0,r.recordLatencyMetric)(t),this.deleteLatencyTimer(e)},e.prototype.startOperation=function(e){var t=(0,r.getLatencyMetricName)(c(e,this.litbRenderType));this.startTimer(t)},e.prototype.stopOperation=function(e){var t=(0,r.getLatencyMetricName)(c(e,this.litbRenderType));this.stopTimer(t)},e.prototype.recordError=function(e){var t=(0,r.getErrorMetricName)(c(e,this.litbRenderType));(0,r.recordCountMetric)(t,1)},e.prototype.recordSuccess=function(e,t){var n=(0,r.getSuccessMetricName)(c(e,this.litbRenderType));this.recordAllFormatsBookOpenSuccess(e,t),(0,r.recordCountMetric)(n,t?1:0)},e.prototype.recordAllFormatsBookOpenSuccess=function(e,t){if(e===i.BOOK_OPEN){var n=(0,r.getSuccessMetricName)(e);(0,r.recordCountMetric)(n,t?1:0),(0,r.recordSessionsWithCountMetric)(n,t?1:0)}},e.prototype.recordCount=function(e){var t=c(e,this.litbRenderType);(0,r.recordCountMetric)(t,1)},e}(),l=function(e,t,n){if(o.LITB_RENDER_TYPE.Stucco===t){var r=e.get(n);r||(r=new u(t),e.set(n,r)),r.startOperation(i.PAGINATION)}},h=function(e,t,n){if(o.LITB_RENDER_TYPE.Stucco===t){var r=e.get(n);r&&r.stopOperation(i.PAGINATION)}},d=function(e,t,n){var i=f(e,t);p(i,n)},f=function(e,t){return Math.floor(e/(t+1)*10)},p=a()((function(e,t){if(e<10){(0,r.recordSessionsWithCountMetric)(c("ReadingProgress:"+e,t));for(var n=0;n<=e;n++)(0,r.recordSessionsWithCountMetric)(c("CumulativeReadingProgress:"+n,t))}else(0,r.recordSessionsWithCountMetric)(c("InvalidReadingProgress",t))})),g=function(e,t){new u(t).recordSuccess(i.BOOK_OPEN,e)},v=function(e,t,n){void 0===n&&(n=o.LITB_RENDER_TYPE.Stucco);var i=e.get(t);return i||(i=new u(n),e.set(t,i)),i}},38823:function(e,t,n){"use strict";n.d(t,{getAppConfig:function(){return i},getInitialKaramelToken:function(){return u},getKaramelCdnPrefetchInfo:function(){return l},hasToggleBookType:function(){return a},isBackToStoreBehaviour:function(){return c},isMarketPlaceCN:function(){return r},showBuyButton:function(){return s}});var i=function(){var e,t=window.envConfig,n="AI8E87R86GTSD",i=(null===(e=null==t?void 0:t.customerId)||void 0===e?void 0:e.length)>0?t.customerId:"NOT_LOGGED_IN";return{appVersion:2,deviceType:n,customerId:i,eelEndpoint:null==t?void 0:t.eelEndpoint,katalCloudWatchEndpoint:null==t?void 0:t.katalCloudWatchEndpoint,katalCloudWatchEndpointEmf:null==t?void 0:t.katalCloudWatchEndpointEmf,dsn:i+"00"+n,countryCode:null==t?void 0:t.countryCode,marketplaceId:null==t?void 0:t.marketplaceId,marketplaceName:null==t?void 0:t.marketplaceName,region:null==t?void 0:t.region,platform:null==t?void 0:t.platform,format:null==t?void 0:t.format,revisionId:null==t?void 0:t.revisionId,productAsin:null==t?void 0:t.productAsin,clientId:null==t?void 0:t.clientId,backButtonText:null==t?void 0:t.backButtonText,showBuyButton:null==t?void 0:t.showBuyButton,hasToggleBookType:null==t?void 0:t.hasToggleBookType,isBackToStoreBehaviour:null==t?void 0:t.isBackToStoreBehaviour,kv3Weblab:null==t?void 0:t.kv3Weblab,kv3Enabled:null==t?void 0:t.kv3Enabled,experiment:null==t?void 0:t.experiment,productCategory:null==t?void 0:t.productCategory,fixedFormat:null==t?void 0:t.fixedFormat,karamelToken:null==t?void 0:t.karamelToken,karamelCdnPrefetchInfo:null==t?void 0:t.karamelCdnPrefetchInfo}},r=function(){return"CNAmazon"===i().marketplaceName},o=function(e){var t,n;return"string"==typeof e?"true"===(null===(n=null===(t=e)||void 0===t?void 0:t.toLowerCase)||void 0===n?void 0:n.call(t)):!!e},s=function(){return o(i().showBuyButton)},a=function(){return o(i().hasToggleBookType)},c=function(){return o(i().isBackToStoreBehaviour)},u=function(){return i().karamelToken},l=function(){try{return JSON.parse(i().karamelCdnPrefetchInfo)}catch(e){return{}}}},72215:function(e,t,n){"use strict";n.r(t),n.d(t,{bookInformationFactory:function(){return s}});var i=n(62099),r=n(86379),o=n(76577),s=(0,o.memoizeWithTTL)((function(e,t,n){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){return function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){switch(o.label){case 0:return t===r.LITB_RENDER_TYPE.Stucco?[3,1]:[3,3];case 1:return[4,i.SrsClient.getBookInformation(e)];case 2:return[2,o.sent()];case 3:return[2,Promise.resolve({asin:e,revision:null!=n?n:"",contentType:"EBSP",format:a(t)})]}}))}))}),24e4),a=function(e){switch(e){case r.LITB_RENDER_TYPE.YJHTML:return"YJ_HTML";case r.LITB_RENDER_TYPE.Stucco:return"MOBI";case r.LITB_RENDER_TYPE.YJ:return"YJ";case r.LITB_RENDER_TYPE.FixedFormatImage:return"IMAGE_JPG";default:throw Error("Unsupported book format")}}},90268:function(e,t,n){"use strict";n.d(t,{buildContextForCloudWatchLog:function(){return h},buildRumConfiguration:function(){return d},getLitbOpenTimestamp:function(){return p},getPageLoadTimestamp:function(){return g},getRecentNetworkRequests:function(){return l},setLitbOpenTimestamp:function(){return f}});var i=n(33070),r=n(14705),o=n(41042),s=n(98087),a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},c=Date.now(),u=0,l=function(){var e,t,n;return null!==(n=null===(t=null===(e=window.performance)||void 0===e?void 0:e.getEntries)||void 0===t?void 0:t.call(e).map((function(e){return null==e?void 0:e.name})).filter((function(e){return null==e?void 0:e.startsWith("http")})).slice(-5))&&void 0!==n?n:[]},h=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n={}),a({error:e,requestId:(0,i.sanitizeIdForLogging)((0,r.getRequestIdFromUrl)()),sessionId:(0,i.sanitizeIdForLogging)((0,r.getSessionIdFromUrl)()),customerId:(0,i.sanitizeIdForLogging)((0,r.getCustomerIdFromUrl)()),asin:t},n)},d=function(){if(window.location.hostname===s.marketplaceInfo.FR.domain)try{new o.AwsRum("7aff977c-9019-4f2c-85ef-6acff4937aa2","1.0.0","eu-west-1",{sessionSampleRate:.85,guestRoleArn:"arn:aws:iam::934363507687:role/RUM-Monitor-eu-west-1-934363507687-5997462947761-Unauth",identityPoolId:"eu-west-1:c40e3695-1359-4576-a6ae-4327b23ed332",endpoint:"https://dataplane.rum.eu-west-1.amazonaws.com",telemetries:["performance","errors","http"],allowCookies:!0,enableXRay:!0})}catch(e){return null}return null},f=function(){return u=Date.now()},p=function(){return u},g=function(){return c}},10885:function(e,t,n){"use strict";function i(e){var t,n=document.querySelector('meta[id="'+e+'"]');return null!==(t=null==n?void 0:n.getAttribute("content"))&&void 0!==t?t:""}function r(e,t){return e["anti-csrftoken-a2z"]=i(t),e}n.d(t,{appendCsrfHeader:function(){return r},getShoppingPortalCsrfToken:function(){return i}})},11202:function(e,t,n){"use strict";n.d(t,{detectBrowser:function(){return i}});var i=function(){var e=navigator.userAgent;return e.match(/edge|edg|edgiOS|edgA/i)?"edge":e.match(/opt|opr\//i)?"opera":e.match(/firefox|fxios/i)?"firefox":e.match(/chrome|chromium|crios/i)?"chrome":e.match(/safari/i)?"safari":"unknown"}},1085:function(e,t,n){"use strict";n.d(t,{disableContentForAccessibleUsers:function(){return o},focusElement:function(){return i},focusFirstFocusableElement:function(){return r},getMarginLeftValueOfElement:function(){return c},ignoreScrollEventListener:function(){return s},setIgnoreScrollEventListener:function(){return a}});var i=function(e){document.activeElement.blur(),e.focus()},r=function(e){var t=null==e?void 0:e.querySelector('button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])');t instanceof HTMLElement&&i(t)},o=function(){var e=document.getElementById("kindle-options"),t=document.getElementById("litb-renderer"),n=document.getElementById("book-card-container");e&&e.setAttribute("aria-hidden","true"),t&&t.setAttribute("aria-hidden","true"),n&&n.setAttribute("aria-hidden","true"),setTimeout((function(){document.activeElement.blur()}),500)},s=!1,a=function(e){s=e},c=function(e){var t=e.style.marginLeft.match(/-?[0-9]+/);return t?parseInt(t[0],10):0}},18481:function(e,t,n){"use strict";n.d(t,{getK4wHostname:function(){return o},getRetailHostname:function(){return s},isRetailHostname:function(){return a}});var i=new Map([["www.amazon.com","read.amazon.com"],["www.amazon.ca","read.amazon.ca"],["www.amazon.com.br","ler.amazon.com.br"],["www.amazon.com.mx","leer.amazon.com.mx"],["www.amazon.co.jp","read.amazon.co.jp"],["www.amazon.com.au","read.amazon.com.au"],["www.amazon.co.uk ","read.amazon.co.uk"],["www.amazon.de","lesen.amazon.de"],["www.amazon.fr","lire.amazon.fr"],["www.amazon.it","leggi.amazon.it"],["www.amazon.es","leer.amazon.es"],["www.amazon.nl","lezen.amazon.nl"],["www.amazon.in","read.amazon.in"],["www.amazon.cn","read.amazon.cn"],["pre-prod.amazon.com","read-preprod.amazon.com"],["ca-pre-prod.amazon.com","read-pre-prod-ca.amazon.com"],["br-pre-prod.amazon.com","read-pre-prod-br.amazon.com"],["mx-pre-prod.amazon.com","read-pre-prod-mx.amazon.com"],["jp-pre-prod.amazon.com","read-pre-prod-jp.amazon.com"],["au-pre-prod.amazon.com","read-pre-prod-au.amazon.com"],["uk-pre-prod.amazon.com","read-pre-prod-uk.amazon.com"],["de-pre-prod.amazon.com","read-pre-prod-de.amazon.com"],["fr-pre-prod.amazon.com","read-pre-prod-fr.amazon.com"],["it-pre-prod.amazon.com","read-pre-prod-it.amazon.com"],["in-pre-prod.amazon.com","read-pre-prod-in.amazon.com"],["es-pre-prod.amazon.com","read-pre-prod-es.amazon.com"],["nl-pre-prod.amazon.com","lezen-nl-preprod.dub.xcorp.amazon.com"],["cn-pre-prod.amazon.com","read-pre-prod-cn.amazon.com"]]),r=new Map(Array.from(i,(function(e){return[e[1],e[0]]}))),o=function(e){var t;return null!==(t=i.get(e.hostname))&&void 0!==t?t:"read.amazon.com"},s=function(e){var t;return null!==(t=r.get(e.hostname))&&void 0!==t?t:"www.amazon.com"},a=function(e){return i.has(e.hostname)}},76577:function(e,t,n){"use strict";n.d(t,{memoizeWithTTL:function(){return o}});var i=n(88306),r=n.n(i),o=function(e,t){var n=0,i=r()(e);return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return Date.now()>n+t&&(i.cache=new(r().Cache),n=Date.now()),i.apply(void 0,e)}}},69339:function(e,t,n){"use strict";n.d(t,{MessageCommands:function(){return i},clearSampleDepth:function(){return p},createMessage:function(){return u},getSampleDepth:function(){return f},getTargetOrigin:function(){return l},handlePopState:function(){return w},isValidJson:function(){return y},leftOriginalProduct:function(){return m},reload:function(){return c},replaceHistoryHash:function(){return b},setSampleDepth:function(){return g},updateHash:function(){return a}});var i,r=n(27401),o=n(79390),s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};!function(e){e.CLOSE_LITB="closeLITB",e.INITIALIZE_LITB="initializeLITB",e.READY_LITB="readyLITB",e.RELOAD_LITB="reloadLITB",e.UPDATE_LITB="updateLITB",e.ACQUISITION_REDIRECT="acquisitionRedirect"}(i||(i={}));var a=function(e,t,n,i){void 0===i&&(i=!1);var o={asin:e,revisionId:t,format:n,depth:f()+1};i&&v(),(0,r.isInIframe)()||_(o),k(o)},c=function(){window.parent.postMessage(u(i.RELOAD_LITB),l())},u=function(e,t){return JSON.stringify(s({command:e},t))},l=function(){return window.location!==window.parent.location?document.referrer:document.location.href},h="sample-depth",d="left-original-product",f=function(){return parseInt(window.sessionStorage.getItem(h)||"0",10)},p=function(){window.sessionStorage.removeItem(h),window.sessionStorage.removeItem(d)},g=function(e){window.sessionStorage.setItem(h,e.toString())},v=function(){window.sessionStorage.setItem(d,"true")},m=function(){return!!window.sessionStorage.getItem(d)},y=function(e){try{return JSON.parse(e),!0}catch(e){return!1}},w=function(){k(window.location.search)},b=function(e){window.history.replaceState({},document.title,E((0,o.constructSearchParams)(e)))},_=function(e){window.history.pushState({},document.title,E((0,o.constructSearchParams)(e)))},k=function(e){window.parent.postMessage(u(i.UPDATE_LITB,{search:e}),l())},E=function(e){return window.location.origin+window.location.pathname+e+window.location.hash}},20247:function(e,t,n){"use strict";n.d(t,{getRequest:function(){return a},postRequest:function(){return s}});var i=n(68217),r=n(63721),o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},s=function(e,t){void 0===t&&(t=!0);var n={headers:new Headers(o({"Content-Type":"application/json"},e.postHeaders))};return e.postData&&(n.method="POST",n.body=JSON.stringify(e.postData)),a(e.url,n,t)},a=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=!1),c(i.getRequest(e,t),n,e)},c=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=""),e.catch((function(e){var i,o,s;switch(e.type){case"offline":(i=(0,r.createError)("NoNetworkError",e.error)).showErrorDialog=t,i.details="Failed to open ["+n+"]";break;case"connection":(i=(0,r.createError)("GenericNetworkError",e.error)).showErrorDialog=t,i.details="Failed to open ["+n+"]";break;case"abort":return i=(0,r.createError)("AbortError",e.error),Promise.reject(i);default:(i=(0,r.createError)("GenericNetworkError",e.response.statusText)).showErrorDialog=t,i.details=(o=e.response,s="",o.headers.forEach((function(e,t,n){s=s+","+t+":"+e})),"URL: ["+o.url+"]\n\n          Status Code: ["+o.status+"]\n\n          Response Type: ["+o.type+"]\n\n          Status Text: ["+o.statusText+"]\n\n          Redirected: ["+o.redirected+"]\n\n          Headers:["+s+"]")}return(0,r.logErrorThroughCSM)(i,"WARN"),(0,r.handleError)(i),Promise.reject(i)}))}},33070:function(e,t,n){"use strict";n.d(t,{sanitizeIdForLogging:function(){return i}});var i=function(e){return e?e.replace(/([^a-z0-9\-_]+)/gi,"-").substring(0,100):e}},79390:function(e,t,n){"use strict";n.d(t,{constructSearchParams:function(){return r}});var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=function(e){if(window.location.search){var t=o(window.location.search);return"?"+s(i(i({},t),e))}return"?"+s(e)},o=function(e){var t={};return new URLSearchParams(e).forEach((function(e,n){t[n]=e})),t},s=function(e){return new URLSearchParams(e).toString()}},71450:function(e,t,n){"use strict";n.d(t,{isEmptySearchResults:function(){return r},isSearchResults:function(){return i}});var i=function(e){return"results"in e},r=function(e){return"isRSXError"in e&&"totalResults"in e&&0===e.isRSXError&&0===e.totalResults}},62099:function(e,t,n){"use strict";n.d(t,{SrsClient:function(){return l}});var i=n(68217),r=n(65907),o=n(3571),s=n(38823),a=n(14705),c=n(91428),u=function(){return u=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)},l=function(){function e(){}return e.fetchStartReadingData=function(t,n,r){var o=new URLSearchParams,u=r||(0,s.getAppConfig)().countryCode;o.append("asin",t),o.append("marketplace",n||(0,s.getAppConfig)().marketplaceId),o.append("cor","UK"===u?"GB":u),o.append("clientVersion",e.CLIENT_VERSION),o.append("randval",Math.random().toString());var l=new Headers;l.set(e.DEVICE_TYPE_HEADER,e.LITB_DEVICE_TYPE);var h={headers:l},d=(0,a.getKindleForWebDomain)();return i.getRequest("https://"+d+"/"+c.startReadingURL+"?"+o.toString(),h).then((function(e){return e.json()})).then(e.firstCallSuccess)},e.firstCallSuccess=function(e){var t;if(e.downloadRestrictionReason&&e.downloadRestrictionReason.reasonCode)throw(0,r.createError)(e.downloadRestrictionReason.reasonCode,null!==(t=e.downloadRestrictionReason.reasonMessage)&&void 0!==t?t:"");return e},e.getBookInformation=function(t){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var n;return function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){switch(i.label){case 0:return[4,e.fetchStartReadingData(t).catch((function(n){throw n&&-1!==e.GEO_LOCATION_NOT_ALLOWED.indexOf(n.name)?new o.GeoLocationNotAllowed("Failed to start reading for book with asin: "+t,"Stucco"):n&&-1!==e.CONTENT_NOT_ALLOWED.indexOf(n.name)?new o.ContentNotAllowed("Failed to start reading for book with asin: "+t,"Stucco"):n&&-1!==e.CONTENT_UNSUPPORTED.indexOf(n.name)?new o.ContentUnSupported("Failed to start reading for book with asin: "+t,"Stucco"):new Error(n.message?n.message:"Failed to initialize stucco data.")}))];case 1:return delete(n=i.sent()).kindleSessionId,[2,{asin:t,revision:n.contentVersion,contentType:n.contentType,format:n.format,stuccoBookInformation:u({startReadingPosition:n.srl},n)}]}}))}))},e.LITB_DEVICE_TYPE="AI8E87R86GTSD",e.DEVICE_TYPE_HEADER="Amzn-Device-Type",e.SERVICE_WEB_ROOT="/service/web/content/",e.CLIENT_VERSION="999999999",e.GEO_LOCATION_NOT_ALLOWED="GeoLocationNotAllowed",e.CONTENT_NOT_ALLOWED="ContentNotAllowed",e.CONTENT_UNSUPPORTED="ContentUnsupported",e}()},14705:function(e,t,n){"use strict";n.d(t,{appendOptionalQueryParamToTheEnd:function(){return T},appendQueryParam:function(){return S},constructLitbUrl:function(){return P},getBackToStoreUrl:function(){return E},getClientIdFromUrl:function(){return k},getCustomerIdFromUrl:function(){return b},getInitialLitbData:function(){return C},getKindleForWebDomain:function(){return g},getProductAsinFromUrl:function(){return _},getRequestIdFromUrl:function(){return y},getSessionIdFromUrl:function(){return w},isDebug:function(){return x},openApp:function(){return I},retry:function(){return R}});var i,r=n(96915),o=n(85856),s=n(45170),a=n(86379),c=n(9731),u=n(38823),l=n(37593),h=n(79634),d=n(91428),f=n(18481);!function(e){e.Debug="isDebug",e.Format="f",e.Format_Complete="format",e.ProductAsin="pa",e.RequestId="rid",e.SessionId="sid",e.CustomerId="cid",e.RevisionId="r",e.Search="search",e.User="user",e.ClientId="clientId"}(i||(i={}));var p=function(){var e=new URL(window.location.href),t=parseInt(e.searchParams.get(i.Format_Complete)||e.searchParams.get(i.Format)||"2",10),n=a.LITB_RENDER_TYPE.Stucco;switch(t){case 1:n=a.LITB_RENDER_TYPE.YJHTML;break;case 2:n=a.LITB_RENDER_TYPE.Stucco;break;case 3:n=a.LITB_RENDER_TYPE.YJ;break;case 4:n=a.LITB_RENDER_TYPE.FixedFormatImage}return(0,r.isIE11)()&&a.LITB_RENDER_TYPE.YJHTML===n&&(n=a.LITB_RENDER_TYPE.Stucco),n},g=function(){var e=new URL(window.location.href);return(0,f.isRetailHostname)(e)?(0,f.getK4wHostname)(e):e.hostname},v=function(e){return new URL(window.location.href).searchParams.get(e)||""},m=function(e){var t;return new URL(window.location.href).searchParams.get(e)||(null===(t=document.getElementById(e))||void 0===t?void 0:t.getAttribute("data-value"))||""},y=function(){return m(i.RequestId)},w=function(){return m(i.SessionId)},b=function(){return m(i.CustomerId)},_=function(){return v(i.ProductAsin)},k=function(){return v(i.ClientId)},E=function(e){if((0,u.isBackToStoreBehaviour)()){var t=o.getRefTag("litb","stb_nodl");return o.getUrlWithRefTag(e,t)}return e},S=function(e,t,n){var i=new URL(e);return i.searchParams.set(t,n),i.href},T=function(e,t,n){return t&&n?(e.includes("?")?e+="&":e+="?",e+=t+"="+n):e},P=function(e,t,n){var r=new URL(window.location.href).searchParams;return r.set(i.Format,(0,a.formatConverter)(t).toString()),n&&r.set(i.RevisionId,n),(0,d.getBaseUrl)()+"/"+e+"?"+r.toString()},C=function(e,t,n){var r,o=(0,u.getAppConfig)();return(null==o?void 0:o.format)?{asin:e||s.getAsinFromUrl(),revisionId:null!==(r=o.revisionId)&&void 0!==r?r:"",format:O(o.format)}:{asin:e||s.getAsinFromUrl(),revisionId:t||v(i.RevisionId),format:n||p()}},x=function(){return!!v(i.Debug)},I=function(){var e=k();return!!e&&e!==c.CLIENT_ID.DPX},R=function(e,t,n){return void 0===t&&(t=5),void 0===n&&(n=1e3),new Promise((function(i,r){e().then(i).catch((function(o){setTimeout((function(){1!==t?R(e,t-1,n).then(i,r):r(o)}),n)}))}))},O=function(e){switch(e){case"1":return a.LITB_RENDER_TYPE.YJHTML;case"2":return a.LITB_RENDER_TYPE.Stucco;case"3":return a.LITB_RENDER_TYPE.YJ;case"4":return a.LITB_RENDER_TYPE.FixedFormatImage;default:return(0,l.recordCountMetric)(h.default.STUCCO_FORMAT_FALLBACK,1),a.LITB_RENDER_TYPE.Stucco}}},27401:function(e,t,n){"use strict";n.d(t,{isInIframe:function(){return i},isMShop:function(){return r}});var i=function(){return window.parent!==window},r=function(){return document.cookie.includes("amzn-app-ctxt=")}},73105:function(e,t,n){"use strict";n.d(t,{Authentication:function(){return l}});var i=n(10504),r=n(44358),o=n(78778),s=n(35622),a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},u=function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l=function(){function e(e){var t=this;this.ChainAnonymousCredentialsProvider=function(){return c(t,void 0,void 0,(function(){return u(this,(function(e){return[2,this.AnonymousCredentialsProvider().catch(this.AnonymousStorageCredentialsProvider).catch(this.AnonymousCognitoCredentialsProvider)]}))}))},this.AnonymousCredentialsProvider=function(){return c(t,void 0,void 0,(function(){var e=this;return u(this,(function(t){return[2,new Promise((function(t,n){if(e.renewCredentials())return n();t(e.credentials)}))]}))}))},this.AnonymousStorageCredentialsProvider=function(){return c(t,void 0,void 0,(function(){var e=this;return u(this,(function(t){return[2,new Promise((function(t,n){var i;try{i=JSON.parse(localStorage.getItem(s.CRED_KEY))}catch(e){return n()}if(e.credentials=a(a({},i),{expiration:new Date(i.expiration)}),e.renewCredentials())return n();e.credentials=i,t(i)}))]}))}))},this.AnonymousCognitoCredentialsProvider=function(){return c(t,void 0,void 0,(function(){var e=this;return u(this,(function(t){return[2,this.cognitoIdentityClient.getId({IdentityPoolId:this.config.identityPoolId}).then((function(t){return e.cognitoIdentityClient.getOpenIdToken(t)})).then((function(t){return e.stsClient.assumeRoleWithWebIdentity({RoleArn:e.config.guestRoleArn,RoleSessionName:"cwr",WebIdentityToken:t.Token})})).then((function(t){e.credentials=t;try{localStorage.setItem(s.CRED_KEY,JSON.stringify(t))}catch(e){}return t}))]}))}))};var n=e.identityPoolId.split(":")[0];this.config=e,this.stsClient=new o.StsClient({fetchRequestHandler:new r.FetchHttpHandler,region:n}),this.cognitoIdentityClient=new i.CognitoIdentityClient({fetchRequestHandler:new r.FetchHttpHandler,region:n})}return e.prototype.renewCredentials=function(){if(!this.credentials||!this.credentials.expiration)return!0;var e=new Date(this.credentials.expiration.getTime()-s.CRED_RENEW_MS);return new Date>e},e}()},28554:function(e,t,n){"use strict";n.d(t,{BeaconHttpHandler:function(){return o}});var i=n(99391),r=n(94073),o=function(){function e(){}return e.prototype.handle=function(e){var t=this.sendBeacon(e);return new Promise((function(e,n){t?e({response:new i.HttpResponse({statusCode:200})}):n()}))},e.prototype.sendBeacon=function(e){var t=e.path;if(e.query){var n=(0,r.buildQueryString)(e.query);n&&(t+="?".concat(n))}var i=e.port,o="".concat(e.protocol,"//").concat(e.hostname).concat(i?":".concat(i):"").concat(t);return navigator.sendBeacon(o,e.body)},e}()},10504:function(e,t,n){"use strict";n.d(t,{CognitoIdentityClient:function(){return c},fromCognitoIdentityPool:function(){return a}});var i=n(99391),r=n(13880),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},s=function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=function(e){return function(){return e.client.getCredentialsForIdentity(e.identityPoolId)}},c=function(e){var t=this;this.getId=function(e){return o(t,void 0,void 0,(function(){var t,n,i,o;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),t=JSON.stringify(e),n=this.getHttpRequest("AWSCognitoIdentityService.GetId",t),[4,this.fetchRequestHandler.handle(n)];case 1:return i=s.sent().response,[4,(0,r.responseToJson)(i)];case 2:return[2,s.sent()];case 3:throw o=s.sent(),new Error("CWR: Failed to retrieve Cognito identity: ".concat(o));case 4:return[2]}}))}))},this.getOpenIdToken=function(e){return o(t,void 0,void 0,(function(){var t,n,i,o;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),t=JSON.stringify(e),n=this.getHttpRequest("AWSCognitoIdentityService.GetOpenIdToken",t),[4,this.fetchRequestHandler.handle(n)];case 1:return i=s.sent().response,[4,(0,r.responseToJson)(i)];case 2:return[2,s.sent()];case 3:throw o=s.sent(),new Error("CWR: Failed to retrieve Cognito OpenId token: ".concat(o));case 4:return[2]}}))}))},this.getCredentialsForIdentity=function(e){return o(t,void 0,void 0,(function(){var t,n,i,o,a,c,u,l,h;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),t=JSON.stringify({IdentityId:e}),n=this.getHttpRequest("AWSCognitoIdentityService.GetCredentialsForIdentity",t),[4,this.fetchRequestHandler.handle(n)];case 1:return i=s.sent().response,[4,(0,r.responseToJson)(i)];case 2:return o=s.sent().Credentials,a=o.AccessKeyId,c=o.Expiration,u=o.SecretAccessKey,l=o.SessionToken,[2,{accessKeyId:a,secretAccessKey:u,sessionToken:l,expiration:new Date(1e3*c)}];case 3:throw h=s.sent(),new Error("CWR: Failed to retrieve credentials for Cognito identity: ".concat(h));case 4:return[2]}}))}))},this.getHttpRequest=function(e,n){return new i.HttpRequest({method:"POST",headers:{"content-type":"application/x-amz-json-1.1","x-amz-target":e},protocol:"https:",hostname:t.hostname,body:n})},this.hostname="cognito-identity.".concat(e.region,".amazonaws.com"),this.fetchRequestHandler=e.fetchRequestHandler}},29642:function(e,t,n){"use strict";n.d(t,{DataPlaneClient:function(){return h}});var i=n(73538),r=n(21070),o=n(41938),s=n(99391),a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},u=function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l={expiresIn:60},h=function(e){var t=this;this.sendFetch=function(e){return c(t,void 0,void 0,(function(){var t,n;return u(this,(function(i){switch(i.label){case 0:return[4,this.getHttpRequestOptions(e,"application/json")];case 1:return t=i.sent(),n=new s.HttpRequest(t),this.awsSigV4?[4,this.awsSigV4.sign(n)]:[3,3];case 2:n=i.sent(),i.label=3;case 3:return[2,this.config.fetchRequestHandler.handle(n)]}}))}))},this.sendBeacon=function(e){return c(t,void 0,void 0,(function(){var t,n;return u(this,(function(i){switch(i.label){case 0:return[4,this.getHttpRequestOptions(e,"text/plain;charset=UTF-8")];case 1:return t=i.sent(),n=new s.HttpRequest(t),this.awsSigV4?[4,this.awsSigV4.presign(n,l)]:[3,3];case 2:n=i.sent(),i.label=3;case 3:return[2,this.config.beaconRequestHandler.handle(n)]}}))}))},this.getHttpRequestOptions=function(e,n){return c(t,void 0,void 0,(function(){var t,i,r,o,s,c,l,h;return u(this,(function(u){switch(u.label){case 0:return t=JSON.stringify(d(e)),i=this.config.endpoint.pathname.replace(/\/$/,""),r={method:"POST",protocol:this.config.endpoint.protocol,headers:{"content-type":n,host:this.config.endpoint.host},hostname:this.config.endpoint.hostname,path:"".concat(i,"/appmonitors/").concat(e.AppMonitorDetails.id),body:t},this.awsSigV4?(o=[a({},r)],l={},s=[a({},r.headers)],h={},c="X-Amz-Content-Sha256",[4,p(t)]):[3,2];case 1:return[2,a.apply(void 0,o.concat([(l.headers=a.apply(void 0,s.concat([(h[c]=u.sent(),h)])),l)]))];case 2:return[2,r]}}))}))},this.config=e,e.credentials&&(this.awsSigV4=new r.SignatureV4({applyChecksum:!0,credentials:e.credentials,region:e.region,service:"rum",uriEscapePath:!0,sha256:o.Sha256}))},d=function(e){var t=[];return e.RumEvents.forEach((function(e){return t.push(f(e))})),{BatchId:e.BatchId,AppMonitorDetails:e.AppMonitorDetails,UserDetails:e.UserDetails,RumEvents:t}},f=function(e){return{id:e.id,timestamp:Math.round(e.timestamp.getTime()/1e3),type:e.type,metadata:e.metadata,details:e.details}},p=function(e){return c(void 0,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return(t=new o.Sha256).update(e),n=i.toHex,[4,t.digest()];case 1:return[2,n.apply(void 0,[r.sent()]).toLowerCase()]}}))}))}},7877:function(e,t,n){"use strict";n.d(t,{Dispatch:function(){return h}});var i=n(29642),r=n(28554),o=n(76216),s=n(31404),a=n(74699),c=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},u=function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l="CWR: Cannot dispatch; no AWS credentials.",h=function(){function e(e,t,n,s){var h=this;this.dispatchFetch=function(){return c(h,void 0,void 0,(function(){return u(this,(function(e){return this.doRequest()?[2,this.rum.sendFetch(this.createRequest()).catch(this.handleReject)]:[2]}))}))},this.dispatchBeacon=function(){return c(h,void 0,void 0,(function(){var e,t=this;return u(this,(function(n){return this.doRequest()?(e=this.createRequest(),[2,this.rum.sendBeacon(e).catch((function(){return t.rum.sendFetch(e)}))]):[2]}))}))},this.dispatchFetchFailSilent=function(){return c(h,void 0,void 0,(function(){return u(this,(function(e){return[2,this.dispatchFetch().catch((function(){}))]}))}))},this.dispatchBeaconFailSilent=function(){return c(h,void 0,void 0,(function(){return u(this,(function(e){return[2,this.dispatchBeacon().catch((function(){}))]}))}))},this.handleReject=function(e){throw h.disable(),e},this.defaultClientBuilder=function(e,t,n){return new i.DataPlaneClient({fetchRequestHandler:new a.RetryHttpHandler(new o.FetchHttpHandler({fetchFunction:h.config.fetchFunction}),h.config.retries),beaconRequestHandler:new r.BeaconHttpHandler,endpoint:e,region:t,credentials:n})},this.region=e,this.endpoint=t,this.eventCache=n,this.enabled=!0,this.buildClient=s.clientBuilder||this.defaultClientBuilder,this.config=s,this.startDispatchTimer(),s.signing?this.rum={sendFetch:function(){return Promise.reject(new Error(l))},sendBeacon:function(){return Promise.reject(new Error(l))}}:this.rum=this.buildClient(this.endpoint,this.region,void 0)}return e.prototype.enable=function(){this.enabled=!0,this.startDispatchTimer()},e.prototype.disable=function(){this.stopDispatchTimer(),this.enabled=!1},e.prototype.setAwsCredentials=function(e){this.rum=this.buildClient(this.endpoint,this.region,e),"function"==typeof e&&e()},e.prototype.startDispatchTimer=function(){document.addEventListener("visibilitychange",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),document.addEventListener("pagehide",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),this.config.dispatchInterval<=0||this.dispatchTimerId||(this.dispatchTimerId=window.setInterval(this.dispatchFetchFailSilent,this.config.dispatchInterval))},e.prototype.stopDispatchTimer=function(){document.removeEventListener("visibilitychange",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),document.removeEventListener("pagehide",this.config.useBeacon?this.dispatchBeaconFailSilent:this.dispatchFetchFailSilent),this.dispatchTimerId&&(window.clearInterval(this.dispatchTimerId),this.dispatchTimerId=void 0)},e.prototype.doRequest=function(){return this.enabled&&this.eventCache.hasEvents()},e.prototype.createRequest=function(){return{BatchId:(0,s.v4)(),AppMonitorDetails:this.eventCache.getAppMonitorDetails(),UserDetails:this.eventCache.getUserDetails(),RumEvents:this.eventCache.getEventBatch()}},e}()},95607:function(e,t,n){"use strict";n.d(t,{EnhancedAuthentication:function(){return c}});var i=n(10504),r=n(44358),o=n(35622),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},a=function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=function(){function e(e){var t=this;this.ChainAnonymousCredentialsProvider=function(){return s(t,void 0,void 0,(function(){return a(this,(function(e){return[2,this.AnonymousCredentialsProvider().catch(this.AnonymousStorageCredentialsProvider).catch(this.AnonymousCognitoCredentialsProvider)]}))}))},this.AnonymousCredentialsProvider=function(){return s(t,void 0,void 0,(function(){var e=this;return a(this,(function(t){return[2,new Promise((function(t,n){if(e.renewCredentials())return n();t(e.credentials)}))]}))}))},this.AnonymousStorageCredentialsProvider=function(){return s(t,void 0,void 0,(function(){var e=this;return a(this,(function(t){return[2,new Promise((function(t,n){var i;try{i=JSON.parse(localStorage.getItem(o.CRED_KEY))}catch(e){n()}if(i.expiration=new Date(i.expiration),e.credentials=i,e.renewCredentials())return n();e.credentials=i,t(i)}))]}))}))},this.AnonymousCognitoCredentialsProvider=function(){return s(t,void 0,void 0,(function(){var e=this;return a(this,(function(t){return[2,(0,i.fromCognitoIdentityPool)({client:this.cognitoIdentityClient,identityPoolId:this.config.identityPoolId})().then((function(t){e.credentials=t;try{localStorage.setItem(o.CRED_KEY,JSON.stringify(t))}catch(e){}return t}))]}))}))};var n=e.identityPoolId.split(":")[0];this.config=e,this.cognitoIdentityClient=new i.CognitoIdentityClient({fetchRequestHandler:new r.FetchHttpHandler,region:n})}return e.prototype.renewCredentials=function(){if(!this.credentials||!this.credentials.expiration)return!0;var e=new Date(this.credentials.expiration.getTime()-o.CRED_RENEW_MS);return new Date>e},e}()},76216:function(e,t,n){"use strict";n.d(t,{FetchHttpHandler:function(){return s}});var i=n(99391),r=n(94073),o=n(66386),s=function(){function e(e){var t=void 0===e?{}:e,n=t.fetchFunction,i=t.requestTimeout;this.requestTimeout=i,this.fetchFunction=n}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,s=this.requestTimeout;if(null==n?void 0:n.aborted){var a=new Error("Request aborted");return a.name="AbortError",Promise.reject(a)}var c=e.path;if(e.query){var u=(0,r.buildQueryString)(e.query);u&&(c+="?".concat(u))}var l=e.port,h=e.method,d="".concat(e.protocol,"//").concat(e.hostname).concat(l?":".concat(l):"").concat(c),f={body:"GET"===h||"HEAD"===h?void 0:e.body,headers:new Headers(e.headers),method:h};"undefined"!=typeof AbortController&&(f.signal=n);var p=new Request(d,f),g=[this.fetchFunction.apply(window,[p]).then((function(e){for(var t=e.headers,n={},r=0,o=t.entries();r<o.length;r++){var s=o[r];n[s[0]]=s[1]}return void 0!==e.body?{response:new i.HttpResponse({headers:n,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new i.HttpResponse({headers:n,statusCode:e.status,body:t})}}))})),(0,o.requestTimeout)(s)];return n&&g.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(g)},e}()},74699:function(e,t,n){"use strict";n.d(t,{RetryHttpHandler:function(){return o}});var i=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=function(){function e(e,t,n){void 0===n&&(n=function(e){return 2e3*e}),this.isStatusCode2xx=function(e){return e>=200&&e<300},this.handler=e,this.retries=t,this.backoff=n}return e.prototype.handle=function(e){return i(this,void 0,void 0,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:t=this.retries,r.label=1;case 1:r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.handler.handle(e)];case 3:if(n=r.sent(),this.isStatusCode2xx(n.response.statusCode))return[2,n];throw new Error("".concat(n.response.statusCode));case 4:if(i=r.sent(),!t)throw i;return t--,[4,this.sleep(this.backoff(this.retries-t))];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return[2]}}))}))},e.prototype.sleep=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))},e}()},78778:function(e,t,n){"use strict";n.d(t,{StsClient:function(){return s}});var i=n(99391),r=n(13880),o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},s=function(e){var t=this;this.assumeRoleWithWebIdentity=function(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t,n,s,a,c,u;return function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),t=o(o({},e),{Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),n=new URLSearchParams(Object.entries(t)).toString(),s=new i.HttpRequest({method:"POST",headers:{"content-type":"application/x-www-form-urlencoded",host:this.hostname},protocol:"https:",hostname:this.hostname,body:n}),[4,this.fetchRequestHandler.handle(s)];case 1:return a=l.sent().response,[4,(0,r.responseToString)(a)];case 2:return[2,{accessKeyId:(c=l.sent()).split("<AccessKeyId>")[1].split("</AccessKeyId>")[0],secretAccessKey:c.split("<SecretAccessKey>")[1].split("</SecretAccessKey>")[0],sessionToken:c.split("<SessionToken>")[1].split("</SessionToken>")[0],expiration:new Date(c.split("<Expiration>")[1].split("</Expiration>")[0])}];case 3:throw u=l.sent(),new Error("CWR: Failed to retrieve credentials from STS: ".concat(u));case 4:return[2]}}))}))},this.hostname="sts.".concat(e.region,".amazonaws.com"),this.fetchRequestHandler=e.fetchRequestHandler}},66386:function(e,t,n){"use strict";n.d(t,{requestTimeout:function(){return i}});var i=function(e){return void 0===e&&(e=0),new Promise((function(t,n){e&&setTimeout((function(){var t=new Error("Request did not complete within ".concat(e," ms"));t.name="TimeoutError",n(t)}),e)}))}},13880:function(e,t,n){"use strict";n.d(t,{responseToJson:function(){return o},responseToString:function(){return s}});var i=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=function(e){return i(void 0,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return[4,e.body.getReader().read()];case 1:return t=n.sent().value,[2,JSON.parse(String.fromCharCode.apply(null,t))]}}))}))},s=function(e){return i(void 0,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return[4,e.body.getReader().read()];case 1:return t=n.sent().value,[2,String.fromCharCode.apply(null,t)]}}))}))}},13946:function(e,t,n){"use strict";n.d(t,{XhrError:function(){return o}});var i,r=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t){var n=e.call(this,t)||this;return n.name="XMLHttpRequest error",n}return r(t,e),t}(Error)},57772:function(e,t,n){"use strict";n.d(t,{EventCache:function(){return a}});var i=n(47367),r=n(31404),o=n(4743),s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)},a=function(){function e(e,t){var n=this;this.events=[],this.recordPageView=function(e){n.isCurrentUrlAllowed()&&n.pageManager.recordPageView(e)},this.recordEvent=function(e,t){if(n.enabled&&n.isCurrentUrlAllowed()){var i=n.sessionManager.getSession();n.sessionManager.incrementSessionEventCount(),n.canRecord(i)&&n.addRecordToCache(e,t)}},this.getSession=function(){if(n.isCurrentUrlAllowed())return n.sessionManager.getSession()},this.recordSessionInitEvent=function(e,t,i){n.enabled&&(n.sessionManager.incrementSessionEventCount(),n.canRecord(e)&&n.addRecordToCache(t,i))},this.canRecord=function(e){return e.record&&(e.eventCount<=n.config.sessionEventLimit||n.config.sessionEventLimit<=0)},this.addRecordToCache=function(e,t){if(n.enabled){n.events.length===n.config.eventCacheSize&&n.events.shift();var i=s(s(s({},n.sessionManager.getAttributes()),n.pageManager.getAttributes()),{version:"1.0.0","aws:client":n.installationMethod,"aws:clientVersion":"1.13.7"});n.events.push({details:JSON.stringify(t),id:(0,r.v4)(),metadata:JSON.stringify(i),timestamp:new Date,type:e})}},this.appMonitorDetails=e,this.config=t,this.enabled=!0,this.pageManager=new o.PageManager(t,this.recordEvent),this.sessionManager=new i.SessionManager(e,t,this.recordSessionInitEvent,this.pageManager),this.installationMethod=t.client}return e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.hasEvents=function(){return 0!==this.events.length},e.prototype.getEventBatch=function(){var e=[];return 0===this.events.length||(this.events.length<=this.config.batchLimit?(e=this.events,this.events=[]):e=this.events.splice(0,this.config.batchLimit)),e},e.prototype.getAppMonitorDetails=function(){return this.appMonitorDetails},e.prototype.getUserDetails=function(){return{userId:this.sessionManager.getUserId(),sessionId:this.sessionManager.getSession().sessionId}},e.prototype.addSessionAttributes=function(e){this.sessionManager.addSessionAttributes(e)},e.prototype.isCurrentUrlAllowed=function(){var e=document.location.toString(),t=this.config.pagesToExclude.some((function(t){return t.test(e)}));return this.config.pagesToInclude.some((function(t){return t.test(e)}))&&!t},e}()},41042:function(e,t,n){"use strict";n.d(t,{AwsRum:function(){return i.Orchestration}});var i=n(91215)},91215:function(e,t,n){"use strict";n.d(t,{Orchestration:function(){return E},PageIdFormatEnum:function(){return r}});var i,r,o=n(73105),s=n(95607),a=n(66303),c=n(8384),u=n(6903),l=n(57772),h=n(7877),d=n(95428),f=n(20298),p=n(85463),g=n(75682),v=n(78295),m=n(43428),y=n(35622),w=function(){return w=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},w.apply(this,arguments)},b=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},_="us-west-2",k="https://dataplane.rum.".concat(_,".amazonaws.com");!function(e){e.Errors="errors",e.Performance="performance",e.Interaction="interaction",e.Http="http"}(i||(i={})),function(e){e.Path="PATH",e.Hash="HASH",e.PathAndHash="PATH_AND_HASH"}(r||(r={}));var E=function(){function e(e,t,n,i){void 0===i&&(i={});var o=i.cookieAttributes,s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(i,["cookieAttributes"]);void 0===n&&(n="us-west-2");var a=w(w({},{unique:!1,domain:window.location.hostname,path:"/",sameSite:"Strict",secure:!0}),o);this.config=w(w({fetchFunction:fetch},function(e){return{allowCookies:!1,batchLimit:100,client:y.INSTALL_MODULE,cookieAttributes:e,disableAutoPageView:!1,dispatchInterval:5e3,enableRumClient:!0,enableXRay:!1,endpoint:k,endpointUrl:new URL(k),eventCacheSize:200,eventPluginsToLoad:[],pageIdFormat:r.Path,pagesToExclude:[],pagesToInclude:[/.*/],signing:!0,recordResourceUrl:!0,retries:2,routeChangeComplete:100,routeChangeTimeout:1e4,sessionAttributes:{},sessionEventLimit:200,sessionLengthSeconds:1800,sessionSampleRate:1,telemetries:[],useBeacon:!0,userIdRetentionDays:30}}(a)),s),this.config.endpoint=this.getDataPlaneEndpoint(n,s),this.config.endpointUrl=new URL(this.config.endpoint),this.eventCache=this.initEventCache(e,t),this.dispatchManager=this.initDispatch(n),this.pluginManager=this.initPluginManager(e,t),this.config.enableRumClient?this.enable():this.disable()}return e.prototype.setAwsCredentials=function(e){this.dispatchManager.setAwsCredentials(e)},e.prototype.addSessionAttributes=function(e){this.eventCache.addSessionAttributes(e)},e.prototype.addPlugin=function(e){this.pluginManager.addPlugin(e)},e.prototype.dispatch=function(){this.dispatchManager.dispatchFetch()},e.prototype.dispatchBeacon=function(){this.dispatchManager.dispatchBeacon()},e.prototype.enable=function(){this.eventCache.enable(),this.pluginManager.enable(),this.dispatchManager.enable()},e.prototype.disable=function(){this.dispatchManager.disable(),this.pluginManager.disable(),this.eventCache.disable()},e.prototype.allowCookies=function(e){this.config.allowCookies=e},e.prototype.recordPageView=function(e){this.eventCache.recordPageView(e)},e.prototype.recordError=function(e){this.pluginManager.record(u.JS_ERROR_EVENT_PLUGIN_ID,e)},e.prototype.registerDomEvents=function(e){this.pluginManager.updatePlugin(c.DOM_EVENT_PLUGIN_ID,e)},e.prototype.recordEvent=function(e,t){this.eventCache.recordEvent(e,t)},e.prototype.initEventCache=function(e,t){return new l.EventCache({id:e,version:t},this.config)},e.prototype.initDispatch=function(e){var t=new h.Dispatch(e,this.config.endpointUrl,this.eventCache,this.config);return this.config.identityPoolId&&this.config.guestRoleArn?t.setAwsCredentials(new o.Authentication(this.config).ChainAnonymousCredentialsProvider):this.config.identityPoolId&&t.setAwsCredentials(new s.EnhancedAuthentication(this.config).ChainAnonymousCredentialsProvider),t},e.prototype.initPluginManager=function(e,t){var n=this.constructBuiltinPlugins(),i=b(b([],n,!0),this.config.eventPluginsToLoad,!0),r={applicationId:e,applicationVersion:t,config:this.config,record:this.eventCache.recordEvent,recordPageView:this.eventCache.recordPageView,getSession:this.eventCache.getSession},o=new a.PluginManager(r);return this.config.disableAutoPageView||o.addPlugin(new m.PageViewPlugin),i.forEach((function(e){o.addPlugin(e)})),o},e.prototype.constructBuiltinPlugins=function(){var e=[],t=this.telemetryFunctor();return this.config.telemetries.forEach((function(n){"string"==typeof n&&t[n.toLowerCase()]?e=b(b([],e,!0),t[n.toLowerCase()]({}),!0):Array.isArray(n)&&t[n[0].toLowerCase()]&&(e=b(b([],e,!0),t[n[0].toLowerCase()](n[1]),!0))})),e},e.prototype.getDataPlaneEndpoint=function(e,t){return t.endpoint?t.endpoint:k.replace(_,e)},e.prototype.telemetryFunctor=function(){var e;return(e={})[i.Errors]=function(e){return[new u.JsErrorPlugin(e)]},e[i.Performance]=function(e){return[new d.NavigationPlugin,new f.ResourcePlugin(e),new p.WebVitalsPlugin]},e[i.Interaction]=function(e){return[new c.DomEventPlugin(e)]},e[i.Http]=function(e){return[new g.XhrPlugin(e),new v.FetchPlugin(e)]},e},e}()},62658:function(e,t,n){"use strict";n.d(t,{InternalPlugin:function(){return r}});var i=n(21869),r=function(){function e(t){this.enabled=!0,this.pluginId=e.generatePluginId(t)}return e.generatePluginId=function(t){return"".concat(e.idPrefix,".").concat(t)},e.prototype.load=function(e){var t;this.context=e,null===(t=this.onload)||void 0===t||t.call(this)},e.prototype.getPluginId=function(){return this.pluginId},e.idPrefix=i.RUM_AWS_PREFIX,e}()},21062:function(e,t,n){"use strict";n.d(t,{MonkeyPatched:function(){return a}});var i,r=n(76372),o=n(62658),s=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enable=t.patch.bind(t,!0),t.disable=t.patch.bind(t,!1),t.enabled=!1,t}return s(t,e),t.prototype.patchAll=function(){for(var e=r.wrap.bind(r),t=0,n=this.patches;t<n.length;t++){var i=n[t];e(i.nodule,i.name,i.wrapper())}},t.prototype.unpatchAll=function(){for(var e=r.unwrap.bind(r),t=0,n=this.patches;t<n.length;t++){var i=n[t];e(i.nodule,i.name)}},t.prototype.patch=function(e){void 0===e&&(e=!0),this.enabled!==e&&(this.enabled=e,e?this.patchAll():this.unpatchAll())},t}(o.InternalPlugin)},66303:function(e,t,n){"use strict";n.d(t,{PluginManager:function(){return r}});var i=n(62658),r=function(){function e(e){this.context=e,this.plugins=new Map}return e.prototype.addPlugin=function(e){var t=e.getPluginId();if(this.hasPlugin(t))throw new Error('Plugin "'.concat(t,'" already defined in the PluginManager'));this.plugins.set(t,e),e.load(this.context)},e.prototype.updatePlugin=function(e,t){var n,i=this.getPlugin(e);null===(n=null==i?void 0:i.update)||void 0===n||n.call(i,t)},e.prototype.enable=function(){this.plugins.forEach((function(e){return e.enable()}))},e.prototype.disable=function(){this.plugins.forEach((function(e){return e.disable()}))},e.prototype.hasPlugin=function(e){return Boolean(this.getPlugin(e))},e.prototype.record=function(e,t){var n=this.getPlugin(e);if(!((null==n?void 0:n.record)instanceof Function))throw new Error("AWS RUM Client record: Invalid plugin ID");n.record(t)},e.prototype.getPlugin=function(e){var t;return null!==(t=this.plugins.get(e))&&void 0!==t?t:this.plugins.get(i.InternalPlugin.generatePluginId(e))},e}()},8384:function(e,t,n){"use strict";n.d(t,{DOM_EVENT_PLUGIN_ID:function(){return c},DomEventPlugin:function(){return l}});var i,r=n(62658),o=n(21869),s=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},c="dom-event",u={interactionId:function(){return""},enableMutationObserver:!1,events:[]},l=function(e){function t(t){var n=e.call(this,c)||this;return n.enabled=!1,n.eventListenerMap=new Map,n.config=a(a({},u),t),n}return s(t,e),t.getElementInfo=function(e){var t={name:"UNKNOWN"};return e.target instanceof Node&&(t.name=e.target.nodeName),e.target instanceof Element&&e.target.id&&(t.id=e.target.id),t},t.prototype.enable=function(){var e=this;"complete"===document.readyState?this.enabled||(this.addListeners(),this.config.enableMutationObserver&&this.observeDOMMutation(),this.enabled=!0):window.addEventListener("load",(function(){return e.enable()}))},t.prototype.disable=function(){this.enabled&&(this.removeListeners(),this.observer&&this.observer.disconnect(),this.enabled=!1)},t.prototype.update=function(e){var t=this;e.forEach((function(e){t.addEventHandler(e),t.config.events.push(e)}))},t.prototype.onload=function(){this.enable()},t.prototype.removeListeners=function(){var e=this;this.config.events.forEach((function(t){return e.removeEventHandler(t)}))},t.prototype.addListeners=function(){var e=this;this.config.events.forEach((function(t){return e.addEventHandler(t)}))},t.prototype.getEventListener=function(e){var n=this;return function(i){var r,s=t.getElementInfo(i),c=n.config.interactionId(i),u=a(a(a({version:"1.1.0",event:i.type,element:s.name},s.id?{elementId:s.id}:{}),c?{interactionId:c}:{}),e?{cssLocator:e}:{});(null===(r=n.context)||void 0===r?void 0:r.record)&&n.context.record(o.DOM_EVENT_TYPE,u)}},t.prototype.addEventHandler=function(e){var t=e.event,n=this.getEventListener(e.cssLocator),i=[],r=this.eventListenerMap.has(e)?this.eventListenerMap.get(e):[];if(e.cssLocator)document.querySelectorAll(e.cssLocator).forEach((function(e){i.push(e)}));else if(e.elementId){var o=document.getElementById(e.elementId);o&&i.push(o)}else e.element&&i.push(e.element);i.forEach((function(e){e.addEventListener(t,n),r.push({element:e,eventListener:n})})),this.eventListenerMap.set(e,r)},t.prototype.removeEventHandler=function(e){var t=this.eventListenerMap.get(e);t&&(t.forEach((function(t){var n=t.element,i=t.eventListener;n.removeEventListener(e.event,i)})),this.eventListenerMap.delete(e))},t.prototype.observeDOMMutation=function(){var e=this;this.observer=new MutationObserver((function(){e.removeListeners(),e.addListeners()})),this.observer.observe(document,{childList:!0,subtree:!0})},t}(r.InternalPlugin)},78295:function(e,t,n){"use strict";n.d(t,{FetchPlugin:function(){return l}});var i,r=n(21062),o=n(3263),s=n(21869),a=n(8349),c=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(){return u=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)},l=function(e){function t(t){var n=e.call(this,"fetch")||this;return n.isTracingEnabled=function(){return n.context.config.enableXRay},n.isSessionRecorded=function(){var e;return(null===(e=n.context.getSession())||void 0===e?void 0:e.record)||!1},n.beginTrace=function(e,t,i){var r=(0,o.epochTime)(),s=(0,o.createXRayTraceEventHttp)(e,t,!0),a=(0,o.createXRayTraceEvent)(n.config.logicalServiceName,r),c=(0,o.createXRaySubsegment)((0,o.requestInfoToHostname)(e),r,s);return a.subsegments.push(c),n.config.addXRayTraceIdHeader&&n.addXRayTraceIdHeader(e,t,i,a),a},n.addXRayTraceIdHeader=function(e,t,n,i){if(e.headers)return(0,o.addAmznTraceIdHeaderToHeaders)(e.headers,i.trace_id,i.subsegments[0].id);t||(t={},[].push.call(n,t)),(0,o.addAmznTraceIdHeaderToInit)(t,i.trace_id,i.subsegments[0].id)},n.endTrace=function(e,t,i){if(e){var r=(0,o.epochTime)();if(e.subsegments[0].end_time=r,e.end_time=r,t){e.subsegments[0].http.response={status:t.status},(0,o.is429)(t.status)?(e.subsegments[0].throttle=!0,e.throttle=!0):(0,o.is4xx)(t.status)?(e.subsegments[0].error=!0,e.error=!0):(0,o.is5xx)(t.status)&&(e.subsegments[0].fault=!0,e.fault=!0);var c=t.headers.get("Content-Length"),u=c?parseInt(c,10):NaN;isNaN(u)||(e.subsegments[0].http.response.content_length=u)}i&&(e.fault=!0,e.subsegments[0].fault=!0,i instanceof Object?n.appendErrorCauseFromObject(e.subsegments[0],i):(0,a.isErrorPrimitive)(i)&&n.appendErrorCauseFromPrimitive(e.subsegments[0],i.toString())),n.context.record(s.XRAY_TRACE_EVENT_TYPE,e)}},n.createHttpEvent=function(e,t){var n=e;return{version:"1.0.0",request:{url:(0,o.resourceToUrlString)(e),method:(null==t?void 0:t.method)?t.method:n.method?n.method:"GET"}}},n.recordHttpEventWithResponse=function(e,t){!n.config.recordAllRequests&&t.ok||(e.response={status:t.status,statusText:t.statusText},n.context.record(s.HTTP_EVENT_TYPE,e))},n.recordHttpEventWithError=function(e,t){e.error=(0,a.errorEventToJsErrorEvent)({type:"error",error:t},n.config.stackTraceLength),n.context.record(s.HTTP_EVENT_TYPE,e)},n.fetch=function(e,t,i,r,s){var a,c=n.createHttpEvent(r,s);return(0,o.isUrlAllowed)((0,o.resourceToUrlString)(r),n.config)?(n.isTracingEnabled()&&n.isSessionRecorded()&&(a=n.beginTrace(r,s,i)),e.apply(t,i).then((function(e){return n.endTrace(a,e,void 0),n.recordHttpEventWithResponse(c,e),e})).catch((function(e){throw n.endTrace(a,void 0,e),n.recordHttpEventWithError(c,e),e}))):e.apply(t,i)},n.fetchWrapper=function(){var e=n;return function(t){return function(n,i){return e.fetch(t,this,arguments,n,i)}}},n.config=u(u({},o.defaultConfig),t),n}return c(t,e),Object.defineProperty(t.prototype,"patches",{get:function(){return[{nodule:window,name:"fetch",wrapper:this.fetchWrapper}]},enumerable:!1,configurable:!0}),t.prototype.onload=function(){this.enable()},t.prototype.appendErrorCauseFromPrimitive=function(e,t){e.cause={exceptions:[{type:t}]}},t.prototype.appendErrorCauseFromObject=function(e,t){e.cause={exceptions:[{type:t.name,message:t.message}]}},t}(r.MonkeyPatched)},6903:function(e,t,n){"use strict";n.d(t,{JS_ERROR_EVENT_PLUGIN_ID:function(){return u},JsErrorPlugin:function(){return h}});var i,r=n(62658),o=n(21869),s=n(8349),a=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){return c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)},u="js-error",l={stackTraceLength:1e3,ignore:function(){return!1}},h=function(e){function t(t){var n=e.call(this,u)||this;return n.eventHandler=function(e){n.config.ignore(e)||n.recordJsErrorEvent(e)},n.promiseRejectEventHandler=function(e){n.config.ignore(e)||n.recordJsErrorEvent({type:e.type,error:e.reason})},n.config=c(c({},l),t),n}return a(t,e),t.prototype.enable=function(){this.enabled||(this.addEventHandler(),this.enabled=!0)},t.prototype.disable=function(){this.enabled&&(this.removeEventHandler(),this.enabled=!1)},t.prototype.record=function(e){e instanceof ErrorEvent?this.recordJsErrorEvent(e):this.recordJsErrorEvent({type:"error",error:e})},t.prototype.onload=function(){this.addEventHandler()},t.prototype.recordJsErrorEvent=function(e){var t;null===(t=this.context)||void 0===t||t.record(o.JS_ERROR_EVENT_TYPE,(0,s.errorEventToJsErrorEvent)(e,this.config.stackTraceLength))},t.prototype.addEventHandler=function(){window.addEventListener("error",this.eventHandler),window.addEventListener("unhandledrejection",this.promiseRejectEventHandler)},t.prototype.removeEventHandler=function(){window.removeEventListener("error",this.eventHandler),window.removeEventListener("unhandledrejection",this.promiseRejectEventHandler)},t}(r.InternalPlugin)},95428:function(e,t,n){"use strict";n.d(t,{NavigationPlugin:function(){return u}});var i,r=n(62658),o=n(21869),s=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a="navigation",c="load",u=function(e){function t(){var t=e.call(this,"navigation")||this;return t.eventListener=function(){0===performance.getEntriesByType(a).length?t.performanceNavigationEventHandlerTimingLevel1():new PerformanceObserver((function(e){e.getEntries().forEach((function(e){e.entryType===a&&t.performanceNavigationEventHandlerTimingLevel2(e)}))})).observe({entryTypes:[a]})},t.performanceNavigationEventHandlerTimingLevel1=function(){setTimeout((function(){var e,n=performance.timing,i=n.navigationStart,r={version:"1.0.0",initiatorType:"navigation",startTime:0,unloadEventStart:n.unloadEventStart>0?n.unloadEventStart-i:0,promptForUnload:n.unloadEventEnd-n.unloadEventStart,redirectStart:n.redirectStart>0?n.redirectStart-i:0,redirectTime:n.redirectEnd-n.redirectStart,fetchStart:n.fetchStart>0?n.fetchStart-i:0,domainLookupStart:n.domainLookupStart>0?n.domainLookupStart-i:0,dns:n.domainLookupEnd-n.domainLookupStart,connectStart:n.connectStart>0?n.connectStart-i:0,connect:n.connectEnd-n.connectStart,secureConnectionStart:n.secureConnectionStart>0?n.secureConnectionStart-i:0,tlsTime:n.secureConnectionStart>0?n.connectEnd-n.secureConnectionStart:0,requestStart:n.requestStart>0?n.requestStart-i:0,timeToFirstByte:n.responseStart-n.requestStart,responseStart:n.responseStart>0?n.responseStart-i:0,responseTime:n.responseStart>0?n.responseEnd-n.responseStart:0,domInteractive:n.domInteractive>0?n.domInteractive-i:0,domContentLoadedEventStart:n.domContentLoadedEventStart>0?n.domContentLoadedEventStart-i:0,domContentLoaded:n.domContentLoadedEventEnd-n.domContentLoadedEventStart,domComplete:n.domComplete>0?n.domComplete-i:0,domProcessingTime:n.loadEventStart-n.responseEnd,loadEventStart:n.loadEventStart>0?n.loadEventStart-i:0,loadEventTime:n.loadEventEnd-n.loadEventStart,duration:n.loadEventEnd-n.navigationStart,navigationTimingLevel:1};(null===(e=t.context)||void 0===e?void 0:e.record)&&t.context.record(o.PERFORMANCE_NAVIGATION_EVENT_TYPE,r)}),0)},t.performanceNavigationEventHandlerTimingLevel2=function(e){var n,i={version:"1.0.0",initiatorType:e.initiatorType,navigationType:e.type,startTime:e.startTime,unloadEventStart:e.unloadEventStart,promptForUnload:e.unloadEventEnd-e.unloadEventStart,redirectCount:e.redirectCount,redirectStart:e.redirectStart,redirectTime:e.redirectEnd-e.redirectStart,workerStart:e.workerStart,workerTime:e.workerStart>0?e.fetchStart-e.workerStart:0,fetchStart:e.fetchStart,domainLookupStart:e.domainLookupStart,dns:e.domainLookupEnd-e.domainLookupStart,nextHopProtocol:e.nextHopProtocol,connectStart:e.connectStart,connect:e.connectEnd-e.connectStart,secureConnectionStart:e.secureConnectionStart,tlsTime:e.secureConnectionStart>0?e.connectEnd-e.secureConnectionStart:0,requestStart:e.requestStart,timeToFirstByte:e.responseStart-e.requestStart,responseStart:e.responseStart,responseTime:e.responseStart>0?e.responseEnd-e.responseStart:0,domInteractive:e.domInteractive,domContentLoadedEventStart:e.domContentLoadedEventStart,domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,domComplete:e.domComplete,domProcessingTime:e.loadEventStart-e.responseEnd,loadEventStart:e.loadEventStart,loadEventTime:e.loadEventEnd-e.loadEventStart,duration:e.duration,headerSize:e.transferSize-e.encodedBodySize,transferSize:e.transferSize,compressionRatio:e.encodedBodySize>0?e.decodedBodySize/e.encodedBodySize:0,navigationTimingLevel:2};(null===(n=t.context)||void 0===n?void 0:n.record)&&t.context.record(o.PERFORMANCE_NAVIGATION_EVENT_TYPE,i)},t}return s(t,e),t.prototype.enable=function(){this.enabled||(this.enabled=!0,window.addEventListener(c,this.eventListener))},t.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.eventListener&&window.removeEventListener(c,this.eventListener))},t.prototype.hasTheWindowLoadEventFired=function(){if(window.performance&&window.performance.getEntriesByType(a).length){var e=window.performance.getEntriesByType(a)[0];return Boolean(e.loadEventEnd)}return!1},t.prototype.onload=function(){if(this.enabled)if(this.hasTheWindowLoadEventFired()){var e=window.performance.getEntriesByType(a)[0];this.performanceNavigationEventHandlerTimingLevel2(e)}else window.addEventListener(c,this.eventListener)},t}(r.InternalPlugin)},43428:function(e,t,n){"use strict";n.d(t,{PageViewPlugin:function(){return a}});var i,r=n(91215),o=n(21062),s=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(){var t=e.call(this,"page-view")||this;return t.pushState=function(){var e=t;return function(t){return function(n,i,r){var o=t.apply(this,arguments);return e.recordPageView(),o}}},t.replaceState=function(){var e=t;return function(t){return function(n,i,r){var o=t.apply(this,arguments);return e.recordPageView(),o}}},t.popstateListener=function(e){t.recordPageView()},t.recordPageView=function(){t.context.recordPageView(t.createIdForCurrentPage())},t.enable(),t}return s(t,e),t.prototype.onload=function(){this.addListener(),this.recordPageView()},Object.defineProperty(t.prototype,"patches",{get:function(){return[{nodule:History.prototype,name:"pushState",wrapper:this.pushState},{nodule:History.prototype,name:"replaceState",wrapper:this.replaceState}]},enumerable:!1,configurable:!0}),t.prototype.addListener=function(){window.addEventListener("popstate",this.popstateListener)},t.prototype.createIdForCurrentPage=function(){var e=window.location.pathname,t=window.location.hash;switch(this.context.config.pageIdFormat){case r.PageIdFormatEnum.PathAndHash:return e&&t?e+t:e||t||"";case r.PageIdFormatEnum.Hash:return t||"";case r.PageIdFormatEnum.Path:default:return e||""}},t}(o.MonkeyPatched)},20298:function(e,t,n){"use strict";n.d(t,{ResourcePlugin:function(){return d}});var i,r=n(62658),o=n(7333),s=n(21869),a=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){return c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)},u="resource",l="load",h={eventLimit:10,recordAllTypes:[o.ResourceType.DOCUMENT,o.ResourceType.SCRIPT],sampleTypes:[o.ResourceType.STYLESHEET,o.ResourceType.IMAGE,o.ResourceType.FONT,o.ResourceType.OTHER]},d=function(e){function t(t){var n=e.call(this,"resource")||this;return n.resourceEventListener=function(e){var t=[],i=[],r=0,s=new PerformanceObserver((function(e){e.getEntries().filter((function(e){return e.entryType===u})).forEach((function(e){var r=(0,o.getResourceFileType)(e.name);n.config.recordAllTypes.includes(r)?t.push(e):n.config.sampleTypes.includes(r)&&i.push(e)}))}));s.observe({entryTypes:[u]});var a=performance.getEntriesByType(u);for(void 0!==a&&a.length>0&&a.forEach((function(e){var r=(0,o.getResourceFileType)(e.name);n.config.recordAllTypes.includes(r)?t.push(e):n.config.sampleTypes.includes(r)&&i.push(e)})),(0,o.shuffle)(t);t.length>0&&r<n.config.eventLimit;)n.recordResourceEvent(t.pop()),r++;for((0,o.shuffle)(i);i.length>0&&r<n.config.eventLimit;)n.recordResourceEvent(i.pop()),r++},n.recordResourceEvent=function(e){var t,i=new URL(e.name);if((i.host!==n.context.config.endpointUrl.host||!/.*\/application\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\/events/.test(i.pathname))&&(null===(t=n.context)||void 0===t?void 0:t.record)){var r={version:"1.0.0",initiatorType:e.initiatorType,duration:e.duration,fileType:(0,o.getResourceFileType)(e.name),transferSize:e.transferSize};n.context.config.recordResourceUrl&&(r.targetUrl=e.name),n.context.record(s.PERFORMANCE_RESOURCE_EVENT_TYPE,r)}},n.config=c(c({},h),t),n}return a(t,e),t.prototype.enable=function(){this.enabled||(this.enabled=!0,window.addEventListener(l,this.resourceEventListener))},t.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.resourceEventListener&&window.removeEventListener(l,this.resourceEventListener))},t.prototype.onload=function(){window.addEventListener(l,this.resourceEventListener)},t}(r.InternalPlugin)},85463:function(e,t,n){"use strict";n.d(t,{WebVitalsPlugin:function(){return c}});var i,r=n(62658),o=n(38085),s=n(21869),a=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(){return e.call(this,"web-vitals")||this}return a(t,e),t.prototype.enable=function(){},t.prototype.disable=function(){},t.prototype.configure=function(e){},t.prototype.getWebVitalData=function(e,t){var n,i={version:"1.0.0",value:e.value};null===(n=this.context)||void 0===n||n.record(t,i)},t.prototype.onload=function(){var e=this;(0,o.onLCP)((function(t){return e.getWebVitalData(t,s.LCP_EVENT_TYPE)})),(0,o.onFID)((function(t){return e.getWebVitalData(t,s.FID_EVENT_TYPE)})),(0,o.onCLS)((function(t){return e.getWebVitalData(t,s.CLS_EVENT_TYPE)}))},t}(r.InternalPlugin)},75682:function(e,t,n){"use strict";n.d(t,{XhrPlugin:function(){return h}});var i,r=n(21062),o=n(3263),s=n(13946),a=n(21869),c=n(8349),u=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){return l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)},h=function(e){function t(t){var n=e.call(this,"xhr")||this;return n.addXRayTraceIdHeader=function(){return n.config.addXRayTraceIdHeader},n.isTracingEnabled=function(){return n.context.config.enableXRay},n.isSessionRecorded=function(){var e;return(null===(e=n.context.getSession())||void 0===e?void 0:e.record)||!1},n.handleXhrLoadEvent=function(e){var t=e.target,i=n.xhrMap.get(t);if(i){var r=(0,o.epochTime)();i.trace.end_time=r,i.trace.subsegments[0].end_time=r,i.trace.subsegments[0].http.response={status:t.status},(0,o.is429)(t.status)?(i.trace.subsegments[0].throttle=!0,i.trace.throttle=!0):(0,o.is4xx)(t.status)?(i.trace.subsegments[0].error=!0,i.trace.error=!0):(0,o.is5xx)(t.status)&&(i.trace.subsegments[0].fault=!0,i.trace.fault=!0);var s=t.getResponseHeader("Content-Length"),a=s?parseInt(s,10):NaN;isNaN(a)||(i.trace.subsegments[0].http.response.content_length=a),n.recordTraceEvent(i.trace),n.recordHttpEventWithResponse(i,t)}},n.handleXhrErrorEvent=function(e){var t=e.target,i=n.xhrMap.get(t),r=t.statusText?t.status.toString()+": "+t.statusText:t.status.toString();if(i){var a=(0,o.epochTime)();i.trace.fault=!0,i.trace.end_time=a,i.trace.subsegments[0].end_time=a,i.trace.subsegments[0].fault=!0,i.trace.subsegments[0].cause={exceptions:[{type:"XMLHttpRequest error",message:r}]},n.recordTraceEvent(i.trace),n.recordHttpEventWithError(i,new s.XhrError(r))}},n.handleXhrAbortEvent=function(e){var t=e.target,i=n.xhrMap.get(t);n.handleXhrDetailsOnError(i,"XMLHttpRequest abort")},n.handleXhrTimeoutEvent=function(e){var t=e.target,i=n.xhrMap.get(t);n.handleXhrDetailsOnError(i,"XMLHttpRequest timeout")},n.initializeTrace=function(e){var t=(0,o.epochTime)();e.trace=(0,o.createXRayTraceEvent)(n.config.logicalServiceName,t),e.trace.subsegments.push((0,o.createXRaySubsegment)((0,o.requestInfoToHostname)(e.url),t,{request:{method:e.method,url:e.url,traced:!0}}))},n.sendWrapper=function(){var e=n;return function(t){return function(){var n=e.xhrMap.get(this);return n&&(this.addEventListener("load",e.handleXhrLoadEvent),this.addEventListener("error",e.handleXhrErrorEvent),this.addEventListener("abort",e.handleXhrAbortEvent),this.addEventListener("timeout",e.handleXhrTimeoutEvent),e.initializeTrace(n),e.isTracingEnabled()&&e.addXRayTraceIdHeader()&&e.isSessionRecorded()&&this.setRequestHeader(o.X_AMZN_TRACE_ID,(0,o.getAmznTraceIdHeaderValue)(n.trace.trace_id,n.trace.subsegments[0].id))),t.apply(this,arguments)}}},n.openWrapper=function(){var e=n;return function(t){return function(n,i,r){return(0,o.isUrlAllowed)(i,e.config)&&e.xhrMap.set(this,{url:i,method:n,async:r}),t.apply(this,arguments)}}},n.config=l(l({},o.defaultConfig),t),n.xhrMap=new Map,n}return u(t,e),t.prototype.onload=function(){this.enable()},Object.defineProperty(t.prototype,"patches",{get:function(){return[{nodule:XMLHttpRequest.prototype,name:"send",wrapper:this.sendWrapper},{nodule:XMLHttpRequest.prototype,name:"open",wrapper:this.openWrapper}]},enumerable:!1,configurable:!0}),t.prototype.handleXhrDetailsOnError=function(e,t){if(e){var n=(0,o.epochTime)();e.trace.end_time=n,e.trace.subsegments[0].end_time=n,e.trace.subsegments[0].error=!0,e.trace.subsegments[0].cause={exceptions:[{type:t}]},this.recordTraceEvent(e.trace),this.recordHttpEventWithError(e,t)}},t.prototype.statusOk=function(e){return e>=200&&e<300},t.prototype.recordHttpEventWithResponse=function(e,t){!this.config.recordAllRequests&&this.statusOk(t.status)||this.context.record(a.HTTP_EVENT_TYPE,{version:"1.0.0",request:{method:e.method,url:e.url},response:{status:t.status,statusText:t.statusText}})},t.prototype.recordHttpEventWithError=function(e,t){var n={version:"1.0.0",request:{method:e.method,url:e.url}};n.error=(0,c.errorEventToJsErrorEvent)({type:"error",error:t},this.config.stackTraceLength),this.context.record(a.HTTP_EVENT_TYPE,n)},t.prototype.recordTraceEvent=function(e){this.isTracingEnabled()&&this.isSessionRecorded()&&this.context.record(a.XRAY_TRACE_EVENT_TYPE,e)},t}(r.MonkeyPatched)},21869:function(e,t,n){"use strict";n.d(t,{CLS_EVENT_TYPE:function(){return u},DOM_EVENT_TYPE:function(){return d},FID_EVENT_TYPE:function(){return c},HTTP_EVENT_TYPE:function(){return o},JS_ERROR_EVENT_TYPE:function(){return f},LCP_EVENT_TYPE:function(){return a},PAGE_VIEW_EVENT_TYPE:function(){return p},PERFORMANCE_NAVIGATION_EVENT_TYPE:function(){return l},PERFORMANCE_RESOURCE_EVENT_TYPE:function(){return h},RUM_AWS_PREFIX:function(){return r},XRAY_TRACE_EVENT_TYPE:function(){return s}});var i="com.amazon.rum",r="com.amazonaws.rum",o="".concat(i,".http_event"),s="".concat(i,".xray_trace_event"),a="".concat(i,".largest_contentful_paint_event"),c="".concat(i,".first_input_delay_event"),u="".concat(i,".cumulative_layout_shift_event"),l="".concat(i,".performance_navigation_event"),h="".concat(i,".performance_resource_event"),d="".concat(i,".dom_event"),f="".concat(i,".js_error_event"),p="".concat(i,".page_view_event");"".concat(i,".session_start_event")},3263:function(e,t,n){"use strict";n.d(t,{X_AMZN_TRACE_ID:function(){return s},addAmznTraceIdHeaderToHeaders:function(){return y},addAmznTraceIdHeaderToInit:function(){return m},createXRaySubsegment:function(){return g},createXRayTraceEvent:function(){return p},createXRayTraceEventHttp:function(){return f},defaultConfig:function(){return a},epochTime:function(){return d},getAmznTraceIdHeaderValue:function(){return w},is429:function(){return l},is4xx:function(){return c},is5xx:function(){return u},isUrlAllowed:function(){return h},requestInfoToHostname:function(){return v},resourceToUrlString:function(){return b}});for(var i=n(85873),r=[],o=0;o<256;o++)r[o]=(o+256).toString(16).substr(1);var s="X-Amzn-Trace-Id",a={logicalServiceName:"rum.aws.amazon.com",urlsToInclude:[/.*/],urlsToExclude:[/cognito\-identity\.([^\.]*\.)?amazonaws\.com/,/sts\.([^\.]*\.)?amazonaws\.com/],stackTraceLength:200,recordAllRequests:!1,addXRayTraceIdHeader:!1},c=function(e){return 4===Math.floor(e/100)},u=function(e){return 5===Math.floor(e/100)},l=function(e){return 429===e},h=function(e,t){var n=t.urlsToInclude.some((function(t){return t.test(e)})),i=t.urlsToExclude.some((function(t){return t.test(e)}));return n&&!i},d=function(){return Date.now()/1e3},f=function(e,t,n){var i={request:{}};return i.request.method=(null==t?void 0:t.method)?t.method:"GET",i.request.traced=n,i.request.url=b(e),i},p=function(e,t,n){var i={version:"1.0.0",name:e,origin:"AWS::RUM::AppMonitor",id:k(),start_time:t,trace_id:_(),end_time:void 0,subsegments:[],in_progress:!1};return n&&(i.http=n),i},g=function(e,t,n){var i={id:k(),name:e,start_time:t,end_time:void 0,in_progress:!1,namespace:e.endsWith("amazonaws.com")?"aws":"remote"};return n&&(i.http=n),i},v=function(e){try{return e.hostname?e.hostname:e.url?new URL(e.url).hostname:new URL(e.toString()).hostname}catch(e){return window.location.hostname}},m=function(e,t,n){e.headers||(e.headers={}),e.headers[s]=w(t,n)},y=function(e,t,n){e.set(s,w(t,n))},w=function(e,t){return"Root="+e+";Parent="+t+";Sampled=1"},b=function(e){return e.url?e.url:e.toString()},_=function(){return"1-".concat(E(),"-").concat(S())},k=function(){var e=new Uint8Array(8);return(0,i.getRandomValues)(e),T(e)},E=function(){return Math.floor(Date.now()/1e3).toString(16)},S=function(){var e=new Uint8Array(12);return(0,i.getRandomValues)(e),T(e)},T=function(e){for(var t="",n=0;n<e.length;n++)t+=r[e[n]];return t}},8349:function(e,t,n){"use strict";n.d(t,{errorEventToJsErrorEvent:function(){return r},isErrorPrimitive:function(){return i}});var i=function(e){return e!==Object(e)&&null!=e},r=function(e,t){var n=function(e){var t={version:"1.0.0",type:"undefined",message:"undefined"};return void 0!==e.type&&(t.type=e.type),void 0!==e.message&&(t.message=e.message),void 0!==e.filename&&(t.filename=e.filename),void 0!==e.lineno&&(t.lineno=e.lineno),void 0!==e.colno&&(t.colno=e.colno),t}(e),r=e.error;return function(e){var t=typeof e;return("object"===t||"function"===t)&&!!e}(r)?function(e,t,n){t.name&&(e.type=t.name),t.message&&(e.message=t.message),t.fileName&&(e.filename=t.fileName),t.lineNumber&&(e.lineno=t.lineNumber),t.columnNumber&&(e.colno=t.columnNumber),n&&t.stack&&(e.stack=t.stack.length>n?t.stack.substring(0,n)+"...":t.stack)}(n,r,t):i(r)&&function(e,t){"unhandledrejection"!==e.type&&(e.type=t.toString()),e.message=t.toString()}(n,r),n}},4743:function(e,t,n){"use strict";n.d(t,{PageManager:function(){return s}});var i=n(46525),r=n(21869),o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},s=function(){function e(e,t){this.TIMEOUT=1e3,this.config=e,this.record=t,this.page=void 0,this.resumed=!1,this.recordInteraction=!1,this.virtualPageLoadTimer=new i.VirtualPageLoadTimer(this,e,t)}return e.prototype.getPage=function(){return this.page},e.prototype.getAttributes=function(){return this.attributes},e.prototype.resumeSession=function(e){this.recordInteraction=!0,e&&(this.page=e,this.resumed=!0)},e.prototype.recordPageView=function(e){var t;if(t="string"==typeof e?e:e.pageId,this.useCookies()&&(this.recordInteraction=!0),this.page){if(this.page.pageId===t)return this.resumed?void this.collectAttributes(this.page,"object"==typeof e?e:void 0):void 0;this.createNextPage(this.page,t)}else this.createLandingPage(t);this.collectAttributes(this.page,"object"==typeof e?e:void 0),this.recordPageViewEvent(this.page)},e.prototype.createNextPage=function(e,t){var n=Date.now(),i=this.virtualPageLoadTimer.latestInteractionTime;!this.resumed&&n-i<=this.TIMEOUT&&(n=i,this.virtualPageLoadTimer.startTiming()),this.timeOnParentPage=n-e.start,this.resumed=!1,this.page={pageId:t,parentPageId:e.pageId,interaction:e.interaction+1,referrer:document.referrer,referrerDomain:this.getDomainFromReferrer(),start:n}},e.prototype.createLandingPage=function(e){this.page={pageId:e,interaction:0,referrer:document.referrer,referrerDomain:this.getDomainFromReferrer(),start:Date.now()}},e.prototype.collectAttributes=function(e,t){this.attributes={title:document.title,pageId:e.pageId},this.recordInteraction&&(this.attributes.interaction=e.interaction,void 0!==e.parentPageId&&(this.attributes.parentPageId=e.parentPageId)),(null==t?void 0:t.pageTags)&&(this.attributes.pageTags=t.pageTags),(null==t?void 0:t.pageAttributes)&&(this.attributes=o(o({},t.pageAttributes),this.attributes))},e.prototype.createPageViewEvent=function(e){var t={version:"1.0.0",pageId:e.pageId};return this.recordInteraction&&(t.interaction=e.interaction,t.pageInteractionId=e.pageId+"-"+e.interaction,void 0!==e.parentPageId&&(t.parentPageInteractionId=e.parentPageId+"-"+(e.interaction-1),t.timeOnParentPage=this.timeOnParentPage),t.referrer=document.referrer,t.referrerDomain=this.getDomainFromReferrer()),t},e.prototype.recordPageViewEvent=function(e){this.record(r.PAGE_VIEW_EVENT_TYPE,this.createPageViewEvent(e))},e.prototype.useCookies=function(){return navigator.cookieEnabled&&this.config.allowCookies},e.prototype.getDomainFromReferrer=function(){try{return new URL(document.referrer).hostname}catch(e){return"localhost"===document.referrer?document.referrer:""}},e}()},47367:function(e,t,n){"use strict";n.d(t,{SessionManager:function(){return l}});var i=n(37762),r=n(31404),o=n(42238),s=n(35622),a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},c="00000000-0000-0000-0000-000000000000",u="unknown",l=function(){function e(e,t,n,i){this.appMonitorDetails=e,this.config=t,this.record=n,this.pageManager=i,this.session={sessionId:c,record:this.sample(),eventCount:0},this.initializeUser(),this.collectAttributes(),this.addSessionAttributes(this.config.sessionAttributes),this.getSessionFromCookie()}return e.prototype.getSession=function(){return(this.session.sessionId===c||this.session.sessionId!==c&&new Date>this.sessionExpiry)&&this.createSession(),this.session},e.prototype.getAttributes=function(){return this.attributes},e.prototype.addSessionAttributes=function(e){this.attributes=a(a({},e),this.attributes)},e.prototype.getUserId=function(){return this.useCookies()?this.userId:c},e.prototype.incrementSessionEventCount=function(){this.session.eventCount++,this.renewSession()},e.prototype.initializeUser=function(){var e="";this.userExpiry=new Date,this.userExpiry.setDate(this.userExpiry.getDate()+this.config.userIdRetentionDays),this.config.userIdRetentionDays<=0?this.userId="00000000-0000-0000-0000-000000000000":this.useCookies()?(e=this.getUserIdCookie(),this.userId=e||(0,r.v4)(),this.createOrRenewUserCookie(e,this.userExpiry)):this.userId=(0,r.v4)()},e.prototype.createOrRenewSessionCookie=function(e,t){btoa&&(0,i.storeCookie)(this.sessionCookieName(),btoa(JSON.stringify(e)),this.config.cookieAttributes,void 0,t)},e.prototype.createOrRenewUserCookie=function(e,t){(0,i.storeCookie)(s.USER_COOKIE_NAME,e,this.config.cookieAttributes,void 0,t)},e.prototype.getUserIdCookie=function(){return(0,i.getCookie)(s.USER_COOKIE_NAME)},e.prototype.getSessionFromCookie=function(){if(this.useCookies()){var e=(0,i.getCookie)(this.sessionCookieName());if(e&&atob)try{this.session=JSON.parse(atob(e)),this.pageManager.resumeSession(this.session.page)}catch(e){}}},e.prototype.storeSessionAsCookie=function(){this.useCookies()&&this.config.userIdRetentionDays>0&&this.createOrRenewUserCookie(this.userId,this.userExpiry),this.useCookies()&&this.createOrRenewSessionCookie(this.session,this.sessionExpiry)},e.prototype.createSession=function(){this.session={sessionId:(0,r.v4)(),record:this.sample(),eventCount:0},this.session.page=this.pageManager.getPage(),this.sessionExpiry=new Date((new Date).getTime()+1e3*this.config.sessionLengthSeconds),this.storeSessionAsCookie(),this.record(this.session,"com.amazon.rum.session_start_event",{version:"1.0.0"})},e.prototype.renewSession=function(){this.sessionExpiry=new Date((new Date).getTime()+1e3*this.config.sessionLengthSeconds),this.session.page=this.pageManager.getPage(),this.storeSessionAsCookie()},e.prototype.collectAttributes=function(){var e=new o.UAParser(navigator.userAgent).getResult();this.attributes={browserLanguage:navigator.language,browserName:e.browser.name?e.browser.name:u,browserVersion:e.browser.version?e.browser.version:u,osName:e.os.name?e.os.name:u,osVersion:e.os.version?e.os.version:u,deviceType:e.device.type?e.device.type:"desktop",platformType:"web",domain:window.location.hostname}},e.prototype.useCookies=function(){return navigator.cookieEnabled&&this.config.allowCookies},e.prototype.sample=function(){return Math.random()<this.config.sessionSampleRate},e.prototype.sessionCookieName=function(){return this.config.cookieAttributes.unique?"".concat(s.SESSION_COOKIE_NAME,"_").concat(this.appMonitorDetails.id):s.SESSION_COOKIE_NAME},e}()},46525:function(e,t,n){"use strict";n.d(t,{VirtualPageLoadTimer:function(){return a}});var i,r=n(21869),o=n(21062),s=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(t,n,i){var r=e.call(this,"virtual-page-load-timer")||this;return r.sendWrapper=function(){var e=r;return function(t){return function(){return e.recordXhr(this),this.addEventListener("loadend",e.endTracking),t.apply(this,arguments)}}},r.endTracking=function(e){var t=Date.now(),n=e.target;n.removeEventListener("loadend",r.endTracking),r.removeXhr(n,t)},r.fetch=function(e,t,n){return e.apply(t,n).catch((function(e){throw e})).finally(r.decrementFetchCounter)},r.fetchWrapper=function(){var e=r;return function(t){return function(n,i){return e.fetchCounter+=1,e.fetch(t,this,arguments)}}},r.decrementFetchCounter=function(){r.isPageLoaded||(r.latestEndTime=Date.now()),r.fetchCounter-=1},r.checkLoadStatus=function(){0===r.ongoingRequests.size&&0===r.fetchCounter&&(clearInterval(r.periodicCheckerId),clearTimeout(r.timeoutCheckerId),r.domMutationObserver.disconnect(),r.recordRouteChangeNavigationEvent(r.pageManager.getPage()),r.periodicCheckerId=void 0,r.timeoutCheckerId=void 0,r.isPageLoaded=!0)},r.declareTimeout=function(){clearInterval(r.periodicCheckerId),r.periodicCheckerId=void 0,r.timeoutCheckerId=void 0,r.domMutationObserver.disconnect(),r.isPageLoaded=!0},r.resetInterval=function(){r.latestEndTime=Date.now(),clearInterval(r.periodicCheckerId),r.periodicCheckerId=setInterval(r.checkLoadStatus,r.config.routeChangeComplete)},r.moveItemsFromBuffer=function(e){r.ongoingRequests.add(e)},r.updateLatestInteractionTime=function(e){r.latestInteractionTime=Date.now()},r.periodicCheckerId=void 0,r.timeoutCheckerId=void 0,r.domMutationObserver=new MutationObserver(r.resetInterval),r.ongoingRequests=new Set,r.requestBuffer=new Set,r.fetchCounter=0,r.isPageLoaded=!0,r.latestEndTime=0,r.latestInteractionTime=0,r.config=n,r.pageManager=t,r.record=i,r.enable(),document.addEventListener("mousedown",r.updateLatestInteractionTime),document.addEventListener("keydown",r.updateLatestInteractionTime),r}return s(t,e),Object.defineProperty(t.prototype,"patches",{get:function(){return[{nodule:XMLHttpRequest.prototype,name:"send",wrapper:this.sendWrapper},{nodule:window,name:"fetch",wrapper:this.fetchWrapper}]},enumerable:!1,configurable:!0}),t.prototype.startTiming=function(){this.latestEndTime=Date.now(),this.periodicCheckerId&&clearInterval(this.periodicCheckerId),this.timeoutCheckerId&&clearTimeout(this.timeoutCheckerId),this.domMutationObserver.disconnect(),this.periodicCheckerId=setInterval(this.checkLoadStatus,this.config.routeChangeComplete),this.timeoutCheckerId=setTimeout(this.declareTimeout,this.config.routeChangeTimeout),this.domMutationObserver.observe(document,{subtree:!0,childList:!0,attributes:!1,characterData:!1}),this.isPageLoaded=!1,this.requestBuffer.forEach(this.moveItemsFromBuffer),this.requestBuffer.clear()},t.prototype.recordXhr=function(e){this.pageManager.getPage()&&!1===this.isPageLoaded?this.ongoingRequests.add(e):this.requestBuffer.add(e)},t.prototype.removeXhr=function(e,t){this.pageManager.getPage()&&this.ongoingRequests.has(e)?(this.ongoingRequests.delete(e),this.latestEndTime=t):this.requestBuffer.has(e)&&this.requestBuffer.delete(e)},t.prototype.recordRouteChangeNavigationEvent=function(e){var t={version:"1.0.0",initiatorType:"route_change",navigationType:"navigate",startTime:e.start,duration:this.latestEndTime-e.start};this.record&&this.record(r.PERFORMANCE_NAVIGATION_EVENT_TYPE,t)},t}(o.MonkeyPatched)},7333:function(e,t,n){"use strict";var i;n.d(t,{ResourceType:function(){return i},getResourceFileType:function(){return s},shuffle:function(){return o}}),function(e){e.OTHER="other",e.STYLESHEET="stylesheet",e.DOCUMENT="document",e.SCRIPT="script",e.IMAGE="image",e.FONT="font"}(i||(i={}));var r=[{name:i.STYLESHEET,list:["css","less"]},{name:i.DOCUMENT,list:["htm","html","ts","doc","docx","pdf","xls","xlsx"]},{name:i.SCRIPT,list:["js"]},{name:i.IMAGE,list:["ai","bmp","gif","ico","jpeg","jpg","png","ps","psd","svg","tif","tiff"]},{name:i.FONT,list:["fnt","fon","otf","ttf","woff"]}],o=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}},s=function(e){var t=e.substring(e.lastIndexOf("/")+1),n=t.substring(t.lastIndexOf(".")+1).split(/[?#]/)[0],o=i.OTHER;return r.forEach((function(e){e.list.indexOf(n)>-1&&(o=e.name)})),o}},35622:function(e,t,n){"use strict";n.d(t,{CRED_KEY:function(){return i},CRED_RENEW_MS:function(){return s},INSTALL_MODULE:function(){return a},SESSION_COOKIE_NAME:function(){return r},USER_COOKIE_NAME:function(){return o}});var i="cwr_c",r="cwr_s",o="cwr_u",s=3e4,a="arw-module"},37762:function(e,t,n){"use strict";n.d(t,{getCookie:function(){return o},storeCookie:function(){return i}});var i=function(e,t,n,i,o){var s=e+"=";s+=t||"",void 0!==o?s+="; Expires=".concat(o.toUTCString()):void 0!==i&&(s+="; Expires=".concat(r(i).toUTCString())),s+="; Domain=".concat(n.domain),s+="; Path=".concat(n.path),s+="; SameSite=".concat(n.sameSite),s+=n.secure?"; Secure":"",document.cookie=s},r=function(e){return new Date((new Date).getTime()+1e3*e)},o=function(e){for(var t=0,n=document.cookie.split("; ");t<n.length;t++){var i=n[t].split("=");if(i[0]===e)return i[1]}return""}},85873:function(e,t,n){"use strict";n.d(t,{getRandomValues:function(){return i}});var i=function(e){if(crypto)return crypto.getRandomValues(e);if(msCrypto)return msCrypto.getRandomValues(e);throw new Error("No crypto library found.")}},31404:function(e,t,n){"use strict";n.d(t,{v4:function(){return i.default}});var i=n(68168)},63675:function(e,t){"use strict";const n="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:n}},21985:function(e,t,n){"use strict";let i;n.d(t,{default:function(){return o}});const r=new Uint8Array(16);function o(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},34794:function(e,t,n){"use strict";n.d(t,{unsafeStringify:function(){return r}});const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function r(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}},68168:function(e,t,n){"use strict";var i=n(63675),r=n(21985),o=n(34794);t.default=function(e,t,n){if(i.default.randomUUID&&!t&&!e)return i.default.randomUUID();const s=(e=e||{}).random||(e.rng||r.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return(0,o.unsafeStringify)(s)}},9669:function(e,t,n){e.exports=n(51609)},55448:function(e,t,n){"use strict";var i=n(64867),r=n(36026),o=n(4372),s=n(15327),a=n(94097),c=n(84109),u=n(67985),l=n(85061);e.exports=function(e){return new Promise((function(t,n){var h=e.data,d=e.headers,f=e.responseType;i.isFormData(h)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(g+":"+v)}var m=a(e.baseURL,e.url);function y(){if(p){var i="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,o={data:f&&"text"!==f&&"json"!==f?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:i,config:e,request:p};r(t,n,o),p=null}}if(p.open(e.method.toUpperCase(),s(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var w=(e.withCredentials||u(m))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;w&&(d[e.xsrfHeaderName]=w)}"setRequestHeader"in p&&i.forEach(d,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),f&&"json"!==f&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),h||(h=null),p.send(h)}))}},51609:function(e,t,n){"use strict";var i=n(64867),r=n(91849),o=n(30321),s=n(47185);function a(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var c=a(n(45655));c.Axios=o,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=n(65263),c.CancelToken=n(14972),c.isCancel=n(26502),c.all=function(e){return Promise.all(e)},c.spread=n(8713),c.isAxiosError=n(16268),e.exports=c,e.exports.default=c},65263:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},14972:function(e,t,n){"use strict";var i=n(65263);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},26502:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:function(e,t,n){"use strict";var i=n(64867),r=n(15327),o=n(80782),s=n(13572),a=n(47185),c=n(54875),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!i){var l=[s,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),r=Promise.resolve(e);l.length;)r=r.then(l.shift(),l.shift());return r}for(var h=e;n.length;){var d=n.shift(),f=n.shift();try{h=d(h)}catch(e){f(e);break}}try{r=s(h)}catch(e){return Promise.reject(e)}for(;o.length;)r=r.then(o.shift(),o.shift());return r},l.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,i){return this.request(a(i||{},{method:e,url:t,data:n}))}})),e.exports=l},80782:function(e,t,n){"use strict";var i=n(64867);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},94097:function(e,t,n){"use strict";var i=n(91793),r=n(7303);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},85061:function(e,t,n){"use strict";var i=n(80481);e.exports=function(e,t,n,r,o){var s=new Error(e);return i(s,t,n,r,o)}},13572:function(e,t,n){"use strict";var i=n(64867),r=n(18527),o=n(26502),s=n(45655);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},80481:function(e){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},47185:function(e,t,n){"use strict";var i=n(64867);e.exports=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function u(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=c(void 0,e[r])):n[r]=c(e[r],t[r])}i.forEach(r,(function(e){i.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),i.forEach(o,u),i.forEach(s,(function(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=c(void 0,e[r])):n[r]=c(void 0,t[r])})),i.forEach(a,(function(i){i in t?n[i]=c(e[i],t[i]):i in e&&(n[i]=c(void 0,e[i]))}));var l=r.concat(o).concat(s).concat(a),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return i.forEach(h,u),n}},36026:function(e,t,n){"use strict";var i=n(85061);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},18527:function(e,t,n){"use strict";var i=n(64867),r=n(45655);e.exports=function(e,t,n){var o=this||r;return i.forEach(n,(function(n){e=n.call(o,e,t)})),e}},45655:function(e,t,n){"use strict";var i=n(64867),r=n(16016),o=n(80481),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(55448)),c),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(s)})),e.exports=u},91849:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},15327:function(e,t,n){"use strict";var i=n(64867);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,n){"use strict";var i=n(64867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},16268:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},67985:function(e,t,n){"use strict";var i=n(64867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:function(e,t,n){"use strict";var i=n(64867);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},84109:function(e,t,n){"use strict";var i=n(64867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},54875:function(e,t,n){"use strict";var i=n(88593),r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},s=i.version.split(".");function a(e,t){for(var n=t?t.split("."):s,i=e.split("."),r=0;r<3;r++){if(n[r]>i[r])return!0;if(n[r]<i[r])return!1}return!1}r.transitional=function(e,t,n){var r=t&&a(t);function s(e,t){return"[Axios v"+i.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Error(s(i," has been removed in "+t));return r&&!o[i]&&(o[i]=!0,console.warn(s(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:r}},64867:function(e,t,n){"use strict";var i=n(91849),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===r.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,i){c(t[i])&&c(n)?t[i]=e(t[i],n):c(n)?t[i]=e({},n):o(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return t},extend:function(e,t,n){return l(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},58255:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});var i=n(11132);function r(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}},11132:function(e,t,n){"use strict";function i(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,{default:function(){return i}})},74277:function(e,t,n){"use strict";function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function r(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=i(e.className,t):e.setAttribute("class",i(e.className&&e.className.baseVal||"",t))}n.d(t,{default:function(){return r}})},79180:function(e,t,n){var i,r,o;!function(s,a){"use strict";r=[n(59829)],void 0===(o="function"==typeof(i=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),i=n.match(/ (\(.+\)$)/);n=i?n.replace(i[0],""):n;var r=this.extractLocation(i?i[1]:n),o=i&&n||void 0,s=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new e({functionName:o,fileName:s,lineNumber:r[1],columnNumber:r[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(i)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=t.match(n),r=i&&i[1]?i[1]:void 0,o=this.extractLocation(t.replace(n,""));return new e({functionName:r,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,i=t.message.split("\n"),r=[],o=2,s=i.length;o<s;o+=2){var a=n.exec(i[o]);a&&r.push(new e({fileName:a[2],lineNumber:a[1],source:i[o]}))}return r},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=t.stacktrace.split("\n"),r=[],o=0,s=i.length;o<s;o+=2){var a=n.exec(i[o]);a&&r.push(new e({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:i[o]}))}return r},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,i=t.split("@"),r=this.extractLocation(i.pop()),o=i.shift()||"",s=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;o.match(/\(([^)]*)\)/)&&(n=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var a=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:s,args:a,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})}),this)}}})?i.apply(t,r):i)||(e.exports=o)}()},8679:function(e,t,n){"use strict";var i=n(59864),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return i.isMemo(e)?s:a[e.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(p){var r=f(n);r&&r!==p&&e(t,r,i)}var s=l(n);h&&(s=s.concat(h(n)));for(var a=c(t),g=c(n),v=0;v<s.length;++v){var m=s[v];if(!(o[m]||i&&i[m]||g&&g[m]||a&&a[m])){var y=d(n,m);try{u(t,m,y)}catch(e){}}}}return t}},26071:function(e,t,n){"use strict";n.d(t,{default:function(){return E}});var i=n(94037),r=n(51297),o=[],s=o.forEach,a=o.slice;function c(e){return s.call(a.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var u=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,l=function(e,t,n){var i=n||{};i.path=i.path||"/";var r=encodeURIComponent(t),o="".concat(e,"=").concat(r);if(i.maxAge>0){var s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(s))}if(i.domain){if(!u.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(i.domain)}if(i.path){if(!u.test(i.path))throw new TypeError("option path is invalid");o+="; Path=".concat(i.path)}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},h={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),i&&(r.domain=i),document.cookie=l(e,encodeURIComponent(t),r)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},d={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1).split("&"),r=0;r<i.length;r++){var o=i[r].indexOf("=");o>0&&i[r].substring(0,o)===e.lookupQuerystring&&(t=i[r].substring(o+1))}}return t}},f=null,p=function(){if(null!==f)return f;try{f="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){f=!1}return f},g={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&p()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&p()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},v=null,m=function(){if(null!==v)return v;try{v="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){v=!1}return v},y={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&m()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&m()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},w={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},b={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},_={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},k={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}},E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return(0,r.default)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=c(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(h),this.addDetector(d),this.addDetector(g),this.addDetector(y),this.addDetector(w),this.addDetector(b),this.addDetector(_),this.addDetector(k)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var i=t.detectors[e].lookup(t.options);i&&"string"==typeof i&&(i=[i]),i&&(n=n.concat(i))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();E.type="languageDetector"},89935:function(e,t,n){"use strict";var i=n(464),r=n(95260),o=n.n(r);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="i18nFormat",this.mem={},this.init(null,t)}var t,n;return t=e,(n=[{key:"init",value:function(e,t){var n=this,r=e&&e.options&&e.options.i18nFormat||{};if(this.options=i.defaults(r,t,this.options||{},{memoize:!0,memoizeFallback:!1,bindI18n:"",bindI18nStore:"",parseErrorHandler:function(e,t,n,i){return n}}),this.formats=this.options.formats,e){var s=this.options,a=s.bindI18n,c=s.bindI18nStore,u=s.memoize;e.IntlMessageFormat=o(),e.ICU=this,u&&(a&&e.on(a,(function(){return n.clearCache()})),c&&e.store.on(c,(function(){return n.clearCache()})))}}},{key:"addUserDefinedFormats",value:function(e){this.formats=this.formats?a(a({},this.formats),e):e}},{key:"parse",value:function(e,t,n,r,s,a){var c,u=a&&a.resolved&&a.resolved.res,l=this.options.memoize&&"".concat(n,".").concat(r,".").concat(s.replace(/\./g,"###"));this.options.memoize&&(c=i.getPath(this.mem,l));try{return c||(c=new(o())(e,n,this.formats,{ignoreTag:!0}),this.options.memoize&&(this.options.memoizeFallback||!a||u)&&i.setPath(this.mem,l,c)),c.format(t)}catch(n){return this.options.parseErrorHandler(n,s,e,t)}}},{key:"addLookupKeys",value:function(e,t,n,i,r){return e}},{key:"clearCache",value:function(){this.mem={}}}])&&u(t.prototype,n),e}();l.type="i18nFormat",t.default=l},464:function(e,t,n){"use strict";function i(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var s=i(o.shift());!e[s]&&n&&(e[s]=new n),e=e[s]}return r()?{}:{obj:e,k:i(o.shift())}}function r(e,t,n){var r=i(e,t,Object);r.obj[r.k]=n}function o(e,t){var n=i(e,t),r=n.obj,o=n.k;if(r)return r[o]}n.d(t,{defaults:function(){return u},getPath:function(){return o},setPath:function(){return r}});var s=[],a=s.forEach,c=s.slice;function u(e){return a.call(c.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}},66337:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document,t=[],n=null,i=null;o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o._setupCrossOriginUpdater=function(){return n||(n=function(e,n){i=e&&n?l(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},o._resetCrossOriginUpdater=function(){n=null,i=null},o.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},o.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},o.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},o.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var i=this._checkForIntersections,r=null,o=null;if(this.POLL_INTERVAL?r=n.setInterval(i,this.POLL_INTERVAL):(s(n,"resize",i,!0),s(t,"scroll",i,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(o=new n.MutationObserver(i)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(r&&e.clearInterval(r),a(e,"resize",i,!0)),a(t,"scroll",i,!0),o&&o.disconnect()})),t!=(this.root&&this.root.ownerDocument||e)){var c=f(t);c&&this._monitorIntersections(c.ownerDocument)}}},o.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var i=this.root&&this.root.ownerDocument||e,r=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=i;){var r=f(n);if((n=r&&r.ownerDocument)==t)return!0}return!1}));if(!r){var o=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),o(),t!=i){var s=f(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},o.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},o.prototype._checkForIntersections=function(){if(this.root||!n||i){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var o=i.element,s=c(o),a=this._rootContainsTarget(o),u=i.entry,l=e&&a&&this._computeTargetAndRootIntersection(o,s,t),h=i.entry=new r({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:n&&!this.root?null:t,intersectionRect:l});u?e&&a?this._hasCrossedThreshold(u,h)&&this._queuedEntries.push(h):u&&u.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},o.prototype._computeTargetAndRootIntersection=function(t,r,o){if("none"!=window.getComputedStyle(t).display){for(var s,a,u,h,f,p,g,v,m=r,y=d(t),w=!1;!w&&y;){var b=null,_=1==y.nodeType?window.getComputedStyle(y):{};if("none"==_.display)return null;if(y==this.root||9==y.nodeType)if(w=!0,y==this.root||y==e)n&&!this.root?!i||0==i.width&&0==i.height?(y=null,b=null,m=null):b=i:b=o;else{var k=d(y),E=k&&c(k),S=k&&this._computeTargetAndRootIntersection(k,E,o);E&&S?(y=k,b=l(E,S)):(y=null,m=null)}else{var T=y.ownerDocument;y!=T.body&&y!=T.documentElement&&"visible"!=_.overflow&&(b=c(y))}if(b&&(s=b,a=m,void 0,void 0,void 0,void 0,void 0,void 0,u=Math.max(s.top,a.top),h=Math.min(s.bottom,a.bottom),f=Math.max(s.left,a.left),v=h-u,m=(g=(p=Math.min(s.right,a.right))-f)>=0&&v>=0&&{top:u,bottom:h,left:f,right:p,width:g,height:v}||null),!m)break;y=y&&d(y)}return m}},o.prototype._getRootRect=function(){var t;if(this.root)t=c(this.root);else{var n=e.documentElement,i=e.body;t={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},o.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,i=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==n||o==i||o<n!=o<i)return!0}},o.prototype._rootIsInDom=function(){return!this.root||h(e,this.root)},o.prototype._rootContainsTarget=function(t){return h(this.root||e,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},o.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},o.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=o,window.IntersectionObserverEntry=r}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=u(e.rootBounds),this.boundingClientRect=u(e.boundingClientRect),this.intersectionRect=u(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function o(e,t){var n,i,r,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),i))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,i){"function"==typeof e.addEventListener?e.addEventListener(t,n,i||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,i){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,i||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function l(e,t){var n=t.top-e.top,i=t.left-e.left;return{top:n,left:i,height:t.height,width:t.width,bottom:n+t.height,right:i+t.width}}function h(e,t){for(var n=t;n;){if(n==e)return!0;n=d(n)}return!1}function d(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?f(t):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}function f(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}}()},26576:function(e,t,n){"use strict";(t=e.exports=n(10634).default).default=t},10634:function(e,t){"use strict";t.default=function(){function e(t,n,i,r){this.message=t,this.expected=n,this.found=i,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,i=arguments.length>1?arguments[1]:{},r={},o={start:Re},s=Re,a=function(e){return{type:"messageFormatPattern",elements:e,location:Te()}},c=function(e){var t,n,i,r,o,s="";for(t=0,i=e.length;t<i;t+=1)for(n=0,o=(r=e[t]).length;n<o;n+=1)s+=r[n];return s},u=function(e){return{type:"messageTextElement",value:e,location:Te()}},l=/^[^ \t\n\r,.+={}#]/,h={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},d="{",f={type:"literal",value:"{",description:'"{"'},p=",",g={type:"literal",value:",",description:'","'},v="}",m={type:"literal",value:"}",description:'"}"'},y=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:Te()}},w="number",b={type:"literal",value:"number",description:'"number"'},_="date",k={type:"literal",value:"date",description:'"date"'},E="time",S={type:"literal",value:"time",description:'"time"'},T=function(e,t){return{type:e+"Format",style:t&&t[2],location:Te()}},P="plural",C={type:"literal",value:"plural",description:'"plural"'},x=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:Te()}},I="selectordinal",R={type:"literal",value:"selectordinal",description:'"selectordinal"'},O=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:Te()}},A="select",$={type:"literal",value:"select",description:'"select"'},L=function(e){return{type:"selectFormat",options:e,location:Te()}},M="=",j={type:"literal",value:"=",description:'"="'},D=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:Te()}},N="offset:",F={type:"literal",value:"offset:",description:'"offset:"'},B=function(e){return e},U=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:Te()}},z={type:"other",description:"whitespace"},H=/^[ \t\n\r]/,V={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},G={type:"other",description:"optionalWhitespace"},W=/^[0-9]/,q={type:"class",value:"[0-9]",description:"[0-9]"},Y=/^[0-9a-f]/i,K={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},X="0",Z={type:"literal",value:"0",description:'"0"'},J=/^[1-9]/,Q={type:"class",value:"[1-9]",description:"[1-9]"},ee=function(e){return parseInt(e,10)},te=/^[^{}\\\0-\x1F \t\n\r]/,ne={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},ie="\\\\",re={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},oe=function(){return"\\"},se="\\#",ae={type:"literal",value:"\\#",description:'"\\\\#"'},ce=function(){return"\\#"},ue="\\{",le={type:"literal",value:"\\{",description:'"\\\\{"'},he=function(){return"{"},de="\\}",fe={type:"literal",value:"\\}",description:'"\\\\}"'},pe=function(){return"}"},ge="\\u",ve={type:"literal",value:"\\u",description:'"\\\\u"'},me=function(e){return String.fromCharCode(parseInt(e,16))},ye=function(e){return e.join("")},we=0,be=0,_e=[{line:1,column:1,seenCR:!1}],ke=0,Ee=[],Se=0;if("startRule"in i){if(!(i.startRule in o))throw new Error("Can't start parsing from rule \""+i.startRule+'".');s=o[i.startRule]}function Te(){return Ce(be,we)}function Pe(e){var n,i,r=_e[e];if(r)return r;for(n=e-1;!_e[n];)n--;for(r={line:(r=_e[n]).line,column:r.column,seenCR:r.seenCR};n<e;)"\n"===(i=t.charAt(n))?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1),n++;return _e[e]=r,r}function Ce(e,t){var n=Pe(e),i=Pe(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:i.line,column:i.column}}}function xe(e){we<ke||(we>ke&&(ke=we,Ee=[]),Ee.push(e))}function Ie(t,n,i,r){return null!==n&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==t?t:function(e,t){var n,i=new Array(e.length);for(n=0;n<e.length;n++)i[n]=e[n].description;return"Expected "+(e.length>1?i.slice(0,-1).join(", ")+" or "+i[e.length-1]:i[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0100-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1000-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(n,i),n,i,r)}function Re(){return Oe()}function Oe(){var e,t,n;for(e=we,t=[],n=Ae();n!==r;)t.push(n),n=Ae();return t!==r&&(be=e,t=a(t)),t}function Ae(){var e;return(e=Le())===r&&(e=je()),e}function $e(){var e,n,i,o,s,a;if(e=we,n=[],i=we,(o=qe())!==r&&(s=Je())!==r&&(a=qe())!==r?i=o=[o,s,a]:(we=i,i=r),i!==r)for(;i!==r;)n.push(i),i=we,(o=qe())!==r&&(s=Je())!==r&&(a=qe())!==r?i=o=[o,s,a]:(we=i,i=r);else n=r;return n!==r&&(be=e,n=c(n)),(e=n)===r&&(e=we,e=(n=We())!==r?t.substring(e,we):n),e}function Le(){var e,t;return e=we,(t=$e())!==r&&(be=e,t=u(t)),t}function Me(){var e,n,i;if((e=Xe())===r){if(e=we,n=[],l.test(t.charAt(we))?(i=t.charAt(we),we++):(i=r,0===Se&&xe(h)),i!==r)for(;i!==r;)n.push(i),l.test(t.charAt(we))?(i=t.charAt(we),we++):(i=r,0===Se&&xe(h));else n=r;e=n!==r?t.substring(e,we):n}return e}function je(){var e,n,i,o,s,a,c;return e=we,123===t.charCodeAt(we)?(n=d,we++):(n=r,0===Se&&xe(f)),n!==r&&qe()!==r&&(i=Me())!==r&&qe()!==r?(o=we,44===t.charCodeAt(we)?(s=p,we++):(s=r,0===Se&&xe(g)),s!==r&&(a=qe())!==r&&(c=De())!==r?o=s=[s,a,c]:(we=o,o=r),o===r&&(o=null),o!==r&&(s=qe())!==r?(125===t.charCodeAt(we)?(a=v,we++):(a=r,0===Se&&xe(m)),a!==r?(be=e,e=n=y(i,o)):(we=e,e=r)):(we=e,e=r)):(we=e,e=r),e}function De(){var e;return(e=Ne())===r&&(e=Fe())===r&&(e=Be())===r&&(e=Ue()),e}function Ne(){var e,n,i,o,s,a;return e=we,t.substr(we,6)===w?(n=w,we+=6):(n=r,0===Se&&xe(b)),n===r&&(t.substr(we,4)===_?(n=_,we+=4):(n=r,0===Se&&xe(k)),n===r&&(t.substr(we,4)===E?(n=E,we+=4):(n=r,0===Se&&xe(S)))),n!==r&&qe()!==r?(i=we,44===t.charCodeAt(we)?(o=p,we++):(o=r,0===Se&&xe(g)),o!==r&&(s=qe())!==r&&(a=Je())!==r?i=o=[o,s,a]:(we=i,i=r),i===r&&(i=null),i!==r?(be=e,e=n=T(n,i)):(we=e,e=r)):(we=e,e=r),e}function Fe(){var e,n,i,o;return e=we,t.substr(we,6)===P?(n=P,we+=6):(n=r,0===Se&&xe(C)),n!==r&&qe()!==r?(44===t.charCodeAt(we)?(i=p,we++):(i=r,0===Se&&xe(g)),i!==r&&qe()!==r&&(o=Ge())!==r?(be=e,e=n=x(o)):(we=e,e=r)):(we=e,e=r),e}function Be(){var e,n,i,o;return e=we,t.substr(we,13)===I?(n=I,we+=13):(n=r,0===Se&&xe(R)),n!==r&&qe()!==r?(44===t.charCodeAt(we)?(i=p,we++):(i=r,0===Se&&xe(g)),i!==r&&qe()!==r&&(o=Ge())!==r?(be=e,e=n=O(o)):(we=e,e=r)):(we=e,e=r),e}function Ue(){var e,n,i,o,s;if(e=we,t.substr(we,6)===A?(n=A,we+=6):(n=r,0===Se&&xe($)),n!==r)if(qe()!==r)if(44===t.charCodeAt(we)?(i=p,we++):(i=r,0===Se&&xe(g)),i!==r)if(qe()!==r){if(o=[],(s=He())!==r)for(;s!==r;)o.push(s),s=He();else o=r;o!==r?(be=e,e=n=L(o)):(we=e,e=r)}else we=e,e=r;else we=e,e=r;else we=e,e=r;else we=e,e=r;return e}function ze(){var e,n,i,o;return e=we,n=we,61===t.charCodeAt(we)?(i=M,we++):(i=r,0===Se&&xe(j)),i!==r&&(o=Xe())!==r?n=i=[i,o]:(we=n,n=r),(e=n!==r?t.substring(e,we):n)===r&&(e=Je()),e}function He(){var e,n,i,o,s;return e=we,qe()!==r&&(n=ze())!==r&&qe()!==r?(123===t.charCodeAt(we)?(i=d,we++):(i=r,0===Se&&xe(f)),i!==r&&qe()!==r&&(o=Oe())!==r&&qe()!==r?(125===t.charCodeAt(we)?(s=v,we++):(s=r,0===Se&&xe(m)),s!==r?(be=e,e=D(n,o)):(we=e,e=r)):(we=e,e=r)):(we=e,e=r),e}function Ve(){var e,n,i;return e=we,t.substr(we,7)===N?(n=N,we+=7):(n=r,0===Se&&xe(F)),n!==r&&qe()!==r&&(i=Xe())!==r?(be=e,e=n=B(i)):(we=e,e=r),e}function Ge(){var e,t,n,i;if(e=we,(t=Ve())===r&&(t=null),t!==r)if(qe()!==r){if(n=[],(i=He())!==r)for(;i!==r;)n.push(i),i=He();else n=r;n!==r?(be=e,e=t=U(t,n)):(we=e,e=r)}else we=e,e=r;else we=e,e=r;return e}function We(){var e,n;if(Se++,e=[],H.test(t.charAt(we))?(n=t.charAt(we),we++):(n=r,0===Se&&xe(V)),n!==r)for(;n!==r;)e.push(n),H.test(t.charAt(we))?(n=t.charAt(we),we++):(n=r,0===Se&&xe(V));else e=r;return Se--,e===r&&(n=r,0===Se&&xe(z)),e}function qe(){var e,n,i;for(Se++,e=we,n=[],i=We();i!==r;)n.push(i),i=We();return e=n!==r?t.substring(e,we):n,Se--,e===r&&(n=r,0===Se&&xe(G)),e}function Ye(){var e;return W.test(t.charAt(we))?(e=t.charAt(we),we++):(e=r,0===Se&&xe(q)),e}function Ke(){var e;return Y.test(t.charAt(we))?(e=t.charAt(we),we++):(e=r,0===Se&&xe(K)),e}function Xe(){var e,n,i,o,s,a;if(e=we,48===t.charCodeAt(we)?(n=X,we++):(n=r,0===Se&&xe(Z)),n===r){if(n=we,i=we,J.test(t.charAt(we))?(o=t.charAt(we),we++):(o=r,0===Se&&xe(Q)),o!==r){for(s=[],a=Ye();a!==r;)s.push(a),a=Ye();s!==r?i=o=[o,s]:(we=i,i=r)}else we=i,i=r;n=i!==r?t.substring(n,we):i}return n!==r&&(be=e,n=ee(n)),n}function Ze(){var e,n,i,o,s,a,c,u;return te.test(t.charAt(we))?(e=t.charAt(we),we++):(e=r,0===Se&&xe(ne)),e===r&&(e=we,t.substr(we,2)===ie?(n=ie,we+=2):(n=r,0===Se&&xe(re)),n!==r&&(be=e,n=oe()),(e=n)===r&&(e=we,t.substr(we,2)===se?(n=se,we+=2):(n=r,0===Se&&xe(ae)),n!==r&&(be=e,n=ce()),(e=n)===r&&(e=we,t.substr(we,2)===ue?(n=ue,we+=2):(n=r,0===Se&&xe(le)),n!==r&&(be=e,n=he()),(e=n)===r&&(e=we,t.substr(we,2)===de?(n=de,we+=2):(n=r,0===Se&&xe(fe)),n!==r&&(be=e,n=pe()),(e=n)===r&&(e=we,t.substr(we,2)===ge?(n=ge,we+=2):(n=r,0===Se&&xe(ve)),n!==r?(i=we,o=we,(s=Ke())!==r&&(a=Ke())!==r&&(c=Ke())!==r&&(u=Ke())!==r?o=s=[s,a,c,u]:(we=o,o=r),(i=o!==r?t.substring(i,we):o)!==r?(be=e,e=n=me(i)):(we=e,e=r)):(we=e,e=r)))))),e}function Je(){var e,t,n;if(e=we,t=[],(n=Ze())!==r)for(;n!==r;)t.push(n),n=Ze();else t=r;return t!==r&&(be=e,t=ye(t)),t}if((n=s())!==r&&we===t.length)return n;throw n!==r&&we<t.length&&xe({type:"end",description:"end of input"}),Ie(null,Ee,ke<t.length?t.charAt(ke):null,ke<t.length?Ce(ke,ke+1):Ce(ke,ke))}}}()},95260:function(e,t,n){"use strict";var i=n(4574).default;n(98374),(t=e.exports=i).default=t},72494:function(e,t){"use strict";function n(e,t,n){this.locales=e,this.formats=t,this.pluralFn=n}function i(e){this.id=e}function r(e,t,n,i,r){this.id=e,this.useOrdinal=t,this.offset=n,this.options=i,this.pluralFn=r}function o(e,t,n,i){this.id=e,this.offset=t,this.numberFormat=n,this.string=i}function s(e,t){this.id=e,this.options=t}t.default=n,n.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},n.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,n,i,r=e.elements,o=[];for(t=0,n=r.length;t<n;t+=1)switch((i=r[t]).type){case"messageTextElement":o.push(this.compileMessageText(i));break;case"argumentElement":o.push(this.compileArgument(i));break;default:throw new Error("Message element does not have a valid type")}return o},n.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new o(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},n.prototype.compileArgument=function(e){var t=e.format;if(!t)return new i(e.id);var n,o=this.formats,a=this.locales,c=this.pluralFn;switch(t.type){case"numberFormat":return n=o.number[t.style],{id:e.id,format:new Intl.NumberFormat(a,n).format};case"dateFormat":return n=o.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,n).format};case"timeFormat":return n=o.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,n).format};case"pluralFormat":return n=this.compileOptions(e),new r(e.id,t.ordinal,t.offset,n,c);case"selectFormat":return n=this.compileOptions(e),new s(e.id,n);default:throw new Error("Message element does not have a valid format type")}},n.prototype.compileOptions=function(e){var t,n,i,r=e.format,o=r.options,s={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===r.type?e:null,t=0,n=o.length;t<n;t+=1)s[(i=o[t]).selector]=this.compileMessage(i.value);return this.currentPlural=this.pluralStack.pop(),s},i.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},r.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},o.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},s.prototype.getOption=function(e){var t=this.options;return t[e]||t.other}},84680:function(e,t,n){"use strict";var i=n(31309),r=n(91523),o=n(72494),s=n(26576);function a(e,t,n){var i="string"==typeof e?a.__parse(e):e;if(!i||"messageFormatPattern"!==i.type)throw new TypeError("A message must be provided as a String or AST.");n=this._mergeFormats(a.formats,n),r.defineProperty(this,"_locale",{value:this._resolveLocale(t)});var o=this._findPluralRuleFunction(this._locale),s=this._compilePattern(i,t,n,o),c=this;this.format=function(t){try{return c._format(s,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+e+"'"):t}}}t.default=a,r.defineProperty(a,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),r.defineProperty(a,"__localeData__",{value:r.objCreate(null)}),r.defineProperty(a,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");a.__localeData__[e.locale.toLowerCase()]=e}}),r.defineProperty(a,"__parse",{value:s.default.parse}),r.defineProperty(a,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),a.prototype.resolvedOptions=function(){return{locale:this._locale}},a.prototype._compilePattern=function(e,t,n,i){return new o.default(t,n,i).compile(e)},a.prototype._findPluralRuleFunction=function(e){for(var t=a.__localeData__,n=t[e.toLowerCase()];n;){if(n.pluralRuleFunction)return n.pluralRuleFunction;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},a.prototype._format=function(e,t){var n,r,o,s,a,c,u="";for(n=0,r=e.length;n<r;n+=1)if("string"!=typeof(o=e[n])){if(s=o.id,!t||!i.hop.call(t,s))throw(c=new Error("A value must be provided for: "+s)).variableId=s,c;a=t[s],o.options?u+=this._format(o.getOption(a),t):u+=o.format(a)}else u+=o;return u},a.prototype._mergeFormats=function(e,t){var n,o,s={};for(n in e)i.hop.call(e,n)&&(s[n]=o=r.objCreate(e[n]),t&&i.hop.call(t,n)&&i.extend(o,t[n]));return s},a.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(a.defaultLocale);var t,n,i,r,o=a.__localeData__;for(t=0,n=e.length;t<n;t+=1)for(i=e[t].toLowerCase().split("-");i.length;){if(r=o[i.join("-")])return r.locale;i.pop()}var s=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+s)}},3459:function(e,t){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,o=r&&n[0].slice(-1),s=r&&n[0].slice(-2);return t?1==o&&11!=s?"one":2==o&&12!=s?"two":3==o&&13!=s?"few":"other":1==e&&i?"one":"other"}}},91523:function(e,t,n){"use strict";var i=n(31309),r=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),o=(!r&&Object.prototype.__defineGetter__,r?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):i.hop.call(e,t)&&!("value"in n)||(e[t]=n.value)}),s=Object.create||function(e,t){var n,r;function s(){}for(r in s.prototype=e,n=new s,t)i.hop.call(t,r)&&o(n,r,t[r]);return n};t.defineProperty=o,t.objCreate=s},4574:function(e,t,n){"use strict";var i=n(84680),r=n(3459);i.default.__addLocaleData(r.default),i.default.defaultLocale="en",t.default=i.default},31309:function(e,t){"use strict";t.extend=function(e){var t,i,r,o,s=Array.prototype.slice.call(arguments,1);for(t=0,i=s.length;t<i;t+=1)if(r=s[t])for(o in r)n.call(r,o)&&(e[o]=r[o]);return e};var n=Object.prototype.hasOwnProperty;t.hop=n},9283:function(e,t,n){"use strict";n.d(t,{addIcons:function(){return i.a}});var i=n(48138)},48138:function(e,t,n){"use strict";var i;n.d(t,{a:function(){return r}});var r=function(e){var t=function(){if("undefined"==typeof window)return new Map;if(!i){var e=window;e.Ionicons=e.Ionicons||{},i=e.Ionicons.map=e.Ionicons.map||new Map}return i}();Object.keys(e).forEach((function(n){return t.set(n,e[n])}))}},44066:function(e,t,n){"use strict";var i=n(9283);n.o(i,"addIcons")&&n.d(t,{addIcons:function(){return i.addIcons}})},36808:function(e,t,n){var i,r,o;o=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,!0!==o[c]&&(a+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(a[0]);if(c=(i.read||i)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(r[u]=c,e===u)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return s(e,!1)},r.getJSON=function(e){return s(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))},void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r),e.exports=o()},35550:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9669),r=n(67378),o=function(){function e(e,t,n){void 0===e&&(e="http://localhost:8080/api/emit"),void 0===t&&(t=500),void 0===n&&(n=5),this.metricsEndpoint=e,this.delay=t,this.maxTries=n}return e.prototype.publishRecords=function(e){var t=r.buildSushiPayloadFromRecords(e);return this.publishPayload(t)},e.prototype.publishPayload=function(e,t){var n=this;return void 0===t&&(t=1),this.publishPayloadNoRetry(e).then((function(e){return e})).catch((function(i){return n.isRetryableStatusCode(i.response.status)&&t<n.maxTries?n.pause(n.getDelayForTryNumber(t)).then((function(){return n.publishPayload(e,t+1)})):Promise.reject(i.response)}))},e.prototype.publishPayloadNoRetry=function(e){return i.default.post(this.metricsEndpoint,e,{headers:{"content-type":"application/json"}})},e.prototype.pause=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.isRetryableStatusCode=function(e){return e>=500&&e<=599||429===e},e.prototype.getDelayForTryNumber=function(e){return Math.pow(2,e)*this.delay},e}();t.AxiosSushiPublisher=o},38108:function(e,t){"use strict";var n,i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.PublisherFailure=0]="PublisherFailure",e[e.AlreadyInFlight=1]="AlreadyInFlight"}(n=t.BatcherFailureReason||(t.BatcherFailureReason={}));var o=function(){function e(e,t,n,i){this.publisher=e,this.maxRecordsPerBatch=t,this.delay=n,this.queueFailedFlushDumpingThreshold=i,this.queue=[],this.isInFlight=!1,this.numRecordsPublished=0}return e.prototype.enqueue=function(e){this.queue.push(e)},e.prototype.flush=function(){return i(this,void 0,void 0,(function(){var e,t,i,o=this;return r(this,(function(r){switch(r.label){case 0:if(this.isInFlight)throw{reason:n.AlreadyInFlight};if(0===this.queue.length)return[2];this.isInFlight=!0,e=this.queue.splice(0,this.maxRecordsPerBatch),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.publisher.publishRecords(e)];case 2:return r.sent(),[3,4];case 3:throw t=r.sent(),this.isInFlight=!1,this.queue.length<this.queueFailedFlushDumpingThreshold?((i=this.queue).push.apply(i,e),{reason:n.PublisherFailure,messagesLost:0,responseCode:t.response,xhrResponse:t}):{reason:n.PublisherFailure,messagesLost:e.length,responseCode:t.response,xhrResponse:t};case 4:return this.isInFlight=!1,this.numRecordsPublished+=e.length,this.queue.length>0?[4,new Promise((function(e){return setTimeout(e,o.delay)}))]:[3,6];case 5:return r.sent(),[2,this.flush()];case 6:case 7:return[2]}}))}))},e}();t.Batcher=o},81071:function(e,t){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){Object.keys(e).forEach((function(t){void 0===e[t]&&(e[t]=null)}))},r=function(){function e(e,t){this.appSessionParams=e,this.batcher=t,i(e),this.count=0,this.readingSession=null,this.startAppSession()}return e.prototype.startReadingSession=function(e){var t=this;if(i(e),this.appSession||this.startAppSession(),this.readingSession){if(Object.keys(e).every((function(n){return t.readingSession.payload[n]===e[n]})))return;this.endReadingSession()}var r=(new Date).getTime();this.readingSession={schema_name:"reading_session",schema_version:0,sequence_number:++this.count,created_timestamp:r,payload:n({start_timestamp:r,end_timestamp:null,is_complete:!1},e)}},e.prototype.endReadingSession=function(){this.readingSession&&(this.readingSession.payload.end_timestamp=(new Date).getTime(),this.readingSession.payload.is_complete=!0,this.emitEmptyRecord(),this.readingSession=null)},e.prototype.startAppSession=function(){if(!this.appSession||this.appSession.payload.is_complete){var e=(new Date).getTime();this.appSession={schema_name:"app_session",schema_version:0,sequence_number:++this.count,created_timestamp:e,payload:n({start_timestamp:e,end_timestamp:null,is_complete:!1},this.appSessionParams)}}},e.prototype.endAppSession=function(){this.readingSession&&this.endReadingSession(),this.appSession.payload.is_complete||(this.appSession.payload.end_timestamp=(new Date).getTime(),this.appSession.payload.is_complete=!0,this.emitEmptyRecord())},e.prototype.emitRecord=function(e,t,n,r,o){void 0===n&&(n={}),i(n);var s=this.createRecord(e,t,n,r,o);this.batcher.enqueue(s)},e.prototype.emitEmptyRecord=function(){var e={app_session:this.appSession,reading_session:this.readingSession};this.batcher.enqueue(e)},e.prototype.createRecord=function(e,t,n,i,r){return{app_session:i?null:this.appSession,reading_session:i?null:this.readingSession,namespace:r,record:{schema_name:e,schema_version:t,sequence_number:++this.count,created_timestamp:(new Date).getTime(),payload:n}}},e}();t.MetricsClient=r},51840:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(67378),r=function(){function e(e,t,n){void 0===e&&(e="http://localhost:8080/api/emit"),void 0===t&&(t=500),void 0===n&&(n=5),this.metricsEndpoint=e,this.delay=t,this.maxTries=n}return e.prototype.publishRecords=function(e){var t=i.buildSushiPayloadFromRecords(e);return this.publishPayload(t)},e.prototype.publishPayload=function(e,t){var n=this;return void 0===t&&(t=1),this.publishPayloadNoRetry(e).then((function(e){return e.response})).catch((function(i){return n.isRetryableStatusCode(i.status)&&t<n.maxTries?n.pause(n.getDelayForTryNumber(t)).then((function(){return n.publishPayload(e,t+1)})):Promise.reject(i)}))},e.prototype.publishPayloadNoRetry=function(e){var t=this;return new Promise((function(n,i){var r=new XMLHttpRequest;r.open("POST",t.metricsEndpoint),r.setRequestHeader("Content-Type","application/json"),r.onload=function(){r.status>=200&&r.status<300?n(r):i(r)},r.onerror=function(){return i(r)},r.send(JSON.stringify(e))}))},e.prototype.pause=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prototype.isRetryableStatusCode=function(e){return e>=500&&e<=599||429===e},e.prototype.getDelayForTryNumber=function(e){return Math.pow(2,e)*this.delay},e}();t.SushiPublisher=r},67378:function(e,t){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){return!e&&!t||e&&t&&Object.keys(t).every((function(n){return e[n]===t[n]}))};t.buildSushiPayloadFromRecords=function(e){var t={events:[]},r=(new Date).getTime();return e.forEach((function(e){var o=t.events[t.events.length-1];if(o&&i(o.data.app_session,e.app_session)&&i(o.data.reading_session,e.reading_session))e.record&&o.data.records.push(n({sent_timestamp:r},e.record));else{var s={data:{app_session:e.app_session?n({sent_timestamp:r},e.app_session):null,reading_session:e.reading_session?n({sent_timestamp:r},e.reading_session):null,namespace:e.namespace,records:e.record?[n({sent_timestamp:r},e.record)]:[]}};t.events.push(s)}})),t}},82403:function(e,t,n){"use strict";var i=n(81071);t.MetricsClient=i.MetricsClient,n(35550).AxiosSushiPublisher;var r=n(51840);t.SushiPublisher=r.SushiPublisher;var o=n(38108);t.Batcher=o.Batcher,o.BatcherFailureReason},18552:function(e,t,n){var i=n(10852)(n(55639),"DataView");e.exports=i},1989:function(e,t,n){var i=n(51789),r=n(80401),o=n(57667),s=n(21327),a=n(81866);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},38407:function(e,t,n){var i=n(27040),r=n(14125),o=n(82117),s=n(67518),a=n(54705);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},57071:function(e,t,n){var i=n(10852)(n(55639),"Map");e.exports=i},83369:function(e,t,n){var i=n(24785),r=n(11285),o=n(96e3),s=n(49916),a=n(95265);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},53818:function(e,t,n){var i=n(10852)(n(55639),"Promise");e.exports=i},58525:function(e,t,n){var i=n(10852)(n(55639),"Set");e.exports=i},88668:function(e,t,n){var i=n(83369),r=n(90619),o=n(72385);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=r,s.prototype.has=o,e.exports=s},46384:function(e,t,n){var i=n(38407),r=n(37465),o=n(63779),s=n(67599),a=n(44758),c=n(34309);function u(e){var t=this.__data__=new i(e);this.size=t.size}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,e.exports=u},62705:function(e,t,n){var i=n(55639).Symbol;e.exports=i},11149:function(e,t,n){var i=n(55639).Uint8Array;e.exports=i},70577:function(e,t,n){var i=n(10852)(n(55639),"WeakMap");e.exports=i},34963:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}},14636:function(e,t,n){var i=n(22545),r=n(35694),o=n(1469),s=n(44144),a=n(65776),c=n(36719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&r(e),h=!n&&!l&&s(e),d=!n&&!l&&!h&&c(e),f=n||l||h||d,p=f?i(e.length,String):[],g=p.length;for(var v in e)!t&&!u.call(e,v)||f&&("length"==v||h&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||a(v,g))||p.push(v);return p}},29932:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},62488:function(e){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},82908:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},18470:function(e,t,n){var i=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},89881:function(e,t,n){var i=n(47816),r=n(99291)(i);e.exports=r},21078:function(e,t,n){var i=n(62488),r=n(37285);e.exports=function e(t,n,o,s,a){var c=-1,u=t.length;for(o||(o=r),a||(a=[]);++c<u;){var l=t[c];n>0&&o(l)?n>1?e(l,n-1,o,s,a):i(a,l):s||(a[a.length]=l)}return a}},28483:function(e,t,n){var i=n(25063)();e.exports=i},47816:function(e,t,n){var i=n(28483),r=n(3674);e.exports=function(e,t){return e&&i(e,t,r)}},97786:function(e,t,n){var i=n(71811),r=n(40327);e.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},68866:function(e,t,n){var i=n(62488),r=n(1469);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},44239:function(e,t,n){var i=n(62705),r=n(89607),o=n(2333),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):o(e)}},13:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},9454:function(e,t,n){var i=n(44239),r=n(37005);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},90939:function(e,t,n){var i=n(2492),r=n(37005);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,s,e,a))}},2492:function(e,t,n){var i=n(46384),r=n(67114),o=n(18351),s=n(16096),a=n(64160),c=n(1469),u=n(44144),l=n(36719),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,m){var y=c(e),w=c(t),b=y?d:a(e),_=w?d:a(t),k=(b=b==h?f:b)==f,E=(_=_==h?f:_)==f,S=b==_;if(S&&u(e)){if(!u(t))return!1;y=!0,k=!1}if(S&&!k)return m||(m=new i),y||l(e)?r(e,t,n,g,v,m):o(e,t,b,n,g,v,m);if(!(1&n)){var T=k&&p.call(e,"__wrapped__"),P=E&&p.call(t,"__wrapped__");if(T||P){var C=T?e.value():e,x=P?t.value():t;return m||(m=new i),v(C,x,n,g,m)}}return!!S&&(m||(m=new i),s(e,t,n,g,v,m))}},2958:function(e,t,n){var i=n(46384),r=n(90939);e.exports=function(e,t,n,o){var s=n.length,a=s,c=!o;if(null==e)return!a;for(e=Object(e);s--;){var u=n[s];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<a;){var l=(u=n[s])[0],h=e[l],d=u[1];if(c&&u[2]){if(void 0===h&&!(l in e))return!1}else{var f=new i;if(o)var p=o(h,d,l,e,t,f);if(!(void 0===p?r(d,h,3,o,f):p))return!1}}return!0}},28458:function(e,t,n){var i=n(23560),r=n(15346),o=n(13218),s=n(80346),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,h=u.hasOwnProperty,d=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?d:a).test(s(e))}},38749:function(e,t,n){var i=n(44239),r=n(41780),o=n(37005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!s[i(e)]}},67206:function(e,t,n){var i=n(91573),r=n(16432),o=n(6557),s=n(1469),a=n(39601);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?r(e[0],e[1]):i(e):a(e)}},280:function(e,t,n){var i=n(25726),r=n(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},69199:function(e,t,n){var i=n(89881),r=n(98612);e.exports=function(e,t){var n=-1,o=r(e)?Array(e.length):[];return i(e,(function(e,i,r){o[++n]=t(e,i,r)})),o}},91573:function(e,t,n){var i=n(2958),r=n(1499),o=n(42634);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},16432:function(e,t,n){var i=n(90939),r=n(27361),o=n(79095),s=n(15403),a=n(89162),c=n(42634),u=n(40327);e.exports=function(e,t){return s(e)&&a(t)?c(u(e),t):function(n){var s=r(n,e);return void 0===s&&s===t?o(n,e):i(t,s,3)}}},40371:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},79152:function(e,t,n){var i=n(97786);e.exports=function(e){return function(t){return i(t,e)}}},40098:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,i,r,o){for(var s=-1,a=n(t((i-e)/(r||1)),0),c=Array(a);a--;)c[o?a:++s]=e,e+=r;return c}},22545:function(e){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},80531:function(e,t,n){var i=n(62705),r=n(29932),o=n(1469),s=n(33448),a=i?i.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(s(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7518:function(e){e.exports=function(e){return function(t){return e(t)}}},74757:function(e){e.exports=function(e,t){return e.has(t)}},71811:function(e,t,n){var i=n(1469),r=n(15403),o=n(55514),s=n(79833);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(s(e))}},14429:function(e,t,n){var i=n(55639)["__core-js_shared__"];e.exports=i},99291:function(e,t,n){var i=n(98612);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&!1!==r(a[s],s,a););return n}}},25063:function(e){e.exports=function(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var c=s[e?a:++r];if(!1===n(o[c],c,o))break}return t}}},47445:function(e,t,n){var i=n(40098),r=n(16612),o=n(18601);e.exports=function(e){return function(t,n,s){return s&&"number"!=typeof s&&r(t,n,s)&&(n=s=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),s=void 0===s?t<n?1:-1:o(s),i(t,n,s,e)}}},67114:function(e,t,n){var i=n(88668),r=n(82908),o=n(74757);e.exports=function(e,t,n,s,a,c){var u=1&n,l=e.length,h=t.length;if(l!=h&&!(u&&h>l))return!1;var d=c.get(e),f=c.get(t);if(d&&f)return d==t&&f==e;var p=-1,g=!0,v=2&n?new i:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var m=e[p],y=t[p];if(s)var w=u?s(y,m,p,t,e,c):s(m,y,p,e,t,c);if(void 0!==w){if(w)continue;g=!1;break}if(v){if(!r(t,(function(e,t){if(!o(v,t)&&(m===e||a(m,e,n,s,c)))return v.push(t)}))){g=!1;break}}else if(m!==y&&!a(m,y,n,s,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},18351:function(e,t,n){var i=n(62705),r=n(11149),o=n(77813),s=n(67114),a=n(68776),c=n(21814),u=i?i.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,i,u,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=a;case"[object Set]":var p=1&i;if(f||(f=c),e.size!=t.size&&!p)return!1;var g=d.get(e);if(g)return g==t;i|=2,d.set(e,t);var v=s(f(e),f(t),i,u,h,d);return d.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},16096:function(e,t,n){var i=n(58234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var c=1&n,u=i(e),l=u.length;if(l!=i(t).length&&!c)return!1;for(var h=l;h--;){var d=u[h];if(!(c?d in t:r.call(t,d)))return!1}var f=a.get(e),p=a.get(t);if(f&&p)return f==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var v=c;++h<l;){var m=e[d=u[h]],y=t[d];if(o)var w=c?o(y,m,d,t,e,a):o(m,y,d,e,t,a);if(!(void 0===w?m===y||s(m,y,n,o,a):w)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(g=!1)}return a.delete(e),a.delete(t),g}},31957:function(e,t,n){var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},58234:function(e,t,n){var i=n(68866),r=n(99551),o=n(3674);e.exports=function(e){return i(e,o,r)}},45050:function(e,t,n){var i=n(37019);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},1499:function(e,t,n){var i=n(89162),r=n(3674);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,i(s)]}return t}},10852:function(e,t,n){var i=n(28458),r=n(47801);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},89607:function(e,t,n){var i=n(62705),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(e){}var r=s.call(e);return i&&(t?e[a]=n:delete e[a]),r}},99551:function(e,t,n){var i=n(34963),r=n(70479),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),i(s(e),(function(t){return o.call(e,t)})))}:r;e.exports=a},64160:function(e,t,n){var i=n(18552),r=n(57071),o=n(53818),s=n(58525),a=n(70577),c=n(44239),u=n(80346),l="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",g=u(i),v=u(r),m=u(o),y=u(s),w=u(a),b=c;(i&&b(new i(new ArrayBuffer(1)))!=p||r&&b(new r)!=l||o&&b(o.resolve())!=h||s&&b(new s)!=d||a&&b(new a)!=f)&&(b=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,i=n?u(n):"";if(i)switch(i){case g:return p;case v:return l;case m:return h;case y:return d;case w:return f}return t}),e.exports=b},47801:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},222:function(e,t,n){var i=n(71811),r=n(35694),o=n(1469),s=n(65776),a=n(41780),c=n(40327);e.exports=function(e,t,n){for(var u=-1,l=(t=i(t,e)).length,h=!1;++u<l;){var d=c(t[u]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++u!=l?h:!!(l=null==e?0:e.length)&&a(l)&&s(d,l)&&(o(e)||r(e))}},51789:function(e,t,n){var i=n(94536);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},80401:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:function(e,t,n){var i=n(94536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},21327:function(e,t,n){var i=n(94536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},81866:function(e,t,n){var i=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},37285:function(e,t,n){var i=n(62705),r=n(35694),o=n(1469),s=i?i.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||r(e)||!!(s&&e&&e[s])}},65776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},16612:function(e,t,n){var i=n(77813),r=n(98612),o=n(65776),s=n(13218);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?r(n)&&o(t,n.length):"string"==a&&t in n)&&i(n[t],e)}},15403:function(e,t,n){var i=n(1469),r=n(33448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||s.test(e)||!o.test(e)||null!=t&&e in Object(t)}},37019:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:function(e,t,n){var i,r=n(14429),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},25726:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},89162:function(e,t,n){var i=n(13218);e.exports=function(e){return e==e&&!i(e)}},27040:function(e){e.exports=function(){this.__data__=[],this.size=0}},14125:function(e,t,n){var i=n(18470),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},82117:function(e,t,n){var i=n(18470);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},67518:function(e,t,n){var i=n(18470);e.exports=function(e){return i(this.__data__,e)>-1}},54705:function(e,t,n){var i=n(18470);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},24785:function(e,t,n){var i=n(1989),r=n(38407),o=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},11285:function(e,t,n){var i=n(45050);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},96e3:function(e,t,n){var i=n(45050);e.exports=function(e){return i(this,e).get(e)}},49916:function(e,t,n){var i=n(45050);e.exports=function(e){return i(this,e).has(e)}},95265:function(e,t,n){var i=n(45050);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},68776:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},42634:function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},24523:function(e,t,n){var i=n(88306);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},94536:function(e,t,n){var i=n(10852)(Object,"create");e.exports=i},86916:function(e,t,n){var i=n(5569)(Object.keys,Object);e.exports=i},31167:function(e,t,n){e=n.nmd(e);var i=n(31957),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,s=o&&o.exports===r&&i.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},55639:function(e,t,n){var i=n(31957),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},90619:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:function(e){e.exports=function(e){return this.__data__.has(e)}},21814:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},37465:function(e,t,n){var i=n(38407);e.exports=function(){this.__data__=new i,this.size=0}},63779:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:function(e){e.exports=function(e){return this.__data__.get(e)}},44758:function(e){e.exports=function(e){return this.__data__.has(e)}},34309:function(e,t,n){var i=n(38407),r=n(57071),o=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!r||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},55514:function(e,t,n){var i=n(24523),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));e.exports=s},40327:function(e,t,n){var i=n(33448);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},80346:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},77813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},94654:function(e,t,n){var i=n(21078),r=n(35161);e.exports=function(e,t){return i(r(e,t),1)}},27361:function(e,t,n){var i=n(97786);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},79095:function(e,t,n){var i=n(13),r=n(222);e.exports=function(e,t){return null!=e&&r(e,t,i)}},6557:function(e){e.exports=function(e){return e}},35694:function(e,t,n){var i=n(9454),r=n(37005),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},1469:function(e){var t=Array.isArray;e.exports=t},98612:function(e,t,n){var i=n(23560),r=n(41780);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},44144:function(e,t,n){e=n.nmd(e);var i=n(55639),r=n(95062),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?i.Buffer:void 0,c=(a?a.isBuffer:void 0)||r;e.exports=c},23560:function(e,t,n){var i=n(44239),r=n(13218);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},93754:function(e,t,n){var i=n(40554);e.exports=function(e){return"number"==typeof e&&e==i(e)}},41780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,t,n){var i=n(44239),r=n(37005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},36719:function(e,t,n){var i=n(38749),r=n(7518),o=n(31167),s=o&&o.isTypedArray,a=s?r(s):i;e.exports=a},3674:function(e,t,n){var i=n(14636),r=n(280),o=n(98612);e.exports=function(e){return o(e)?i(e):r(e)}},96486:function(e,t,n){var i;e=n.nmd(e),function(){var r,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,h=9007199254740991,d=NaN,f=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],g="[object Arguments]",v="[object Array]",m="[object Boolean]",y="[object Date]",w="[object Error]",b="[object Function]",_="[object GeneratorFunction]",k="[object Map]",E="[object Number]",S="[object Object]",T="[object Promise]",P="[object RegExp]",C="[object Set]",x="[object String]",I="[object Symbol]",R="[object WeakMap]",O="[object ArrayBuffer]",A="[object DataView]",$="[object Float32Array]",L="[object Float64Array]",M="[object Int8Array]",j="[object Int16Array]",D="[object Int32Array]",N="[object Uint8Array]",F="[object Uint8ClampedArray]",B="[object Uint16Array]",U="[object Uint32Array]",z=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,q=RegExp(G.source),Y=RegExp(W.source),K=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),ie=/^\s+|\s+$/g,re=/^\s+/,oe=/\s+$/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,be=/['\n\r\u2028\u2029\\]/g,_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="["+Se+"]",Pe="["+_e+"]",Ce="\\d+",xe="["+ke+"]",Ie="[^\\ud800-\\udfff"+Se+Ce+"\\u2700-\\u27bf"+ke+Ee+"]",Re="\\ud83c[\\udffb-\\udfff]",Oe="[^\\ud800-\\udfff]",Ae="(?:\\ud83c[\\udde6-\\uddff]){2}",$e="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="["+Ee+"]",Me="(?:"+xe+"|"+Ie+")",je="(?:"+Le+"|"+Ie+")",De="(?:['’](?:d|ll|m|re|s|t|ve))?",Ne="(?:['’](?:D|LL|M|RE|S|T|VE))?",Fe="(?:"+Pe+"|"+Re+")?",Be="[\\ufe0e\\ufe0f]?",Ue=Be+Fe+"(?:\\u200d(?:"+[Oe,Ae,$e].join("|")+")"+Be+Fe+")*",ze="(?:"+["[\\u2700-\\u27bf]",Ae,$e].join("|")+")"+Ue,He="(?:"+[Oe+Pe+"?",Pe,Ae,$e,"[\\ud800-\\udfff]"].join("|")+")",Ve=RegExp("['’]","g"),Ge=RegExp(Pe,"g"),We=RegExp(Re+"(?="+Re+")|"+He+Ue,"g"),qe=RegExp([Le+"?"+xe+"+"+De+"(?="+[Te,Le,"$"].join("|")+")",je+"+"+Ne+"(?="+[Te,Le+Me,"$"].join("|")+")",Le+"?"+Me+"+"+De,Le+"+"+Ne,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ce,ze].join("|"),"g"),Ye=RegExp("[\\u200d\\ud800-\\udfff"+_e+"\\ufe0e\\ufe0f]"),Ke=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ze=-1,Je={};Je[$]=Je[L]=Je[M]=Je[j]=Je[D]=Je[N]=Je[F]=Je[B]=Je[U]=!0,Je[g]=Je[v]=Je[O]=Je[m]=Je[A]=Je[y]=Je[w]=Je[b]=Je[k]=Je[E]=Je[S]=Je[P]=Je[C]=Je[x]=Je[R]=!1;var Qe={};Qe[g]=Qe[v]=Qe[O]=Qe[A]=Qe[m]=Qe[y]=Qe[$]=Qe[L]=Qe[M]=Qe[j]=Qe[D]=Qe[k]=Qe[E]=Qe[S]=Qe[P]=Qe[C]=Qe[x]=Qe[I]=Qe[N]=Qe[F]=Qe[B]=Qe[U]=!0,Qe[w]=Qe[b]=Qe[R]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,nt=parseInt,it="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,rt="object"==typeof self&&self&&self.Object===Object&&self,ot=it||rt||Function("return this")(),st=t&&!t.nodeType&&t,at=st&&e&&!e.nodeType&&e,ct=at&&at.exports===st,ut=ct&&it.process,lt=function(){try{return at&&at.require&&at.require("util").types||ut&&ut.binding&&ut.binding("util")}catch(e){}}(),ht=lt&&lt.isArrayBuffer,dt=lt&&lt.isDate,ft=lt&&lt.isMap,pt=lt&&lt.isRegExp,gt=lt&&lt.isSet,vt=lt&&lt.isTypedArray;function mt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function yt(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var s=e[r];t(i,s,n(s),e)}return i}function wt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function bt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function _t(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function kt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}function Et(e,t){return!(null==e||!e.length)&&$t(e,t,0)>-1}function St(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Tt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function Pt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Ct(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function xt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function It(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var Rt=Dt("length");function Ot(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function At(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function $t(e,t,n){return t==t?function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):At(e,Mt,n)}function Lt(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function Mt(e){return e!=e}function jt(e,t){var n=null==e?0:e.length;return n?Bt(e,t)/n:d}function Dt(e){return function(t){return null==t?r:t[e]}}function Nt(e){return function(t){return null==e?r:e[t]}}function Ft(e,t,n,i,r){return r(e,(function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)})),n}function Bt(e,t){for(var n,i=-1,o=e.length;++i<o;){var s=t(e[i]);s!==r&&(n=n===r?s:n+s)}return n}function Ut(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function zt(e){return function(t){return e(t)}}function Ht(e,t){return Tt(t,(function(t){return e[t]}))}function Vt(e,t){return e.has(t)}function Gt(e,t){for(var n=-1,i=e.length;++n<i&&$t(t,e[n],0)>-1;);return n}function Wt(e,t){for(var n=e.length;n--&&$t(t,e[n],0)>-1;);return n}function qt(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var Yt=Nt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Kt=Nt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xt(e){return"\\"+et[e]}function Zt(e){return Ye.test(e)}function Jt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function Qt(e,t){return function(n){return e(t(n))}}function en(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[r++]=n)}return o}function tn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function rn(e){return Zt(e)?function(e){for(var t=We.lastIndex=0;We.test(e);)++t;return t}(e):Rt(e)}function on(e){return Zt(e)?function(e){return e.match(We)||[]}(e):function(e){return e.split("")}(e)}var sn=Nt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),an=function e(t){var n,i=(t=null==t?ot:an.defaults(ot.Object(),t,an.pick(ot,Xe))).Array,_e=t.Date,ke=t.Error,Ee=t.Function,Se=t.Math,Te=t.Object,Pe=t.RegExp,Ce=t.String,xe=t.TypeError,Ie=i.prototype,Re=Ee.prototype,Oe=Te.prototype,Ae=t["__core-js_shared__"],$e=Re.toString,Le=Oe.hasOwnProperty,Me=0,je=(n=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",De=Oe.toString,Ne=$e.call(Te),Fe=ot._,Be=Pe("^"+$e.call(Le).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=ct?t.Buffer:r,ze=t.Symbol,He=t.Uint8Array,We=Ue?Ue.allocUnsafe:r,Ye=Qt(Te.getPrototypeOf,Te),et=Te.create,it=Oe.propertyIsEnumerable,rt=Ie.splice,st=ze?ze.isConcatSpreadable:r,at=ze?ze.iterator:r,ut=ze?ze.toStringTag:r,lt=function(){try{var e=co(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),Rt=t.clearTimeout!==ot.clearTimeout&&t.clearTimeout,Nt=_e&&_e.now!==ot.Date.now&&_e.now,cn=t.setTimeout!==ot.setTimeout&&t.setTimeout,un=Se.ceil,ln=Se.floor,hn=Te.getOwnPropertySymbols,dn=Ue?Ue.isBuffer:r,fn=t.isFinite,pn=Ie.join,gn=Qt(Te.keys,Te),vn=Se.max,mn=Se.min,yn=_e.now,wn=t.parseInt,bn=Se.random,_n=Ie.reverse,kn=co(t,"DataView"),En=co(t,"Map"),Sn=co(t,"Promise"),Tn=co(t,"Set"),Pn=co(t,"WeakMap"),Cn=co(Te,"create"),xn=Pn&&new Pn,In={},Rn=No(kn),On=No(En),An=No(Sn),$n=No(Tn),Ln=No(Pn),Mn=ze?ze.prototype:r,jn=Mn?Mn.valueOf:r,Dn=Mn?Mn.toString:r;function Nn(e){if(ta(e)&&!Vs(e)&&!(e instanceof zn)){if(e instanceof Un)return e;if(Le.call(e,"__wrapped__"))return Fo(e)}return new Un(e)}var Fn=function(){function e(){}return function(t){if(!ea(t))return{};if(et)return et(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function Bn(){}function Un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function qn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Yn(e,t){var n=Vs(e),i=!n&&Hs(e),r=!n&&!i&&Ys(e),o=!n&&!i&&!r&&ua(e),s=n||i||r||o,a=s?Ut(e.length,Ce):[],c=a.length;for(var u in e)!t&&!Le.call(e,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||vo(u,c))||a.push(u);return a}function Kn(e){var t=e.length;return t?e[Gi(0,t-1)]:r}function Xn(e,t){return $o(Pr(e),oi(t,0,e.length))}function Zn(e){return $o(Pr(e))}function Jn(e,t,n){(n!==r&&!Bs(e[t],n)||n===r&&!(t in e))&&ii(e,t,n)}function Qn(e,t,n){var i=e[t];Le.call(e,t)&&Bs(i,n)&&(n!==r||t in e)||ii(e,t,n)}function ei(e,t){for(var n=e.length;n--;)if(Bs(e[n][0],t))return n;return-1}function ti(e,t,n,i){return li(e,(function(e,r,o){t(i,e,n(e),o)})),i}function ni(e,t){return e&&Cr(t,Oa(t),e)}function ii(e,t,n){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ri(e,t){for(var n=-1,o=t.length,s=i(o),a=null==e;++n<o;)s[n]=a?r:Pa(e,t[n]);return s}function oi(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function si(e,t,n,i,o,s){var a,c=1&t,u=2&t,l=4&t;if(n&&(a=o?n(e,i,o,s):n(e)),a!==r)return a;if(!ea(e))return e;var h=Vs(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Pr(e,a)}else{var d=ho(e),f=d==b||d==_;if(Ys(e))return br(e,c);if(d==S||d==g||f&&!o){if(a=u||f?{}:po(e),!c)return u?function(e,t){return Cr(e,lo(e),t)}(e,function(e,t){return e&&Cr(t,Aa(t),e)}(a,e)):function(e,t){return Cr(e,uo(e),t)}(e,ni(a,e))}else{if(!Qe[d])return o?e:{};a=function(e,t,n){var i,r=e.constructor;switch(t){case O:return _r(e);case m:case y:return new r(+e);case A:return function(e,t){var n=t?_r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case $:case L:case M:case j:case D:case N:case F:case B:case U:return kr(e,n);case k:return new r;case E:case x:return new r(e);case P:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new r;case I:return i=e,jn?Te(jn.call(i)):{}}}(e,d,c)}}s||(s=new qn);var p=s.get(e);if(p)return p;s.set(e,a),sa(e)?e.forEach((function(i){a.add(si(i,t,n,i,e,s))})):na(e)&&e.forEach((function(i,r){a.set(r,si(i,t,n,r,e,s))}));var v=h?r:(l?u?to:eo:u?Aa:Oa)(e);return wt(v||e,(function(i,r){v&&(i=e[r=i]),Qn(a,r,si(i,t,n,r,e,s))})),a}function ai(e,t,n){var i=n.length;if(null==e)return!i;for(e=Te(e);i--;){var o=n[i],s=t[o],a=e[o];if(a===r&&!(o in e)||!s(a))return!1}return!0}function ci(e,t,n){if("function"!=typeof e)throw new xe(o);return Io((function(){e.apply(r,n)}),t)}function ui(e,t,n,i){var r=-1,o=Et,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=Tt(t,zt(n))),i?(o=St,s=!1):t.length>=200&&(o=Vt,s=!1,t=new Wn(t));e:for(;++r<a;){var l=e[r],h=null==n?l:n(l);if(l=i||0!==l?l:0,s&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;c.push(l)}else o(t,h,i)||c.push(l)}return c}Nn.templateSettings={escape:K,evaluate:X,interpolate:Z,variable:"",imports:{_:Nn}},Nn.prototype=Bn.prototype,Nn.prototype.constructor=Nn,Un.prototype=Fn(Bn.prototype),Un.prototype.constructor=Un,zn.prototype=Fn(Bn.prototype),zn.prototype.constructor=zn,Hn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Cn){var n=t[e];return n===s?r:n}return Le.call(t,e)?t[e]:r},Hn.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==r:Le.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cn&&t===r?s:t,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=ei(t,e);return!(n<0||(n==t.length-1?t.pop():rt.call(t,n,1),--this.size,0))},Vn.prototype.get=function(e){var t=this.__data__,n=ei(t,e);return n<0?r:t[n][1]},Vn.prototype.has=function(e){return ei(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,i=ei(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(En||Vn),string:new Hn}},Gn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return so(this,e).get(e)},Gn.prototype.has=function(e){return so(this,e).has(e)},Gn.prototype.set=function(e,t){var n=so(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Wn.prototype.add=Wn.prototype.push=function(e){return this.__data__.set(e,s),this},Wn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.clear=function(){this.__data__=new Vn,this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qn.prototype.get=function(e){return this.__data__.get(e)},qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var i=n.__data__;if(!En||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(i)}return n.set(e,t),this.size=n.size,this};var li=Rr(yi),hi=Rr(wi,!0);function di(e,t){var n=!0;return li(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function fi(e,t,n){for(var i=-1,o=e.length;++i<o;){var s=e[i],a=t(s);if(null!=a&&(c===r?a==a&&!ca(a):n(a,c)))var c=a,u=s}return u}function pi(e,t){var n=[];return li(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function gi(e,t,n,i,r){var o=-1,s=e.length;for(n||(n=go),r||(r=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?gi(a,t-1,n,i,r):Pt(r,a):i||(r[r.length]=a)}return r}var vi=Or(),mi=Or(!0);function yi(e,t){return e&&vi(e,t,Oa)}function wi(e,t){return e&&mi(e,t,Oa)}function bi(e,t){return kt(t,(function(t){return Zs(e[t])}))}function _i(e,t){for(var n=0,i=(t=vr(t,e)).length;null!=e&&n<i;)e=e[Do(t[n++])];return n&&n==i?e:r}function ki(e,t,n){var i=t(e);return Vs(e)?i:Pt(i,n(e))}function Ei(e){return null==e?e===r?"[object Undefined]":"[object Null]":ut&&ut in Te(e)?function(e){var t=Le.call(e,ut),n=e[ut];try{e[ut]=r;var i=!0}catch(e){}var o=De.call(e);return i&&(t?e[ut]=n:delete e[ut]),o}(e):function(e){return De.call(e)}(e)}function Si(e,t){return e>t}function Ti(e,t){return null!=e&&Le.call(e,t)}function Pi(e,t){return null!=e&&t in Te(e)}function Ci(e,t,n){for(var o=n?St:Et,s=e[0].length,a=e.length,c=a,u=i(a),l=1/0,h=[];c--;){var d=e[c];c&&t&&(d=Tt(d,zt(t))),l=mn(d.length,l),u[c]=!n&&(t||s>=120&&d.length>=120)?new Wn(c&&d):r}d=e[0];var f=-1,p=u[0];e:for(;++f<s&&h.length<l;){var g=d[f],v=t?t(g):g;if(g=n||0!==g?g:0,!(p?Vt(p,v):o(h,v,n))){for(c=a;--c;){var m=u[c];if(!(m?Vt(m,v):o(e[c],v,n)))continue e}p&&p.push(v),h.push(g)}}return h}function xi(e,t,n){var i=null==(e=To(e,t=vr(t,e)))?e:e[Do(Xo(t))];return null==i?r:mt(i,e,n)}function Ii(e){return ta(e)&&Ei(e)==g}function Ri(e,t,n,i,o){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!=e&&t!=t:function(e,t,n,i,o,s){var a=Vs(e),c=Vs(t),u=a?v:ho(e),l=c?v:ho(t),h=(u=u==g?S:u)==S,d=(l=l==g?S:l)==S,f=u==l;if(f&&Ys(e)){if(!Ys(t))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new qn),a||ua(e)?Jr(e,t,n,i,o,s):function(e,t,n,i,r,o,s){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new He(e),new He(t)));case m:case y:case E:return Bs(+e,+t);case w:return e.name==t.name&&e.message==t.message;case P:case x:return e==t+"";case k:var a=Jt;case C:var c=1&i;if(a||(a=tn),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;i|=2,s.set(e,t);var l=Jr(a(e),a(t),i,r,o,s);return s.delete(e),l;case I:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,u,n,i,o,s);if(!(1&n)){var p=h&&Le.call(e,"__wrapped__"),b=d&&Le.call(t,"__wrapped__");if(p||b){var _=p?e.value():e,T=b?t.value():t;return s||(s=new qn),o(_,T,n,i,s)}}return!!f&&(s||(s=new qn),function(e,t,n,i,o,s){var a=1&n,c=eo(e),u=c.length;if(u!=eo(t).length&&!a)return!1;for(var l=u;l--;){var h=c[l];if(!(a?h in t:Le.call(t,h)))return!1}var d=s.get(e),f=s.get(t);if(d&&f)return d==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);for(var g=a;++l<u;){var v=e[h=c[l]],m=t[h];if(i)var y=a?i(m,v,h,t,e,s):i(v,m,h,e,t,s);if(!(y===r?v===m||o(v,m,n,i,s):y)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,i,o,s))}(e,t,n,i,Ri,o))}function Oi(e,t,n,i){var o=n.length,s=o,a=!i;if(null==e)return!s;for(e=Te(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],l=e[u],h=c[1];if(a&&c[2]){if(l===r&&!(u in e))return!1}else{var d=new qn;if(i)var f=i(l,h,u,e,t,d);if(!(f===r?Ri(h,l,3,i,d):f))return!1}}return!0}function Ai(e){return!(!ea(e)||(t=e,je&&je in t))&&(Zs(e)?Be:ge).test(No(e));var t}function $i(e){return"function"==typeof e?e:null==e?ic:"object"==typeof e?Vs(e)?Ni(e[0],e[1]):Di(e):dc(e)}function Li(e){if(!_o(e))return gn(e);var t=[];for(var n in Te(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mi(e,t){return e<t}function ji(e,t){var n=-1,r=Ws(e)?i(e.length):[];return li(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Di(e){var t=ao(e);return 1==t.length&&t[0][2]?Eo(t[0][0],t[0][1]):function(n){return n===e||Oi(n,e,t)}}function Ni(e,t){return yo(e)&&ko(t)?Eo(Do(e),t):function(n){var i=Pa(n,e);return i===r&&i===t?Ca(n,e):Ri(t,i,3)}}function Fi(e,t,n,i,o){e!==t&&vi(t,(function(s,a){if(o||(o=new qn),ea(s))!function(e,t,n,i,o,s,a){var c=Co(e,n),u=Co(t,n),l=a.get(u);if(l)Jn(e,n,l);else{var h=s?s(c,u,n+"",e,t,a):r,d=h===r;if(d){var f=Vs(u),p=!f&&Ys(u),g=!f&&!p&&ua(u);h=u,f||p||g?Vs(c)?h=c:qs(c)?h=Pr(c):p?(d=!1,h=br(u,!0)):g?(d=!1,h=kr(u,!0)):h=[]:ra(u)||Hs(u)?(h=c,Hs(c)?h=ma(c):ea(c)&&!Zs(c)||(h=po(u))):d=!1}d&&(a.set(u,h),o(h,u,i,s,a),a.delete(u)),Jn(e,n,h)}}(e,t,a,n,Fi,i,o);else{var c=i?i(Co(e,a),s,a+"",e,t,o):r;c===r&&(c=s),Jn(e,a,c)}}),Aa)}function Bi(e,t){var n=e.length;if(n)return vo(t+=t<0?n:0,n)?e[t]:r}function Ui(e,t,n){t=t.length?Tt(t,(function(e){return Vs(e)?function(t){return _i(t,1===e.length?e[0]:e)}:e})):[ic];var i=-1;t=Tt(t,zt(oo()));var r=ji(e,(function(e,n,r){var o=Tt(t,(function(t){return t(e)}));return{criteria:o,index:++i,value:e}}));return function(e,t){var i=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,s=r.length,a=n.length;++i<s;){var c=Er(r[i],o[i]);if(c)return i>=a?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}));i--;)e[i]=e[i].value;return e}(r)}function zi(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var s=t[i],a=_i(e,s);n(a,s)&&Xi(o,vr(s,e),a)}return o}function Hi(e,t,n,i){var r=i?Lt:$t,o=-1,s=t.length,a=e;for(e===t&&(t=Pr(t)),n&&(a=Tt(e,zt(n)));++o<s;)for(var c=0,u=t[o],l=n?n(u):u;(c=r(a,l,c,i))>-1;)a!==e&&rt.call(a,c,1),rt.call(e,c,1);return e}function Vi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;vo(r)?rt.call(e,r,1):cr(e,r)}}return e}function Gi(e,t){return e+ln(bn()*(t-e+1))}function Wi(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=ln(t/2))&&(e+=e)}while(t);return n}function qi(e,t){return Ro(So(e,t,ic),e+"")}function Yi(e){return Kn(Ba(e))}function Ki(e,t){var n=Ba(e);return $o(n,oi(t,0,n.length))}function Xi(e,t,n,i){if(!ea(e))return e;for(var o=-1,s=(t=vr(t,e)).length,a=s-1,c=e;null!=c&&++o<s;){var u=Do(t[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var h=c[u];(l=i?i(h,u,c):r)===r&&(l=ea(h)?h:vo(t[o+1])?[]:{})}Qn(c,u,l),c=c[u]}return e}var Zi=xn?function(e,t){return xn.set(e,t),e}:ic,Ji=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:ec(t),writable:!0})}:ic;function Qi(e){return $o(Ba(e))}function er(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=i(o);++r<o;)s[r]=e[r+t];return s}function tr(e,t){var n;return li(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function nr(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var o=i+r>>>1,s=e[o];null!==s&&!ca(s)&&(n?s<=t:s<t)?i=o+1:r=o}return r}return ir(e,t,ic,n)}function ir(e,t,n,i){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,c=null===t,u=ca(t),l=t===r;o<s;){var h=ln((o+s)/2),d=n(e[h]),f=d!==r,p=null===d,g=d==d,v=ca(d);if(a)var m=i||g;else m=l?g&&(i||f):c?g&&f&&(i||!p):u?g&&f&&!p&&(i||!v):!p&&!v&&(i?d<=t:d<t);m?o=h+1:s=h}return mn(s,4294967294)}function rr(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var s=e[n],a=t?t(s):s;if(!n||!Bs(a,c)){var c=a;o[r++]=0===s?0:s}}return o}function or(e){return"number"==typeof e?e:ca(e)?d:+e}function sr(e){if("string"==typeof e)return e;if(Vs(e))return Tt(e,sr)+"";if(ca(e))return Dn?Dn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ar(e,t,n){var i=-1,r=Et,o=e.length,s=!0,a=[],c=a;if(n)s=!1,r=St;else if(o>=200){var u=t?null:Wr(e);if(u)return tn(u);s=!1,r=Vt,c=new Wn}else c=t?[]:a;e:for(;++i<o;){var l=e[i],h=t?t(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),a.push(l)}else r(c,h,n)||(c!==a&&c.push(h),a.push(l))}return a}function cr(e,t){return null==(e=To(e,t=vr(t,e)))||delete e[Do(Xo(t))]}function ur(e,t,n,i){return Xi(e,t,n(_i(e,t)),i)}function lr(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?er(e,i?0:o,i?o+1:r):er(e,i?o+1:0,i?r:o)}function hr(e,t){var n=e;return n instanceof zn&&(n=n.value()),Ct(t,(function(e,t){return t.func.apply(t.thisArg,Pt([e],t.args))}),n)}function dr(e,t,n){var r=e.length;if(r<2)return r?ar(e[0]):[];for(var o=-1,s=i(r);++o<r;)for(var a=e[o],c=-1;++c<r;)c!=o&&(s[o]=ui(s[o]||a,e[c],t,n));return ar(gi(s,1),t,n)}function fr(e,t,n){for(var i=-1,o=e.length,s=t.length,a={};++i<o;){var c=i<s?t[i]:r;n(a,e[i],c)}return a}function pr(e){return qs(e)?e:[]}function gr(e){return"function"==typeof e?e:ic}function vr(e,t){return Vs(e)?e:yo(e,t)?[e]:jo(ya(e))}var mr=qi;function yr(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:er(e,t,n)}var wr=Rt||function(e){return ot.clearTimeout(e)};function br(e,t){if(t)return e.slice();var n=e.length,i=We?We(n):new e.constructor(n);return e.copy(i),i}function _r(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function kr(e,t){var n=t?_r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Er(e,t){if(e!==t){var n=e!==r,i=null===e,o=e==e,s=ca(e),a=t!==r,c=null===t,u=t==t,l=ca(t);if(!c&&!l&&!s&&e>t||s&&a&&u&&!c&&!l||i&&a&&u||!n&&u||!o)return 1;if(!i&&!s&&!l&&e<t||l&&n&&o&&!i&&!s||c&&n&&o||!a&&o||!u)return-1}return 0}function Sr(e,t,n,r){for(var o=-1,s=e.length,a=n.length,c=-1,u=t.length,l=vn(s-a,0),h=i(u+l),d=!r;++c<u;)h[c]=t[c];for(;++o<a;)(d||o<s)&&(h[n[o]]=e[o]);for(;l--;)h[c++]=e[o++];return h}function Tr(e,t,n,r){for(var o=-1,s=e.length,a=-1,c=n.length,u=-1,l=t.length,h=vn(s-c,0),d=i(h+l),f=!r;++o<h;)d[o]=e[o];for(var p=o;++u<l;)d[p+u]=t[u];for(;++a<c;)(f||o<s)&&(d[p+n[a]]=e[o++]);return d}function Pr(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function Cr(e,t,n,i){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var c=t[s],u=i?i(n[c],e[c],c,n,e):r;u===r&&(u=e[c]),o?ii(n,c,u):Qn(n,c,u)}return n}function xr(e,t){return function(n,i){var r=Vs(n)?yt:ti,o=t?t():{};return r(n,e,oo(i,2),o)}}function Ir(e){return qi((function(t,n){var i=-1,o=n.length,s=o>1?n[o-1]:r,a=o>2?n[2]:r;for(s=e.length>3&&"function"==typeof s?(o--,s):r,a&&mo(n[0],n[1],a)&&(s=o<3?r:s,o=1),t=Te(t);++i<o;){var c=n[i];c&&e(t,c,i,s)}return t}))}function Rr(e,t){return function(n,i){if(null==n)return n;if(!Ws(n))return e(n,i);for(var r=n.length,o=t?r:-1,s=Te(n);(t?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function Or(e){return function(t,n,i){for(var r=-1,o=Te(t),s=i(t),a=s.length;a--;){var c=s[e?a:++r];if(!1===n(o[c],c,o))break}return t}}function Ar(e){return function(t){var n=Zt(t=ya(t))?on(t):r,i=n?n[0]:t.charAt(0),o=n?yr(n,1).join(""):t.slice(1);return i[e]()+o}}function $r(e){return function(t){return Ct(Za(Ha(t).replace(Ve,"")),e,"")}}function Lr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),i=e.apply(n,t);return ea(i)?i:n}}function Mr(e){return function(t,n,i){var o=Te(t);if(!Ws(t)){var s=oo(n,3);t=Oa(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,i);return a>-1?o[s?t[a]:a]:r}}function jr(e){return Qr((function(t){var n=t.length,i=n,s=Un.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new xe(o);if(s&&!c&&"wrapper"==io(a))var c=new Un([],!0)}for(i=c?i:n;++i<n;){var u=io(a=t[i]),l="wrapper"==u?no(a):r;c=l&&wo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[io(l[0])].apply(c,l[3]):1==a.length&&wo(a)?c[u]():c.thru(a)}return function(){var e=arguments,i=e[0];if(c&&1==e.length&&Vs(i))return c.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}}))}function Dr(e,t,n,o,s,a,c,l,h,d){var f=t&u,p=1&t,g=2&t,v=24&t,m=512&t,y=g?r:Lr(e);return function r(){for(var u=arguments.length,w=i(u),b=u;b--;)w[b]=arguments[b];if(v)var _=ro(r),k=qt(w,_);if(o&&(w=Sr(w,o,s,v)),a&&(w=Tr(w,a,c,v)),u-=k,v&&u<d){var E=en(w,_);return Vr(e,t,Dr,r.placeholder,n,w,E,l,h,d-u)}var S=p?n:this,T=g?S[e]:e;return u=w.length,l?w=Po(w,l):m&&u>1&&w.reverse(),f&&h<u&&(w.length=h),this&&this!==ot&&this instanceof r&&(T=y||Lr(T)),T.apply(S,w)}}function Nr(e,t){return function(n,i){return function(e,t,n,i){return yi(e,(function(e,r,o){t(i,n(e),r,o)})),i}(n,e,t(i),{})}}function Fr(e,t){return function(n,i){var o;if(n===r&&i===r)return t;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=sr(n),i=sr(i)):(n=or(n),i=or(i)),o=e(n,i)}return o}}function Br(e){return Qr((function(t){return t=Tt(t,zt(oo())),qi((function(n){var i=this;return e(t,(function(e){return mt(e,i,n)}))}))}))}function Ur(e,t){var n=(t=t===r?" ":sr(t)).length;if(n<2)return n?Wi(t,e):t;var i=Wi(t,un(e/rn(t)));return Zt(t)?yr(on(i),0,e).join(""):i.slice(0,e)}function zr(e){return function(t,n,o){return o&&"number"!=typeof o&&mo(t,n,o)&&(n=o=r),t=fa(t),n===r?(n=t,t=0):n=fa(n),function(e,t,n,r){for(var o=-1,s=vn(un((t-e)/(n||1)),0),a=i(s);s--;)a[r?s:++o]=e,e+=n;return a}(t,n,o=o===r?t<n?1:-1:fa(o),e)}}function Hr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=va(t),n=va(n)),e(t,n)}}function Vr(e,t,n,i,o,s,a,u,l,h){var d=8&t;t|=d?c:64,4&(t&=~(d?64:c))||(t&=-4);var f=[e,t,o,d?s:r,d?a:r,d?r:s,d?r:a,u,l,h],p=n.apply(r,f);return wo(e)&&xo(p,f),p.placeholder=i,Oo(p,e,t)}function Gr(e){var t=Se[e];return function(e,n){if(e=va(e),(n=null==n?0:mn(pa(n),292))&&fn(e)){var i=(ya(e)+"e").split("e");return+((i=(ya(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Wr=Tn&&1/tn(new Tn([,-0]))[1]==l?function(e){return new Tn(e)}:cc;function qr(e){return function(t){var n=ho(t);return n==k?Jt(t):n==C?nn(t):function(e,t){return Tt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yr(e,t,n,s,l,h,d,f){var p=2&t;if(!p&&"function"!=typeof e)throw new xe(o);var g=s?s.length:0;if(g||(t&=-97,s=l=r),d=d===r?d:vn(pa(d),0),f=f===r?f:pa(f),g-=l?l.length:0,64&t){var v=s,m=l;s=l=r}var y=p?r:no(e),w=[e,t,n,s,l,v,m,h,d,f];if(y&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<131,s=i==u&&8==n||i==u&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Sr(l,c,t[4]):c,e[4]=l?en(e[3],a):t[4]}(c=t[5])&&(l=e[5],e[5]=l?Tr(l,c,t[6]):c,e[6]=l?en(e[5],a):t[6]),(c=t[7])&&(e[7]=c),i&u&&(e[8]=null==e[8]?t[8]:mn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(w,y),e=w[0],t=w[1],n=w[2],s=w[3],l=w[4],!(f=w[9]=w[9]===r?p?0:e.length:vn(w[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||16==t?function(e,t,n){var o=Lr(e);return function s(){for(var a=arguments.length,c=i(a),u=a,l=ro(s);u--;)c[u]=arguments[u];var h=a<3&&c[0]!==l&&c[a-1]!==l?[]:en(c,l);return(a-=h.length)<n?Vr(e,t,Dr,s.placeholder,r,c,h,r,r,n-a):mt(this&&this!==ot&&this instanceof s?o:e,this,c)}}(e,t,f):t!=c&&33!=t||l.length?Dr.apply(r,w):function(e,t,n,r){var o=1&t,s=Lr(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=r.length,h=i(l+c),d=this&&this!==ot&&this instanceof t?s:e;++u<l;)h[u]=r[u];for(;c--;)h[u++]=arguments[++a];return mt(d,o?n:this,h)}}(e,t,n,s);else var b=function(e,t,n){var i=1&t,r=Lr(e);return function t(){return(this&&this!==ot&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,n);return Oo((y?Zi:xo)(b,w),e,t)}function Kr(e,t,n,i){return e===r||Bs(e,Oe[n])&&!Le.call(i,n)?t:e}function Xr(e,t,n,i,o,s){return ea(e)&&ea(t)&&(s.set(t,e),Fi(e,t,r,Xr,s),s.delete(t)),e}function Zr(e){return ra(e)?r:e}function Jr(e,t,n,i,o,s){var a=1&n,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(e),h=s.get(t);if(l&&h)return l==t&&h==e;var d=-1,f=!0,p=2&n?new Wn:r;for(s.set(e,t),s.set(t,e);++d<c;){var g=e[d],v=t[d];if(i)var m=a?i(v,g,d,t,e,s):i(g,v,d,e,t,s);if(m!==r){if(m)continue;f=!1;break}if(p){if(!It(t,(function(e,t){if(!Vt(p,t)&&(g===e||o(g,e,n,i,s)))return p.push(t)}))){f=!1;break}}else if(g!==v&&!o(g,v,n,i,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Qr(e){return Ro(So(e,r,Go),e+"")}function eo(e){return ki(e,Oa,uo)}function to(e){return ki(e,Aa,lo)}var no=xn?function(e){return xn.get(e)}:cc;function io(e){for(var t=e.name+"",n=In[t],i=Le.call(In,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function ro(e){return(Le.call(Nn,"placeholder")?Nn:e).placeholder}function oo(){var e=Nn.iteratee||rc;return e=e===rc?$i:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function ao(e){for(var t=Oa(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,ko(r)]}return t}function co(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Ai(n)?n:r}var uo=hn?function(e){return null==e?[]:(e=Te(e),kt(hn(e),(function(t){return it.call(e,t)})))}:gc,lo=hn?function(e){for(var t=[];e;)Pt(t,uo(e)),e=Ye(e);return t}:gc,ho=Ei;function fo(e,t,n){for(var i=-1,r=(t=vr(t,e)).length,o=!1;++i<r;){var s=Do(t[i]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Qs(r)&&vo(s,r)&&(Vs(e)||Hs(e))}function po(e){return"function"!=typeof e.constructor||_o(e)?{}:Fn(Ye(e))}function go(e){return Vs(e)||Hs(e)||!!(st&&e&&e[st])}function vo(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function mo(e,t,n){if(!ea(n))return!1;var i=typeof t;return!!("number"==i?Ws(n)&&vo(t,n.length):"string"==i&&t in n)&&Bs(n[t],e)}function yo(e,t){if(Vs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ca(e))||Q.test(e)||!J.test(e)||null!=t&&e in Te(t)}function wo(e){var t=io(e),n=Nn[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var i=no(n);return!!i&&e===i[0]}(kn&&ho(new kn(new ArrayBuffer(1)))!=A||En&&ho(new En)!=k||Sn&&ho(Sn.resolve())!=T||Tn&&ho(new Tn)!=C||Pn&&ho(new Pn)!=R)&&(ho=function(e){var t=Ei(e),n=t==S?e.constructor:r,i=n?No(n):"";if(i)switch(i){case Rn:return A;case On:return k;case An:return T;case $n:return C;case Ln:return R}return t});var bo=Ae?Zs:vc;function _o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function ko(e){return e==e&&!ea(e)}function Eo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in Te(n))}}function So(e,t,n){return t=vn(t===r?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=vn(r.length-t,0),a=i(s);++o<s;)a[o]=r[t+o];o=-1;for(var c=i(t+1);++o<t;)c[o]=r[o];return c[t]=n(a),mt(e,this,c)}}function To(e,t){return t.length<2?e:_i(e,er(t,0,-1))}function Po(e,t){for(var n=e.length,i=mn(t.length,n),o=Pr(e);i--;){var s=t[i];e[i]=vo(s,n)?o[s]:r}return e}function Co(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var xo=Ao(Zi),Io=cn||function(e,t){return ot.setTimeout(e,t)},Ro=Ao(Ji);function Oo(e,t,n){var i=t+"";return Ro(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return wt(p,(function(n){var i="_."+n[0];t&n[1]&&!Et(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(ce):[]}(i),n)))}function Ao(e){var t=0,n=0;return function(){var i=yn(),o=16-(i-n);if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function $o(e,t){var n=-1,i=e.length,o=i-1;for(t=t===r?i:t;++n<t;){var s=Gi(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Lo,Mo,jo=(Lo=Ls((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,i,r){t.push(i?r.replace(le,"$1"):n||e)})),t}),(function(e){return 500===Mo.size&&Mo.clear(),e})),Mo=Lo.cache,Lo);function Do(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function No(e){if(null!=e){try{return $e.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fo(e){if(e instanceof zn)return e.clone();var t=new Un(e.__wrapped__,e.__chain__);return t.__actions__=Pr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bo=qi((function(e,t){return qs(e)?ui(e,gi(t,1,qs,!0)):[]})),Uo=qi((function(e,t){var n=Xo(t);return qs(n)&&(n=r),qs(e)?ui(e,gi(t,1,qs,!0),oo(n,2)):[]})),zo=qi((function(e,t){var n=Xo(t);return qs(n)&&(n=r),qs(e)?ui(e,gi(t,1,qs,!0),r,n):[]}));function Ho(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:pa(n);return r<0&&(r=vn(i+r,0)),At(e,oo(t,3),r)}function Vo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return n!==r&&(o=pa(n),o=n<0?vn(i+o,0):mn(o,i-1)),At(e,oo(t,3),o,!0)}function Go(e){return null!=e&&e.length?gi(e,1):[]}function Wo(e){return e&&e.length?e[0]:r}var qo=qi((function(e){var t=Tt(e,pr);return t.length&&t[0]===e[0]?Ci(t):[]})),Yo=qi((function(e){var t=Xo(e),n=Tt(e,pr);return t===Xo(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Ci(n,oo(t,2)):[]})),Ko=qi((function(e){var t=Xo(e),n=Tt(e,pr);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Ci(n,r,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Zo=qi(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?Hi(e,t):e}var Qo=Qr((function(e,t){var n=null==e?0:e.length,i=ri(e,t);return Vi(e,Tt(t,(function(e){return vo(e,n)?+e:e})).sort(Er)),i}));function es(e){return null==e?e:_n.call(e)}var ts=qi((function(e){return ar(gi(e,1,qs,!0))})),ns=qi((function(e){var t=Xo(e);return qs(t)&&(t=r),ar(gi(e,1,qs,!0),oo(t,2))})),is=qi((function(e){var t=Xo(e);return t="function"==typeof t?t:r,ar(gi(e,1,qs,!0),r,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=kt(e,(function(e){if(qs(e))return t=vn(e.length,t),!0})),Ut(t,(function(t){return Tt(e,Dt(t))}))}function os(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:Tt(n,(function(e){return mt(t,r,e)}))}var ss=qi((function(e,t){return qs(e)?ui(e,t):[]})),as=qi((function(e){return dr(kt(e,qs))})),cs=qi((function(e){var t=Xo(e);return qs(t)&&(t=r),dr(kt(e,qs),oo(t,2))})),us=qi((function(e){var t=Xo(e);return t="function"==typeof t?t:r,dr(kt(e,qs),r,t)})),ls=qi(rs),hs=qi((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,os(e,n)}));function ds(e){var t=Nn(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var ps=Qr((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,o=function(t){return ri(t,e)};return!(t>1||this.__actions__.length)&&i instanceof zn&&vo(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:fs,args:[o],thisArg:r}),new Un(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(o)})),gs=xr((function(e,t,n){Le.call(e,n)?++e[n]:ii(e,n,1)})),vs=Mr(Ho),ms=Mr(Vo);function ys(e,t){return(Vs(e)?wt:li)(e,oo(t,3))}function ws(e,t){return(Vs(e)?bt:hi)(e,oo(t,3))}var bs=xr((function(e,t,n){Le.call(e,n)?e[n].push(t):ii(e,n,[t])})),_s=qi((function(e,t,n){var r=-1,o="function"==typeof t,s=Ws(e)?i(e.length):[];return li(e,(function(e){s[++r]=o?mt(t,e,n):xi(e,t,n)})),s})),ks=xr((function(e,t,n){ii(e,n,t)}));function Es(e,t){return(Vs(e)?Tt:ji)(e,oo(t,3))}var Ss=xr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ts=qi((function(e,t){if(null==e)return[];var n=t.length;return n>1&&mo(e,t[0],t[1])?t=[]:n>2&&mo(t[0],t[1],t[2])&&(t=[t[0]]),Ui(e,gi(t,1),[])})),Ps=Nt||function(){return ot.Date.now()};function Cs(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Yr(e,u,r,r,r,r,t)}function xs(e,t){var n;if("function"!=typeof t)throw new xe(o);return e=pa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Is=qi((function(e,t,n){var i=1;if(n.length){var r=en(n,ro(Is));i|=c}return Yr(e,i,t,n,r)})),Rs=qi((function(e,t,n){var i=3;if(n.length){var r=en(n,ro(Rs));i|=c}return Yr(t,i,e,n,r)}));function Os(e,t,n){var i,s,a,c,u,l,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new xe(o);function g(t){var n=i,o=s;return i=s=r,h=t,c=e.apply(o,n)}function v(e){return h=e,u=Io(y,t),d?g(e):c}function m(e){var n=e-l;return l===r||n>=t||n<0||f&&e-h>=a}function y(){var e=Ps();if(m(e))return w(e);u=Io(y,function(e){var n=t-(e-l);return f?mn(n,a-(e-h)):n}(e))}function w(e){return u=r,p&&i?g(e):(i=s=r,c)}function b(){var e=Ps(),n=m(e);if(i=arguments,s=this,l=e,n){if(u===r)return v(l);if(f)return wr(u),u=Io(y,t),g(l)}return u===r&&(u=Io(y,t)),c}return t=va(t)||0,ea(n)&&(d=!!n.leading,a=(f="maxWait"in n)?vn(va(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){u!==r&&wr(u),h=0,i=l=s=u=r},b.flush=function(){return u===r?c:w(Ps())},b}var As=qi((function(e,t){return ci(e,1,t)})),$s=qi((function(e,t,n){return ci(e,va(t)||0,n)}));function Ls(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new xe(o);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(Ls.Cache||Gn),n}function Ms(e){if("function"!=typeof e)throw new xe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ls.Cache=Gn;var js=mr((function(e,t){var n=(t=1==t.length&&Vs(t[0])?Tt(t[0],zt(oo())):Tt(gi(t,1),zt(oo()))).length;return qi((function(i){for(var r=-1,o=mn(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return mt(e,this,i)}))})),Ds=qi((function(e,t){var n=en(t,ro(Ds));return Yr(e,c,r,t,n)})),Ns=qi((function(e,t){var n=en(t,ro(Ns));return Yr(e,64,r,t,n)})),Fs=Qr((function(e,t){return Yr(e,256,r,r,r,t)}));function Bs(e,t){return e===t||e!=e&&t!=t}var Us=Hr(Si),zs=Hr((function(e,t){return e>=t})),Hs=Ii(function(){return arguments}())?Ii:function(e){return ta(e)&&Le.call(e,"callee")&&!it.call(e,"callee")},Vs=i.isArray,Gs=ht?zt(ht):function(e){return ta(e)&&Ei(e)==O};function Ws(e){return null!=e&&Qs(e.length)&&!Zs(e)}function qs(e){return ta(e)&&Ws(e)}var Ys=dn||vc,Ks=dt?zt(dt):function(e){return ta(e)&&Ei(e)==y};function Xs(e){if(!ta(e))return!1;var t=Ei(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Zs(e){if(!ea(e))return!1;var t=Ei(e);return t==b||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==pa(e)}function Qs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=ft?zt(ft):function(e){return ta(e)&&ho(e)==k};function ia(e){return"number"==typeof e||ta(e)&&Ei(e)==E}function ra(e){if(!ta(e)||Ei(e)!=S)return!1;var t=Ye(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$e.call(n)==Ne}var oa=pt?zt(pt):function(e){return ta(e)&&Ei(e)==P},sa=gt?zt(gt):function(e){return ta(e)&&ho(e)==C};function aa(e){return"string"==typeof e||!Vs(e)&&ta(e)&&Ei(e)==x}function ca(e){return"symbol"==typeof e||ta(e)&&Ei(e)==I}var ua=vt?zt(vt):function(e){return ta(e)&&Qs(e.length)&&!!Je[Ei(e)]},la=Hr(Mi),ha=Hr((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Ws(e))return aa(e)?on(e):Pr(e);if(at&&e[at])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[at]());var t=ho(e);return(t==k?Jt:t==C?tn:Ba)(e)}function fa(e){return e?(e=va(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function pa(e){var t=fa(e),n=t%1;return t==t?n?t-n:t:0}function ga(e){return e?oi(pa(e),0,f):0}function va(e){if("number"==typeof e)return e;if(ca(e))return d;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ie,"");var n=pe.test(e);return n||ve.test(e)?nt(e.slice(2),n?2:8):fe.test(e)?d:+e}function ma(e){return Cr(e,Aa(e))}function ya(e){return null==e?"":sr(e)}var wa=Ir((function(e,t){if(_o(t)||Ws(t))Cr(t,Oa(t),e);else for(var n in t)Le.call(t,n)&&Qn(e,n,t[n])})),ba=Ir((function(e,t){Cr(t,Aa(t),e)})),_a=Ir((function(e,t,n,i){Cr(t,Aa(t),e,i)})),ka=Ir((function(e,t,n,i){Cr(t,Oa(t),e,i)})),Ea=Qr(ri),Sa=qi((function(e,t){e=Te(e);var n=-1,i=t.length,o=i>2?t[2]:r;for(o&&mo(t[0],t[1],o)&&(i=1);++n<i;)for(var s=t[n],a=Aa(s),c=-1,u=a.length;++c<u;){var l=a[c],h=e[l];(h===r||Bs(h,Oe[l])&&!Le.call(e,l))&&(e[l]=s[l])}return e})),Ta=qi((function(e){return e.push(r,Xr),mt(La,r,e)}));function Pa(e,t,n){var i=null==e?r:_i(e,t);return i===r?n:i}function Ca(e,t){return null!=e&&fo(e,t,Pi)}var xa=Nr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=n}),ec(ic)),Ia=Nr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),oo),Ra=qi(xi);function Oa(e){return Ws(e)?Yn(e):Li(e)}function Aa(e){return Ws(e)?Yn(e,!0):function(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=_o(e),n=[];for(var i in e)("constructor"!=i||!t&&Le.call(e,i))&&n.push(i);return n}(e)}var $a=Ir((function(e,t,n){Fi(e,t,n)})),La=Ir((function(e,t,n,i){Fi(e,t,n,i)})),Ma=Qr((function(e,t){var n={};if(null==e)return n;var i=!1;t=Tt(t,(function(t){return t=vr(t,e),i||(i=t.length>1),t})),Cr(e,to(e),n),i&&(n=si(n,7,Zr));for(var r=t.length;r--;)cr(n,t[r]);return n})),ja=Qr((function(e,t){return null==e?{}:function(e,t){return zi(e,t,(function(t,n){return Ca(e,n)}))}(e,t)}));function Da(e,t){if(null==e)return{};var n=Tt(to(e),(function(e){return[e]}));return t=oo(t),zi(e,n,(function(e,n){return t(e,n[0])}))}var Na=qr(Oa),Fa=qr(Aa);function Ba(e){return null==e?[]:Ht(e,Oa(e))}var Ua=$r((function(e,t,n){return t=t.toLowerCase(),e+(n?za(t):t)}));function za(e){return Xa(ya(e).toLowerCase())}function Ha(e){return(e=ya(e))&&e.replace(ye,Yt).replace(Ge,"")}var Va=$r((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ga=$r((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Wa=Ar("toLowerCase"),qa=$r((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ya=$r((function(e,t,n){return e+(n?" ":"")+Xa(t)})),Ka=$r((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xa=Ar("toUpperCase");function Za(e,t,n){return e=ya(e),(t=n?r:t)===r?function(e){return Ke.test(e)}(e)?function(e){return e.match(qe)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Ja=qi((function(e,t){try{return mt(e,r,t)}catch(e){return Xs(e)?e:new ke(e)}})),Qa=Qr((function(e,t){return wt(t,(function(t){t=Do(t),ii(e,t,Is(e[t],e))})),e}));function ec(e){return function(){return e}}var tc=jr(),nc=jr(!0);function ic(e){return e}function rc(e){return $i("function"==typeof e?e:si(e,1))}var oc=qi((function(e,t){return function(n){return xi(n,e,t)}})),sc=qi((function(e,t){return function(n){return xi(e,n,t)}}));function ac(e,t,n){var i=Oa(t),r=bi(t,i);null!=n||ea(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=bi(t,Oa(t)));var o=!(ea(n)&&"chain"in n&&!n.chain),s=Zs(e);return wt(r,(function(n){var i=t[n];e[n]=i,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),r=n.__actions__=Pr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,Pt([this.value()],arguments))})})),e}function cc(){}var uc=Br(Tt),lc=Br(_t),hc=Br(It);function dc(e){return yo(e)?Dt(Do(e)):function(e){return function(t){return _i(t,e)}}(e)}var fc=zr(),pc=zr(!0);function gc(){return[]}function vc(){return!1}var mc,yc=Fr((function(e,t){return e+t}),0),wc=Gr("ceil"),bc=Fr((function(e,t){return e/t}),1),_c=Gr("floor"),kc=Fr((function(e,t){return e*t}),1),Ec=Gr("round"),Sc=Fr((function(e,t){return e-t}),0);return Nn.after=function(e,t){if("function"!=typeof t)throw new xe(o);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},Nn.ary=Cs,Nn.assign=wa,Nn.assignIn=ba,Nn.assignInWith=_a,Nn.assignWith=ka,Nn.at=Ea,Nn.before=xs,Nn.bind=Is,Nn.bindAll=Qa,Nn.bindKey=Rs,Nn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vs(e)?e:[e]},Nn.chain=ds,Nn.chunk=function(e,t,n){t=(n?mo(e,t,n):t===r)?1:vn(pa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,c=i(un(o/t));s<o;)c[a++]=er(e,s,s+=t);return c},Nn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},Nn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Pt(Vs(n)?Pr(n):[n],gi(t,1))},Nn.cond=function(e){var t=null==e?0:e.length,n=oo();return e=t?Tt(e,(function(e){if("function"!=typeof e[1])throw new xe(o);return[n(e[0]),e[1]]})):[],qi((function(n){for(var i=-1;++i<t;){var r=e[i];if(mt(r[0],this,n))return mt(r[1],this,n)}}))},Nn.conforms=function(e){return function(e){var t=Oa(e);return function(n){return ai(n,e,t)}}(si(e,1))},Nn.constant=ec,Nn.countBy=gs,Nn.create=function(e,t){var n=Fn(e);return null==t?n:ni(n,t)},Nn.curry=function e(t,n,i){var o=Yr(t,8,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},Nn.curryRight=function e(t,n,i){var o=Yr(t,16,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},Nn.debounce=Os,Nn.defaults=Sa,Nn.defaultsDeep=Ta,Nn.defer=As,Nn.delay=$s,Nn.difference=Bo,Nn.differenceBy=Uo,Nn.differenceWith=zo,Nn.drop=function(e,t,n){var i=null==e?0:e.length;return i?er(e,(t=n||t===r?1:pa(t))<0?0:t,i):[]},Nn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?er(e,0,(t=i-(t=n||t===r?1:pa(t)))<0?0:t):[]},Nn.dropRightWhile=function(e,t){return e&&e.length?lr(e,oo(t,3),!0,!0):[]},Nn.dropWhile=function(e,t){return e&&e.length?lr(e,oo(t,3),!0):[]},Nn.fill=function(e,t,n,i){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&mo(e,t,n)&&(n=0,i=o),function(e,t,n,i){var o=e.length;for((n=pa(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:pa(i))<0&&(i+=o),i=n>i?0:ga(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Nn.filter=function(e,t){return(Vs(e)?kt:pi)(e,oo(t,3))},Nn.flatMap=function(e,t){return gi(Es(e,t),1)},Nn.flatMapDeep=function(e,t){return gi(Es(e,t),l)},Nn.flatMapDepth=function(e,t,n){return n=n===r?1:pa(n),gi(Es(e,t),n)},Nn.flatten=Go,Nn.flattenDeep=function(e){return null!=e&&e.length?gi(e,l):[]},Nn.flattenDepth=function(e,t){return null!=e&&e.length?gi(e,t=t===r?1:pa(t)):[]},Nn.flip=function(e){return Yr(e,512)},Nn.flow=tc,Nn.flowRight=nc,Nn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},Nn.functions=function(e){return null==e?[]:bi(e,Oa(e))},Nn.functionsIn=function(e){return null==e?[]:bi(e,Aa(e))},Nn.groupBy=bs,Nn.initial=function(e){return null!=e&&e.length?er(e,0,-1):[]},Nn.intersection=qo,Nn.intersectionBy=Yo,Nn.intersectionWith=Ko,Nn.invert=xa,Nn.invertBy=Ia,Nn.invokeMap=_s,Nn.iteratee=rc,Nn.keyBy=ks,Nn.keys=Oa,Nn.keysIn=Aa,Nn.map=Es,Nn.mapKeys=function(e,t){var n={};return t=oo(t,3),yi(e,(function(e,i,r){ii(n,t(e,i,r),e)})),n},Nn.mapValues=function(e,t){var n={};return t=oo(t,3),yi(e,(function(e,i,r){ii(n,i,t(e,i,r))})),n},Nn.matches=function(e){return Di(si(e,1))},Nn.matchesProperty=function(e,t){return Ni(e,si(t,1))},Nn.memoize=Ls,Nn.merge=$a,Nn.mergeWith=La,Nn.method=oc,Nn.methodOf=sc,Nn.mixin=ac,Nn.negate=Ms,Nn.nthArg=function(e){return e=pa(e),qi((function(t){return Bi(t,e)}))},Nn.omit=Ma,Nn.omitBy=function(e,t){return Da(e,Ms(oo(t)))},Nn.once=function(e){return xs(2,e)},Nn.orderBy=function(e,t,n,i){return null==e?[]:(Vs(t)||(t=null==t?[]:[t]),Vs(n=i?r:n)||(n=null==n?[]:[n]),Ui(e,t,n))},Nn.over=uc,Nn.overArgs=js,Nn.overEvery=lc,Nn.overSome=hc,Nn.partial=Ds,Nn.partialRight=Ns,Nn.partition=Ss,Nn.pick=ja,Nn.pickBy=Da,Nn.property=dc,Nn.propertyOf=function(e){return function(t){return null==e?r:_i(e,t)}},Nn.pull=Zo,Nn.pullAll=Jo,Nn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hi(e,t,oo(n,2)):e},Nn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hi(e,t,r,n):e},Nn.pullAt=Qo,Nn.range=fc,Nn.rangeRight=pc,Nn.rearg=Fs,Nn.reject=function(e,t){return(Vs(e)?kt:pi)(e,Ms(oo(t,3)))},Nn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=oo(t,3);++i<o;){var s=e[i];t(s,i,e)&&(n.push(s),r.push(i))}return Vi(e,r),n},Nn.rest=function(e,t){if("function"!=typeof e)throw new xe(o);return qi(e,t=t===r?t:pa(t))},Nn.reverse=es,Nn.sampleSize=function(e,t,n){return t=(n?mo(e,t,n):t===r)?1:pa(t),(Vs(e)?Xn:Ki)(e,t)},Nn.set=function(e,t,n){return null==e?e:Xi(e,t,n)},Nn.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Xi(e,t,n,i)},Nn.shuffle=function(e){return(Vs(e)?Zn:Qi)(e)},Nn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&mo(e,t,n)?(t=0,n=i):(t=null==t?0:pa(t),n=n===r?i:pa(n)),er(e,t,n)):[]},Nn.sortBy=Ts,Nn.sortedUniq=function(e){return e&&e.length?rr(e):[]},Nn.sortedUniqBy=function(e,t){return e&&e.length?rr(e,oo(t,2)):[]},Nn.split=function(e,t,n){return n&&"number"!=typeof n&&mo(e,t,n)&&(t=n=r),(n=n===r?f:n>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=sr(t))&&Zt(e)?yr(on(e),0,n):e.split(t,n):[]},Nn.spread=function(e,t){if("function"!=typeof e)throw new xe(o);return t=null==t?0:vn(pa(t),0),qi((function(n){var i=n[t],r=yr(n,0,t);return i&&Pt(r,i),mt(e,this,r)}))},Nn.tail=function(e){var t=null==e?0:e.length;return t?er(e,1,t):[]},Nn.take=function(e,t,n){return e&&e.length?er(e,0,(t=n||t===r?1:pa(t))<0?0:t):[]},Nn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?er(e,(t=i-(t=n||t===r?1:pa(t)))<0?0:t,i):[]},Nn.takeRightWhile=function(e,t){return e&&e.length?lr(e,oo(t,3),!1,!0):[]},Nn.takeWhile=function(e,t){return e&&e.length?lr(e,oo(t,3)):[]},Nn.tap=function(e,t){return t(e),e},Nn.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new xe(o);return ea(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Os(e,t,{leading:i,maxWait:t,trailing:r})},Nn.thru=fs,Nn.toArray=da,Nn.toPairs=Na,Nn.toPairsIn=Fa,Nn.toPath=function(e){return Vs(e)?Tt(e,Do):ca(e)?[e]:Pr(jo(ya(e)))},Nn.toPlainObject=ma,Nn.transform=function(e,t,n){var i=Vs(e),r=i||Ys(e)||ua(e);if(t=oo(t,4),null==n){var o=e&&e.constructor;n=r?i?new o:[]:ea(e)&&Zs(o)?Fn(Ye(e)):{}}return(r?wt:yi)(e,(function(e,i,r){return t(n,e,i,r)})),n},Nn.unary=function(e){return Cs(e,1)},Nn.union=ts,Nn.unionBy=ns,Nn.unionWith=is,Nn.uniq=function(e){return e&&e.length?ar(e):[]},Nn.uniqBy=function(e,t){return e&&e.length?ar(e,oo(t,2)):[]},Nn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?ar(e,r,t):[]},Nn.unset=function(e,t){return null==e||cr(e,t)},Nn.unzip=rs,Nn.unzipWith=os,Nn.update=function(e,t,n){return null==e?e:ur(e,t,gr(n))},Nn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:ur(e,t,gr(n),i)},Nn.values=Ba,Nn.valuesIn=function(e){return null==e?[]:Ht(e,Aa(e))},Nn.without=ss,Nn.words=Za,Nn.wrap=function(e,t){return Ds(gr(t),e)},Nn.xor=as,Nn.xorBy=cs,Nn.xorWith=us,Nn.zip=ls,Nn.zipObject=function(e,t){return fr(e||[],t||[],Qn)},Nn.zipObjectDeep=function(e,t){return fr(e||[],t||[],Xi)},Nn.zipWith=hs,Nn.entries=Na,Nn.entriesIn=Fa,Nn.extend=ba,Nn.extendWith=_a,ac(Nn,Nn),Nn.add=yc,Nn.attempt=Ja,Nn.camelCase=Ua,Nn.capitalize=za,Nn.ceil=wc,Nn.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=va(n))==n?n:0),t!==r&&(t=(t=va(t))==t?t:0),oi(va(e),t,n)},Nn.clone=function(e){return si(e,4)},Nn.cloneDeep=function(e){return si(e,5)},Nn.cloneDeepWith=function(e,t){return si(e,5,t="function"==typeof t?t:r)},Nn.cloneWith=function(e,t){return si(e,4,t="function"==typeof t?t:r)},Nn.conformsTo=function(e,t){return null==t||ai(e,t,Oa(t))},Nn.deburr=Ha,Nn.defaultTo=function(e,t){return null==e||e!=e?t:e},Nn.divide=bc,Nn.endsWith=function(e,t,n){e=ya(e),t=sr(t);var i=e.length,o=n=n===r?i:oi(pa(n),0,i);return(n-=t.length)>=0&&e.slice(n,o)==t},Nn.eq=Bs,Nn.escape=function(e){return(e=ya(e))&&Y.test(e)?e.replace(W,Kt):e},Nn.escapeRegExp=function(e){return(e=ya(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Nn.every=function(e,t,n){var i=Vs(e)?_t:di;return n&&mo(e,t,n)&&(t=r),i(e,oo(t,3))},Nn.find=vs,Nn.findIndex=Ho,Nn.findKey=function(e,t){return Ot(e,oo(t,3),yi)},Nn.findLast=ms,Nn.findLastIndex=Vo,Nn.findLastKey=function(e,t){return Ot(e,oo(t,3),wi)},Nn.floor=_c,Nn.forEach=ys,Nn.forEachRight=ws,Nn.forIn=function(e,t){return null==e?e:vi(e,oo(t,3),Aa)},Nn.forInRight=function(e,t){return null==e?e:mi(e,oo(t,3),Aa)},Nn.forOwn=function(e,t){return e&&yi(e,oo(t,3))},Nn.forOwnRight=function(e,t){return e&&wi(e,oo(t,3))},Nn.get=Pa,Nn.gt=Us,Nn.gte=zs,Nn.has=function(e,t){return null!=e&&fo(e,t,Ti)},Nn.hasIn=Ca,Nn.head=Wo,Nn.identity=ic,Nn.includes=function(e,t,n,i){e=Ws(e)?e:Ba(e),n=n&&!i?pa(n):0;var r=e.length;return n<0&&(n=vn(r+n,0)),aa(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&$t(e,t,n)>-1},Nn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:pa(n);return r<0&&(r=vn(i+r,0)),$t(e,t,r)},Nn.inRange=function(e,t,n){return t=fa(t),n===r?(n=t,t=0):n=fa(n),function(e,t,n){return e>=mn(t,n)&&e<vn(t,n)}(e=va(e),t,n)},Nn.invoke=Ra,Nn.isArguments=Hs,Nn.isArray=Vs,Nn.isArrayBuffer=Gs,Nn.isArrayLike=Ws,Nn.isArrayLikeObject=qs,Nn.isBoolean=function(e){return!0===e||!1===e||ta(e)&&Ei(e)==m},Nn.isBuffer=Ys,Nn.isDate=Ks,Nn.isElement=function(e){return ta(e)&&1===e.nodeType&&!ra(e)},Nn.isEmpty=function(e){if(null==e)return!0;if(Ws(e)&&(Vs(e)||"string"==typeof e||"function"==typeof e.splice||Ys(e)||ua(e)||Hs(e)))return!e.length;var t=ho(e);if(t==k||t==C)return!e.size;if(_o(e))return!Li(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Nn.isEqual=function(e,t){return Ri(e,t)},Nn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Ri(e,t,r,n):!!i},Nn.isError=Xs,Nn.isFinite=function(e){return"number"==typeof e&&fn(e)},Nn.isFunction=Zs,Nn.isInteger=Js,Nn.isLength=Qs,Nn.isMap=na,Nn.isMatch=function(e,t){return e===t||Oi(e,t,ao(t))},Nn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Oi(e,t,ao(t),n)},Nn.isNaN=function(e){return ia(e)&&e!=+e},Nn.isNative=function(e){if(bo(e))throw new ke("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ai(e)},Nn.isNil=function(e){return null==e},Nn.isNull=function(e){return null===e},Nn.isNumber=ia,Nn.isObject=ea,Nn.isObjectLike=ta,Nn.isPlainObject=ra,Nn.isRegExp=oa,Nn.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=h},Nn.isSet=sa,Nn.isString=aa,Nn.isSymbol=ca,Nn.isTypedArray=ua,Nn.isUndefined=function(e){return e===r},Nn.isWeakMap=function(e){return ta(e)&&ho(e)==R},Nn.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==Ei(e)},Nn.join=function(e,t){return null==e?"":pn.call(e,t)},Nn.kebabCase=Va,Nn.last=Xo,Nn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=pa(n))<0?vn(i+o,0):mn(o,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,o):At(e,Mt,o,!0)},Nn.lowerCase=Ga,Nn.lowerFirst=Wa,Nn.lt=la,Nn.lte=ha,Nn.max=function(e){return e&&e.length?fi(e,ic,Si):r},Nn.maxBy=function(e,t){return e&&e.length?fi(e,oo(t,2),Si):r},Nn.mean=function(e){return jt(e,ic)},Nn.meanBy=function(e,t){return jt(e,oo(t,2))},Nn.min=function(e){return e&&e.length?fi(e,ic,Mi):r},Nn.minBy=function(e,t){return e&&e.length?fi(e,oo(t,2),Mi):r},Nn.stubArray=gc,Nn.stubFalse=vc,Nn.stubObject=function(){return{}},Nn.stubString=function(){return""},Nn.stubTrue=function(){return!0},Nn.multiply=kc,Nn.nth=function(e,t){return e&&e.length?Bi(e,pa(t)):r},Nn.noConflict=function(){return ot._===this&&(ot._=Fe),this},Nn.noop=cc,Nn.now=Ps,Nn.pad=function(e,t,n){e=ya(e);var i=(t=pa(t))?rn(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Ur(ln(r),n)+e+Ur(un(r),n)},Nn.padEnd=function(e,t,n){e=ya(e);var i=(t=pa(t))?rn(e):0;return t&&i<t?e+Ur(t-i,n):e},Nn.padStart=function(e,t,n){e=ya(e);var i=(t=pa(t))?rn(e):0;return t&&i<t?Ur(t-i,n)+e:e},Nn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(ya(e).replace(re,""),t||0)},Nn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&mo(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=fa(e),t===r?(t=e,e=0):t=fa(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var o=bn();return mn(e+o*(t-e+tt("1e-"+((o+"").length-1))),t)}return Gi(e,t)},Nn.reduce=function(e,t,n){var i=Vs(e)?Ct:Ft,r=arguments.length<3;return i(e,oo(t,4),n,r,li)},Nn.reduceRight=function(e,t,n){var i=Vs(e)?xt:Ft,r=arguments.length<3;return i(e,oo(t,4),n,r,hi)},Nn.repeat=function(e,t,n){return t=(n?mo(e,t,n):t===r)?1:pa(t),Wi(ya(e),t)},Nn.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Nn.result=function(e,t,n){var i=-1,o=(t=vr(t,e)).length;for(o||(o=1,e=r);++i<o;){var s=null==e?r:e[Do(t[i])];s===r&&(i=o,s=n),e=Zs(s)?s.call(e):s}return e},Nn.round=Ec,Nn.runInContext=e,Nn.sample=function(e){return(Vs(e)?Kn:Yi)(e)},Nn.size=function(e){if(null==e)return 0;if(Ws(e))return aa(e)?rn(e):e.length;var t=ho(e);return t==k||t==C?e.size:Li(e).length},Nn.snakeCase=qa,Nn.some=function(e,t,n){var i=Vs(e)?It:tr;return n&&mo(e,t,n)&&(t=r),i(e,oo(t,3))},Nn.sortedIndex=function(e,t){return nr(e,t)},Nn.sortedIndexBy=function(e,t,n){return ir(e,t,oo(n,2))},Nn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=nr(e,t);if(i<n&&Bs(e[i],t))return i}return-1},Nn.sortedLastIndex=function(e,t){return nr(e,t,!0)},Nn.sortedLastIndexBy=function(e,t,n){return ir(e,t,oo(n,2),!0)},Nn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=nr(e,t,!0)-1;if(Bs(e[n],t))return n}return-1},Nn.startCase=Ya,Nn.startsWith=function(e,t,n){return e=ya(e),n=null==n?0:oi(pa(n),0,e.length),t=sr(t),e.slice(n,n+t.length)==t},Nn.subtract=Sc,Nn.sum=function(e){return e&&e.length?Bt(e,ic):0},Nn.sumBy=function(e,t){return e&&e.length?Bt(e,oo(t,2)):0},Nn.template=function(e,t,n){var i=Nn.templateSettings;n&&mo(e,t,n)&&(t=r),e=ya(e),t=_a({},t,i,Kr);var o,s,a=_a({},t.imports,i.imports,Kr),c=Oa(a),u=Ht(a,c),l=0,h=t.interpolate||we,d="__p += '",f=Pe((t.escape||we).source+"|"+h.source+"|"+(h===Z?he:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ze+"]")+"\n";e.replace(f,(function(t,n,i,r,a,c){return i||(i=r),d+=e.slice(l,c).replace(be,Xt),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var g=Le.call(t,"variable")&&t.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(z,""):d).replace(H,"$1").replace(V,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Ja((function(){return Ee(c,p+"return "+d).apply(r,u)}));if(v.source=d,Xs(v))throw v;return v},Nn.times=function(e,t){if((e=pa(e))<1||e>h)return[];var n=f,i=mn(e,f);t=oo(t),e-=f;for(var r=Ut(i,t);++n<e;)t(n);return r},Nn.toFinite=fa,Nn.toInteger=pa,Nn.toLength=ga,Nn.toLower=function(e){return ya(e).toLowerCase()},Nn.toNumber=va,Nn.toSafeInteger=function(e){return e?oi(pa(e),-9007199254740991,h):0===e?e:0},Nn.toString=ya,Nn.toUpper=function(e){return ya(e).toUpperCase()},Nn.trim=function(e,t,n){if((e=ya(e))&&(n||t===r))return e.replace(ie,"");if(!e||!(t=sr(t)))return e;var i=on(e),o=on(t);return yr(i,Gt(i,o),Wt(i,o)+1).join("")},Nn.trimEnd=function(e,t,n){if((e=ya(e))&&(n||t===r))return e.replace(oe,"");if(!e||!(t=sr(t)))return e;var i=on(e);return yr(i,0,Wt(i,on(t))+1).join("")},Nn.trimStart=function(e,t,n){if((e=ya(e))&&(n||t===r))return e.replace(re,"");if(!e||!(t=sr(t)))return e;var i=on(e);return yr(i,Gt(i,on(t))).join("")},Nn.truncate=function(e,t){var n=30,i="...";if(ea(t)){var o="separator"in t?t.separator:o;n="length"in t?pa(t.length):n,i="omission"in t?sr(t.omission):i}var s=(e=ya(e)).length;if(Zt(e)){var a=on(e);s=a.length}if(n>=s)return e;var c=n-rn(i);if(c<1)return i;var u=a?yr(a,0,c).join(""):e.slice(0,c);if(o===r)return u+i;if(a&&(c+=u.length-c),oa(o)){if(e.slice(c).search(o)){var l,h=u;for(o.global||(o=Pe(o.source,ya(de.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var d=l.index;u=u.slice(0,d===r?c:d)}}else if(e.indexOf(sr(o),c)!=c){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+i},Nn.unescape=function(e){return(e=ya(e))&&q.test(e)?e.replace(G,sn):e},Nn.uniqueId=function(e){var t=++Me;return ya(e)+t},Nn.upperCase=Ka,Nn.upperFirst=Xa,Nn.each=ys,Nn.eachRight=ws,Nn.first=Wo,ac(Nn,(mc={},yi(Nn,(function(e,t){Le.call(Nn.prototype,t)||(mc[t]=e)})),mc),{chain:!1}),Nn.VERSION="4.17.20",wt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Nn[e].placeholder=Nn})),wt(["drop","take"],(function(e,t){zn.prototype[e]=function(n){n=n===r?1:vn(pa(n),0);var i=this.__filtered__&&!t?new zn(this):this.clone();return i.__filtered__?i.__takeCount__=mn(n,i.__takeCount__):i.__views__.push({size:mn(n,f),type:e+(i.__dir__<0?"Right":"")}),i},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),wt(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),wt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}})),wt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(ic)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=qi((function(e,t){return"function"==typeof e?new zn(this):this.map((function(n){return xi(n,e,t)}))})),zn.prototype.reject=function(e){return this.filter(Ms(oo(e)))},zn.prototype.slice=function(e,t){e=pa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=pa(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(f)},yi(zn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=Nn[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);o&&(Nn.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,c=t instanceof zn,u=a[0],l=c||Vs(t),h=function(e){var t=o.apply(Nn,Pt([e],a));return i&&d?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,g=c&&!f;if(!s&&l){t=g?t:new zn(this);var v=e.apply(t,a);return v.__actions__.push({func:fs,args:[h],thisArg:r}),new Un(v,d)}return p&&g?e.apply(this,a):(v=this.thru(h),p?i?v.value()[0]:v.value():v)})})),wt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Nn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Vs(r)?r:[],e)}return this[n]((function(n){return t.apply(Vs(n)?n:[],e)}))}})),yi(zn.prototype,(function(e,t){var n=Nn[t];if(n){var i=n.name+"";Le.call(In,i)||(In[i]=[]),In[i].push({name:t,func:n})}})),In[Dr(r,2).name]=[{name:"wrapper",func:r}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=Pr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pr(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Vs(e),i=t<0,r=n?e.length:0,o=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=mn(t,e+s);break;case"takeRight":e=vn(e,t-s)}}return{start:e,end:t}}(0,r,this.__views__),s=o.start,a=o.end,c=a-s,u=i?a:s-1,l=this.__iteratees__,h=l.length,d=0,f=mn(c,this.__takeCount__);if(!n||!i&&r==c&&f==c)return hr(e,this.__actions__);var p=[];e:for(;c--&&d<f;){for(var g=-1,v=e[u+=t];++g<h;){var m=l[g],y=m.iteratee,w=m.type,b=y(v);if(2==w)v=b;else if(!b){if(1==w)continue e;break e}}p[d++]=v}return p},Nn.prototype.at=ps,Nn.prototype.chain=function(){return ds(this)},Nn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Nn.prototype.next=function(){this.__values__===r&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Nn.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var i=Fo(n);i.__index__=0,i.__values__=r,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},Nn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:fs,args:[es],thisArg:r}),new Un(t,this.__chain__)}return this.thru(es)},Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){return hr(this.__wrapped__,this.__actions__)},Nn.prototype.first=Nn.prototype.head,at&&(Nn.prototype[at]=function(){return this}),Nn}();ot._=an,(i=function(){return an}.call(t,n,t,e))===r||(e.exports=i)}.call(this)},35161:function(e,t,n){var i=n(29932),r=n(67206),o=n(69199),s=n(1469);e.exports=function(e,t){return(s(e)?i:o)(e,r(t,3))}},88306:function(e,t,n){var i=n(83369);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},50308:function(e){e.exports=function(){}},39601:function(e,t,n){var i=n(40371),r=n(79152),o=n(15403),s=n(40327);e.exports=function(e){return o(e)?i(s(e)):r(e)}},96026:function(e,t,n){var i=n(47445)();e.exports=i},70479:function(e){e.exports=function(){return[]}},95062:function(e){e.exports=function(){return!1}},18601:function(e,t,n){var i=n(14841);e.exports=function(e){return e?Infinity===(e=i(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},40554:function(e,t,n){var i=n(18601);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},14841:function(e,t,n){var i=n(13218),r=n(33448),o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?NaN:+e}},79833:function(e,t,n){var i=n(80531);e.exports=function(e){return null==e?"":i(e)}},27418:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var s,a,c=r(e),u=1;u<arguments.length;u++){for(var l in s=Object(arguments[u]))n.call(s,l)&&(c[l]=s[l]);if(t){a=t(s);for(var h=0;h<a.length;h++)i.call(s,a[h])&&(c[a[h]]=s[a[h]])}}return c}},41474:function(e,t){"use strict";t.default=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},73705:function(e,t,n){"use strict";n.r(t);var i=n(41474),r=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function s(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void l(t.promise,e)}u(t.promise,i)}else(1===e._state?u:l)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void h(e);if("function"==typeof n)return void f((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,h(e)}catch(t){l(e,t)}var i,r}function l(e,t){e._state=2,e._value=t,h(e)}function h(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,l(t,e))}))}catch(e){if(n)return;n=!0,l(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(s);return c(this,new d(e,t,n)),n},a.prototype.finally=i.default,a.all=function(e){return new a((function(t,n){if(!o(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function s(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,(function(t){s(e,t)}),n)}i[e]=o,0==--r&&t(i)}catch(e){n(e)}}for(var a=0;a<i.length;a++)s(a,i[a])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){if(!o(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)a.resolve(e[i]).then(t,n)}))},a._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){r(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.default=a},92703:function(e,t,n){"use strict";var i=n(50414);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},64448:function(e,t,n){"use strict";var i=n(67294),r=n(27418),o=n(63840);function s(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!i)throw s(Error(227));var a=null,c={};function u(){if(a)for(var e in c){var t=c[e],n=a.indexOf(e);if(!(-1<n))throw s(Error(96),e);if(!h[n]){if(!t.extractEvents)throw s(Error(97),e);for(var i in h[n]=t,n=t.eventTypes){var r=void 0,o=n[i],u=t,f=i;if(d.hasOwnProperty(f))throw s(Error(99),f);d[f]=o;var p=o.phasedRegistrationNames;if(p){for(r in p)p.hasOwnProperty(r)&&l(p[r],u,f);r=!0}else o.registrationName?(l(o.registrationName,u,f),r=!0):r=!1;if(!r)throw s(Error(98),i,e)}}}}function l(e,t,n){if(f[e])throw s(Error(100),e);f[e]=t,p[e]=t.eventTypes[n].dependencies}var h=[],d={},f={},p={};function g(e,t,n,i,r,o,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var v=!1,m=null,y=!1,w=null,b={onError:function(e){v=!0,m=e}};function _(e,t,n,i,r,o,s,a,c){v=!1,m=null,g.apply(b,arguments)}var k=null,E=null,S=null;function T(e,t,n){var i=e.type||"unknown-event";e.currentTarget=S(n),function(e,t,n,i,r,o,a,c,u){if(_.apply(this,arguments),v){if(!v)throw s(Error(198));var l=m;v=!1,m=null,y||(y=!0,w=l)}}(i,t,void 0,e),e.currentTarget=null}function P(e,t){if(null==t)throw s(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function C(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var x=null;function I(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)T(e,t[i],n[i]);else t&&T(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function R(e){if(null!==e&&(x=P(x,e)),e=x,x=null,e){if(C(e,I),x)throw s(Error(95));if(y)throw e=w,y=!1,w=null,e}}var O={injectEventPluginOrder:function(e){if(a)throw s(Error(101));a=Array.prototype.slice.call(e),u()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!c.hasOwnProperty(t)||c[t]!==i){if(c[t])throw s(Error(102),t);c[t]=i,n=!0}}n&&u()}};function A(e,t){var n=e.stateNode;if(!n)return null;var i=k(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw s(Error(231),t,typeof n);return n}var $=Math.random().toString(36).slice(2),L="__reactInternalInstance$"+$,M="__reactEventHandlers$"+$;function j(e){if(e[L])return e[L];for(;!e[L];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[L]).tag||6===e.tag?e:null}function D(e){return!(e=e[L])||5!==e.tag&&6!==e.tag?null:e}function N(e){if(5===e.tag||6===e.tag)return e.stateNode;throw s(Error(33))}function F(e){return e[M]||null}function B(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function U(e,t,n){(t=A(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=P(n._dispatchListeners,t),n._dispatchInstances=P(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=B(t);for(t=n.length;0<t--;)U(n[t],"captured",e);for(t=0;t<n.length;t++)U(n[t],"bubbled",e)}}function H(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=A(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=P(n._dispatchListeners,t),n._dispatchInstances=P(n._dispatchInstances,e))}function V(e){e&&e.dispatchConfig.registrationName&&H(e._targetInst,null,e)}function G(e){C(e,z)}var W=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);function q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Y={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionend:q("Transition","TransitionEnd")},K={},X={};function Z(e){if(K[e])return K[e];if(!Y[e])return e;var t,n=Y[e];for(t in n)if(n.hasOwnProperty(t)&&t in X)return K[e]=n[t];return e}W&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var J=Z("animationend"),Q=Z("animationiteration"),ee=Z("animationstart"),te=Z("transitionend"),ne="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ie=null,re=null,oe=null;function se(){if(oe)return oe;var e,t,n=re,i=n.length,r="value"in ie?ie.value:ie.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return oe=r.slice(e,1<t?1-t:void 0)}function ae(){return!0}function ce(){return!1}function ue(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:ce,this.isPropagationStopped=ce,this}function le(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function he(e){if(!(e instanceof this))throw s(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=le,e.release=he}r(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:ce,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,de(n),n},de(ue);var fe=ue.extend({data:null}),pe=ue.extend({data:null}),ge=[9,13,27,32],ve=W&&"CompositionEvent"in window,me=null;W&&"documentMode"in document&&(me=document.documentMode);var ye=W&&"TextEvent"in window&&!me,we=W&&(!ve||me&&8<me&&11>=me),be=String.fromCharCode(32),_e={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ke=!1;function Ee(e,t){switch(e){case"keyup":return-1!==ge.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Se(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Te=!1,Pe={eventTypes:_e,extractEvents:function(e,t,n,i){var r=void 0,o=void 0;if(ve)e:{switch(e){case"compositionstart":r=_e.compositionStart;break e;case"compositionend":r=_e.compositionEnd;break e;case"compositionupdate":r=_e.compositionUpdate;break e}r=void 0}else Te?Ee(e,n)&&(r=_e.compositionEnd):"keydown"===e&&229===n.keyCode&&(r=_e.compositionStart);return r?(we&&"ko"!==n.locale&&(Te||r!==_e.compositionStart?r===_e.compositionEnd&&Te&&(o=se()):(re="value"in(ie=i)?ie.value:ie.textContent,Te=!0)),r=fe.getPooled(r,t,n,i),(o||null!==(o=Se(n)))&&(r.data=o),G(r),o=r):o=null,(e=ye?function(e,t){switch(e){case"compositionend":return Se(t);case"keypress":return 32!==t.which?null:(ke=!0,be);case"textInput":return(e=t.data)===be&&ke?null:e;default:return null}}(e,n):function(e,t){if(Te)return"compositionend"===e||!ve&&Ee(e,t)?(e=se(),oe=re=ie=null,Te=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return we&&"ko"!==t.locale?null:t.data}}(e,n))?((t=pe.getPooled(_e.beforeInput,t,n,i)).data=e,G(t)):t=null,null===o?t:null===t?o:[o,t]}},Ce=null,xe=null,Ie=null;function Re(e){if(e=E(e)){if("function"!=typeof Ce)throw s(Error(280));var t=k(e.stateNode);Ce(e.stateNode,e.type,t)}}function Oe(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Ae(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function $e(e,t){return e(t)}function Le(e,t,n,i){return e(t,n,i)}function Me(){}var je=$e,De=!1;function Ne(){null===xe&&null===Ie||(Me(),Ae())}var Fe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fe[e.type]:"textarea"===t}function Ue(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ze(e){if(!W)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function He(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ve(e){e._valueTracker||(e._valueTracker=function(e){var t=He(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ge(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=He(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}var We=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;We.hasOwnProperty("ReactCurrentDispatcher")||(We.ReactCurrentDispatcher={current:null}),We.hasOwnProperty("ReactCurrentBatchConfig")||(We.ReactCurrentBatchConfig={suspense:null});var qe=/^(.*)[\\\/]/,Ye="function"==typeof Symbol&&Symbol.for,Ke=Ye?Symbol.for("react.element"):60103,Xe=Ye?Symbol.for("react.portal"):60106,Ze=Ye?Symbol.for("react.fragment"):60107,Je=Ye?Symbol.for("react.strict_mode"):60108,Qe=Ye?Symbol.for("react.profiler"):60114,et=Ye?Symbol.for("react.provider"):60109,tt=Ye?Symbol.for("react.context"):60110,nt=Ye?Symbol.for("react.concurrent_mode"):60111,it=Ye?Symbol.for("react.forward_ref"):60112,rt=Ye?Symbol.for("react.suspense"):60113,ot=Ye?Symbol.for("react.suspense_list"):60120,st=Ye?Symbol.for("react.memo"):60115,at=Ye?Symbol.for("react.lazy"):60116;Ye&&Symbol.for("react.fundamental"),Ye&&Symbol.for("react.responder");var ct="function"==typeof Symbol&&Symbol.iterator;function ut(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ct&&e[ct]||e["@@iterator"])?e:null}function lt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Ze:return"Fragment";case Xe:return"Portal";case Qe:return"Profiler";case Je:return"StrictMode";case rt:return"Suspense";case ot:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case it:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case st:return lt(e.type);case at:if(e=1===e._status?e._result:null)return lt(e)}return null}function ht(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=lt(e.type);n=null,i&&(n=lt(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(qe,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}var dt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ft=Object.prototype.hasOwnProperty,pt={},gt={};function vt(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){mt[e]=new vt(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];mt[t]=new vt(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){mt[e]=new vt(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){mt[e]=new vt(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){mt[e]=new vt(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){mt[e]=new vt(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){mt[e]=new vt(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){mt[e]=new vt(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){mt[e]=new vt(e,5,!1,e.toLowerCase(),null,!1)}));var yt=/[\-:]([a-z])/g;function wt(e){return e[1].toUpperCase()}function bt(e,t,n,i){var r=mt.hasOwnProperty(t)?mt[t]:null;(null!==r?0===r.type:!i&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!ft.call(gt,e)||!ft.call(pt,e)&&(dt.test(e)?gt[e]=!0:(pt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function _t(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function kt(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Et(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=_t(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function St(e,t){null!=(t=t.checked)&&bt(e,"checked",t,!1)}function Tt(e,t){St(e,t);var n=_t(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ct(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ct(e,t.type,_t(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Pt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ct(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(yt,wt);mt[t]=new vt(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(yt,wt);mt[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(yt,wt);mt[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){mt[e]=new vt(e,1,!1,e.toLowerCase(),null,!1)})),mt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){mt[e]=new vt(e,1,!1,e.toLowerCase(),null,!0)}));var xt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function It(e,t,n){return(e=ue.getPooled(xt.change,e,t,n)).type="change",Oe(n),G(e),e}var Rt=null,Ot=null;function At(e){R(e)}function $t(e){if(Ge(N(e)))return e}function Lt(e,t){if("change"===e)return t}var Mt=!1;function jt(){Rt&&(Rt.detachEvent("onpropertychange",Dt),Ot=Rt=null)}function Dt(e){if("value"===e.propertyName&&$t(Ot))if(e=It(Ot,e,Ue(e)),De)R(e);else{De=!0;try{$e(At,e)}finally{De=!1,Ne()}}}function Nt(e,t,n){"focus"===e?(jt(),Ot=n,(Rt=t).attachEvent("onpropertychange",Dt)):"blur"===e&&jt()}function Ft(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $t(Ot)}function Bt(e,t){if("click"===e)return $t(t)}function Ut(e,t){if("input"===e||"change"===e)return $t(t)}W&&(Mt=ze("input")&&(!document.documentMode||9<document.documentMode));var zt={eventTypes:xt,_isInputEventSupported:Mt,extractEvents:function(e,t,n,i){var r=t?N(t):window,o=void 0,s=void 0,a=r.nodeName&&r.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===r.type?o=Lt:Be(r)?Mt?o=Ut:(o=Ft,s=Nt):(a=r.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Bt),o&&(o=o(e,t)))return It(o,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Ct(r,"number",r.value)}},Ht=ue.extend({view:null,detail:null}),Vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Vt[e])&&!!t[e]}function Wt(){return Gt}var qt=0,Yt=0,Kt=!1,Xt=!1,Zt=Ht.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=qt;return qt=e.screenX,Kt?"mousemove"===e.type?e.screenX-t:0:(Kt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Yt;return Yt=e.screenY,Xt?"mousemove"===e.type?e.screenY-t:0:(Xt=!0,0)}}),Jt=Zt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Qt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},en={eventTypes:Qt,extractEvents:function(e,t,n,i){var r="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(r&&(n.relatedTarget||n.fromElement)||!o&&!r)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?j(t):null):o=null,o===t)return null;var s=void 0,a=void 0,c=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(s=Zt,a=Qt.mouseLeave,c=Qt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(s=Jt,a=Qt.pointerLeave,c=Qt.pointerEnter,u="pointer");var l=null==o?r:N(o);if(r=null==t?r:N(t),(e=s.getPooled(a,o,n,i)).type=u+"leave",e.target=l,e.relatedTarget=r,(n=s.getPooled(c,t,n,i)).type=u+"enter",n.target=r,n.relatedTarget=l,i=t,o&&i)e:{for(r=i,u=0,s=t=o;s;s=B(s))u++;for(s=0,c=r;c;c=B(c))s++;for(;0<u-s;)t=B(t),u--;for(;0<s-u;)r=B(r),s--;for(;u--;){if(t===r||t===r.alternate)break e;t=B(t),r=B(r)}t=null}else t=null;for(r=t,t=[];o&&o!==r&&(null===(u=o.alternate)||u!==r);)t.push(o),o=B(o);for(o=[];i&&i!==r&&(null===(u=i.alternate)||u!==r);)o.push(i),i=B(i);for(i=0;i<t.length;i++)H(t[i],"bubbled",e);for(i=o.length;0<i--;)H(o[i],"captured",n);return[e,n]}};function tn(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var nn=Object.prototype.hasOwnProperty;function rn(e,t){if(tn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!nn.call(t,n[i])||!tn(e[n[i]],t[n[i]]))return!1;return!0}function on(e,t){return{responder:e,props:t}}function sn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function an(e){if(2!==sn(e))throw s(Error(188))}function cn(e){if(e=function(e){var t=e.alternate;if(!t){if(3===(t=sn(e)))throw s(Error(188));return 1===t?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return an(r),e;if(o===i)return an(r),t;o=o.sibling}throw s(Error(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,i=o;break}if(c===i){a=!0,i=r,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,i=r;break}if(c===i){a=!0,i=o,n=r;break}c=c.sibling}if(!a)throw s(Error(189))}}if(n.alternate!==i)throw s(Error(190))}if(3!==n.tag)throw s(Error(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}new Map,new Map,new Set,new Map;var un=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ln=ue.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hn=Ht.extend({relatedTarget:null});function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}for(var fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn=Ht.extend({key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wt,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),vn=Zt.extend({dataTransfer:null}),mn=Ht.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wt}),yn=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),wn=Zt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),bn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[J,"animationEnd",2],[Q,"animationIteration",2],[ee,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[te,"transitionEnd",2],["waiting","waiting",2]],_n={},kn={},En=0;En<bn.length;En++){var Sn=bn[En],Tn=Sn[0],Pn=Sn[1],Cn=Sn[2],xn="on"+(Pn[0].toUpperCase()+Pn.slice(1)),In={phasedRegistrationNames:{bubbled:xn,captured:xn+"Capture"},dependencies:[Tn],eventPriority:Cn};_n[Pn]=In,kn[Tn]=In}var Rn={eventTypes:_n,getEventPriority:function(e){return void 0!==(e=kn[e])?e.eventPriority:2},extractEvents:function(e,t,n,i){var r=kn[e];if(!r)return null;switch(e){case"keypress":if(0===dn(n))return null;case"keydown":case"keyup":e=gn;break;case"blur":case"focus":e=hn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Zt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=mn;break;case J:case Q:case ee:e=un;break;case te:e=yn;break;case"scroll":e=Ht;break;case"wheel":e=wn;break;case"copy":case"cut":case"paste":e=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Jt;break;default:e=ue}return G(t=e.getPooled(r,t,n,i)),t}},On=Rn.getEventPriority,An=[];function $n(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i;for(i=n;i.return;)i=i.return;if(!(i=3!==i.tag?null:i.stateNode.containerInfo))break;e.ancestors.push(n),n=j(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=Ue(e.nativeEvent);i=e.topLevelType;for(var o=e.nativeEvent,s=null,a=0;a<h.length;a++){var c=h[a];c&&(c=c.extractEvents(i,t,o,r))&&(s=P(s,c))}R(s)}}var Ln=!0;function Mn(e,t){jn(t,e,!1)}function jn(e,t,n){switch(On(t)){case 0:var i=Dn.bind(null,t,1);break;case 1:i=Nn.bind(null,t,1);break;default:i=Fn.bind(null,t,1)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Dn(e,t,n){De||Me();var i=Fn,r=De;De=!0;try{Le(i,e,t,n)}finally{(De=r)||Ne()}}function Nn(e,t,n){Fn(e,t,n)}function Fn(e,t,n){if(Ln){if(null===(t=j(t=Ue(n)))||"number"!=typeof t.tag||2===sn(t)||(t=null),An.length){var i=An.pop();i.topLevelType=e,i.nativeEvent=n,i.targetInst=t,e=i}else e={topLevelType:e,nativeEvent:n,targetInst:t,ancestors:[]};try{if(n=e,De)$n(n);else{De=!0;try{je($n,n,void 0)}finally{De=!1,Ne()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>An.length&&An.push(e)}}}var Bn=new("function"==typeof WeakMap?WeakMap:Map);function Un(e){var t=Bn.get(e);return void 0===t&&(t=new Set,Bn.set(e,t)),t}function zn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vn(e,t){var n,i=Hn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Hn(i)}}function Gn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Gn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Wn(){for(var e=window,t=zn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=zn((e=t.contentWindow).document)}return t}function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Yn=W&&"documentMode"in document&&11>=document.documentMode,Kn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Xn=null,Zn=null,Jn=null,Qn=!1;function ei(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Qn||null==Xn||Xn!==zn(n)?null:(n="selectionStart"in(n=Xn)&&qn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Jn&&rn(Jn,n)?null:(Jn=n,(e=ue.getPooled(Kn.select,Zn,e,t)).type="select",e.target=Xn,G(e),e))}var ti={eventTypes:Kn,extractEvents:function(e,t,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){e:{o=Un(o),r=p.onSelect;for(var s=0;s<r.length;s++)if(!o.has(r[s])){o=!1;break e}o=!0}r=!o}if(r)return null;switch(o=t?N(t):window,e){case"focus":(Be(o)||"true"===o.contentEditable)&&(Xn=o,Zn=t,Jn=null);break;case"blur":Jn=Zn=Xn=null;break;case"mousedown":Qn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qn=!1,ei(n,i);case"selectionchange":if(Yn)break;case"keydown":case"keyup":return ei(n,i)}return null}};function ni(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ii(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+_t(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ri(e,t){if(null!=t.dangerouslySetInnerHTML)throw s(Error(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oi(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw s(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw s(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:_t(n)}}function si(e,t){var n=_t(t.value),i=_t(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ai(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k=F,E=D,S=N,O.injectEventPluginsByName({SimpleEventPlugin:Rn,EnterLeaveEventPlugin:en,ChangeEventPlugin:zt,SelectEventPlugin:ti,BeforeInputEventPlugin:Pe});var ci="http://www.w3.org/1999/xhtml";function ui(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function li(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ui(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var hi,di=void 0,fi=(hi=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((di=di||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=di.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return hi(e,t)}))}:hi);function pi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var gi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vi=["Webkit","ms","Moz","O"];function mi(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||gi.hasOwnProperty(e)&&gi[e]?(""+t).trim():t+"px"}function yi(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=mi(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(gi).forEach((function(e){vi.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gi[t]=gi[e]}))}));var wi=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bi(e,t){if(t){if(wi[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw s(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw s(Error(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw s(Error(61))}if(null!=t.style&&"object"!=typeof t.style)throw s(Error(62),"")}}function _i(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ki(e,t){var n=Un(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=p[t];for(var i=0;i<t.length;i++){var r=t[i];if(!n.has(r)){switch(r){case"scroll":jn(e,"scroll",!0);break;case"focus":case"blur":jn(e,"focus",!0),jn(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":ze(r)&&jn(e,r,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ne.indexOf(r)&&Mn(r,e)}n.add(r)}}}function Ei(){}var Si=null,Ti=null;function Pi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ci(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xi="function"==typeof setTimeout?setTimeout:void 0,Ii="function"==typeof clearTimeout?clearTimeout:void 0;function Ri(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}new Set;var Oi=[],Ai=-1;function $i(e){0>Ai||(e.current=Oi[Ai],Oi[Ai]=null,Ai--)}function Li(e,t){Ai++,Oi[Ai]=e.current,e.current=t}var Mi={},ji={current:Mi},Di={current:!1},Ni=Mi;function Fi(e,t){var n=e.type.contextTypes;if(!n)return Mi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Bi(e){return null!=e.childContextTypes}function Ui(e){$i(Di),$i(ji)}function zi(e){$i(Di),$i(ji)}function Hi(e,t,n){if(ji.current!==Mi)throw s(Error(168));Li(ji,t),Li(Di,n)}function Vi(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw s(Error(108),lt(t)||"Unknown",o);return r({},n,i)}function Gi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Mi,Ni=ji.current,Li(ji,t),Li(Di,Di.current),!0}function Wi(e,t,n){var i=e.stateNode;if(!i)throw s(Error(169));n?(t=Vi(e,t,Ni),i.__reactInternalMemoizedMergedChildContext=t,$i(Di),$i(ji),Li(ji,t)):$i(Di),Li(Di,n)}var qi=o.unstable_runWithPriority,Yi=o.unstable_scheduleCallback,Ki=o.unstable_cancelCallback,Xi=o.unstable_shouldYield,Zi=o.unstable_requestPaint,Ji=o.unstable_now,Qi=o.unstable_getCurrentPriorityLevel,er=o.unstable_ImmediatePriority,tr=o.unstable_UserBlockingPriority,nr=o.unstable_NormalPriority,ir=o.unstable_LowPriority,rr=o.unstable_IdlePriority,or={},sr=void 0!==Zi?Zi:function(){},ar=null,cr=null,ur=!1,lr=Ji(),hr=1e4>lr?Ji:function(){return Ji()-lr};function dr(){switch(Qi()){case er:return 99;case tr:return 98;case nr:return 97;case ir:return 96;case rr:return 95;default:throw s(Error(332))}}function fr(e){switch(e){case 99:return er;case 98:return tr;case 97:return nr;case 96:return ir;case 95:return rr;default:throw s(Error(332))}}function pr(e,t){return e=fr(e),qi(e,t)}function gr(e,t,n){return e=fr(e),Yi(e,t,n)}function vr(e){return null===ar?(ar=[e],cr=Yi(er,yr)):ar.push(e),or}function mr(){null!==cr&&Ki(cr),yr()}function yr(){if(!ur&&null!==ar){ur=!0;var e=0;try{var t=ar;pr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ar=null}catch(t){throw null!==ar&&(ar=ar.slice(e+1)),Yi(er,mr),t}finally{ur=!1}}}function wr(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function br(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var _r={current:null},kr=null,Er=null,Sr=null;function Tr(){Sr=Er=kr=null}function Pr(e,t){var n=e.type._context;Li(_r,n._currentValue),n._currentValue=t}function Cr(e){var t=_r.current;$i(_r),e.type._context._currentValue=t}function xr(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ir(e,t){kr=e,Sr=Er=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ns=!0),e.firstContext=null)}function Rr(e,t){if(Sr!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Sr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Er){if(null===kr)throw s(Error(308));Er=t,kr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Er=Er.next=t;return e._currentValue}var Or=!1;function Ar(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function $r(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Lr(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Mr(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function jr(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue,r=null;null===i&&(i=e.updateQueue=Ar(e.memoizedState))}else i=e.updateQueue,r=n.updateQueue,null===i?null===r?(i=e.updateQueue=Ar(e.memoizedState),r=n.updateQueue=Ar(n.memoizedState)):i=e.updateQueue=$r(r):null===r&&(r=n.updateQueue=$r(i));null===r||i===r?Mr(i,t):null===i.lastUpdate||null===r.lastUpdate?(Mr(i,t),Mr(r,t)):(Mr(i,t),r.lastUpdate=t)}function Dr(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Ar(e.memoizedState):Nr(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Nr(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=$r(t)),t}function Fr(e,t,n,i,o,s){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(s,i,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(s,i,o):e))break;return r({},i,o);case 2:Or=!0}return i}function Br(e,t,n,i,r){Or=!1;for(var o=(t=Nr(e,t)).baseState,s=null,a=0,c=t.firstUpdate,u=o;null!==c;){var l=c.expirationTime;l<r?(null===s&&(s=c,o=u),a<l&&(a=l)):(ka(l,c.suspenseConfig),u=Fr(e,0,c,u,n,i),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(l=null,c=t.firstCapturedUpdate;null!==c;){var h=c.expirationTime;h<r?(null===l&&(l=c,null===s&&(o=u)),a<h&&(a=h)):(u=Fr(e,0,c,u,n,i),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===s&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===s&&null===l&&(o=u),t.baseState=o,t.firstUpdate=s,t.firstCapturedUpdate=l,e.expirationTime=a,e.memoizedState=u}function Ur(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),zr(t.firstEffect,n),t.firstEffect=t.lastEffect=null,zr(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function zr(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;if("function"!=typeof n)throw s(Error(191),n);n.call(i)}e=e.nextEffect}}var Hr=We.ReactCurrentBatchConfig,Vr=(new i.Component).refs;function Gr(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,null!==(i=e.updateQueue)&&0===e.expirationTime&&(i.baseState=n)}var Wr={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===sn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=ua(),r=Hr.suspense;(r=Lr(i=la(i,e,r),r)).payload=t,null!=n&&(r.callback=n),jr(e,r),da(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=ua(),r=Hr.suspense;(r=Lr(i=la(i,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),jr(e,r),da(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ua(),i=Hr.suspense;(i=Lr(n=la(n,e,i),i)).tag=2,null!=t&&(i.callback=t),jr(e,i),da(e,n)}};function qr(e,t,n,i,r,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&rn(n,i)&&rn(r,o))}function Yr(e,t,n){var i=!1,r=Mi,o=t.contextType;return"object"==typeof o&&null!==o?o=Rr(o):(r=Bi(t)?Ni:ji.current,o=(i=null!=(i=t.contextTypes))?Fi(e,r):Mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wr,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Kr(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Wr.enqueueReplaceState(t,t.state,null)}function Xr(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Vr;var o=t.contextType;"object"==typeof o&&null!==o?r.context=Rr(o):(o=Bi(t)?Ni:ji.current,r.context=Fi(e,o)),null!==(o=e.updateQueue)&&(Br(e,o,n,r,i),r.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(Gr(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Wr.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(Br(e,o,n,r,i),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var Zr=Array.isArray;function Jr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var i=void 0;if(n){if(1!==n.tag)throw s(Error(309));i=n.stateNode}if(!i)throw s(Error(147),e);var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=i.refs;t===Vr&&(t=i.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!=typeof e)throw s(Error(284));if(!n._owner)throw s(Error(290),e)}return e}function Qr(e,t){if("textarea"!==e.type)throw s(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function eo(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,n){return(e=Fa(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,i){return null===t||6!==t.tag?((t=za(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Jr(e,t,n),i.return=e,i):((i=Ba(n.type,n.key,n.props,null,e.mode,i)).ref=Jr(e,t,n),i.return=e,i)}function l(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ha(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=Ua(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=za(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ke:return(n=Ba(t.type,t.key,t.props,null,e.mode,n)).ref=Jr(e,null,t),n.return=e,n;case Xe:return(t=Ha(t,e.mode,n)).return=e,t}if(Zr(t)||ut(t))return(t=Ua(t,e.mode,n,null)).return=e,t;Qr(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:c(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ke:return n.key===r?n.type===Ze?h(e,t,n.props.children,i,r):u(e,t,n,i):null;case Xe:return n.key===r?l(e,t,n,i):null}if(Zr(n)||ut(n))return null!==r?null:h(e,t,n,i,null);Qr(e,n)}return null}function p(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return c(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case Ke:return e=e.get(null===i.key?n:i.key)||null,i.type===Ze?h(t,e,i.props.children,r,i.key):u(t,e,i,r);case Xe:return l(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(Zr(i)||ut(i))return h(t,e=e.get(n)||null,i,r,null);Qr(t,i)}return null}function g(r,s,a,c){for(var u=null,l=null,h=s,g=s=0,v=null;null!==h&&g<a.length;g++){h.index>g?(v=h,h=null):v=h.sibling;var m=f(r,h,a[g],c);if(null===m){null===h&&(h=v);break}e&&h&&null===m.alternate&&t(r,h),s=o(m,s,g),null===l?u=m:l.sibling=m,l=m,h=v}if(g===a.length)return n(r,h),u;if(null===h){for(;g<a.length;g++)null!==(h=d(r,a[g],c))&&(s=o(h,s,g),null===l?u=h:l.sibling=h,l=h);return u}for(h=i(r,h);g<a.length;g++)null!==(v=p(h,r,g,a[g],c))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),s=o(v,s,g),null===l?u=v:l.sibling=v,l=v);return e&&h.forEach((function(e){return t(r,e)})),u}function v(r,a,c,u){var l=ut(c);if("function"!=typeof l)throw s(Error(150));if(null==(c=l.call(c)))throw s(Error(151));for(var h=l=null,g=a,v=a=0,m=null,y=c.next();null!==g&&!y.done;v++,y=c.next()){g.index>v?(m=g,g=null):m=g.sibling;var w=f(r,g,y.value,u);if(null===w){null===g&&(g=m);break}e&&g&&null===w.alternate&&t(r,g),a=o(w,a,v),null===h?l=w:h.sibling=w,h=w,g=m}if(y.done)return n(r,g),l;if(null===g){for(;!y.done;v++,y=c.next())null!==(y=d(r,y.value,u))&&(a=o(y,a,v),null===h?l=y:h.sibling=y,h=y);return l}for(g=i(r,g);!y.done;v++,y=c.next())null!==(y=p(g,r,v,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),a=o(y,a,v),null===h?l=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(r,e)})),l}return function(e,i,o,c){var u="object"==typeof o&&null!==o&&o.type===Ze&&null===o.key;u&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case Ke:e:{for(l=o.key,u=i;null!==u;){if(u.key===l){if(7===u.tag?o.type===Ze:u.elementType===o.type){n(e,u.sibling),(i=r(u,o.type===Ze?o.props.children:o.props)).ref=Jr(e,u,o),i.return=e,e=i;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===Ze?((i=Ua(o.props.children,e.mode,c,o.key)).return=e,e=i):((c=Ba(o.type,o.key,o.props,null,e.mode,c)).ref=Jr(e,i,o),c.return=e,e=c)}return a(e);case Xe:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Ha(o,e.mode,c)).return=e,e=i}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=za(o,e.mode,c)).return=e,e=i),a(e);if(Zr(o))return g(e,i,o,c);if(ut(o))return v(e,i,o,c);if(l&&Qr(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,s(Error(152),e.displayName||e.name||"Component")}return n(e,i)}}var to=eo(!0),no=eo(!1),io={},ro={current:io},oo={current:io},so={current:io};function ao(e){if(e===io)throw s(Error(174));return e}function co(e,t){Li(so,t),Li(oo,e),Li(ro,io);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:li(null,"");break;default:t=li(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}$i(ro),Li(ro,t)}function uo(e){$i(ro),$i(oo),$i(so)}function lo(e){ao(so.current);var t=ao(ro.current),n=li(t,e.type);t!==n&&(Li(oo,e),Li(ro,n))}function ho(e){oo.current===e&&($i(ro),$i(oo))}var fo={current:0};function po(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var go=We.ReactCurrentDispatcher,vo=0,mo=null,yo=null,wo=null,bo=null,_o=null,ko=null,Eo=0,So=null,To=0,Po=!1,Co=null,xo=0;function Io(){throw s(Error(321))}function Ro(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Oo(e,t,n,i,r,o){if(vo=o,mo=t,wo=null!==e?e.memoizedState:null,go.current=null===wo?Vo:Go,t=n(i,r),Po){do{Po=!1,xo+=1,wo=null!==e?e.memoizedState:null,ko=bo,So=_o=yo=null,go.current=Go,t=n(i,r)}while(Po);Co=null,xo=0}if(go.current=Ho,(e=mo).memoizedState=bo,e.expirationTime=Eo,e.updateQueue=So,e.effectTag|=To,e=null!==yo&&null!==yo.next,vo=0,ko=_o=bo=wo=yo=mo=null,Eo=0,So=null,To=0,e)throw s(Error(300));return t}function Ao(){go.current=Ho,vo=0,ko=_o=bo=wo=yo=mo=null,Eo=0,So=null,To=0,Po=!1,Co=null,xo=0}function $o(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===_o?bo=_o=e:_o=_o.next=e,_o}function Lo(){if(null!==ko)ko=(_o=ko).next,wo=null!==(yo=wo)?yo.next:null;else{if(null===wo)throw s(Error(310));var e={memoizedState:(yo=wo).memoizedState,baseState:yo.baseState,queue:yo.queue,baseUpdate:yo.baseUpdate,next:null};_o=null===_o?bo=e:_o.next=e,wo=yo.next}return _o}function Mo(e,t){return"function"==typeof t?t(e):t}function jo(e){var t=Lo(),n=t.queue;if(null===n)throw s(Error(311));if(n.lastRenderedReducer=e,0<xo){var i=n.dispatch;if(null!==Co){var r=Co.get(n);if(void 0!==r){Co.delete(n);var o=t.memoizedState;do{o=e(o,r.action),r=r.next}while(null!==r);return tn(o,t.memoizedState)||(ns=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,i]}}return[t.memoizedState,i]}i=n.last;var a=t.baseUpdate;if(o=t.baseState,null!==a?(null!==i&&(i.next=null),i=a.next):i=null!==i?i.next:null,null!==i){var c=r=null,u=i,l=!1;do{var h=u.expirationTime;h<vo?(l||(l=!0,c=a,r=o),h>Eo&&(Eo=h)):(ka(h,u.suspenseConfig),o=u.eagerReducer===e?u.eagerState:e(o,u.action)),a=u,u=u.next}while(null!==u&&u!==i);l||(c=a,r=o),tn(o,t.memoizedState)||(ns=!0),t.memoizedState=o,t.baseUpdate=c,t.baseState=r,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function Do(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===So?(So={lastEffect:null}).lastEffect=e.next=e:null===(t=So.lastEffect)?So.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,So.lastEffect=e),e}function No(e,t,n,i){var r=$o();To|=e,r.memoizedState=Do(t,n,void 0,void 0===i?null:i)}function Fo(e,t,n,i){var r=Lo();i=void 0===i?null:i;var o=void 0;if(null!==yo){var s=yo.memoizedState;if(o=s.destroy,null!==i&&Ro(i,s.deps))return void Do(0,n,o,i)}To|=e,r.memoizedState=Do(t,n,o,i)}function Bo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(){}function zo(e,t,n){if(!(25>xo))throw s(Error(301));var i=e.alternate;if(e===mo||null!==i&&i===mo)if(Po=!0,e={expirationTime:vo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Co&&(Co=new Map),void 0===(n=Co.get(t)))Co.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var r=ua(),o=Hr.suspense;o={expirationTime:r=la(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.last;if(null===a)o.next=o;else{var c=a.next;null!==c&&(o.next=c),a.next=o}if(t.last=o,0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var u=t.lastRenderedState,l=i(u,n);if(o.eagerReducer=i,o.eagerState=l,tn(l,u))return}catch(e){}da(e,r)}}var Ho={readContext:Rr,useCallback:Io,useContext:Io,useEffect:Io,useImperativeHandle:Io,useLayoutEffect:Io,useMemo:Io,useReducer:Io,useRef:Io,useState:Io,useDebugValue:Io,useResponder:Io},Vo={readContext:Rr,useCallback:function(e,t){return $o().memoizedState=[e,void 0===t?null:t],e},useContext:Rr,useEffect:function(e,t){return No(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,No(4,36,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return No(4,36,e,t)},useMemo:function(e,t){var n=$o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=$o();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=zo.bind(null,mo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},$o().memoizedState=e},useState:function(e){var t=$o();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e}).dispatch=zo.bind(null,mo,e),[t.memoizedState,e]},useDebugValue:Uo,useResponder:on},Go={readContext:Rr,useCallback:function(e,t){var n=Lo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ro(t,i[1])?i[0]:(n.memoizedState=[e,t],e)},useContext:Rr,useEffect:function(e,t){return Fo(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Fo(4,36,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4,36,e,t)},useMemo:function(e,t){var n=Lo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ro(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:jo,useRef:function(){return Lo().memoizedState},useState:function(e){return jo(Mo)},useDebugValue:Uo,useResponder:on},Wo=null,qo=null,Yo=!1;function Ko(e,t){var n=Da(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Xo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Zo(e){if(Yo){var t=qo;if(t){var n=t;if(!Xo(e,t)){if(!(t=Ri(n.nextSibling))||!Xo(e,t))return e.effectTag|=2,Yo=!1,void(Wo=e);Ko(Wo,n)}Wo=e,qo=Ri(t.firstChild)}else e.effectTag|=2,Yo=!1,Wo=e}}function Jo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;Wo=e}function Qo(e){if(e!==Wo)return!1;if(!Yo)return Jo(e),Yo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ci(t,e.memoizedProps))for(t=qo;t;)Ko(e,t),t=Ri(t.nextSibling);return Jo(e),qo=Wo?Ri(e.stateNode.nextSibling):null,!0}function es(){qo=Wo=null,Yo=!1}var ts=We.ReactCurrentOwner,ns=!1;function is(e,t,n,i){t.child=null===e?no(t,null,n,i):to(t,e.child,n,i)}function rs(e,t,n,i,r){n=n.render;var o=t.ref;return Ir(t,r),i=Oo(e,t,n,i,o,r),null===e||ns?(t.effectTag|=1,is(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),ws(e,t,r))}function os(e,t,n,i,r,o){if(null===e){var s=n.type;return"function"!=typeof s||Na(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ba(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ss(e,t,s,i,r,o))}return s=e.child,r<o&&(r=s.memoizedProps,(n=null!==(n=n.compare)?n:rn)(r,i)&&e.ref===t.ref)?ws(e,t,o):(t.effectTag|=1,(e=Fa(s,i)).ref=t.ref,e.return=t,t.child=e)}function ss(e,t,n,i,r,o){return null!==e&&rn(e.memoizedProps,i)&&e.ref===t.ref&&(ns=!1,r<o)?ws(e,t,o):cs(e,t,n,i,o)}function as(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function cs(e,t,n,i,r){var o=Bi(n)?Ni:ji.current;return o=Fi(t,o),Ir(t,r),n=Oo(e,t,n,i,o,r),null===e||ns?(t.effectTag|=1,is(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),ws(e,t,r))}function us(e,t,n,i,r){if(Bi(n)){var o=!0;Gi(t)}else o=!1;if(Ir(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Yr(t,n,i),Xr(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;u="object"==typeof u&&null!==u?Rr(u):Fi(t,u=Bi(n)?Ni:ji.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||c!==u)&&Kr(t,s,i,u),Or=!1;var d=t.memoizedState;c=s.state=d;var f=t.updateQueue;null!==f&&(Br(t,f,i,s,r),c=t.memoizedState),a!==i||d!==c||Di.current||Or?("function"==typeof l&&(Gr(t,n,l,i),c=t.memoizedState),(a=Or||qr(t,n,a,i,d,c,u))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=u,i=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),i=!1)}else s=t.stateNode,a=t.memoizedProps,s.props=t.type===t.elementType?a:br(t.type,a),c=s.context,u="object"==typeof(u=n.contextType)&&null!==u?Rr(u):Fi(t,u=Bi(n)?Ni:ji.current),(h="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||c!==u)&&Kr(t,s,i,u),Or=!1,c=t.memoizedState,d=s.state=c,null!==(f=t.updateQueue)&&(Br(t,f,i,s,r),d=t.memoizedState),a!==i||c!==d||Di.current||Or?("function"==typeof l&&(Gr(t,n,l,i),d=t.memoizedState),(l=Or||qr(t,n,a,i,c,d,u))?(h||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,d,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,d,u)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=d),s.props=i,s.state=d,s.context=u,i=l):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),i=!1);return ls(e,t,n,i,o,r)}function ls(e,t,n,i,r,o){as(e,t);var s=0!=(64&t.effectTag);if(!i&&!s)return r&&Wi(t,n,!1),ws(e,t,o);i=t.stateNode,ts.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&s?(t.child=to(t,e.child,null,o),t.child=to(t,null,a,o)):is(e,t,a,o),t.memoizedState=i.state,r&&Wi(t,n,!0),t.child}function hs(e){var t=e.stateNode;t.pendingContext?Hi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hi(0,t.context,!1),co(e,t.containerInfo)}var ds,fs,ps,gs={};function vs(e,t,n){var i,r=t.mode,o=t.pendingProps,s=fo.current,a=null,c=!1;if((i=0!=(64&t.effectTag))||(i=0!=(2&s)&&(null===e||null!==e.memoizedState)),i?(a=gs,c=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),Li(fo,s&=1),null===e)if(c){if(o=o.fallback,(e=Ua(null,r,0,null)).return=t,0==(2&t.mode))for(c=null!==t.memoizedState?t.child.child:t.child,e.child=c;null!==c;)c.return=e,c=c.sibling;(n=Ua(o,r,n,null)).return=t,e.sibling=n,r=e}else r=n=no(t,null,o.children,n);else{if(null!==e.memoizedState)if(r=(s=e.child).sibling,c){if(o=o.fallback,(n=Fa(s,s.pendingProps)).return=t,0==(2&t.mode)&&(c=null!==t.memoizedState?t.child.child:t.child)!==s.child)for(n.child=c;null!==c;)c.return=n,c=c.sibling;(o=Fa(r,o,r.expirationTime)).return=t,n.sibling=o,r=n,n.childExpirationTime=0,n=o}else r=n=to(t,s.child,o.children,n);else if(s=e.child,c){if(c=o.fallback,(o=Ua(null,r,0,null)).return=t,o.child=s,null!==s&&(s.return=o),0==(2&t.mode))for(s=null!==t.memoizedState?t.child.child:t.child,o.child=s;null!==s;)s.return=o,s=s.sibling;(n=Ua(c,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,r=o,o.childExpirationTime=0}else n=r=to(t,s,o.children,n);t.stateNode=e.stateNode}return t.memoizedState=a,t.child=r,n}function ms(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:i,tail:n,tailExpiration:0,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.last=i,o.tail=n,o.tailExpiration=0,o.tailMode=r)}function ys(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(is(e,t,i.children,n),0!=(2&(i=fo.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var s=e.alternate;null!==s&&s.expirationTime<n&&(s.expirationTime=n),xr(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Li(fo,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(i=n.alternate)&&null===po(i)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ms(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(i=r.alternate)&&null===po(i)){t.child=r;break}i=r.sibling,r.sibling=n,n=r,r=i}ms(t,!0,n,null,o);break;case"together":ms(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw s(Error(153));if(null!==t.child){for(n=Fa(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fa(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function bs(e){e.effectTag|=4}function _s(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ks(e){switch(e.tag){case 1:Bi(e.type)&&Ui();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:if(uo(),zi(),0!=(64&(t=e.effectTag)))throw s(Error(285));return e.effectTag=-2049&t|64,e;case 5:return ho(e),null;case 13:return $i(fo),2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:default:return null;case 19:return $i(fo),null;case 4:return uo(),null;case 10:return Cr(e),null}}function Es(e,t){return{value:e,source:t,stack:ht(t)}}ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(20===n.tag)e.appendChild(n.stateNode.instance);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},fs=function(e,t,n,i,o){var s=e.memoizedProps;if(s!==i){var a=t.stateNode;switch(ao(ro.current),e=null,n){case"input":s=kt(a,s),i=kt(a,i),e=[];break;case"option":s=ni(a,s),i=ni(a,i),e=[];break;case"select":s=r({},s,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":s=ri(a,s),i=ri(a,i),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof i.onClick&&(a.onclick=Ei)}bi(n,i),a=n=void 0;var c=null;for(n in s)if(!i.hasOwnProperty(n)&&s.hasOwnProperty(n)&&null!=s[n])if("style"===n){var u=s[n];for(a in u)u.hasOwnProperty(a)&&(c||(c={}),c[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(f.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in i){var l=i[n];if(u=null!=s?s[n]:void 0,i.hasOwnProperty(n)&&l!==u&&(null!=l||null!=u))if("style"===n)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(c||(c={}),c[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(c||(c={}),c[a]=l[a])}else c||(e||(e=[]),e.push(n,c)),c=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(e=e||[]).push(n,""+l)):"children"===n?u===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(f.hasOwnProperty(n)?(null!=l&&ki(o,n),e||u===l||(e=[])):(e=e||[]).push(n,l))}c&&(e=e||[]).push("style",c),o=e,(t.updateQueue=o)&&bs(t)}},ps=function(e,t,n,i){n!==i&&bs(t)};var Ss="function"==typeof WeakSet?WeakSet:Set;function Ts(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ht(n)),null!==n&&lt(n.type),t=t.value,null!==e&&1===e.tag&&lt(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Ps(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ra(e,t)}else t.current=null}function Cs(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var i=n=n.next;do{if(0!=(i.tag&e)){var r=i.destroy;i.destroy=void 0,void 0!==r&&r()}0!=(i.tag&t)&&(r=i.create,i.destroy=r()),i=i.next}while(i!==n)}}function xs(e,t){switch("function"==typeof Ma&&Ma(e),e.tag){case 0:case 11:case 14:case 15:var n=e.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var i=n.next;pr(97<t?97:t,(function(){var t=i;do{var n=t.destroy;if(void 0!==n){var r=e;try{n()}catch(e){Ra(r,e)}}t=t.next}while(t!==i)}))}break;case 1:Ps(e),"function"==typeof(t=e.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ra(e,t)}}(e,t);break;case 5:Ps(e);break;case 4:As(e,t)}}function Is(e,t){for(var n=e;;)if(xs(n,t),null!==n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Rs(e){return 5===e.tag||3===e.tag||4===e.tag}function Os(e){e:{for(var t=e.return;null!==t;){if(Rs(t)){var n=t;break e}t=t.return}throw s(Error(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw s(Error(161))}16&n.effectTag&&(pi(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Rs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){var o=5===r.tag||6===r.tag;if(o||20===r.tag){var a=o?r.stateNode:r.stateNode.instance;if(n)if(i){var c=a;a=n,8===(o=t).nodeType?o.parentNode.insertBefore(c,a):o.insertBefore(c,a)}else t.insertBefore(a,n);else i?(8===(c=t).nodeType?(o=c.parentNode).insertBefore(a,c):(o=c).appendChild(a),null!=(c=c._reactRootContainer)||null!==o.onclick||(o.onclick=Ei)):t.appendChild(a)}else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function As(e,t){for(var n=e,i=!1,r=void 0,o=void 0;;){if(!i){i=n.return;e:for(;;){if(null===i)throw s(Error(160));switch(r=i.stateNode,i.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}i=i.return}i=!0}if(5===n.tag||6===n.tag)if(Is(n,t),o){var a=r,c=n.stateNode;8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)}else r.removeChild(n.stateNode);else if(20===n.tag)c=n.stateNode.instance,Is(n,t),o?8===(a=r).nodeType?a.parentNode.removeChild(c):a.removeChild(c):r.removeChild(c);else if(4===n.tag){if(null!==n.child){r=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(xs(n,t),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;4===(n=n.return).tag&&(i=!1)}n.sibling.return=n.return,n=n.sibling}}function $s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Cs(4,8,t);break;case 1:case 3:case 12:case 17:case 20:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[M]=i,"input"===e&&"radio"===i.type&&null!=i.name&&St(n,i),_i(e,r),t=_i(e,i),r=0;r<o.length;r+=2){var a=o[r],c=o[r+1];"style"===a?yi(n,c):"dangerouslySetInnerHTML"===a?fi(n,c):"children"===a?pi(n,c):bt(n,a,c,t)}switch(e){case"input":Tt(n,i);break;case"textarea":si(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?ii(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?ii(n,!!i.multiple,i.defaultValue,!0):ii(n,!!i.multiple,i.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw s(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,Xs=hr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,o.style.display=mi("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Ls(t);break;case 19:Ls(t);break;default:throw s(Error(163))}}function Ls(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ss),t.forEach((function(t){var i=Aa.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var Ms="function"==typeof WeakMap?WeakMap:Map;function js(e,t,n){(n=Lr(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Js||(Js=!0,Qs=i),Ts(e,t)},n}function Ds(e,t,n){(n=Lr(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return Ts(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===ea?ea=new Set([this]):ea.add(this),Ts(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ns=Math.ceil,Fs=We.ReactCurrentDispatcher,Bs=We.ReactCurrentOwner,Us=0,zs=null,Hs=null,Vs=0,Gs=0,Ws=1073741823,qs=1073741823,Ys=null,Ks=!1,Xs=0,Zs=null,Js=!1,Qs=null,ea=null,ta=!1,na=null,ia=90,ra=0,oa=null,sa=0,aa=null,ca=0;function ua(){return 0!=(48&Us)?1073741821-(hr()/10|0):0!==ca?ca:ca=1073741821-(hr()/10|0)}function la(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=dr();if(0==(4&t))return 99===i?1073741823:1073741822;if(0!=(16&Us))return Vs;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(i){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw s(Error(326))}return null!==zs&&e===Vs&&--e,e}var ha=0;function da(e,t){if(50<sa)throw sa=0,aa=null,s(Error(185));if(null!==(e=fa(e,t))){e.pingTime=0;var n=dr();if(1073741823===t)if(0!=(8&Us)&&0==(48&Us))for(var i=_a(e,1073741823,!0);null!==i;)i=i(!0);else pa(e,99,1073741823),0===Us&&mr();else pa(e,n,t);0==(4&Us)||98!==n&&99!==n||(null===oa?oa=new Map([[e,t]]):(void 0===(n=oa.get(e))||n>t)&&oa.set(e,t))}}function fa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(t>r.firstPendingTime&&(r.firstPendingTime=t),0===(e=r.lastPendingTime)||t<e)&&(r.lastPendingTime=t),r}function pa(e,t,n){if(e.callbackExpirationTime<n){var i=e.callbackNode;null!==i&&i!==or&&Ki(i),e.callbackExpirationTime=n,1073741823===n?e.callbackNode=vr(ga.bind(null,e,_a.bind(null,e,n))):(i=null,1!==n&&(i={timeout:10*(1073741821-n)-hr()}),e.callbackNode=gr(t,ga.bind(null,e,_a.bind(null,e,n)),i))}}function ga(e,t,n){var i=e.callbackNode,r=null;try{return null!==(r=t(n))?ga.bind(null,e,r):null}finally{null===r&&i===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function va(){0==(49&Us)&&(function(){if(null!==oa){var e=oa;oa=null,e.forEach((function(e,t){vr(_a.bind(null,t,e))})),mr()}}(),Ca())}function ma(e,t){var n=Us;Us|=1;try{return e(t)}finally{0===(Us=n)&&mr()}}function ya(e,t,n,i){var r=Us;Us|=4;try{return pr(98,e.bind(null,t,n,i))}finally{0===(Us=r)&&mr()}}function wa(e,t){var n=Us;Us&=-2,Us|=8;try{return e(t)}finally{0===(Us=n)&&mr()}}function ba(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ii(n)),null!==Hs)for(n=Hs.return;null!==n;){var i=n;switch(i.tag){case 1:null!=i.type.childContextTypes&&Ui();break;case 3:uo(),zi();break;case 5:ho(i);break;case 4:uo();break;case 13:case 19:$i(fo);break;case 10:Cr(i)}n=n.return}zs=e,Hs=Fa(e.current,null),Vs=t,Gs=0,qs=Ws=1073741823,Ys=null,Ks=!1}function _a(e,t,n){if(0!=(48&Us))throw s(Error(327));if(e.firstPendingTime<t)return null;if(n&&e.finishedExpirationTime===t)return Ta.bind(null,e);if(Ca(),e!==zs||t!==Vs)ba(e,t);else if(3===Gs)if(Ks)ba(e,t);else{var i=e.lastPendingTime;if(i<t)return _a.bind(null,e,i)}if(null!==Hs){i=Us,Us|=16;var r=Fs.current;if(null===r&&(r=Ho),Fs.current=Ho,n){if(1073741823!==t){var o=ua();if(o<t)return Us=i,Tr(),Fs.current=r,_a.bind(null,e,o)}}else ca=0;for(;;)try{if(n)for(;null!==Hs;)Hs=Ea(Hs);else for(;null!==Hs&&!Xi();)Hs=Ea(Hs);break}catch(n){if(Tr(),Ao(),null===(o=Hs)||null===o.return)throw ba(e,t),Us=i,n;e:{var a=e,c=o.return,u=o,l=n,h=Vs;if(u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var d=l,f=0!=(1&fo.current);l=c;do{var p;if((p=13===l.tag)&&(p=null===l.memoizedState&&(void 0!==(p=l.memoizedProps).fallback&&(!0!==p.unstable_avoidThisFallback||!f))),p){if(null===(c=l.updateQueue)?((c=new Set).add(d),l.updateQueue=c):c.add(d),0==(2&l.mode)){l.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((h=Lr(1073741823,null)).tag=2,jr(u,h))),u.expirationTime=1073741823;break e}u=a,a=h,null===(f=u.pingCache)?(f=u.pingCache=new Ms,c=new Set,f.set(d,c)):void 0===(c=f.get(d))&&(c=new Set,f.set(d,c)),c.has(a)||(c.add(a),u=Oa.bind(null,u,d,a),d.then(u,u)),l.effectTag|=2048,l.expirationTime=h;break e}l=l.return}while(null!==l);l=Error((lt(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ht(u))}4!==Gs&&(Gs=1),l=Es(l,u),u=c;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=h,Dr(u,h=js(u,l,h));break e;case 1:if(d=l,a=u.type,c=u.stateNode,0==(64&u.effectTag)&&("function"==typeof a.getDerivedStateFromError||null!==c&&"function"==typeof c.componentDidCatch&&(null===ea||!ea.has(c)))){u.effectTag|=2048,u.expirationTime=h,Dr(u,h=Ds(u,d,h));break e}}u=u.return}while(null!==u)}Hs=Sa(o)}if(Us=i,Tr(),Fs.current=r,null!==Hs)return _a.bind(null,e,t)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,function(e,t){var n=e.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=t)&&(gr(97,(function(){return n._onComplete(),null})),!0)}(e,t))return null;switch(zs=null,Gs){case 0:throw s(Error(328));case 1:return(i=e.lastPendingTime)<t?_a.bind(null,e,i):n?Ta.bind(null,e):(ba(e,t),vr(_a.bind(null,e,t)),null);case 2:return 1073741823===Ws&&!n&&10<(n=Xs+500-hr())?Ks?(ba(e,t),_a.bind(null,e,t)):(i=e.lastPendingTime)<t?_a.bind(null,e,i):(e.timeoutHandle=xi(Ta.bind(null,e),n),null):Ta.bind(null,e);case 3:if(!n){if(Ks)return ba(e,t),_a.bind(null,e,t);if((n=e.lastPendingTime)<t)return _a.bind(null,e,n);if(1073741823!==qs?n=10*(1073741821-qs)-hr():1073741823===Ws?n=0:(n=10*(1073741821-Ws)-5e3,0>(n=(i=hr())-n)&&(n=0),(t=10*(1073741821-t)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)&&(n=t)),10<n)return e.timeoutHandle=xi(Ta.bind(null,e),n),null}return Ta.bind(null,e);case 4:return!n&&1073741823!==Ws&&null!==Ys&&(i=Ws,0>=(t=0|(r=Ys).busyMinDurationMs)?t=0:(n=0|r.busyDelayMs,t=(i=hr()-(10*(1073741821-i)-(0|r.timeoutMs||5e3)))<=n?0:n+t-i),10<t)?(e.timeoutHandle=xi(Ta.bind(null,e),t),null):Ta.bind(null,e);default:throw s(Error(329))}}function ka(e,t){e<Ws&&1<e&&(Ws=e),null!==t&&e<qs&&1<e&&(qs=e,Ys=t)}function Ea(e){var t=$a(e.alternate,e,Vs);return e.memoizedProps=e.pendingProps,null===t&&(t=Sa(e)),Bs.current=null,t}function Sa(e){Hs=e;do{var t=Hs.alternate;if(e=Hs.return,0==(1024&Hs.effectTag)){e:{var n=t,i=Vs,o=(t=Hs).pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 18:case 20:break;case 1:case 17:Bi(t.type)&&Ui();break;case 3:uo(),zi(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==n&&null!==n.child||(Qo(t),t.effectTag&=-3);break;case 5:ho(t),i=ao(so.current);var a=t.type;if(null!==n&&null!=t.stateNode)fs(n,t,a,o,i),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var c=ao(ro.current);if(Qo(t)){o=void 0,a=(n=t).stateNode;var u=n.type,l=n.memoizedProps;switch(a[L]=n,a[M]=l,u){case"iframe":case"object":case"embed":Mn("load",a);break;case"video":case"audio":for(var h=0;h<ne.length;h++)Mn(ne[h],a);break;case"source":Mn("error",a);break;case"img":case"image":case"link":Mn("error",a),Mn("load",a);break;case"form":Mn("reset",a),Mn("submit",a);break;case"details":Mn("toggle",a);break;case"input":Et(a,l),Mn("invalid",a),ki(i,"onChange");break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Mn("invalid",a),ki(i,"onChange");break;case"textarea":oi(a,l),Mn("invalid",a),ki(i,"onChange")}for(o in bi(u,l),h=null,l)l.hasOwnProperty(o)&&(c=l[o],"children"===o?"string"==typeof c?a.textContent!==c&&(h=["children",c]):"number"==typeof c&&a.textContent!==""+c&&(h=["children",""+c]):f.hasOwnProperty(o)&&null!=c&&ki(i,o));switch(u){case"input":Ve(a),Pt(a,l,!0);break;case"textarea":Ve(a),ai(a);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(a.onclick=Ei)}i=h,n.updateQueue=i,null!==i&&bs(t)}else{l=a,n=o,u=t,h=9===i.nodeType?i:i.ownerDocument,c===ci&&(c=ui(l)),c===ci?"script"===l?((l=h.createElement("div")).innerHTML="<script><\/script>",h=l.removeChild(l.firstChild)):"string"==typeof n.is?h=h.createElement(l,{is:n.is}):(h=h.createElement(l),"select"===l&&(l=h,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):h=h.createElementNS(c,l),(l=h)[L]=u,l[M]=n,ds(n=l,t),u=n;var d=i,p=_i(a,o);switch(a){case"iframe":case"object":case"embed":Mn("load",u),i=o;break;case"video":case"audio":for(i=0;i<ne.length;i++)Mn(ne[i],u);i=o;break;case"source":Mn("error",u),i=o;break;case"img":case"image":case"link":Mn("error",u),Mn("load",u),i=o;break;case"form":Mn("reset",u),Mn("submit",u),i=o;break;case"details":Mn("toggle",u),i=o;break;case"input":Et(u,o),i=kt(u,o),Mn("invalid",u),ki(d,"onChange");break;case"option":i=ni(u,o);break;case"select":u._wrapperState={wasMultiple:!!o.multiple},i=r({},o,{value:void 0}),Mn("invalid",u),ki(d,"onChange");break;case"textarea":oi(u,o),i=ri(u,o),Mn("invalid",u),ki(d,"onChange");break;default:i=o}bi(a,i),l=void 0,h=a,c=u;var g=i;for(l in g)if(g.hasOwnProperty(l)){var v=g[l];"style"===l?yi(c,v):"dangerouslySetInnerHTML"===l?null!=(v=v?v.__html:void 0)&&fi(c,v):"children"===l?"string"==typeof v?("textarea"!==h||""!==v)&&pi(c,v):"number"==typeof v&&pi(c,""+v):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(f.hasOwnProperty(l)?null!=v&&ki(d,l):null!=v&&bt(c,l,v,p))}switch(a){case"input":Ve(u),Pt(u,o,!1);break;case"textarea":Ve(u),ai(u);break;case"option":null!=o.value&&u.setAttribute("value",""+_t(o.value));break;case"select":i=u,u=o,i.multiple=!!u.multiple,null!=(l=u.value)?ii(i,!!u.multiple,l,!1):null!=u.defaultValue&&ii(i,!!u.multiple,u.defaultValue,!0);break;default:"function"==typeof i.onClick&&(u.onclick=Ei)}Pi(a,o)&&bs(t),t.stateNode=n}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw s(Error(166));break;case 6:if(n&&null!=t.stateNode)ps(0,t,n.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw s(Error(166));n=ao(so.current),ao(ro.current),Qo(t)?(i=t.stateNode,n=t.memoizedProps,i[L]=t,i.nodeValue!==n&&bs(t)):(i=t,(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[L]=t,i.stateNode=n)}break;case 13:if($i(fo),o=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=i;break e}i=null!==o,o=!1,null===n?Qo(t):(o=null!==(a=n.memoizedState),i||null===a||null!==(a=n.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=a,a.nextEffect=u):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),i&&!o&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&fo.current)?0===Gs&&(Gs=2):0!==Gs&&2!==Gs||(Gs=3)),(i||o)&&(t.effectTag|=4);break;case 4:uo();break;case 10:Cr(t);break;case 19:if($i(fo),null===(o=t.memoizedState))break;if(a=0!=(64&t.effectTag),null===(u=o.rendering)){if(a)_s(o,!1);else if(0!==Gs||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(u=po(n))){for(t.effectTag|=64,_s(o,!1),null!==(n=u.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),t.firstEffect=t.lastEffect=null,n=t.child;null!==n;)a=i,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(u=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=u.childExpirationTime,o.expirationTime=u.expirationTime,o.child=u.child,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,a=u.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),n=n.sibling;Li(fo,1&fo.current|2),t=t.child;break e}n=n.sibling}}else{if(!a)if(null!==(n=po(u))){if(t.effectTag|=64,a=!0,_s(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(i=n.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else hr()>o.tailExpiration&&1<i&&(t.effectTag|=64,a=!0,_s(o,!1),t.expirationTime=t.childExpirationTime=i-1);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(i=o.last)?i.sibling=u:t.child=u,o.last=u)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=hr()+500),i=o.tail,o.rendering=i,o.tail=i.sibling,o.lastEffect=t.lastEffect,i.sibling=null,n=fo.current,Li(fo,n=a?1&n|2:1&n),t=i;break e}break;default:throw s(Error(156))}t=null}if(i=Hs,1===Vs||1!==i.childExpirationTime){for(n=0,o=i.child;null!==o;)(a=o.expirationTime)>n&&(n=a),(u=o.childExpirationTime)>n&&(n=u),o=o.sibling;i.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Hs.firstEffect),null!==Hs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Hs.firstEffect),e.lastEffect=Hs.lastEffect),1<Hs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Hs:e.firstEffect=Hs,e.lastEffect=Hs))}else{if(null!==(t=ks(Hs)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(t=Hs.sibling))return t;Hs=e}while(null!==Hs);return 0===Gs&&(Gs=4),null}function Ta(e){var t=dr();return pr(99,Pa.bind(null,e,t)),null!==na&&gr(97,(function(){return Ca(),null})),null}function Pa(e,t){if(Ca(),0!=(48&Us))throw s(Error(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw s(Error(177));e.callbackNode=null,e.callbackExpirationTime=0;var r=n.expirationTime,o=n.childExpirationTime;if(r=o>r?o:r,e.firstPendingTime=r,r<e.lastPendingTime&&(e.lastPendingTime=r),e===zs&&(Hs=zs=null,Vs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){o=Us,Us|=32,Bs.current=null,Si=Ln;var a=Wn();if(qn(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{var u=(c=(c=a.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(u&&0!==u.rangeCount){c=u.anchorNode;var l=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{c.nodeType,h.nodeType}catch(e){c=null;break e}var d=0,f=-1,p=-1,g=0,v=0,m=a,y=null;t:for(;;){for(var w;m!==c||0!==l&&3!==m.nodeType||(f=d+l),m!==h||0!==u&&3!==m.nodeType||(p=d+u),3===m.nodeType&&(d+=m.nodeValue.length),null!==(w=m.firstChild);)y=m,m=w;for(;;){if(m===a)break t;if(y===c&&++g===l&&(f=d),y===h&&++v===u&&(p=d),null!==(w=m.nextSibling))break;y=(m=y).parentNode}m=w}c=-1===f||-1===p?null:{start:f,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;Ti={focusedElem:a,selectionRange:c},Ln=!1,Zs=r;do{try{for(;null!==Zs;){if(0!=(256&Zs.effectTag)){var b=Zs.alternate;switch((a=Zs).tag){case 0:case 11:case 15:Cs(2,0,a);break;case 1:if(256&a.effectTag&&null!==b){var _=b.memoizedProps,k=b.memoizedState,E=a.stateNode,S=E.getSnapshotBeforeUpdate(a.elementType===a.type?_:br(a.type,_),k);E.__reactInternalSnapshotBeforeUpdate=S}break;case 3:case 5:case 6:case 4:case 17:break;default:throw s(Error(163))}}Zs=Zs.nextEffect}}catch(e){if(null===Zs)throw s(Error(330));Ra(Zs,e),Zs=Zs.nextEffect}}while(null!==Zs);Zs=r;do{try{for(b=t;null!==Zs;){var T=Zs.effectTag;if(16&T&&pi(Zs.stateNode,""),128&T){var P=Zs.alternate;if(null!==P){var C=P.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(14&T){case 2:Os(Zs),Zs.effectTag&=-3;break;case 6:Os(Zs),Zs.effectTag&=-3,$s(Zs.alternate,Zs);break;case 4:$s(Zs.alternate,Zs);break;case 8:As(_=Zs,b),_.return=null,_.child=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null;var x=_.alternate;null!==x&&(x.return=null,x.child=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null)}Zs=Zs.nextEffect}}catch(e){if(null===Zs)throw s(Error(330));Ra(Zs,e),Zs=Zs.nextEffect}}while(null!==Zs);if(C=Ti,P=Wn(),T=C.focusedElem,b=C.selectionRange,P!==T&&T&&T.ownerDocument&&Gn(T.ownerDocument.documentElement,T)){null!==b&&qn(T)&&(P=b.start,void 0===(C=b.end)&&(C=P),"selectionStart"in T?(T.selectionStart=P,T.selectionEnd=Math.min(C,T.value.length)):(C=(P=T.ownerDocument||document)&&P.defaultView||window).getSelection&&(C=C.getSelection(),_=T.textContent.length,x=Math.min(b.start,_),b=void 0===b.end?x:Math.min(b.end,_),!C.extend&&x>b&&(_=b,b=x,x=_),_=Vn(T,x),k=Vn(T,b),_&&k&&(1!==C.rangeCount||C.anchorNode!==_.node||C.anchorOffset!==_.offset||C.focusNode!==k.node||C.focusOffset!==k.offset)&&((P=P.createRange()).setStart(_.node,_.offset),C.removeAllRanges(),x>b?(C.addRange(P),C.extend(k.node,k.offset)):(P.setEnd(k.node,k.offset),C.addRange(P))))),P=[];for(C=T;C=C.parentNode;)1===C.nodeType&&P.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof T.focus&&T.focus(),T=0;T<P.length;T++)(C=P[T]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Ti=null,Ln=!!Si,Si=null,e.current=n,Zs=r;do{try{for(T=i;null!==Zs;){var I=Zs.effectTag;if(36&I){var R=Zs.alternate;switch(C=T,(P=Zs).tag){case 0:case 11:case 15:Cs(16,32,P);break;case 1:var O=P.stateNode;if(4&P.effectTag)if(null===R)O.componentDidMount();else{var A=P.elementType===P.type?R.memoizedProps:br(P.type,R.memoizedProps);O.componentDidUpdate(A,R.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var $=P.updateQueue;null!==$&&Ur(0,$,O);break;case 3:var L=P.updateQueue;if(null!==L){if(x=null,null!==P.child)switch(P.child.tag){case 5:case 1:x=P.child.stateNode}Ur(0,L,x)}break;case 5:var M=P.stateNode;null===R&&4&P.effectTag&&(C=M,Pi(P.type,P.memoizedProps)&&C.focus());break;case 6:case 4:case 12:case 13:case 19:case 17:case 20:break;default:throw s(Error(163))}}if(128&I){var j=Zs.ref;if(null!==j){var D=Zs.stateNode;if(5===Zs.tag)var N=D;else N=D;"function"==typeof j?j(N):j.current=N}}512&I&&(ta=!0),Zs=Zs.nextEffect}}catch(e){if(null===Zs)throw s(Error(330));Ra(Zs,e),Zs=Zs.nextEffect}}while(null!==Zs);Zs=null,sr(),Us=o}else e.current=n;if(ta)ta=!1,na=e,ra=i,ia=t;else for(Zs=r;null!==Zs;)t=Zs.nextEffect,Zs.nextEffect=null,Zs=t;if(0!==(t=e.firstPendingTime)?pa(e,I=wr(I=ua(),t),t):ea=null,"function"==typeof La&&La(n.stateNode,i),1073741823===t?e===aa?sa++:(sa=0,aa=e):sa=0,Js)throw Js=!1,e=Qs,Qs=null,e;return 0!=(8&Us)||mr(),null}function Ca(){if(null===na)return!1;var e=na,t=ra,n=ia;return na=null,ra=0,ia=90,pr(97<n?97:n,xa.bind(null,e,t))}function xa(e){if(0!=(48&Us))throw s(Error(331));var t=Us;for(Us|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Cs(128,0,n),Cs(0,64,n)}}catch(t){if(null===e)throw s(Error(330));Ra(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Us=t,mr(),!0}function Ia(e,t,n){jr(e,t=js(e,t=Es(n,t),1073741823)),null!==(e=fa(e,1073741823))&&pa(e,99,1073741823)}function Ra(e,t){if(3===e.tag)Ia(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ia(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===ea||!ea.has(i))){jr(n,e=Ds(n,e=Es(t,e),1073741823)),null!==(n=fa(n,1073741823))&&pa(n,99,1073741823);break}}n=n.return}}function Oa(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),zs===e&&Vs===n?3===Gs||2===Gs&&1073741823===Ws&&hr()-Xs<500?ba(e,Vs):Ks=!0:e.lastPendingTime<n||0!==(t=e.pingTime)&&t<n||(e.pingTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),pa(e,t=wr(t=ua(),n),n))}function Aa(e,t){var n=e.stateNode;null!==n&&n.delete(t),n=wr(n=ua(),t=la(n,e,null)),null!==(e=fa(e,t))&&pa(e,n,t)}var $a=void 0;$a=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||Di.current)ns=!0;else if(i<n){switch(ns=!1,t.tag){case 3:hs(t),es();break;case 5:if(lo(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Bi(t.type)&&Gi(t);break;case 4:co(t,t.stateNode.containerInfo);break;case 10:Pr(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?vs(e,t,n):(Li(fo,1&fo.current),null!==(t=ws(e,t,n))?t.sibling:null);Li(fo,1&fo.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return ys(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),Li(fo,fo.current),!i)return null}return ws(e,t,n)}}else ns=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=Fi(t,ji.current),Ir(t,n),r=Oo(null,t,i,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,Ao(),Bi(i)){var o=!0;Gi(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var a=i.getDerivedStateFromProps;"function"==typeof a&&Gr(t,i,a,e),r.updater=Wr,t.stateNode=r,r._reactInternalFiber=t,Xr(t,i,e,n),t=ls(null,t,i,!0,o,n)}else t.tag=0,is(null,t,r,n),t=t.child;return t;case 16:switch(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)})),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(r),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Na(e)?1:0;if(null!=e){if((e=e.$$typeof)===it)return 11;if(e===st)return 14}return 2}(r),e=br(r,e),o){case 0:t=cs(null,t,r,e,n);break;case 1:t=us(null,t,r,e,n);break;case 11:t=rs(null,t,r,e,n);break;case 14:t=os(null,t,r,br(r.type,e),i,n);break;default:throw s(Error(306),r,"")}return t;case 0:return i=t.type,r=t.pendingProps,cs(e,t,i,r=t.elementType===i?r:br(i,r),n);case 1:return i=t.type,r=t.pendingProps,us(e,t,i,r=t.elementType===i?r:br(i,r),n);case 3:if(hs(t),null===(i=t.updateQueue))throw s(Error(282));return r=null!==(r=t.memoizedState)?r.element:null,Br(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===r?(es(),t=ws(e,t,n)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(qo=Ri(t.stateNode.containerInfo.firstChild),Wo=t,r=Yo=!0),r?(t.effectTag|=2,t.child=no(t,null,i,n)):(is(e,t,i,n),es()),t=t.child),t;case 5:return lo(t),null===e&&Zo(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,Ci(i,r)?a=null:null!==o&&Ci(i,o)&&(t.effectTag|=16),as(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(is(e,t,a,n),t=t.child),t;case 6:return null===e&&Zo(t),null;case 13:return vs(e,t,n);case 4:return co(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=to(t,null,i,n):is(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,rs(e,t,i,r=t.elementType===i?r:br(i,r),n);case 7:return is(e,t,t.pendingProps,n),t.child;case 8:case 12:return is(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,Pr(t,o=r.value),null!==a){var c=a.value;if(0==(o=tn(c,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(c,o):1073741823))){if(a.children===r.children&&!Di.current){t=ws(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){a=c.child;for(var l=u.firstContext;null!==l;){if(l.context===i&&0!=(l.observedBits&o)){1===c.tag&&((l=Lr(n,null)).tag=2,jr(c,l)),c.expirationTime<n&&(c.expirationTime=n),null!==(l=c.alternate)&&l.expirationTime<n&&(l.expirationTime=n),xr(c.return,n),u.expirationTime<n&&(u.expirationTime=n);break}l=l.next}}else a=10===c.tag&&c.type===t.type?null:c.child;if(null!==a)a.return=c;else for(a=c;null!==a;){if(a===t){a=null;break}if(null!==(c=a.sibling)){c.return=a.return,a=c;break}a=a.return}c=a}}is(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,Ir(t,n),i=i(r=Rr(r,o.unstable_observedBits)),t.effectTag|=1,is(e,t,i,n),t.child;case 14:return o=br(r=t.type,t.pendingProps),os(e,t,r,o=br(r.type,o),i,n);case 15:return ss(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:br(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Bi(i)?(e=!0,Gi(t)):e=!1,Ir(t,n),Yr(t,i,r),Xr(t,i,r,n),ls(null,t,i,!0,e,n);case 19:return ys(e,t,n)}throw s(Error(156))};var La=null,Ma=null;function ja(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Da(e,t,n,i){return new ja(e,t,n,i)}function Na(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fa(e,t){var n=e.alternate;return null===n?((n=Da(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ba(e,t,n,i,r,o){var a=2;if(i=e,"function"==typeof e)Na(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Ze:return Ua(n.children,r,o,t);case nt:a=8,r|=7;break;case Je:a=8,r|=1;break;case Qe:return(e=Da(12,n,t,8|r)).elementType=Qe,e.type=Qe,e.expirationTime=o,e;case rt:return(e=Da(13,n,t,r)).type=rt,e.elementType=rt,e.expirationTime=o,e;case ot:return(e=Da(19,n,t,r)).elementType=ot,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case et:a=10;break e;case tt:a=9;break e;case it:a=11;break e;case st:a=14;break e;case at:a=16,i=null;break e}throw s(Error(130),null==e?e:typeof e,"")}return(t=Da(a,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Ua(e,t,n,i){return(e=Da(7,e,i,t)).expirationTime=n,e}function za(e,t,n){return(e=Da(6,e,null,t)).expirationTime=n,e}function Ha(e,t,n){return(t=Da(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Va(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function Ga(e,t,n){return e=new Va(e,t,n),t=Da(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e}function Wa(e,t,n,i,r,o){var a=t.current;e:if(n){t:{if(2!==sn(n=n._reactInternalFiber)||1!==n.tag)throw s(Error(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(Bi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw s(Error(171))}if(1===n.tag){var u=n.type;if(Bi(u)){n=Vi(n,u,c);break e}}n=c}else n=Mi;return null===t.context?t.context=n:t.pendingContext=n,t=o,(r=Lr(i,r)).payload={element:e},null!==(t=void 0===t?null:t)&&(r.callback=t),jr(a,r),da(a,i),i}function qa(e,t,n,i){var r=t.current,o=ua(),s=Hr.suspense;return Wa(e,t,n,r=la(o,r,s),s,i)}function Ya(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ka(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xe,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Xa(e){var t=1073741821-25*(1+((1073741821-ua()+500)/25|0));t<=ha&&--t,this._expirationTime=ha=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Za(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ja(e,t,n){this._internalRoot=Ga(e,t,n)}function Qa(e,t){this._internalRoot=Ga(e,2,t)}function ec(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function tc(e,t,n,i,r){var o=n._reactRootContainer,s=void 0;if(o){if(s=o._internalRoot,"function"==typeof r){var a=r;r=function(){var e=Ya(s);a.call(e)}}qa(t,s,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ja(e,0,t)}(n,i),s=o._internalRoot,"function"==typeof r){var c=r;r=function(){var e=Ya(s);c.call(e)}}wa((function(){qa(t,s,e,r)}))}return Ya(s)}function nc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ec(t))throw s(Error(200));return Ka(e,t,null,n)}Ce=function(e,t,n){switch(t){case"input":if(Tt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=F(i);if(!r)throw s(Error(90));Ge(i),Tt(i,r)}}}break;case"textarea":si(e,n);break;case"select":null!=(t=n.value)&&ii(e,!!n.multiple,t,!1)}},Xa.prototype.render=function(e){if(!this._defer)throw s(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new Za;return Wa(e,t,null,n,null,i._onCommit),i},Xa.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Xa.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw s(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,r=t;r!==this;)i=r,r=r._next;if(null===i)throw s(Error(251));i._next=r._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,0!=(48&Us))throw s(Error(253));vr(_a.bind(null,e,t)),mr(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Xa.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Za.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Za.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)throw s(Error(191),n);n()}}},Qa.prototype.render=Ja.prototype.render=function(e,t){var n=this._internalRoot,i=new Za;return null!==(t=void 0===t?null:t)&&i.then(t),qa(e,n,null,i._onCommit),i},Qa.prototype.unmount=Ja.prototype.unmount=function(e){var t=this._internalRoot,n=new Za;return null!==(e=void 0===e?null:e)&&n.then(e),qa(null,t,null,n._onCommit),n},Qa.prototype.createBatch=function(){var e=new Xa(this),t=e._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=e,e._next=null;else{for(n=null;null!==i&&i._expirationTime>=t;)n=i,i=i._next;e._next=i,null!==n&&(n._next=e)}return e},$e=ma,Le=ya,Me=va,je=function(e,t){var n=Us;Us|=2;try{return e(t)}finally{0===(Us=n)&&mr()}};var ic={createPortal:nc,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw s(Error(188));throw s(Error(268),Object.keys(e))}e=null===(e=cn(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!ec(t))throw s(Error(200));return tc(null,e,t,!0,n)},render:function(e,t,n){if(!ec(t))throw s(Error(200));return tc(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){if(!ec(n))throw s(Error(200));if(null==e||void 0===e._reactInternalFiber)throw s(Error(38));return tc(e,t,n,!1,i)},unmountComponentAtNode:function(e){if(!ec(e))throw s(Error(40));return!!e._reactRootContainer&&(wa((function(){tc(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return nc.apply(void 0,arguments)},unstable_batchedUpdates:ma,unstable_interactiveUpdates:function(e,t,n,i){return va(),ya(e,t,n,i)},unstable_discreteUpdates:ya,unstable_flushDiscreteUpdates:va,flushSync:function(e,t){if(0!=(48&Us))throw s(Error(187));var n=Us;Us|=1;try{return pr(99,e.bind(null,t))}finally{Us=n,mr()}},unstable_createRoot:function(e,t){if(!ec(e))throw s(Error(299),"unstable_createRoot");return new Qa(e,null!=t&&!0===t.hydrate)},unstable_createSyncRoot:function(e,t){if(!ec(e))throw s(Error(299),"unstable_createRoot");return new Ja(e,1,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=Us;Us|=1;try{pr(99,e)}finally{0===(Us=t)&&mr()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[D,N,F,O.injectEventPluginsByName,d,G,function(e){C(e,V)},Oe,Ae,Fn,R,Ca,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;!function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);La=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Ma=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:We.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=cn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:j,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"});var rc={default:ic},oc=rc&&ic||rc;e.exports=oc.default||oc},73935:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(64448)},69921:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case l:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case v:case g:case c:return e;default:return t}}case r:return t}}}function k(e){return _(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=r,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return k(e)||_(e)===l},t.isConcurrentMode=k,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===a||e===s||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===d||e.$$typeof===y||e.$$typeof===w||e.$$typeof===b||e.$$typeof===m)},t.typeOf=_},59864:function(e,t,n){"use strict";e.exports=n(69921)},6526:function(e,t,n){"use strict";n.d(t,{ReactReduxContext:function(){return r}});var i=n(67294),r=n.n(i)().createContext(null)},60682:function(e,t,n){"use strict";var i=n(67294),r=n.n(i),o=(n(45697),n(6526)),s=n(86496);t.default=function(e){var t=e.store,n=e.context,a=e.children,c=(0,i.useMemo)((function(){var e=new s.default(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=(0,i.useMemo)((function(){return t.getState()}),[t]);(0,i.useEffect)((function(){var e=c.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[c,u]);var l=n||o.ReactReduxContext;return r().createElement(l.Provider,{value:c},a)}},26685:function(e,t,n){"use strict";n.d(t,{default:function(){return b}});var i=n(87462),r=n(63366),o=n(8679),s=n.n(o),a=n(67294),c=n.n(a),u=n(59864),l=n(86496),h=n(1881),d=n(6526),f=[],p=[null,null];function g(e,t){var n=e[1];return[t.payload,n+1]}function v(e,t,n){(0,h.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),n)}function m(e,t,n,i,r,o,s){e.current=i,t.current=r,n.current=!1,o.current&&(o.current=null,s())}function y(e,t,n,i,r,o,s,a,c,u){if(e){var l=!1,h=null,d=function(){if(!l){var e,n,d=t.getState();try{e=i(d,r.current)}catch(e){n=e,h=e}n||(h=null),e===o.current?s.current||c():(o.current=e,a.current=e,s.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=d,n.trySubscribe(),d(),function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}}var w=function(){return[null,0]};function b(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,h=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,b=n.methodName,_=void 0===b?"connectAdvanced":b,k=n.renderCountProp,E=void 0===k?void 0:k,S=n.shouldHandleStateChanges,T=void 0===S||S,P=n.storeKey,C=void 0===P?"store":P,x=(n.withRef,n.forwardRef),I=void 0!==x&&x,R=n.context,O=void 0===R?d.ReactReduxContext:R,A=(0,r.default)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),$=O;return function(t){var n=t.displayName||t.name||"Component",o=h(n),d=(0,i.default)({},A,{getDisplayName:h,methodName:_,renderCountProp:E,shouldHandleStateChanges:T,storeKey:C,displayName:o,wrappedComponentName:n,WrappedComponent:t}),b=A.pure,k=b?a.useMemo:function(e){return e()};function S(n){var o=(0,a.useMemo)((function(){var e=n.reactReduxForwardedRef,t=(0,r.default)(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),s=o[0],h=o[1],b=o[2],_=(0,a.useMemo)((function(){return s&&s.Consumer&&(0,u.isContextConsumer)(c().createElement(s.Consumer,null))?s:$}),[s,$]),E=(0,a.useContext)(_),S=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(E)&&Boolean(E.store);var P=S?n.store:E.store,C=(0,a.useMemo)((function(){return function(t){return e(t.dispatch,d)}(P)}),[P]),x=(0,a.useMemo)((function(){if(!T)return p;var e=new l.default(P,S?null:E.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[P,S,E]),I=x[0],R=x[1],O=(0,a.useMemo)((function(){return S?E:(0,i.default)({},E,{subscription:I})}),[S,E,I]),A=(0,a.useReducer)(g,f,w),L=A[0][0],M=A[1];if(L&&L.error)throw L.error;var j=(0,a.useRef)(),D=(0,a.useRef)(b),N=(0,a.useRef)(),F=(0,a.useRef)(!1),B=k((function(){return N.current&&b===D.current?N.current:C(P.getState(),b)}),[P,L,b]);v(m,[D,j,F,b,B,N,R]),v(y,[T,P,I,C,D,j,F,N,R,M],[P,I,C]);var U=(0,a.useMemo)((function(){return c().createElement(t,(0,i.default)({},B,{ref:h}))}),[h,t,B]);return(0,a.useMemo)((function(){return T?c().createElement(_.Provider,{value:O},U):U}),[_,U,O])}var P=b?c().memo(S):S;if(P.WrappedComponent=t,P.displayName=o,I){var x=c().forwardRef((function(e,t){return c().createElement(P,(0,i.default)({},e,{reactReduxForwardedRef:t}))}));return x.displayName=o,x.WrappedComponent=t,s()(x,t)}return s()(P,t)}}},57034:function(e,t,n){"use strict";var i=n(87462),r=n(63366),o=n(26685),s=n(35067),a=n(55112),c=n(11743),u=n(5532),l=n(38548);function h(e,t,n){for(var i=t.length-1;i>=0;i--){var r=t[i](e);if(r)return r}return function(t,i){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function d(e,t){return e===t}function f(e){var t=void 0===e?{}:e,n=t.connectHOC,f=void 0===n?o.default:n,p=t.mapStateToPropsFactories,g=void 0===p?c.default:p,v=t.mapDispatchToPropsFactories,m=void 0===v?a.default:v,y=t.mergePropsFactories,w=void 0===y?u.default:y,b=t.selectorFactory,_=void 0===b?l.default:b;return function(e,t,n,o){void 0===o&&(o={});var a=o,c=a.pure,u=void 0===c||c,l=a.areStatesEqual,p=void 0===l?d:l,v=a.areOwnPropsEqual,y=void 0===v?s.default:v,b=a.areStatePropsEqual,k=void 0===b?s.default:b,E=a.areMergedPropsEqual,S=void 0===E?s.default:E,T=(0,r.default)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),P=h(e,g,"mapStateToProps"),C=h(t,m,"mapDispatchToProps"),x=h(n,w,"mergeProps");return f(_,(0,i.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:P,initMapDispatchToProps:C,initMergeProps:x,pure:u,areStatesEqual:p,areOwnPropsEqual:y,areStatePropsEqual:k,areMergedPropsEqual:S},T))}}t.default=f()},55112:function(e,t,n){"use strict";var i=n(14890),r=n(26343);t.default=[function(e){return"function"==typeof e?(0,r.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:(0,r.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?(0,r.wrapMapToPropsConstant)((function(t){return(0,i.bindActionCreators)(e,t)})):void 0}]},11743:function(e,t,n){"use strict";var i=n(26343);t.default=[function(e){return"function"==typeof e?(0,i.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0},function(e){return e?void 0:(0,i.wrapMapToPropsConstant)((function(){return{}}))}]},5532:function(e,t,n){"use strict";var i=n(87462);function r(e,t,n){return(0,i.default)({},n,e,t)}t.default=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var i,r=n.pure,o=n.areMergedPropsEqual,s=!1;return function(t,n,a){var c=e(t,n,a);return s?r&&o(c,i)||(i=c):(s=!0,i=c),i}}}(e):void 0},function(e){return e?void 0:function(){return r}}]},38548:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var i=n(63366);function r(e,t,n,i){return function(r,o){return n(e(r,o),t(i,o),o)}}function o(e,t,n,i,r){var o,s,a,c,u,l=r.areStatesEqual,h=r.areOwnPropsEqual,d=r.areStatePropsEqual,f=!1;return function(r,p){return f?function(r,f){var p,g,v=!h(f,s),m=!l(r,o);return o=r,s=f,v&&m?(a=e(o,s),t.dependsOnOwnProps&&(c=t(i,s)),u=n(a,c,s)):v?(e.dependsOnOwnProps&&(a=e(o,s)),t.dependsOnOwnProps&&(c=t(i,s)),u=n(a,c,s)):m?(p=e(o,s),g=!d(p,a),a=p,g&&(u=n(a,c,s)),u):u}(r,p):(a=e(o=r,s=p),c=t(i,s),u=n(a,c,s),f=!0,u)}}function s(e,t){var n=t.initMapStateToProps,s=t.initMapDispatchToProps,a=t.initMergeProps,c=(0,i.default)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=n(e,c),l=s(e,c),h=a(e,c);return(c.pure?o:r)(u,l,h,e,c)}},26343:function(e,t,n){"use strict";function i(e){return function(t,n){var i=e(t,n);function r(){return i}return r.dependsOnOwnProps=!1,r}}function r(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function o(e,t){return function(t,n){n.displayName;var i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=r(e);var o=i(t,n);return"function"==typeof o&&(i.mapToProps=o,i.dependsOnOwnProps=r(o),o=i(t,n)),o},i}}n.d(t,{wrapMapToPropsConstant:function(){return i},wrapMapToPropsFunc:function(){return o}})},72307:function(e,t,n){"use strict";n.d(t,{useDispatch:function(){return s}});var i=n(6526),r=n(420);function o(e){void 0===e&&(e=i.ReactReduxContext);var t=e===i.ReactReduxContext?r.useStore:(0,r.createStoreHook)(e);return function(){return t().dispatch}}var s=o()},2975:function(e,t,n){"use strict";n.d(t,{useReduxContext:function(){return o}});var i=n(67294),r=n(6526);function o(){return(0,i.useContext)(r.ReactReduxContext)}},59854:function(e,t,n){"use strict";n.d(t,{useSelector:function(){return l}});var i=n(67294),r=n(2975),o=n(86496),s=n(1881),a=n(6526),c=function(e,t){return e===t};function u(e){void 0===e&&(e=a.ReactReduxContext);var t=e===a.ReactReduxContext?r.useReduxContext:function(){return(0,i.useContext)(e)};return function(e,n){void 0===n&&(n=c);var r=t(),a=function(e,t,n,r){var a,c=(0,i.useReducer)((function(e){return e+1}),0)[1],u=(0,i.useMemo)((function(){return new o.default(n,r)}),[n,r]),l=(0,i.useRef)(),h=(0,i.useRef)(),d=(0,i.useRef)(),f=(0,i.useRef)(),p=n.getState();try{a=e!==h.current||p!==d.current||l.current?e(p):f.current}catch(e){throw l.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),e}return(0,s.useIsomorphicLayoutEffect)((function(){h.current=e,d.current=p,f.current=a,l.current=void 0})),(0,s.useIsomorphicLayoutEffect)((function(){function e(){try{var e=h.current(n.getState());if(t(e,f.current))return;f.current=e}catch(e){l.current=e}c()}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[n,u]),a}(e,n,r.store,r.subscription);return(0,i.useDebugValue)(a),a}}var l=u()},420:function(e,t,n){"use strict";n.d(t,{createStoreHook:function(){return s},useStore:function(){return a}});var i=n(67294),r=n(6526),o=n(2975);function s(e){void 0===e&&(e=r.ReactReduxContext);var t=e===r.ReactReduxContext?o.useReduxContext:function(){return(0,i.useContext)(e)};return function(){return t().store}}var a=s()},50533:function(e,t,n){"use strict";n.d(t,{Provider:function(){return i.default},connect:function(){return r.default},useDispatch:function(){return o.useDispatch},useSelector:function(){return s.useSelector}});var i=n(60682),r=(n(26685),n(6526),n(57034)),o=n(72307),s=n(59854),a=(n(420),n(9256)),c=n(71679);(0,a.setBatch)(c.unstable_batchedUpdates)},86496:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var i=n(9256),r={notify:function(){}},o=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=r,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=(0,i.getBatch)(),t=null,n=null,{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var i=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){i&&null!==t&&(i=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=r)},e}()},9256:function(e,t,n){"use strict";n.d(t,{getBatch:function(){return o},setBatch:function(){return r}});var i=function(e){e()},r=function(e){return i=e},o=function(){return i}},71679:function(e,t,n){"use strict";n.d(t,{unstable_batchedUpdates:function(){return i.unstable_batchedUpdates}});var i=n(73935)},35067:function(e,t,n){"use strict";function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function r(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!i(e[n[o]],t[n[o]]))return!1;return!0}n.d(t,{default:function(){return r}})},1881:function(e,t,n){"use strict";n.d(t,{useIsomorphicLayoutEffect:function(){return r}});var i=n(67294),r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect},29697:function(e,t,n){"use strict";var i=n(87462),r=n(63366),o=n(94578),s=(n(45697),n(58255)),a=n(74277),c=n(67294),u=n.n(c),l=n(96630),h=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},d=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),r=i[0],o=i[1];t.removeClasses(r,"exit"),t.addClass(r,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),r=i[0],o=i[1]?"appear":"enter";t.addClass(r,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),r=i[0],o=i[1]?"appear":"enter";t.removeClasses(r,o),t.addClass(r,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,r=i?(i&&n?n+"-":"")+e:n[e];return{baseClassName:r,activeClassName:i?r+"-active":n[e+"Active"],doneClassName:i?r+"-done":n[e+"Done"]}},t}(0,o.default)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&r&&(i+=" "+r),"active"===n&&e&&e.scrollTop,i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,s.default)(e,t)}))}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,r=n.active,o=n.done;this.appliedClasses[t]={},i&&h(e,i),r&&h(e,r),o&&h(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,r.default)(e,["classNames"]));return u().createElement(l.default,(0,i.default)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u().Component);d.defaultProps={classNames:""},d.propTypes={},t.default=d},96630:function(e,t,n){"use strict";var i=n(63366),r=n(94578),o=(n(45697),n(67294)),s=n.n(o),a=n(73935),c=n.n(a),u=n(6035),l=n(220),h="unmounted",d="exited",f="entering",p="entered",g="exiting",v=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r=d,i.appearStatus=f):r=p:r=t.unmountOnExit||t.mountOnEnter?h:d,i.state={status:r},i.nextCallback=null,i}(0,r.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==p&&(t=f):n!==f&&n!==p||(t=g)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===f?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===d&&this.setState({status:h})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[c().findDOMNode(this),i],o=r[0],s=r[1],a=this.getTimeouts(),l=i?a.appear:a.enter;!e&&!n||u.default.disabled?this.safeSetState({status:p},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:f},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:c().findDOMNode(this);t&&!u.default.disabled?(this.props.onExit(i),this.safeSetState({status:g},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:c().findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],s=r[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s().createElement(l.default.Provider,{value:null},"function"==typeof n?n(e,r):s().cloneElement(s().Children.only(n),r))},t}(s().Component);function m(){}v.contextType=l.default,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},v.UNMOUNTED=h,v.EXITED=d,v.ENTERING=f,v.ENTERED=p,v.EXITING=g,t.default=v},220:function(e,t,n){"use strict";var i=n(67294),r=n.n(i);t.default=r().createContext(null)},6035:function(e,t){"use strict";t.default={disabled:!1}},99240:function(e,t,n){"use strict";n.d(t,{CSSTransition:function(){return i.default}});var i=n(29697)},72408:function(e,t,n){"use strict";var i=n(27418),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116;r&&Symbol.for("react.fundamental"),r&&Symbol.for("react.responder");var m="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||w}function k(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||w}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw y(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=_.prototype;var S=E.prototype=new k;S.constructor=E,i(S,_.prototype),S.isPureReactComponent=!0;var T={current:null},P={suspense:null},C={current:null},x=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,n){var i=void 0,r={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(r[i]=t[i]);var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];r.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===r[i]&&(r[i]=c[i]);return{$$typeof:o,type:e,key:s,ref:a,props:r,_owner:C.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,$=[];function L(e,t,n,i){if($.length){var r=$.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>$.length&&$.push(e)}function j(e,t,n,i){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var a=!1;if(null===e)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case o:case s:a=!0}}if(a)return n(i,e,""===t?"."+N(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=t+N(r=e[c],c);a+=j(r,u,n,i)}else if("function"==typeof(u=null===e||"object"!=typeof e?null:"function"==typeof(u=m&&e[m]||e["@@iterator"])?u:null))for(e=u.call(e),c=0;!(r=e.next()).done;)a+=j(r=r.value,u=t+N(r,c++),n,i);else if("object"===r)throw n=""+e,y(Error(31),"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return a}function D(e,t,n){return null==e?0:j(e,"",t,n)}function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function B(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,i,n,(function(e){return e})):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),i.push(e))}function U(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),D(e,B,t=L(t,o,i,r)),M(t)}function z(){var e=T.current;if(null===e)throw y(Error(321));return e}var H={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return U(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;D(e,F,t=L(null,null,t,n)),M(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){if(!O(e))throw y(Error(143));return e}},createRef:function(){return{current:null}},Component:_,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return z().useCallback(e,t)},useContext:function(e,t){return z().useContext(e,t)},useEffect:function(e,t){return z().useEffect(e,t)},useImperativeHandle:function(e,t,n){return z().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return z().useLayoutEffect(e,t)},useMemo:function(e,t){return z().useMemo(e,t)},useReducer:function(e,t,n){return z().useReducer(e,t,n)},useRef:function(e){return z().useRef(e)},useState:function(e){return z().useState(e)},Fragment:a,Profiler:u,StrictMode:c,Suspense:f,unstable_SuspenseList:p,createElement:R,cloneElement:function(e,t,n){if(null==e)throw y(Error(267),e);var r=void 0,s=i({},e.props),a=e.key,c=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,u=C.current),void 0!==t.key&&(a=""+t.key);var l=void 0;for(r in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)x.call(t,r)&&!I.hasOwnProperty(r)&&(s[r]=void 0===t[r]&&void 0!==l?l[r]:t[r])}if(1==(r=arguments.length-2))s.children=n;else if(1<r){l=Array(r);for(var h=0;h<r;h++)l[h]=arguments[h+2];s.children=l}return{$$typeof:o,type:e.type,key:a,ref:c,props:s,_owner:u}},createFactory:function(e){var t=R.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var n=P.suspense;P.suspense=void 0===t?null:t;try{e()}finally{P.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:T,ReactCurrentBatchConfig:P,ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:i}},V={default:H},G=V&&H||V;e.exports=G.default||G},67294:function(e,t,n){"use strict";e.exports=n(72408)},14890:function(e,t,n){"use strict";n.d(t,{bindActionCreators:function(){return h},combineReducers:function(){return u},createStore:function(){return a}});var i=n(27164),r=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+r(),REPLACE:"@@redux/REPLACE"+r(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+r()}};function s(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function a(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,u=t,l=[],h=l,d=!1;function f(){h===l&&(h=l.slice())}function p(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return f(),h.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,f();var n=h.indexOf(e);h.splice(n,1),l=null}}}function v(e){if(!s(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,u=c(u,e)}finally{d=!1}for(var t=l=h,n=0;n<t.length;n++)(0,t[n])();return e}function m(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,v({type:o.REPLACE})}function y(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[i.default]=function(){return this},e}return v({type:o.INIT}),(r={dispatch:v,subscribe:g,getState:p,replaceReducer:m})[i.default]=y,r}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];"function"==typeof e[r]&&(n[r]=e[r])}var s,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var i=!1,r={},o=0;o<a.length;o++){var u=a[o],l=n[u],h=e[u],d=l(h,t);if(void 0===d){var f=c(u,t);throw new Error(f)}r[u]=d,i=i||d!==h}return(i=i||a.length!==Object.keys(e).length)?r:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function h(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var i in e){var r=e[i];"function"==typeof r&&(n[i]=l(r,t))}return n}},60053:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0,i=void 0,r=void 0,o=void 0,s=void 0;if(t.unstable_now=void 0,t.unstable_forceFrameRate=void 0,"undefined"==typeof window||"function"!=typeof MessageChannel){var a=null,c=null,u=function(){if(null!==a)try{var e=t.unstable_now();a(!0,e),a=null}catch(e){throw setTimeout(u,0),e}};t.unstable_now=function(){return Date.now()},n=function(e){null!==a?setTimeout(n,0,e):(a=e,setTimeout(u,0))},i=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var l=window.performance,h=window.Date,d=window.setTimeout,f=window.clearTimeout,p=window.requestAnimationFrame,g=window.cancelAnimationFrame;"undefined"!=typeof console&&("function"!=typeof p&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),t.unstable_now="object"==typeof l&&"function"==typeof l.now?function(){return l.now()}:function(){return h.now()};var v=!1,m=null,y=-1,w=-1,b=33.33,_=-1,k=-1,E=0,S=!1;o=function(){return t.unstable_now()>=E},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):0<e?(b=Math.floor(1e3/e),S=!0):(b=33.33,S=!1)};var T=function(){if(null!==m){var e=t.unstable_now(),n=0<E-e;try{m(n,e)||(m=null)}catch(e){throw C.postMessage(null),e}}},P=new MessageChannel,C=P.port2;P.port1.onmessage=T;var x=function(e){if(null===m)k=_=-1,v=!1;else{v=!0,p((function(e){f(y),x(e)}));var n=function(){E=t.unstable_now()+b/2,T(),y=d(n,3*b)};if(y=d(n,3*b),-1!==_&&.1<e-_){var i=e-_;!S&&-1!==k&&i<b&&k<b&&8.33>(b=i<k?k:i)&&(b=8.33),k=i}_=e,E=e+b,C.postMessage(null)}};n=function(e){m=e,v||(v=!0,p((function(e){x(e)})))},i=function(e,n){w=d((function(){e(t.unstable_now())}),n)},r=function(){f(w),w=-1}}var I=null,R=null,O=null,A=3,$=!1,L=!1,M=!1;function j(e,t){var n=e.next;if(n===e)I=null;else{e===I&&(I=n);var i=e.previous;i.next=n,n.previous=i}e.next=e.previous=null,n=e.callback,i=A;var r=O;A=e.priorityLevel,O=e;try{var o=e.expirationTime<=t;switch(A){case 1:var s=n(o);break;case 2:case 3:case 4:case 5:s=n(o)}}catch(e){throw e}finally{A=i,O=r}if("function"==typeof s)if(t=e.expirationTime,e.callback=s,null===I)I=e.next=e.previous=e;else{s=null,o=I;do{if(t<=o.expirationTime){s=o;break}o=o.next}while(o!==I);null===s?s=I:s===I&&(I=e),(t=s.previous).next=s.previous=e,e.next=s,e.previous=t}}function D(e){if(null!==R&&R.startTime<=e)do{var t=R,n=t.next;if(t===n)R=null;else{R=n;var i=t.previous;i.next=n,n.previous=i}t.next=t.previous=null,U(t,t.expirationTime)}while(null!==R&&R.startTime<=e)}function N(e){M=!1,D(e),L||(null!==I?(L=!0,n(F)):null!==R&&i(N,R.startTime-e))}function F(e,n){L=!1,M&&(M=!1,r()),D(n),$=!0;try{if(e){if(null!==I)do{j(I,n),D(n=t.unstable_now())}while(null!==I&&!o())}else for(;null!==I&&I.expirationTime<=n;)j(I,n),D(n=t.unstable_now());return null!==I||(null!==R&&i(N,R.startTime-n),!1)}finally{$=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function U(e,t){if(null===I)I=e.next=e.previous=e;else{var n=null,i=I;do{if(t<i.expirationTime){n=i;break}i=i.next}while(i!==I);null===n?n=I:n===I&&(I=e),(t=n.previous).next=n.previous=e,e.next=n,e.previous=t}}var z=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();if("object"==typeof s&&null!==s){var c=s.delay;c="number"==typeof c&&0<c?a+c:a,s="number"==typeof s.timeout?s.timeout:B(e)}else s=B(e),c=a;if(e={callback:o,priorityLevel:e,startTime:c,expirationTime:s=c+s,next:null,previous:null},c>a){if(s=c,null===R)R=e.next=e.previous=e;else{o=null;var u=R;do{if(s<u.startTime){o=u;break}u=u.next}while(u!==R);null===o?o=R:o===R&&(R=e),(s=o.previous).next=o.previous=e,e.next=o,e.previous=s}null===I&&R===e&&(M?r():M=!0,i(N,c-a))}else U(e,s),L||$||(L=!0,n(F));return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(e===t)e===I?I=null:e===R&&(R=null);else{e===I?I=t:e===R&&(R=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_shouldYield=function(){var e=t.unstable_now();return D(e),null!==O&&null!==I&&I.startTime<=e&&I.expirationTime<O.expirationTime||o()},t.unstable_requestPaint=z,t.unstable_continueExecution=function(){L||$||(L=!0,n(F))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return I}},63840:function(e,t,n){"use strict";e.exports=n(60053)},76372:function(e){"use strict";function t(e){return"function"==typeof e}var n=console.error.bind(console);function i(e,t,n){var i=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:i,writable:!0,value:n})}function r(e){e&&e.logger&&(t(e.logger)?n=e.logger:n("new logger isn't a function, not replacing"))}function o(e,r,o){if(e&&e[r]){if(!o)return n("no wrapper function"),void n((new Error).stack);if(t(e[r])&&t(o)){var s=e[r],a=o(s,r);return i(a,"__original",s),i(a,"__unwrap",(function(){e[r]===a&&i(e,r,s)})),i(a,"__wrapped",!0),i(e,r,a),a}n("original object and wrapper must be functions")}else n("no original function "+r+" to wrap")}function s(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void n("no original to unwrap to -- has "+t+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}r.wrap=o,r.massWrap=function(e,t,i){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){o(e,t,i)}))})):n("must provide one or more functions to wrap on modules")},r.unwrap=s,r.massUnwrap=function(e,t){if(!e)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t)}))})):n("must provide one or more functions to unwrap on modules")},e.exports=r},78213:function(e,t,n){var i=n(32728),r=Object.prototype.hasOwnProperty;function o(){this._array=[],this._set=Object.create(null)}o.fromArray=function(e,t){for(var n=new o,i=0,r=e.length;i<r;i++)n.add(e[i],t);return n},o.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},o.prototype.add=function(e,t){var n=i.toSetString(e),o=r.call(this._set,n),s=this._array.length;o&&!t||this._array.push(e),o||(this._set[n]=s)},o.prototype.has=function(e){var t=i.toSetString(e);return r.call(this._set,t)},o.prototype.indexOf=function(e){var t=i.toSetString(e);if(r.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},o.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},o.prototype.toArray=function(){return this._array.slice()},t.ArraySet=o},16400:function(e,t,n){var i=n(67923);t.encode=function(e){var t,n="",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&r,(r>>>=5)>0&&(t|=32),n+=i.encode(t)}while(r>0);return n},t.decode=function(e,t,n){var r,o,s,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=i.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&o),u+=(o&=31)<<l,l+=5}while(r);n.value=(a=(s=u)>>1,1==(1&s)?-a:a),n.rest=t}},67923:function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},9216:function(e,t){function n(e,i,r,o,s,a){var c=Math.floor((i-e)/2)+e,u=s(r,o[c],!0);return 0===u?c:u>0?i-c>1?n(c,i,r,o,s,a):a==t.LEAST_UPPER_BOUND?i<o.length?i:-1:c:c-e>1?n(e,c,r,o,s,a):a==t.LEAST_UPPER_BOUND?c:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,i,r,o){if(0===i.length)return-1;var s=n(-1,i.length,e,i,r,o||t.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===r(i[s],i[s-1],!0);)--s;return s}},21188:function(e,t,n){var i=n(32728);function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}r.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},r.prototype.add=function(e){var t,n,r,o,s,a;n=e,r=(t=this._last).generatedLine,o=n.generatedLine,s=t.generatedColumn,a=n.generatedColumn,o>r||o==r&&a>=s||i.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(i.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=r},22826:function(e,t){function n(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function i(e,t,r,o){if(r<o){var s=r-1;n(e,(l=r,h=o,Math.round(l+Math.random()*(h-l))),o);for(var a=e[o],c=r;c<o;c++)t(e[c],a)<=0&&n(e,s+=1,c);n(e,s+1,c);var u=s+1;i(e,t,r,u-1),i(e,t,u+1,o)}var l,h}t.quickSort=function(e,t){i(e,t,0,e.length-1)}},76771:function(e,t,n){var i=n(32728),r=n(9216),o=n(78213).ArraySet,s=n(16400),a=n(22826).quickSort;function c(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new h(t):new u(t)}function u(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=i.getArg(t,"version"),r=i.getArg(t,"sources"),s=i.getArg(t,"names",[]),a=i.getArg(t,"sourceRoot",null),c=i.getArg(t,"sourcesContent",null),u=i.getArg(t,"mappings"),l=i.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);r=r.map(String).map(i.normalize).map((function(e){return a&&i.isAbsolute(a)&&i.isAbsolute(e)?i.relative(a,e):e})),this._names=o.fromArray(s.map(String),!0),this._sources=o.fromArray(r,!0),this.sourceRoot=a,this.sourcesContent=c,this._mappings=u,this.file=l}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function h(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=i.getArg(t,"version"),r=i.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new o,this._names=new o;var s={line:-1,column:0};this._sections=r.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=i.getArg(e,"offset"),n=i.getArg(t,"line"),r=i.getArg(t,"column");if(n<s.line||n===s.line&&r<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=t,{generatedOffset:{generatedLine:n+1,generatedColumn:r+1},consumer:new c(i.getArg(e,"map"))}}))}c.fromSourceMap=function(e){return u.fromSourceMap(e)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,n){var r,o=t||null;switch(n||c.GENERATED_ORDER){case c.GENERATED_ORDER:r=this._generatedMappings;break;case c.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;r.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=s&&(t=i.join(s,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},c.prototype.allGeneratedPositionsFor=function(e){var t=i.getArg(e,"line"),n={source:i.getArg(e,"source"),originalLine:t,originalColumn:i.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=i.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var o=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var c=a.originalLine;a&&a.originalLine===c;)o.push({line:i.getArg(a,"generatedLine",null),column:i.getArg(a,"generatedColumn",null),lastColumn:i.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var u=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==u;)o.push({line:i.getArg(a,"generatedLine",null),column:i.getArg(a,"generatedColumn",null),lastColumn:i.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return o},t.SourceMapConsumer=c,u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.fromSourceMap=function(e){var t=Object.create(u.prototype),n=t._names=o.fromArray(e._names.toArray(),!0),r=t._sources=o.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),c=t.__generatedMappings=[],h=t.__originalMappings=[],d=0,f=s.length;d<f;d++){var p=s[d],g=new l;g.generatedLine=p.generatedLine,g.generatedColumn=p.generatedColumn,p.source&&(g.source=r.indexOf(p.source),g.originalLine=p.originalLine,g.originalColumn=p.originalColumn,p.name&&(g.name=n.indexOf(p.name)),h.push(g)),c.push(g)}return a(t.__originalMappings,i.compareByOriginalPositions),t},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?i.join(this.sourceRoot,e):e}),this)}}),u.prototype._parseMappings=function(e,t){for(var n,r,o,c,u,h=1,d=0,f=0,p=0,g=0,v=0,m=e.length,y=0,w={},b={},_=[],k=[];y<m;)if(";"===e.charAt(y))h++,y++,d=0;else if(","===e.charAt(y))y++;else{for((n=new l).generatedLine=h,c=y;c<m&&!this._charIsMappingSeparator(e,c);c++);if(o=w[r=e.slice(y,c)])y+=r.length;else{for(o=[];y<c;)s.decode(e,y,b),u=b.value,y=b.rest,o.push(u);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");w[r]=o}n.generatedColumn=d+o[0],d=n.generatedColumn,o.length>1&&(n.source=g+o[1],g+=o[1],n.originalLine=f+o[2],f=n.originalLine,n.originalLine+=1,n.originalColumn=p+o[3],p=n.originalColumn,o.length>4&&(n.name=v+o[4],v+=o[4])),k.push(n),"number"==typeof n.originalLine&&_.push(n)}a(k,i.compareByGeneratedPositionsDeflated),this.__generatedMappings=k,a(_,i.compareByOriginalPositions),this.__originalMappings=_},u.prototype._findMapping=function(e,t,n,i,o,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return r.search(e,t,o,s)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",i.compareByGeneratedPositionsDeflated,i.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var o=i.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),null!=this.sourceRoot&&(o=i.join(this.sourceRoot,o)));var s=i.getArg(r,"name",null);return null!==s&&(s=this._names.at(s)),{source:o,line:i.getArg(r,"originalLine",null),column:i.getArg(r,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=i.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=i.urlParse(this.sourceRoot))){var r=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=i.getArg(e,"source");if(null!=this.sourceRoot&&(t=i.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:i.getArg(e,"line"),originalColumn:i.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,i.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(r>=0){var o=this._originalMappings[r];if(o.source===n.source)return{line:i.getArg(o,"generatedLine",null),column:i.getArg(o,"generatedColumn",null),lastColumn:i.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},h.prototype=Object.create(c.prototype),h.prototype.constructor=c,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},n=r.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},h.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var i=this._sections[n].consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(i.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,s=0;s<o.length;s++){var c=o[s],u=r.consumer._sources.at(c.source);null!==r.consumer.sourceRoot&&(u=i.join(r.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var l=r.consumer._names.at(c.name);this._names.add(l),l=this._names.indexOf(l);var h={source:u,generatedLine:c.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(r.generatedOffset.generatedLine===c.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:l};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}a(this.__generatedMappings,i.compareByGeneratedPositionsDeflated),a(this.__originalMappings,i.compareByOriginalPositions)}},34433:function(e,t,n){var i=n(16400),r=n(32728),o=n(78213).ArraySet,s=n(21188).MappingList;function a(e){e||(e={}),this._file=r.getArg(e,"file",null),this._sourceRoot=r.getArg(e,"sourceRoot",null),this._skipValidation=r.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var i={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(i.source=e.source,null!=t&&(i.source=r.relative(t,i.source)),i.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(i.name=e.name)),n.addMapping(i)})),e.sources.forEach((function(t){var i=e.sourceContentFor(t);null!=i&&n.setSourceContent(t,i)})),n},a.prototype.addMapping=function(e){var t=r.getArg(e,"generated"),n=r.getArg(e,"original",null),i=r.getArg(e,"source",null),o=r.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,i,o),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:i,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=r.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var i=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=e.file}var s=this._sourceRoot;null!=s&&(i=r.relative(s,i));var a=new o,c=new o;this._mappings.unsortedForEach((function(t){if(t.source===i&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=r.join(n,t.source)),null!=s&&(t.source=r.relative(s,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var i=e.sourceContentFor(t);null!=i&&(null!=n&&(t=r.join(n,t)),null!=s&&(t=r.relative(s,t)),this.setSourceContent(t,i))}),this)},a.prototype._validateMapping=function(e,t,n,i){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||i)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:i}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,s=0,a=1,c=0,u=0,l=0,h=0,d="",f=this._mappings.toArray(),p=0,g=f.length;p<g;p++){if(e="",(t=f[p]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(p>0){if(!r.compareByGeneratedPositionsInflated(t,f[p-1]))continue;e+=","}e+=i.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=i.encode(o-h),h=o,e+=i.encode(t.originalLine-1-u),u=t.originalLine-1,e+=i.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=i.encode(n-l),l=n)),d+=e}return d},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=r.relative(t,e));var n=r.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},17085:function(e,t,n){var i=n(34433).SourceMapGenerator,r=n(32728),o=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,n,i,r){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==r?null:r,this[s]=!0,null!=i&&this.add(i)}a.fromStringWithSourceMap=function(e,t,n){var i=new a,s=e.split(o),c=function(){return s.shift()+(s.shift()||"")},u=1,l=0,h=null;return t.eachMapping((function(e){if(null!==h){if(!(u<e.generatedLine)){var t=(n=s[0]).substr(0,e.generatedColumn-l);return s[0]=n.substr(e.generatedColumn-l),l=e.generatedColumn,d(h,t),void(h=e)}d(h,c()),u++,l=0}for(;u<e.generatedLine;)i.add(c()),u++;if(l<e.generatedColumn){var n=s[0];i.add(n.substr(0,e.generatedColumn)),s[0]=n.substr(e.generatedColumn),l=e.generatedColumn}h=e}),this),s.length>0&&(h&&d(h,c()),i.add(s.join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=r.join(n,e)),i.setSourceContent(e,o))})),i;function d(e,t){if(null===e||void 0===e.source)i.add(t);else{var o=n?r.join(n,e.source):e.source;i.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,n=0,i=this.children.length;n<i;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,n,i=this.children.length;if(i>0){for(t=[],n=0;n<i-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[r.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var i=Object.keys(this.sourceContents);for(t=0,n=i.length;t<n;t++)e(r.fromSetString(i[t]),this.sourceContents[i[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new i(e),r=!1,o=null,s=null,a=null,c=null;return this.walk((function(e,i){t.code+=e,null!==i.source&&null!==i.line&&null!==i.column?(o===i.source&&s===i.line&&a===i.column&&c===i.name||n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name}),o=i.source,s=i.line,a=i.column,c=i.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,r=!1);for(var u=0,l=e.length;u<l;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===l?(o=null,r=!1):r&&n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},t.SourceNode=a},32728:function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,i=/^data:.+\,.+$/;function r(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var n=e,i=r(e);if(i){if(!i.path)return e;n=i.path}for(var s,a=t.isAbsolute(n),c=n.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(s=c[l])?c.splice(l,1):".."===s?u++:u>0&&(""===s?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(n=c.join("/"))&&(n=a?"/":"."),i?(i.path=n,o(i)):n}t.urlParse=r,t.urlGenerate=o,t.normalize=s,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=r(t),a=r(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(i))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,o(a)):c},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var i=e.lastIndexOf("/");if(i<0)return t;if((e=e.slice(0,i)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function c(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function l(e,t){return e===t?0:e>t?1:-1}t.toSetString=a?c:function(e){return u(e)?"$"+e:e},t.fromSetString=a?c:function(e){return u(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var i=e.source-t.source;return 0!==i||0!=(i=e.originalLine-t.originalLine)||0!=(i=e.originalColumn-t.originalColumn)||n||0!=(i=e.generatedColumn-t.generatedColumn)||0!=(i=e.generatedLine-t.generatedLine)?i:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var i=e.generatedLine-t.generatedLine;return 0!==i||0!=(i=e.generatedColumn-t.generatedColumn)||n||0!=(i=e.source-t.source)||0!=(i=e.originalLine-t.originalLine)||0!=(i=e.originalColumn-t.originalColumn)?i:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!=(n=e.generatedColumn-t.generatedColumn)||0!==(n=l(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)}},49125:function(e,t,n){t.SourceMapGenerator=n(34433).SourceMapGenerator,t.SourceMapConsumer=n(76771).SourceMapConsumer,t.SourceNode=n(17085).SourceNode},34595:function(e,t,n){var i,r,o;!function(s,a){"use strict";r=[n(59829)],i=function(e){return{backtrace:function(t){var n=[],i=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(i=t.maxStackSize);for(var r=arguments.callee;r&&n.length<i&&r.arguments;){for(var o=new Array(r.arguments.length),s=0;s<o.length;++s)o[s]=r.arguments[s];/function(?:\s+([\w$]+))+\s*\(/.test(r.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:o})):n.push(new e({args:o}));try{r=r.caller}catch(e){break}}return n}}},void 0===(o=i.apply(t,r))||(e.exports=o)}()},59829:function(e,t){var n,i,r;!function(o,s){"use strict";i=[],void 0===(r="function"==typeof(n=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],r=["fileName","functionName","source"],o=n.concat(i,r,["args"],["evalOrigin"]);function s(t){if(t)for(var n=0;n<o.length;n++)void 0!==t[o[n]]&&this["set"+e(o[n])](t[o[n]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",i=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:i?i+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},s.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),i=e.substring(0,t),r=e.substring(t+1,n).split(","),o=e.substring(n+1);if(0===o.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),c=a[1],u=a[2],l=a[3];return new s({functionName:i,args:r||void 0,fileName:c,lineNumber:u||void 0,columnNumber:l||void 0})};for(var a=0;a<n.length;a++)s.prototype["get"+e(n[a])]=t(n[a]),s.prototype["set"+e(n[a])]=function(e){return function(t){this[e]=Boolean(t)}}(n[a]);for(var c=0;c<i.length;c++)s.prototype["get"+e(i[c])]=t(i[c]),s.prototype["set"+e(i[c])]=function(e){return function(t){if(n=t,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(e+" must be a Number");var n;this[e]=Number(t)}}(i[c]);for(var u=0;u<r.length;u++)s.prototype["get"+e(r[u])]=t(r[u]),s.prototype["set"+e(r[u])]=function(e){return function(t){this[e]=String(t)}}(r[u]);return s})?n.apply(t,i):n)||(e.exports=r)}()},64358:function(e,t,n){var i,r,o;!function(s,a){"use strict";r=[n(49125),n(59829)],void 0===(o="function"==typeof(i=function(e,t){function n(e){return new Promise((function(t,n){var i=new XMLHttpRequest;i.open("get",e),i.onerror=n,i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300||"file://"===e.substr(0,7)&&i.responseText?t(i.responseText):n(new Error("HTTP status: "+i.status+" retrieving "+e)))},i.send()}))}function i(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function r(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}return function o(s){if(!(this instanceof o))return new o(s);s=s||{},this.sourceCache=s.sourceCache||{},this.sourceMapConsumerCache=s.sourceMapConsumerCache||{},this.ajax=s.ajax||n,this._atob=s.atob||i,this._get=function(e){return new Promise(function(t,n){var i="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(s.offline&&!i)n(new Error("Cannot make network requests in offline mode"));else if(i){var r=e.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(r){var o=r[0].length,a=e.substr(o),c=this._atob(a);this.sourceCache[e]=c,t(c)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var u=this.ajax(e,{method:"get"});this.sourceCache[e]=u,u.then(t,n)}}.bind(this))},this._getSourceMapConsumer=function(t,n){return new Promise(function(i){if(this.sourceMapConsumerCache[t])i(this.sourceMapConsumerCache[t]);else{var r=new Promise(function(i,r){return this._get(t).then((function(t){"string"==typeof t&&(t=function(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}(t.replace(/^\)\]\}'/,""))),void 0===t.sourceRoot&&(t.sourceRoot=n),i(new e.SourceMapConsumer(t))})).catch(r)}.bind(this));this.sourceMapConsumerCache[t]=r,i(r)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n).catch(n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,i){r(e),this._get(e.fileName).then((function(i){var r=e.lineNumber,o=e.columnNumber,s=function(e,t){for(var n=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],i=e.split("\n"),r="",o=Math.min(t,20),s=0;s<o;++s){var a=i[t-s-1],c=a.indexOf("//");if(c>=0&&(a=a.substr(0,c)),a){r=a+r;for(var u=n.length,l=0;l<u;l++){var h=n[l].exec(r);if(h&&h[1])return h[1]}}}}(i,r);n(s?new t({functionName:s,args:e.args,fileName:e.fileName,lineNumber:r,columnNumber:o}):e)}),i).catch(i)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(n,i){(function(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")})(),r(e);var o=this.sourceCache,s=e.fileName;this._get(s).then(function(i){var r=function(e){for(var t,n,i=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;n=i.exec(e);)t=n[1];if(t)return t;throw new Error("sourceMappingURL not found")}(i),a="data:"===r.substr(0,5),c=s.substring(0,s.lastIndexOf("/")+1);return"/"===r[0]||a||/^https?:\/\/|^\/\//i.test(r)||(r=c+r),this._getSourceMapConsumer(r,c).then((function(i){return function(e,n,i){return new Promise((function(r,o){var s=n.originalPositionFor({line:e.lineNumber,column:e.columnNumber});if(s.source){var a=n.sourceContentFor(s.source);a&&(i[s.source]=a),r(new t({functionName:s.name||e.functionName,args:e.args,fileName:s.source,lineNumber:s.line,columnNumber:s.column}))}else o(new Error("Could not get original source for given stackframe and source map"))}))}(e,i,o).then(n).catch((function(){n(e)}))}))}.bind(this),i).catch(i)}.bind(this))}}})?i.apply(t,r):i)||(e.exports=o)}()},70401:function(e,t,n){var i,r,o;!function(s,a){"use strict";r=[n(79180),n(34595),n(64358)],i=function(e,t,n){var i={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},r=function(){try{throw new Error}catch(e){return e}};function o(e,t){var n={};return[e,t].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n})),n}function s(e){return e.stack||e["opera#sourceloc"]}function a(e,t){return"function"==typeof t?e.filter(t):e}return{get:function(e){var t=r();return s(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(n){n=o(i,n);var c=r();return a(s(c)?e.parse(c):t.backtrace(n),n.filter)},fromError:function(t,r){r=o(i,r);var s=new n(r);return new Promise(function(n){var i=a(e.parse(t),r.filter);n(Promise.all(i.map((function(e){return new Promise((function(t){function n(){t(e)}s.pinpoint(e).then(t,n).catch(n)}))}))))}.bind(this))},generateArtificially:function(e){e=o(i,e);var n=t.backtrace(e);return"function"==typeof e.filter&&(n=n.filter(e.filter)),Promise.resolve(n)},instrument:function(e,t,n,i){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var r=function(){try{return this.get().then(t,n).catch(n),e.apply(i||this,arguments)}catch(e){throw s(e)&&this.fromError(e).then(t,n).catch(n),e}}.bind(this);return r.__stacktraceOriginalFn=e,r},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,t,n,i){return new Promise((function(r,o){var s=new XMLHttpRequest;if(s.onerror=o,s.onreadystatechange=function(){4===s.readyState&&(s.status>=200&&s.status<400?r(s.responseText):o(new Error("POST to "+t+" failed with status: "+s.status)))},s.open("post",t),s.setRequestHeader("Content-Type","application/json"),i&&"object"==typeof i.headers){var a=i.headers;for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&s.setRequestHeader(c,a[c])}var u={stack:e};null!=n&&(u.message=n),s.send(JSON.stringify(u))}))}}},void 0===(o=i.apply(t,r))||(e.exports=o)}()},27164:function(e,t,n){"use strict";var i,r=n(10396);e=n.hmd(e),i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e;var o=(0,r.default)(i);t.default=o},10396:function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,{default:function(){return i}})},70655:function(e,t,n){"use strict";function i(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}n.d(t,{__rest:function(){return i}})},42238:function(e,t,n){var i;!function(r,o){"use strict";var s="function",a="object",c="model",u="name",l="type",h="vendor",d="version",f="architecture",p="console",g="mobile",v="tablet",m="smarttv",y="wearable",w={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},b={rgx:function(e,t){for(var n,i,r,c,u,l,h=0;h<t.length&&!u;){var d=t[h],f=t[h+1];for(n=i=0;n<d.length&&!u;)if(u=d[n++].exec(e))for(r=0;r<f.length;r++)l=u[++i],typeof(c=f[r])===a&&c.length>0?2==c.length?typeof c[1]==s?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3==c.length?typeof c[1]!==s||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):o:this[c[0]]=l?c[1].call(this,l,c[2]):o:4==c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):o):this[c]=l||o;h+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===a&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(w.has(t[n][i],e))return"?"===n?o:n}else if(w.has(t[n],e))return"?"===n?o:n;return e}},_={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},k={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,d],[/(opios)[\/\s]+([\w\.]+)/i],[[u,"Opera Mini"],d],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],d],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[u,d],[/(konqueror)\/([\w\.]+)/i],[[u,"Konqueror"],d],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[u,"IE"],d],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[u,"Edge"],d],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],d],[/(Avast)\/([\w\.]+)/i],[[u,"Avast Secure Browser"],d],[/(AVG)\/([\w\.]+)/i],[[u,"AVG Secure Browser"],d],[/(puffin)\/([\w\.]+)/i],[[u,"Puffin"],d],[/(focus)\/([\w\.]+)/i],[[u,"Firefox Focus"],d],[/(opt)\/([\w\.]+)/i],[[u,"Opera Touch"],d],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[u,"UCBrowser"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],d],[/(windowswechat qbcore)\/([\w\.]+)/i],[[u,"WeChat(Win) Desktop"],d],[/(micromessenger)\/([\w\.]+)/i],[[u,"WeChat"],d],[/(brave)\/([\w\.]+)/i],[[u,"Brave"],d],[/(whale)\/([\w\.]+)/i],[[u,"Whale"],d],[/(qqbrowserlite)\/([\w\.]+)/i],[u,d],[/(QQ)\/([\d\.]+)/i],[u,d],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[u,d],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[u,d],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[u,d],[/(MetaSr)[\/\s]?([\w\.]+)/i],[u],[/(LBBROWSER)/i],[u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[d,[u,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[d,[u,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[u,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[u,d],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[d,[u,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,/(.+)/,"$1 WebView"],d],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[u,/(.+(?:g|us))(.+)/,"$1 $2"],d],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[d,[u,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[u,"Sailfish Browser"],d],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[u,d],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],d],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[u,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],d],[/(coast)\/([\w\.]+)/i],[[u,"Opera Coast"],d],[/fxios\/([\w\.-]+)/i],[d,[u,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[d,[u,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[d,u],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[u,"GSA"],d],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[d,b.str,_.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[u,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],d],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[f,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[f,w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[c,h,[l,v]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[h,"Apple"],[l,v]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[h,"Apple"],[l,m]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,c,[l,v]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[c,[h,"Amazon"],[l,v]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[c,b.str,_.device.amazon.model],[h,"Amazon"],[l,g]],[/android.+aft([bms])\sbuild/i],[c,[h,"Amazon"],[l,m]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,h,[l,g]],[/\((ip[honed|\s\w*]+);/i],[c,[h,"Apple"],[l,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,c,[l,g]],[/\(bb10;\s(\w+)/i],[c,[h,"BlackBerry"],[l,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[c,[h,"Asus"],[l,v]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[h,"Sony"],[c,"Xperia Tablet"],[l,v]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[h,"Sony"],[l,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[h,c,[l,p]],[/android.+;\s(shield)\sbuild/i],[c,[h,"Nvidia"],[l,p]],[/(playstation\s[34portablevi]+)/i],[c,[h,"Sony"],[l,p]],[/(sprint\s(\w+))/i],[[h,b.str,_.device.sprint.vendor],[c,b.str,_.device.sprint.model],[l,g]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[c,/_/g," "],[l,g]],[/(nexus\s9)/i],[c,[h,"HTC"],[l,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[c,[h,"Huawei"],[l,g]],[/android.+(bah2?-a?[lw]\d{2})/i],[c,[h,"Huawei"],[l,v]],[/(microsoft);\s(lumia[\s\w]+)/i],[h,c,[l,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[h,"Microsoft"],[l,p]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,"Microsoft"],[l,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[h,"Motorola"],[l,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[h,"Motorola"],[l,v]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,w.trim],[c,w.trim],[l,m]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,"Samsung"],[l,m]],[/\(dtv[\);].+(aquos)/i],[c,[h,"Sharp"],[l,m]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],c,[l,v]],[/smart-tv.+(samsung)/i],[h,[l,m],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[h,"Samsung"],c,[l,g]],[/sie-(\w*)/i],[c,[h,"Siemens"],[l,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[h,"Nokia"],c,[l,g]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[h,"Acer"],[l,v]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[h,"LG"],[l,v]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],c,[l,v]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[h,"LG"],c,[l,m]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[h,"LG"],[l,g]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[h,c,[l,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[h,"Lenovo"],[l,v]],[/(lenovo)[_\s-]?([\w-]+)/i],[h,c,[l,g]],[/linux;.+((jolla));/i],[h,c,[l,g]],[/((pebble))app\/[\d\.]+\s/i],[h,c,[l,y]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,c,[l,g]],[/crkey/i],[[c,"Chromecast"],[h,"Google"],[l,m]],[/android.+;\s(glass)\s\d/i],[c,[h,"Google"],[l,y]],[/android.+;\s(pixel c)[\s)]/i],[c,[h,"Google"],[l,v]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[c,[h,"Google"],[l,g]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[c,/_/g," "],[h,"Xiaomi"],[l,g]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[c,/_/g," "],[h,"Xiaomi"],[l,v]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[h,"Meizu"],[l,g]],[/(mz)-([\w-]{2,})/i],[[h,"Meizu"],c,[l,g]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[c,[h,"OnePlus"],[l,g]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[h,"RCA"],[l,v]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[c,[h,"Dell"],[l,v]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[h,"Verizon"],[l,v]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[h,"Barnes & Noble"],c,[l,v]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[h,"NuVision"],[l,v]],[/android.+;\s(k88)\sbuild/i],[c,[h,"ZTE"],[l,v]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[h,"Swiss"],[l,g]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[h,"Swiss"],[l,v]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[h,"Zeki"],[l,v]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[h,"Dragon Touch"],c,[l,v]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[h,"Insignia"],[l,v]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[h,"NextBook"],[l,v]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[h,"Voice"],c,[l,g]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[h,"LvTel"],c,[l,g]],[/android.+;\s(PH-1)\s/i],[c,[h,"Essential"],[l,g]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[h,"Envizen"],[l,v]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[h,c,[l,v]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[c,[h,"MachSpeed"],[l,v]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[h,c,[l,v]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[h,"Rotor"],[l,v]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[h,c,[l,v]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[c,[l,g]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[c,[l,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[l,w.lowerize],h,c],[/[\s\/\(](smart-?tv)[;\)]/i],[[l,m]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[h,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,d],[/rv\:([\w\.]{1,9}).+(gecko)/i],[d,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[d,b.str,_.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[d,b.str,_.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],d],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[u,d],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[u,"Symbian"],d],[/\((series40);/i],[u],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],d],[/crkey\/([\d\.]+)/i],[d,[u,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[u,d],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],d],[/(sunos)\s?([\w\.\d]*)/i],[[u,"Solaris"],d],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[u,d],[/(haiku)\s(\w+)/i],[u,d],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[d,/_/g,"."],[u,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[d,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[u,d]]},E=function(e,t){if("object"==typeof e&&(t=e,e=o),!(this instanceof E))return new E(e,t).getResult();var n=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=t?w.extend(k,t):k;return this.getBrowser=function(){var e={name:o,version:o};return b.rgx.call(e,n,i.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:o};return b.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return b.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:o,version:o};return b.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:o,version:o};return b.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};E.VERSION="0.7.23",E.BROWSER={NAME:u,MAJOR:"major",VERSION:d},E.CPU={ARCHITECTURE:f},E.DEVICE={MODEL:c,VENDOR:h,TYPE:l,CONSOLE:p,MOBILE:g,SMARTTV:m,TABLET:v,WEARABLE:y,EMBEDDED:"embedded"},E.ENGINE={NAME:u,VERSION:d},E.OS={NAME:u,VERSION:d},void 0!==t?(e.exports&&(t=e.exports=E),t.UAParser=E):(i=function(){return E}.call(t,n,t,e))===o||(e.exports=i);var S=r&&(r.jQuery||r.Zepto);if(S&&!S.ua){var T=new E;S.ua=T.getResult(),S.ua.get=function(){return T.getUA()},S.ua.set=function(e){T.setUA(e);var t=T.getResult();for(var n in t)S.ua[n]=t[n]}}}("object"==typeof window?window:this)},38264:function(e,t,n){var i,r,o,s,a;i=void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,r=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),o=function(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t},s=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},a=function(e){return decodeURIComponent(e).replace(/\+/g," ")},"URLSearchParams"in i&&"a=1"===new URLSearchParams("?a=1").toString()||function(){var e=function(t){if(Object.defineProperty(this,"_entries",{value:{}}),"string"==typeof t){if(""!==t)for(var n,i=(t=t.replace(/^\?/,"")).split("&"),r=0;r<i.length;r++)n=i[r].split("="),this.append(a(n[0]),n.length>1?a(n[1]):"")}else if(t instanceof e){var o=this;t.forEach((function(e,t){o.append(e,t)}))}},t=e.prototype;t.append=function(e,t){e in this._entries?this._entries[e].push(t.toString()):this._entries[e]=[t.toString()]},t.delete=function(e){delete this._entries[e]},t.get=function(e){return e in this._entries?this._entries[e][0]:null},t.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},t.has=function(e){return e in this._entries},t.set=function(e,t){this._entries[e]=[t.toString()]},t.forEach=function(e,t){var n;for(var i in this._entries)if(this._entries.hasOwnProperty(i)){n=this._entries[i];for(var r=0;r<n.length;r++)e.call(t,n[r],i,this)}},t.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),o(e)},t.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),o(e)},t.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),o(e)},r&&(t[Symbol.iterator]=t.entries),t.toString=function(){var e=[];return this.forEach((function(t,n){e.push(s(n)+"="+s(t))})),e.join("&")},i.URLSearchParams=e}(),function(e){if(function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(e){return!1}}()||function(){var t=e.URL,n=function(t,n){"string"!=typeof t&&(t=String(t));var i,r=document;if(n&&(void 0===e.location||n!==e.location.href)){(i=(r=document.implementation.createHTMLDocument("")).createElement("base")).href=n,r.head.appendChild(i);try{if(0!==i.href.indexOf(n))throw new Error(i.href)}catch(e){throw new Error("URL unable to set base "+n+" due to "+e)}}var o=r.createElement("a");if(o.href=t,i&&(r.body.appendChild(o),o.href=o.href),":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o})},i=n.prototype;["hash","host","hostname","port","protocol","search"].forEach((function(e){!function(e){Object.defineProperty(i,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})}(e)})),Object.defineProperties(i,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0},searchParams:{get:function(){var e=new URLSearchParams(this.search),t=this;return["append","delete","set"].forEach((function(n){var i=e[n];e[n]=function(){i.apply(e,arguments),t.search=e.toString()}})),e},enumerable:!0}}),n.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=n}(),void 0!==e.location&&!("origin"in e.location)){var t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(n){setInterval((function(){e.location.origin=t()}),100)}}}(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)},45327:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var i=n||0,r=t;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},85217:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},71171:function(e,t,n){var i=n(85217),r=n(45327);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||r(s)}},66470:function(){},98374:function(){},53885:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},9167:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},14771:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},70335:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},87556:function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},74008:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},55254:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},89820:function(e,t,n){var i=n(41371);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},28933:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},45610:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},70761:function(e,t,n){var i=n(88030).default,r=n(14771);e.exports=function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},41371:function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},70553:function(e,t,n){var i=n(9167),r=n(28933),o=n(2499),s=n(45610);e.exports=function(e,t){return i(e)||r(e,t)||o(e,t)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},88030:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2499:function(e,t,n){var i=n(53885);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},65609:function(e){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,n){return l=u()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&c(r,n.prototype),r},l.apply(null,arguments)}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return l(e,arguments,a(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),c(i,e)},h(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}var p={loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",multiSeparator:"+",allowMultiLoading:!1,parse:JSON.parse,stringify:JSON.stringify,requestOptions:{}},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(l,e);var t,n,r=(t=l,n=u(),function(){var e,i=a(t);if(n){var r=a(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return f(this,e)});function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i(this,l),s(d(t=r.call(this,e)),"retry",null),t.retry=n,t}return o(l)}(h(Error)),v=function(){function e(t,n){i(this,e),s(this,"type","backend"),this.init(t,n)}return o(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=n(n(n({fetch:"undefined"!=typeof fetch?fetch:void 0},p),this.options),t)}},{key:"getLoadPath",value:function(e,t){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return"function"==typeof e?e.apply(void 0,n):e}(this.options.loadPath,e,t)}},{key:"read",value:function(e,t,n){var i=this.getLoadPath(e,t),r=this.services.interpolator.interpolate(i,{lng:e,ns:t});this.loadUrl(r,n)}},{key:"readMulti",value:function(e,t,n){var i=this.getLoadPath(e,t),r=this.options.multiSeparator,o=this.services.interpolator.interpolate(i,{lng:e.join(r),ns:t.join(r)});this.loadUrl(o,n)}},{key:"loadUrl",value:function(e,t){var n=this.options,i=n.fetch,r=n.requestOptions,o=n.parse;i(e,r).then((function(t){var n=t.ok,i=t.status;if(!n){var r=i>=500&&i<600;throw new g("failed loading ".concat(e),r)}return t.text()}),(function(){throw new g("failed loading ".concat(e))})).then((function(n){try{return t(null,o(n,e))}catch(t){throw new g("failed parsing ".concat(e," to json"),!1)}})).catch((function(e){e instanceof g&&t(e.message,e.retry)}))}},{key:"create",value:function(e,t,i,r){var o,a=this,c=s({},i,r||"");(o=e,Array.isArray(o)?o:[o]).forEach((function(e){var i=a.options,r=i.addPath,o=i.requestOptions,s=i.fetch,u=i.stringify,l=a.services.interpolator.interpolate(r,{lng:e,ns:t});try{s(l,n({method:"POST",body:u(c)},o))}catch(e){console.error(e)}}))}}]),e}();s(v,"type","backend"),e.exports=v},88541:function(e,t,n){"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}n.d(t,{default:function(){return i}})},84840:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});var i=n(65859);function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,i.default)(e,t)}},65859:function(e,t,n){"use strict";function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}n.d(t,{default:function(){return i}})},65326:function(e,t,n){"use strict";n.d(t,{__assign:function(){return o},__extends:function(){return r},__spreadArray:function(){return s}});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function s(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},87462:function(e,t,n){"use strict";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}n.d(t,{default:function(){return i}})},94578:function(e,t,n){"use strict";function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,{default:function(){return i}})},63366:function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,{default:function(){return i}})},94037:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{default:function(){return i}})},51297:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{default:function(){return r}})},84093:function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,n){return d=h()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&l(r,n.prototype),r},d.apply(null,arguments)}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return d(e,arguments,u(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),l(i,e)},f(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}n.d(t,{default:function(){return y}});var v={loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",multiSeparator:"+",allowMultiLoading:!1,parse:JSON.parse,stringify:JSON.stringify,requestOptions:{}},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(r,e);var t,n,i=(t=r,n=h(),function(){var e,i=u(t);if(n){var r=u(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return g(this,e)});function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o(this,r),c(p(t=i.call(this,e)),"retry",null),t.retry=n,t}return a(r)}(f(Error)),y=function(){function e(t,n){o(this,e),c(this,"type","backend"),this.init(t,n)}return a(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=r(r(r({fetch:"undefined"!=typeof fetch?fetch:void 0},v),this.options),t)}},{key:"getLoadPath",value:function(e,t){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return"function"==typeof e?e.apply(void 0,n):e}(this.options.loadPath,e,t)}},{key:"read",value:function(e,t,n){var i=this.getLoadPath(e,t),r=this.services.interpolator.interpolate(i,{lng:e,ns:t});this.loadUrl(r,n)}},{key:"readMulti",value:function(e,t,n){var i=this.getLoadPath(e,t),r=this.options.multiSeparator,o=this.services.interpolator.interpolate(i,{lng:e.join(r),ns:t.join(r)});this.loadUrl(o,n)}},{key:"loadUrl",value:function(e,t){var n=this.options,i=n.fetch,r=n.requestOptions,o=n.parse;i(e,r).then((function(t){var n=t.ok,i=t.status;if(!n){var r=i>=500&&i<600;throw new m("failed loading ".concat(e),r)}return t.text()}),(function(){throw new m("failed loading ".concat(e))})).then((function(n){try{return t(null,o(n,e))}catch(t){throw new m("failed parsing ".concat(e," to json"),!1)}})).catch((function(e){e instanceof m&&t(e.message,e.retry)}))}},{key:"create",value:function(e,t,n,i){var o,s=this,a=c({},n,i||"");(o=e,Array.isArray(o)?o:[o]).forEach((function(e){var n=s.options,i=n.addPath,o=n.requestOptions,c=n.fetch,u=n.stringify,l=s.services.interpolator.interpolate(i,{lng:e,ns:t});try{c(l,r({method:"POST",body:u(a)},o))}catch(e){console.error(e)}}))}}]),e}();c(y,"type","backend")},36609:function(e,t,n){"use strict";var i=n(47680),r=n(72893),o=n(5744),s=n(57705),a=n(61836),c=n(46047),u=n(71366),l=n(96739),h=n(4865);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(this,e),this.init(t,n)}return(0,o.default)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||p,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,f(f({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),v=new g,m=function(){function e(){(0,r.default)(this,e),this.observers={}}return(0,o.default)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function y(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function w(e){return null==e?"":""+e}function b(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function _(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var s=i(o.shift());!e[s]&&n&&(e[s]=new n),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return r()?{}:{obj:e,k:i(o.shift())}}function k(e,t,n){var i=_(e,t,Object);i.obj[i.k]=n}function E(e,t){var n=_(e,t),i=n.obj,r=n.k;if(i)return i[r]}function S(e,t,n){var i=E(e,n);return void 0!==i?i:E(t,n)}function T(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):T(e[i],t[i],n):e[i]=t[i]);return e}function P(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function x(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return C[e]})):e}var I="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,R=[" ",",","?","!",";"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var i=t.split(n),r=e,o=0;o<i.length;++o){if(!r)return;if("string"==typeof r[i[o]]&&o+1<i.length)return;if(void 0===r[i[o]]){for(var s=2,a=i.slice(o,o+s).join(n),c=r[a];void 0===c&&i.length>o+s;)s++,c=r[a=i.slice(o,o+s).join(n)];if(void 0===c)return;if(t.endsWith(a)){if("string"==typeof c)return c;if(a&&"string"==typeof c[a])return c[a]}var u=i.slice(o+s).join(n);return u?$(c,u,n):void 0}r=r[i[o]]}return r}}var L=function(e){(0,a.default)(l,e);var t,n,i=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,u.default)(t);if(n){var r=(0,u.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,c.default)(this,e)});function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,r.default)(this,l),t=i.call(this),I&&m.call((0,s.default)(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return(0,o.default)(l,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[e,t];n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(s=e.split("."));var a=E(this.data,s);return a||!o||"string"!=typeof n?a:$(this.data&&this.data[e]&&this.data[e][t],n,r)}},{key:"addResource",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=t,t=(s=e.split("."))[1]),this.addNamespaces(t),k(this.data,s,i),r.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var a=E(this.data,s)||{};i?T(a,n,r):a=A(A({},a),n),k(this.data,s,a),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?A(A({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),l}(m),M={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,r){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,i,r))})),t}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={},F=function(e){(0,a.default)(h,e);var t,n,l=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,u.default)(t);if(n){var r=(0,u.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,c.default)(this,e)});function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.default)(this,h),t=l.call(this),I&&m.call((0,s.default)(t)),b(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,(0,s.default)(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=v.create("translator"),t}return(0,o.default)(h,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var i=R.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===i.length)return!0;var r=new RegExp("(".concat(i.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!r.test(e);if(!o){var s=e.indexOf(n);s>0&&!r.test(e.substring(0,s))&&(o=!0)}return o}(e,n,i));if(o&&!s){var a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:e,namespaces:r};var c=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),e=c.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,t,n){var r=this;if("object"!==(0,i.default)(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),a=s.key,c=s.namespaces,u=c[c.length-1],l=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(d){var f=t.nsSeparator||this.options.nsSeparator;return u+f+a}return a}var p=this.resolve(e,t),g=p&&p.res,v=p&&p.usedKey||a,m=p&&p.exactUsedKey||a,y=Object.prototype.toString.apply(g),w=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(_&&g&&k&&w.indexOf(y)<0&&("string"!=typeof b||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,g,D(D({},t),{},{ns:c})):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(o){var E="[object Array]"===y,S=E?[]:{},T=E?m:v;for(var P in g)if(Object.prototype.hasOwnProperty.call(g,P)){var C="".concat(T).concat(o).concat(P);S[P]=this.translate(C,D(D({},t),{joinArrays:!1,ns:c})),S[P]===C&&(S[P]=g[P])}g=S}}else if(_&&"string"==typeof b&&"[object Array]"===y)(g=g.join(b))&&(g=this.extendTranslation(g,e,t,n));else{var x=!1,I=!1,R=void 0!==t.count&&"string"!=typeof t.count,O=h.hasDefaultValue(t),A=R?this.pluralResolver.getSuffix(l,t.count,t):"",$=t["defaultValue".concat(A)]||t.defaultValue;!this.isValidLookup(g)&&O&&(x=!0,g=$),this.isValidLookup(g)||(I=!0,g=a);var L=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,M=L&&I?void 0:g,j=O&&$!==g&&this.options.updateMissing;if(I||x||j){if(this.logger.log(j?"updateKey":"missingKey",l,u,a,j?$:g),o){var N=this.resolve(a,D(D({},t),{},{keySeparator:!1}));N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var F=[],B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&B&&B[0])for(var U=0;U<B.length;U++)F.push(B[U]);else"all"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(t.lng||this.language):F.push(t.lng||this.language);var z=function(e,n,i){var o=O&&i!==g?i:M;r.options.missingKeyHandler?r.options.missingKeyHandler(e,u,n,o,j,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,u,n,o,j,t),r.emit("missingKey",e,u,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?F.forEach((function(e){r.pluralResolver.getSuffixes(e,t).forEach((function(n){z([e],a+n,t["defaultValue".concat(n)]||$)}))})):z(F,a,$))}g=this.extendTranslation(g,e,t,p,n),I&&g===a&&this.options.appendNamespaceToMissingKey&&(g="".concat(u,":").concat(a)),(I||x)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(a,x?g:void 0):this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function(e,t,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,D(D({},this.options.interpolation.defaultVariables),n),i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(D(D({},n),{interpolation:D(D({},this.options.interpolation),n.interpolation)}));var s,a="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(a){var c=e.match(this.interpolator.nestingRegexp);s=c&&c.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=D(D({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),a){var l=e.match(this.interpolator.nestingRegexp);s<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return r&&r[0]===i[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):o.translate.apply(o,i.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,d="string"==typeof h?[h]:h;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=M.handle(d,e,t,this.options&&this.options.postProcessPassResolved?D({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,r,o,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var c=s.extractFromKey(e,a),u=c.key;n=u;var l=c.namespaces;s.options.fallbackNS&&(l=l.concat(s.options.fallbackNS));var h=void 0!==a.count&&"string"!=typeof a.count,d=h&&!a.ordinal&&0===a.count&&s.pluralResolver.shouldUseIntlApi(),f=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);l.forEach((function(e){s.isValidLookup(t)||(o=e,!N["".concat(p[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(o)&&(N["".concat(p[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!s.isValidLookup(t)){r=n;var o,c=[u];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(c,u,n,e,a);else{var l;h&&(l=s.pluralResolver.getSuffix(n,a.count,a));var p="_zero";if(h&&(c.push(u+l),d&&c.push(u+p)),f){var g="".concat(u).concat(s.options.contextSeparator).concat(a.context);c.push(g),h&&(c.push(g+l),d&&c.push(g+p))}}for(;o=c.pop();)s.isValidLookup(t)||(i=o,t=s.getResource(n,e,o,a))}})))}))}})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),h}(m);function B(e){return e.charAt(0).toUpperCase()+e.slice(1)}var U=function(){function e(t){(0,r.default)(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=v.create("languageUtils")}return(0,o.default)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=B(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=B(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=B(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),i.forEach((function(e){r.indexOf(e)<0&&o(n.formatLanguageCode(e))})),r}}]),e}(),z=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],H={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},V=["v1","v2","v3"],G={zero:0,one:1,two:2,few:3,many:4,other:5};function W(){var e={};return z.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:H[t.fc]}}))})),e}var q=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(this,e),this.languageUtils=t,this.options=n,this.logger=v.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=W()}return(0,o.default)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((function(e,t){return G[e]-G[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):i.numbers.map((function(i){return t.getSuffix(e,i,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(t)):this.getSuffixRetroCompatible(i,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[i];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var o=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function(){return!V.includes(this.options.compatibilityJSON)}}]),e}();function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,e),this.logger=v.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,o.default)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:x,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?P(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?P(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?P(t.nestingPrefix):t.nestingPrefixEscaped||P("$t("),this.nestingSuffix=t.nestingSuffix?P(t.nestingSuffix):t.nestingSuffixEscaped||P(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var r,o,s,a=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(a.formatSeparator)<0){var r=S(t,c,e);return a.alwaysFormat?a.format(r,void 0,n,K(K(K({},i),t),{},{interpolationkey:e})):r}var o=e.split(a.formatSeparator),s=o.shift().trim(),u=o.join(a.formatSeparator).trim();return a.format(S(t,c,s),u,n,K(K(K({},i),t),{},{interpolationkey:s}))};this.resetRegExp();var h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?u(a.escape(e)):u(e)}}].forEach((function(t){for(s=0;r=t.regex.exec(e);){var n=r[1].trim();if(void 0===(o=l(n)))if("function"==typeof h){var c=h(e,r,i);o="string"==typeof c?c:""}else if(i&&i.hasOwnProperty(n))o="";else{if(d){o=r[0];continue}a.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"==typeof o||a.useRawValueToEscape||(o=w(o));var u=t.safeValue(o);if(e=e.replace(r[0],u),d?(t.regex.lastIndex+=u.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++s>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,i,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=K({},o);function a(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(i[1]);e=i[0],r=(r=this.interpolate(r,s)).replace(/'/g,'"');try{s=JSON.parse(r),t&&(s=K(K({},t),s))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(r)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),c=l,u=!0}if((i=t(a.call(this,n[1].trim(),s),s))&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=w(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),u&&(i=c.reduce((function(e,t){return r.format(e,t,o.lng,K(K({},o),{},{interpolationkey:n[1].trim()}))}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}();function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,e),this.logger=v.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,J(J({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,J({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,J({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,J({},n)).format(e)}},this.init(t)}return(0,o.default)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,i){var r=this;return t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var i=e.split("(");t=i[0].toLowerCase().trim();var r=i[1].substring(0,i[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((function(e){if(e){var t=e.split(":"),i=(0,h.default)(t),r=i[0],o=i.slice(1).join(":");n[r.trim()]||(n[r.trim()]=o.trim()),"false"===o.trim()&&(n[r.trim()]=!1),"true"===o.trim()&&(n[r.trim()]=!0),isNaN(o.trim())||(n[r.trim()]=parseInt(o.trim(),10))}}))}return{formatName:t,formatOptions:n}}(t),s=o.formatName,a=o.formatOptions;if(r.formats[s]){var c=e;try{var u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},l=u.locale||u.lng||i.locale||i.lng||n;c=r.formats[s](e,l,J(J(J({},a),i),u))}catch(e){r.logger.warn(e)}return c}return r.logger.warn("there was no format function for ".concat(s)),e}),e)}}]),e}();function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){(0,a.default)(l,e);var t,n,i=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,u.default)(t);if(n){var r=(0,u.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,c.default)(this,e)});function l(e,t,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,r.default)(this,l),o=i.call(this),I&&m.call((0,s.default)(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=a,o.logger=v.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,a.backend,a),o}return(0,o.default)(l,[{key:"queueLoad",value:function(e,t,n,i){var r=this,o=[],s=[],a=[],c=[];return e.forEach((function(e){var i=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?s.indexOf(a)<0&&s.push(a):(r.state[a]=1,i=!1,s.indexOf(a)<0&&s.push(a),o.indexOf(a)<0&&o.push(a),c.indexOf(t)<0&&c.push(t)))})),i||a.push(e)})),(o.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:i}),{toLoad:o,pending:s,toLoadLanguages:a,toLoadNamespaces:c}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){var i,a,c,u,l;i=n.loaded,a=o,(u=(c=_(i,[r],Object)).obj)[l=c.k]=u[l]||[],u[l].push(a),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(a,c){a&&c&&r<5?setTimeout((function(){i.read.call(i,e,t,n,r+1,2*o,s)}),o):s(a,c)})):s(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,i,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],o=i[1];this.read(r,o,"read",void 0,void 0,(function(i,s){i&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(r," failed"),i),!i&&s&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(r),s),t.loaded(e,i,s)}))}},{key:"saveMissing",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,te(te({},o),{},{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),l}(m);function ie(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===(0,i.default)(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===(0,i.default)(e[2])||"object"===(0,i.default)(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function re(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(){}function ce(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var ue=function(e){(0,a.default)(h,e);var t,n,l=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,u.default)(t);if(n){var r=(0,u.default)(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(0,c.default)(this,e)});function h(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if((0,r.default)(this,h),e=l.call(this),I&&m.call((0,s.default)(e)),e.options=re(t),e.services={},e.logger=v,e.modules={external:[]},ce((0,s.default)(e)),n&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,n),(0,c.default)(e,(0,s.default)(e));setTimeout((function(){e.init(t,n)}),0)}return e}return(0,o.default)(h,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var i=ie();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options=se(se(se({},i),this.options),re(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=se(se({},i.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?v.init(r(this.modules.logger),this.options):v.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=Q);var s=new U(this.options);this.store=new L(this.options.resources,this.options);var a=this.services;a.logger=v,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new q(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(a.formatter=r(o),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new X(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new ne(r(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(a.languageDetector=r(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=r(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new F(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=ae),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var l=["addResource","addResources","addResourceBundle","removeResourceBundle"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var h=y(),d=function(){var t=function(t,i){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),h.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),h}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae,i=n,r="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return i();var o=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(r)s(r);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(e){return s(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),i(e)}))}else i(null)}},{key:"reloadResources",value:function(e,t,n){var i=y();return e||(e=this.languages),t||(t=this.options.ns),n||(n=ae),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),n(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&M.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=y();this.emit("languageChanging",e);var r=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var s="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);s&&(n.language||r(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,o){o?(r(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t,n){var r=this,o=function e(t,o){var s;if("object"!==(0,i.default)(o)){for(var a=arguments.length,c=new Array(a>2?a-2:0),u=2;u<a;u++)c[u-2]=arguments[u];s=r.options.overloadTranslationOptionHandler([t,o].concat(c))}else s=se({},o);s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns;var l=r.options.keySeparator||".",h=n?"".concat(n).concat(l).concat(t):t;return r.t(h,s)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var s=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!(!this.hasResourceBundle(i,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!s(i,e)||r&&!s(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=y();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=y();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],r=e.filter((function(e){return i.indexOf(e)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae,i=se(se(se({},this.options),t),{isClone:!0}),r=new h(i),o=["store","services","language"];return o.forEach((function(t){r[t]=e[t]})),r.services=se({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r.translator=new F(r.services,r.options),r.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit.apply(r,[e].concat(n))})),r.init(i,n),r.translator.options=r.options,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),h}(m);(0,l.default)(ue,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new ue(e,t)}));var le=ue.createInstance();le.createInstance=ue.createInstance,le.createInstance,le.init,le.loadResources,le.reloadResources,le.use,le.changeLanguage,le.getFixedT,le.t,le.exists,le.setDefaultNamespace,le.hasLoadedNamespace,le.loadNamespaces,le.loadLanguages,t.default=le},8673:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{default:function(){return i}})},28086:function(e,t,n){"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,{default:function(){return i}})},57705:function(e,t,n){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{default:function(){return i}})},72893:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{default:function(){return i}})},5744:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{default:function(){return r}})},96739:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{default:function(){return i}})},71366:function(e,t,n){"use strict";function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}n.d(t,{default:function(){return i}})},61836:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});var i=n(27826);function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,i.default)(e,t)}},35933:function(e,t,n){"use strict";function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{default:function(){return i}})},10310:function(e,t,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{default:function(){return i}})},46047:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var i=n(47680),r=n(57705);function o(e,t){if(t&&("object"===(0,i.default)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.default)(e)}},27826:function(e,t,n){"use strict";function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}n.d(t,{default:function(){return i}})},4865:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var i=n(28086),r=n(35933),o=n(63257),s=n(10310);function a(e){return(0,i.default)(e)||(0,r.default)(e)||(0,o.default)(e)||(0,s.default)()}},47680:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{default:function(){return i}})},63257:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});var i=n(8673);function r(e,t){if(e){if("string"==typeof e)return(0,i.default)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.default)(e,t):void 0}}},18903:function(e,t,n){"use strict";n.d(t,{arrowBackSharp:function(){return i},caretBackSharp:function(){return r},chevronBack:function(){return o},chevronForward:function(){return s},close:function(){return a},closeCircle:function(){return c},closeSharp:function(){return u},menuOutline:function(){return l},menuSharp:function(){return h},reorderThreeOutline:function(){return d},reorderTwoSharp:function(){return f},searchOutline:function(){return p},searchSharp:function(){return g}});const i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Three</title><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Two</title><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},38085:function(e,t,n){"use strict";n.d(t,{onCLS:function(){return P},onFID:function(){return L},onLCP:function(){return D}});var i,r,o,s,a=-1,c=function(e){addEventListener("pageshow",(function(t){t.persisted&&(a=t.timeStamp,e(t))}),!0)},u=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},l=function(){var e=u();return e&&e.activationStart||0},h=function(e,t){var n=u(),i="navigate";return a>=0?i="back-forward-cache":n&&(i=document.prerendering||l()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},d=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},f=function(e,t,n,i){var r,o;return function(s){t.value>=0&&(s||i)&&((o=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},p=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},g=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},v=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},m=-1,y=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},w=function(e){"hidden"===document.visibilityState&&m>-1&&(m="visibilitychange"===e.type?e.timeStamp:0,_())},b=function(){addEventListener("visibilitychange",w,!0),addEventListener("prerenderingchange",w,!0)},_=function(){removeEventListener("visibilitychange",w,!0),removeEventListener("prerenderingchange",w,!0)},k=function(){return m<0&&(m=y(),b(),c((function(){setTimeout((function(){m=y(),b()}),0)}))),{get firstHiddenTime(){return m}}},E=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},S=[1800,3e3],T=[.1,.25],P=function(e,t){t=t||{},function(e,t){t=t||{},E((function(){var n,i=k(),r=h("FCP"),o=d("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-l(),0),r.entries.push(e),n(!0)))}))}));o&&(n=f(e,r,S,t.reportAllChanges),c((function(i){r=h("FCP"),n=f(e,r,S,t.reportAllChanges),p((function(){r.value=performance.now()-i.timeStamp,n(!0)}))})))}))}(v((function(){var n,i=h("CLS",0),r=0,o=[],s=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=o[0],n=o[o.length-1];r&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,o.push(e)):(r=e.value,o=[e])}})),r>i.value&&(i.value=r,i.entries=o,n())},a=d("layout-shift",s);a&&(n=f(e,i,T,t.reportAllChanges),g((function(){s(a.takeRecords()),n(!0)})),c((function(){r=0,i=h("CLS",0),n=f(e,i,T,t.reportAllChanges),p((function(){return n()}))})),setTimeout(n,0))})))},C={passive:!0,capture:!0},x=new Date,I=function(e,t){i||(i=t,r=e,o=new Date,A(removeEventListener),R())},R=function(){if(r>=0&&r<o-x){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+r};s.forEach((function(t){t(e)})),s=[]}},O=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){I(e,t),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,C),removeEventListener("pointercancel",i,C)};addEventListener("pointerup",n,C),addEventListener("pointercancel",i,C)}(t,e):I(t,e)}},A=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,O,C)}))},$=[100,300],L=function(e,t){t=t||{},E((function(){var n,o=k(),a=h("FID"),u=function(e){e.startTime<o.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),n(!0))},l=function(e){e.forEach(u)},p=d("first-input",l);n=f(e,a,$,t.reportAllChanges),p&&g(v((function(){l(p.takeRecords()),p.disconnect()}))),p&&c((function(){var o;a=h("FID"),n=f(e,a,$,t.reportAllChanges),s=[],r=-1,i=null,A(addEventListener),o=u,s.push(o),R()}))}))},M=[2500,4e3],j={},D=function(e,t){t=t||{},E((function(){var n,i=k(),r=h("LCP"),o=function(e){var t=e[e.length-1];t&&t.startTime<i.firstHiddenTime&&(r.value=Math.max(t.startTime-l(),0),r.entries=[t],n())},s=d("largest-contentful-paint",o);if(s){n=f(e,r,M,t.reportAllChanges);var a=v((function(){j[r.id]||(o(s.takeRecords()),s.disconnect(),j[r.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,a,!0)})),g(a),c((function(i){r=h("LCP"),n=f(e,r,M,t.reportAllChanges),p((function(){r.value=performance.now()-i.timeStamp,j[r.id]=!0,n(!0)}))}))}}))}},88593:function(e){"use strict";e.exports=JSON.parse('{"_from":"axios@^0.21.1","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.1","name":"axios","escapedName":"axios","rawSpec":"^0.21.1","saveSpec":null,"fetchSpec":"^0.21.1"},"_requiredBy":["/kindle-fast-metrics-javascript-sdk"],"_resolved":"http://localhost:42407/tarballs/npm/axios/0.21.4/c67b90dc0568e5c1cf2b0b858c43ba28e2eda575%231","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.1","_where":"/local/p4clients/pkgbuild-const/workspace/src/KindleWebReaderLitbWebsite/node_modules/kindle-fast-metrics-javascript-sdk","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var i={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var r=2&t&&e;"object"==typeof r&&!~leafPrototypes.indexOf(r);r=getProto(r))Object.getOwnPropertyNames(r).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},__webpack_require__.d(n,i),n},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))},__webpack_require__.u=function(e){return"assets/"+({2214:"polyfills-core-js",6748:"polyfills-dom"}[e]||e)+"."+__webpack_require__.h()+".chunk.min.js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.h=function(){return"c775b52b33aa2626b270"},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},inProgress={},dataWebpackPrefix="@amzn/KindleWebReaderLitb:",__webpack_require__.l=function(e,t,n,i){if(inProgress[e])inProgress[e].push(t);else{var r,o;if(void 0!==n)for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var c=s[a];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==dataWebpackPrefix+n){r=c;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,__webpack_require__.nc&&r.setAttribute("nonce",__webpack_require__.nc),r.setAttribute("data-webpack",dataWebpackPrefix+n),r.src=e),inProgress[e]=[t];var u=function(t,n){r.onerror=r.onload=null,clearTimeout(l);var i=inProgress[e];if(delete inProgress[e],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((function(e){return e(n)})),t)return t(n)},l=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),o&&document.head.appendChild(r)}},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.p="/",function(){var e={1991:0};__webpack_require__.f.j=function(t,n){var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=r);var o=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(o,(function(n){if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var i,r,o=n[0],s=n[1],a=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)__webpack_require__.o(s,i)&&(__webpack_require__.m[i]=s[i]);a&&a(__webpack_require__)}for(t&&t(n);c<o.length;c++)r=o[c],__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunk_amzn_KindleWebReaderLitb=self.webpackChunk_amzn_KindleWebReaderLitb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__={};!function(){"use strict";__webpack_require__(66337),__webpack_require__(38264);var e="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e&&e,t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function p(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var n;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&(n=e)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(p)}),this.text=function(){var e,t,n,i=d(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,n=f(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=u(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){if(!(this instanceof y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,r=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(i=(n=t.method||this.method||"GET").toUpperCase(),m.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}})),t}function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];b.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var k=e.DOMException;try{new k}catch(e){(k=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),k.prototype.constructor=k}function E(t,n){return new Promise((function(r,s){var a=new y(t,n);if(a.signal&&a.signal.aborted)return s(new k("Aborted","AbortError"));var c=new XMLHttpRequest;function l(){c.abort()}c.onload=function(){var e,t,n={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}})),t)};n.url="responseURL"in c?c.responseURL:n.headers.get("X-Request-URL");var i="response"in c?c.response:c.responseText;setTimeout((function(){r(new b(i,n))}),0)},c.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){s(new k("Aborted","AbortError"))}),0)},c.open(a.method,function(t){try{return""===t&&e.location.href?e.location.href:t}catch(e){return t}}(a.url),!0),"include"===a.credentials?c.withCredentials=!0:"omit"===a.credentials&&(c.withCredentials=!1),"responseType"in c&&(i?c.responseType="blob":o&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof h?a.headers.forEach((function(e,t){c.setRequestHeader(t,e)})):Object.getOwnPropertyNames(n.headers).forEach((function(e){c.setRequestHeader(e,u(n.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",l),c.onreadystatechange=function(){4===c.readyState&&a.signal.removeEventListener("abort",l)}),c.send(void 0===a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=h,e.Request=y,e.Response=b);var S=__webpack_require__(67294),T=__webpack_require__(73935),C=__webpack_require__(50533),x=__webpack_require__(96915),I=__webpack_require__(45170),R=__webpack_require__(98087),O=__webpack_require__(78751),A=__webpack_require__(80505),$=__webpack_require__(84276),L=__webpack_require__(99377),M=__webpack_require__(53889),j=__webpack_require__(50308),D=__webpack_require__.n(j),N=__webpack_require__(99240),F=function(e){return function(t){27===t.keyCode&&e()}},B=function(e){return S.createElement(N.CSSTransition,{in:e.isVisible,mountOnEnter:!0,unmountOnExit:!0,timeout:500,classNames:"kw-modal-fade"},S.createElement("div",{className:"kw-modal-backdrop",onClick:(t=e.onHide,function(e){e.target===e.currentTarget&&t()}),onKeyUp:F(e.onHide),role:"region"},S.createElement("div",{className:(e.className||"")+" kw-modal-content",role:"dialog","aria-modal":"true"},S.createElement("header",{className:"kw-modal-header",id:"kw-modal-header"},S.createElement("h4",null,e.headerTitle)),S.createElement("section",{className:"kw-modal-body"},e.children))));var t},U=__webpack_require__(65907),z=__webpack_require__(47903),H=__webpack_require__(15258),V=__webpack_require__(69339),G=__webpack_require__(90268),W=__webpack_require__(37593),q=__webpack_require__(11096),Y=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},K=function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function X(e){return Y(this,void 0,void 0,(function(){return K(this,(function(t){return[2,new Promise((function(t,n){var i=document.createElement("script");i.src=e,i.async=!0,i.onload=function(){return t()},i.onerror=function(){return n()},document.body.appendChild(i)}))]}))}))}window.srsUrl="https://read.amazon.com/service";var Z,J,Q,ee=void 0,te=function(){return ee},ne=function(e){return X("https://d277vvipc9k5jy.cloudfront.net/assets/global.dcbbc8f21775dd0c513e.min.js").then((function(){ee=e}))},ie=function(e){return Y(void 0,void 0,void 0,(function(){var t,n,i;return K(this,(function(r){return window.KindleRenderer?(ee="Success",[2,Promise.resolve()]):e?(ee="Skipped",[2,Promise.resolve()]):(t=window.document.querySelector('script[src*="cloudfront.net/assets/global"]'),n=null==t?void 0:t.getAttribute("src"),null===(i=null==t?void 0:t.parentElement)||void 0===i||i.removeChild(t),n?[2,X(n).then((function(){if(ee="Retried",!window.KindleRenderer)throw Error("Retry failed")})).catch((function(){return ne("RetryFailed")})).catch((function(){ee="Failed"}))]:(ne("NoScript"),[2]))}))}))},re=__webpack_require__(95840),oe=__webpack_require__(27401),se=function(e){return null!==e&&e.showErrorDialog},ae=(0,C.connect)((function(e){return{appType:e.appState.appType,asin:e.appState.asin,revisionId:e.appState.revisionId,renderType:e.appState.renderType,interactionManager:e.appState.interactionManager}}),(function(e){return{setShowErrorModal:function(t){return e((0,M.setShowErrorModal)(t))}}}))((function(e){var t,n=(0,z.useLitbTranslation)().getLitbTranslation,i=(0,H.useKatalLogger)(),r=(0,S.useRef)(null);if((0,S.useEffect)((function(){var t=se(e.error);Promise.resolve().then(__webpack_require__.bind(__webpack_require__,37593)).then((function(n){var r,o,s=t?U.ERROR_POPUP:U.DEGRADED_EXPERIENCE;if(n.recordCountMetric(s),e.error){var a=t?"LITB Error Modal":"Degraded Experience";i.error("\n             "+a+" Shown for\n              ASIN: ["+e.asin+"],\n              RevisionId: ["+e.revisionId+"],\n              RenderType: ["+e.renderType+"],\n              URL: ["+window.location.href+"]\n          ",null===(r=e.error)||void 0===r?void 0:r.error,(0,G.buildContextForCloudWatchLog)(e.error,e.asin?e.asin:"",t?{lastRequests:(0,G.getRecentNetworkRequests)(),stuccoInitialization:null!==(o=te())&&void 0!==o?o:"Unknown",timeSinceLoadMs:Date.now()-(0,G.getPageLoadTimestamp)(),timeSinceOpenMs:Date.now()-(0,G.getLitbOpenTimestamp)(),bookInformation:re.store.getState().litbBook.bookInformation}:{}))}})),t&&(e.setShowErrorModal(!0),r.current&&r.current.focus())}),[e.error]),!se(e.error))return null;var o=e.error.errorDialogDetails,s=n("kw-litb-error-modal-message")||"Sorry, there was a problem loading this page.",a=n("kw-litb-error-modal-retry")||"Try again",c=n("kw-litb-error-modal-store")||"Go back to Store";return S.createElement(B,{className:"kw-litb-error-modal",headerTitle:"",isVisible:!0,onHide:D()},S.createElement("div",{className:"kw-litb-error-image"},S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 50 50"},S.createElement("g",{transform:"translate(1 1)"},S.createElement("path",{stroke:"#000",d:"M24,0.4 C10.9867187,0.4 0.4,10.9867187 0.4,24 C0.4,37.0132813 10.9867187,47.6 24,47.6 C37.0132813,47.6 47.6,37.0132813 47.6,24 C47.6,10.9867187 37.0132813,0.4 24,0.4 Z M24,46.8 C11.428125,46.8 1.2,36.571875 1.2,24 C1.2,11.428125 11.428125,1.2 24,1.2 C36.571875,1.2 46.8,11.428125 46.8,24 C46.8,36.571875 36.571875,46.8 24,46.8 Z"}),S.createElement("path",{d:"M22.8640626 34.839463C22.5757813 35.14689 22.4 35.5662519 22.4 35.985614 22.4 36.422318 22.5757813 36.8259145 22.8640626 37.131765 23.1679688 37.439192 23.5835938 37.6 24 37.6 24.415625 37.6 24.8320312 37.439192 25.1359374 37.131765 25.4234374 36.8259145 25.6 36.422318 25.6 35.985614 25.6 35.5662521 25.4234374 35.1468902 25.1359374 34.856805 24.5437501 34.241951 23.4554688 34.259293 22.8640626 34.839463zM24 30.34375C24.4421875 30.34375 24.8 30.1648438 24.8 29.94375L24.8 12.4C24.8 12.1789062 24.4421875 12 24 12 23.5578125 12 23.2 12.1789062 23.2 12.4L23.2 29.94375C23.2 30.1648438 23.5578125 30.34375 24 30.34375z"})))),S.createElement("div",{ref:r,className:"kw-litb-error-message",tabIndex:0},s),S.createElement("div",{className:"kw-litb-error-footer"},o.retriable&&S.createElement("span",{id:"errorDialogRetry",className:"kw-button kw-button-primary kw-row",onClick:function(){"mobile"!==e.appType&&(0,oe.isInIframe)()?(0,V.reload)():window.location.reload()},role:"button"},S.createElement("span",{className:"kw-button-inner"},S.createElement("input",{className:"kw-button-input",type:"submit","aria-labelledby":"errorDialogRetry-announce"}),S.createElement("span",{id:"errorDialogRetry-announce",className:"kw-button-text kw-litb-error-modal-button-text kw-text-center","aria-hidden":"true"},a))),S.createElement("span",{id:"errorDialogSeeInKinStore",className:"kw-button kw-row"},S.createElement("span",{className:"kw-button-inner"},S.createElement("a",{href:e.kindleStoreLink,target:"_parent",rel:"noreferrer noopener",className:"kw-button-text kw-text-center kw-litb-error-modal-button-text",id:"error-modal-kindle-store-link",role:"button",onClick:null===(t=e.interactionManager)||void 0===t?void 0:t.goBack},c)))))})),ce=__webpack_require__(86379),ue=__webpack_require__(79634),le=__webpack_require__(1085),he=__webpack_require__(80142),de=__webpack_require__(35807),fe=__webpack_require__(58484),pe=__webpack_require__(84550),ge=__webpack_require__(14705),ve=__webpack_require__(49034),me=__webpack_require__(82272),ye=__webpack_require__(85856),we=__webpack_require__(95880),be=!0,_e=__webpack_require__(9731),ke=__webpack_require__(63721),Ee=__webpack_require__(20247),Se=__webpack_require__(91428),Te=__webpack_require__(5130),Pe=__webpack_require__(82182),Ce=(0,C.connect)((function(e){return{bookInformation:e.litbBook.bookInformation,printTokenProvider:e.renderer.printTokenProvider,renderedBookMetadata:e.renderer.renderedBookMetadata}}))((function(e){var t=e.children,n=e.printTokenProvider,i=e.bookInformation,r=e.renderedBookMetadata,o=(0,Te.useAnnotations)(),s=(0,z.useLitbTranslation)().getLitbTranslation,a=n&&i&&r&&{printTokenProvider:n,bookInformation:i,setAnnotationsFetcherCallback:o.setFetchSearchAnnotationsCallback,bookMetadata:r,translate:s};return S.createElement(Pe.SearchProvider,{searchServiceProperties:a},t)})),xe=__webpack_require__(13135),Ie=__webpack_require__(62963),Re=__webpack_require__(42105),Oe=S.lazy((function(){return(0,ge.retry)((function(){return Promise.all([__webpack_require__.e(7862),__webpack_require__.e(9424),__webpack_require__.e(7601),__webpack_require__.e(5838)]).then(__webpack_require__.bind(__webpack_require__,65838)).then((function(e){return{default:e.ConnectedReaderUiDesktop}}))}))})),Ae=S.lazy((function(){return(0,ge.retry)((function(){return Promise.all([__webpack_require__.e(7862),__webpack_require__.e(2541),__webpack_require__.e(7601),__webpack_require__.e(4247),__webpack_require__.e(5739)]).then(__webpack_require__.bind(__webpack_require__,95739)).then((function(e){return{default:e.ConnectedReaderUiMobile}}))}))})),$e=function(e){x.isIOS()?e&&e.scale&&e.scale>1&&e.preventDefault():(e&&e.touches&&e.touches.length>1||e.ctrlKey||e.type.indexOf("gesture")>=0)&&e.preventDefault()},Le=__webpack_require__(48361),Me=(0,C.connect)((function(e,t){return{asin:e.appState.asin,bookCardInitialized:e.bookCard.initialized,bookOpen:e.litbBook.bookOpen,coverImageLoaded:e.litbBook.coverImageLoaded,initTime:e.appState.initTime||t.initTime,isBookOfferLoaded:!!e.buyBox.bookOffer,litbBook:e.litbBook.litbBook,productAsin:e.appState.productAsin,renderType:e.appState.renderType,revisionId:e.appState.revisionId}}),(function(e){return{setAppType:function(t){return e((0,Le.setAppType)(t))},setAsin:function(t){return e((0,Le.setAsin)(t))},setBookContent:function(t){return e((0,he.setBookContent)(t))},setCoverImageLoaded:function(t){return e((0,he.setCoverImageLoaded)(t))},setInteractionManager:function(t){return e((0,Le.setInteractionManager)(t))},setNumberOfPages:function(t){return e((0,he.setNumberOfPages)(t))},setPageLabelSet:function(t){return e((0,he.setPageLabelSet)(t))},setProductAsin:function(t){return e((0,Le.setProductAsin)(t))},setRenderType:function(t){return e((0,Le.setRenderType)(t))},setRevisionId:function(t){return e((0,Le.setRevisionId)(t))},setFontSizeIndex:function(t){return e((0,de.setFontSizeIndex)(t))}}}))((function(e){var t=(0,S.useState)(!1),n=t[0],i=t[1],r=(0,S.useState)(!1),o=r[0],s=r[1],a=(0,z.useLitbTranslation)().setTextDirection,c=(0,S.useRef)(new Map).current,u=(0,S.useState)(!1),l=u[0],h=u[1],d=(0,S.useState)(1),f=d[0],p=d[1],g=function(e,t){var n=(0,S.useState)(null),i=n[0],r=n[1],o=(0,C.useDispatch)(),s=(0,C.useSelector)((function(e){return e.buyBox.bookOffer}));(0,S.useEffect)((function(){e&&void 0!==window.P&&P.when("mash").execute((function(e){r(e);var t=document.querySelector("body");null!==t&&t.classList.add("mshop-litb"),document.addEventListener("visibilitychange",(function(){"visible"!==document.visibilityState||be||(be=!0,e.requestFullscreen({failCallback:function(){return be=!1}}))}))}))}),[e]);var a=(0,S.useCallback)((function(){return new Promise((function(n,r){if(e&&s&&s.secondaryCsrfToken&&s.secondaryActionId&&i){var o=ye.getRefTag(t,ye.getRefTagMethodForCTAButton(s.secondaryActionType));i.cancelFullscreen({successCallback:function(){me.postAcquisitionAction(s.glideClientId,s.acquisitionUrl,s.secondaryCsrfToken||"",s.secondaryActionId||"",o,me.OfferActionType.SAMPLE),setTimeout((function(){return be=!1}),500),n()},failCallback:r})}else r()}))}),[e,s,i]),c=(0,S.useCallback)((function(){return e&&(null==s?void 0:s.offerListingId)?me.addToCart(e,s.offerListingId,!0).then((function(e){e.isSuccessful&&(o((0,we.setProceedToCheckoutMetadata)(e)),i&&i.cart.didUpdate({newCartQuantity:e.numberOfItemsInCart}))})):Promise.reject()}),[e,null==s?void 0:s.offerListingId,i]),u=(0,S.useCallback)((function(){return new Promise((function(n,r){if(e&&s&&i){var o=ye.getRefTag(t,ye.getRefTagMethodForCTAButton(s.actionType,s.actionProgramCode));i.cancelFullscreen({successCallback:function(){me.postAcquisitionAction(s.glideClientId,s.acquisitionUrl,s.csrfToken,s.actionId,o),setTimeout((function(){return be=!1}),500),n()},failCallback:r})}else r()}))}),[e,s,i]),l=(0,S.useCallback)((function(e,t){i&&(null==t||t.preventDefault(),i.cancelFullscreen({successCallback:function(){i.navigate({url:e,successCallback:function(){setTimeout((function(){return be=!1}),1e3)}})}}))}),[i]),h=(0,S.useCallback)((function(){var n=function(e,t){i?i.canLaunchIntentURL({url:e,successCallback:function(n){return n?i.launchIntentURL({url:e,failCallback:t}):t()}}):t()},r=ye.getRefTag(t,"kb");return new Promise((function(t,o){e&&i?i.cancelFullscreen({successCallback:function(){n(ve.getKindleAppURL(e),(function(){return n(ve.getKindleLiteAppURL(e),(function(){i.openInExternalBrowser({url:ve.getAppDownloadURL(r),failCallback:o})}))})),be=!1,t()},failCallback:o}):o()}))}),[e,i]),d=(0,S.useCallback)((function(){return new Promise((function(e,t){i?i.showLoginDialog({successCallback:function(){e()},failCallback:t}):t()}))}),[i]);if(i)return{addSample:a,addToCart:c,anchorOnClick:function(e){return function(t){return l(e,t)}},buyNow:u,goBack:function(e){return function(e,t){e&&(null==t||t.preventDefault(),e.cancelFullscreen({successCallback:function(){return e.goBack()}}))}(i,e)},openExternalLink:function(e){return t=e,void((n=i)&&n.openInExternalBrowser({url:t}));var t,n},openKindleApp:h,showLoginDialog:d}}(e.asin,"litb"),v=(0,Ie.useFastMetricsManager)();!function(e,t){var n=(0,C.useSelector)((function(e){return e.appState.asin})),i=(0,C.useSelector)((function(e){return e.appState.productAsin})),r=(0,C.useSelector)((function(e){return e.appState.renderType})),o=(0,C.useSelector)((function(e){return e.appState.appType}))||"desktop",s=(0,C.useDispatch)(),a=(0,fe.useAsinWeblab)().registerNewAsin;(0,S.useEffect)((function(){if(n&&r){var c=(0,q.getCurrentMetrics)(t,n,r);c.startOperation(q.RendererOperation.API_METADATA);var u=i||n;(0,ce.fetchLitbBookData)(u,n,e,o).then((function(e){null!=n&&(e.asin=n),e.kindleRelatedEditionInfo&&e.kindleRelatedEditionInfo.asin&&e.kindleRelatedEditionInfo.kv3Eligibility&&a(e.kindleRelatedEditionInfo.asin,e.kindleRelatedEditionInfo.kv3Eligibility),s((0,he.setLitbBook)(e)),s((0,de.setShowUpsellWidget)((0,ce.shouldShowUpsellWidget)(e))),c.recordSuccess(q.RendererOperation.API_METADATA,!0)})).catch((function(){c.recordSuccess(q.RendererOperation.API_METADATA,!1),c.recordError(q.RendererOperation.API_METADATA)})).finally((function(){c.stopOperation(q.RendererOperation.API_METADATA)}))}}),[n,i,r])}(e.locale,c),function(e,t){var n=(0,C.useSelector)((function(e){return!(0,V.leftOriginalProduct)()&&e.appState.productAsin||e.appState.asin})),i=(0,C.useSelector)((function(e){return e.appState.purchaseCompleted})),r=(0,C.useSelector)((function(e){return e.appState.renderType})),o=(0,C.useDispatch)();(0,S.useEffect)((function(){var i=!1;if(n&&r){var s=(0,q.getCurrentMetrics)(t,n,r);s.startOperation(q.RendererOperation.LOADED_BUY_BOX),(0,xe.fetchBuyBoxData)(n,e).then((function(e){i||(o((0,we.setBookOffer)(e)),s.recordSuccess(q.RendererOperation.LOADED_BUY_BOX,!0))})).catch((function(e){i||((0,ke.handleError)("BuyBoxLoadingError",new Error("Failed to load the buy box. Error name: "+e.name+". Error message: "+e.message)),s.recordSuccess(q.RendererOperation.LOADED_BUY_BOX,!1),s.recordError(q.RendererOperation.LOADED_BUY_BOX))})).finally((function(){return i||s.stopOperation(q.RendererOperation.LOADED_BUY_BOX)}))}return function(){i=!0}}),[n,r,i])}(e.locale,c),function(e,t){var n=(0,C.useSelector)((function(e){return e.appState.asin})),i=(0,C.useSelector)((function(e){return e.appState.renderType})),r=(0,C.useSelector)((function(e){return e.litbBook.bookOpen})),o=(0,C.useDispatch)(),s=(0,fe.useAsinWeblab)().registerNewAsin;(0,S.useEffect)((function(){if(n&&r&&i){var a=(0,q.getCurrentMetrics)(t,n,i);a.startOperation(q.RendererOperation.RECOMMENDATION_SHOVELER_ITEM_LOADED),function(e,t,n,i,r){var o=new URL(""+window.location.origin+Se.recommendationURL+"/"+e);return n&&o.searchParams.append("max",n.toString()),i&&o.searchParams.append("locale",i),r&&o.searchParams.append("clientId",r),(0,Ee.getRequest)(o.href).then((function(e){return e.json()})).then((function(e){return Promise.resolve(e)}))}(n,0,pe.DEFAULT_RECS_SHOVELER_LIMIT,e,(0,ge.getClientIdFromUrl)()).then((function(e){a.recordSuccess(q.RendererOperation.RECOMMENDATION_SHOVELER_ITEM_LOADED,!0),e.recsSamplesInfo&&e.recsSamplesInfo.forEach((function(e){e.asin&&e.kv3Eligibility&&s(e.asin,e.kv3Eligibility)})),a.recordSuccess(q.RendererOperation.RECOMMENDATION_SHOVELER_ITEM_LOADED,!0),o((0,he.setRecommendationsData)(e))})).catch((function(){(0,ke.handleError)("SampleRecommendationsLoadingError",new Error("Failed to load the recommendations")),a.recordSuccess(q.RendererOperation.RECOMMENDATION_SHOVELER_ITEM_LOADED,!1),a.recordError(q.RendererOperation.RECOMMENDATION_SHOVELER_ITEM_LOADED)})).finally((function(){a.stopOperation(q.RendererOperation.RECOMMENDATION_SHOVELER_ITEM_LOADED)}))}}),[n,r,i,e])}(e.locale,c),function(e,t){var n=(0,C.useSelector)((function(e){return e.appState.asin})),i=(0,C.useSelector)((function(e){return e.appState.revisionId})),r=(0,C.useSelector)((function(e){return e.appState.renderType})),o=(0,C.useSelector)((function(e){return e.litbBook.bookOpen})),s=(0,C.useSelector)((function(e){return e.litbBook.bookInformation})),a=(0,C.useDispatch)();(0,S.useEffect)((function(){var e=function(e,t){var n=void 0;return e&&e===ce.LITB_RENDER_TYPE.YJHTML?n="YJBinary":e&&e===ce.LITB_RENDER_TYPE.Stucco&&(n=null==t?void 0:t.format),n}(r,s);if(null!==i&&0!==(null==i?void 0:i.length)||(i=null==s?void 0:s.revision),n&&i&&e&&o&&r){var c=(0,q.getCurrentMetrics)(t,n,r);c.startOperation(q.RendererOperation.KCMS_METADATA_LOAD),function(e,t,n){var i=Se.kcmsMetadataURL+"/"+e+"?revision="+t+"&format="+n;return(0,Ee.getRequest)(i,{},!1).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return(0,ke.handleError)(e),Promise.reject(e)}))}(n,i,e).then((function(e){JSON.stringify(e),a((0,he.setContentKCMSMetadata)(e)),c.recordSuccess(q.RendererOperation.KCMS_METADATA_LOAD,!0)})).catch((function(e){(0,ke.handleError)("KCMSMetadataLoadingError",new Error("Failed to load the kcms metadata. Error name: "+e.name+". Error message: "+e.message)),c.recordSuccess(q.RendererOperation.KCMS_METADATA_LOAD,!1),c.recordError(q.RendererOperation.KCMS_METADATA_LOAD)})).finally((function(){c.stopOperation(q.RendererOperation.KCMS_METADATA_LOAD)}))}}),[s,o])}(e.locale,c),(0,S.useEffect)((function(){e.interactionManager?e.setInteractionManager(e.interactionManager):g&&e.setInteractionManager(g)}),[e.interactionManager,g]),(0,S.useEffect)((function(){e.setAppType(e.appType)}),[e.appType]),(0,S.useEffect)((function(){var t=(0,ge.getInitialLitbData)(e.asin,e.revisionId,e.renderType),n=t.asin,i=t.revisionId,r=t.format;return e.setAsin(n),e.setRenderType(r),e.setRevisionId(i),p(e.reopenCounter),document.addEventListener("touchstart",$e,{passive:!1}),document.addEventListener("gesturestart",$e,{passive:!1}),document.addEventListener("gesturechange",$e,{passive:!1}),document.addEventListener("wheel",$e,{passive:!1}),function(){document.removeEventListener("touchstart",$e),document.removeEventListener("gesturestart",$e),document.removeEventListener("gesturechange",$e),document.removeEventListener("wheel",$e)}}),[e.reopenCounter]),(0,S.useEffect)((function(){e.reopenCounter>f&&(m(e.renderType),p(e.reopenCounter))}),[e.reopenCounter,e.renderType]),(0,S.useEffect)((function(){if(e.asin&&e.renderType){var t=e.asin,n=e.renderType,i=(0,q.getCurrentMetrics)(c,t,n);i.startOperation(q.RendererOperation.INITIAL_RENDER),i.startOperation(q.RendererOperation.FIRST_FULL_RENDER),i.startOperation(q.RendererOperation.PRELOAD_METADATA),e.setAppType(e.appType),e.setProductAsin((0,ge.getProductAsinFromUrl)()),m(e.renderType),y(e.renderType),a(O.getTextDirectionFromLocale(e.locale)),i.stopOperation(q.RendererOperation.INITIAL_RENDER),e.renderType===ce.LITB_RENDER_TYPE.Stucco&&e.setFontSizeIndex(Re.STUCCO_INDEX_OF_FONT_SIZE_ARRAY_DEFAULT)}}),[e.asin]);var m=function(e){s(!0),null!==e&&(0,W.recordCountMetric)((0,W.getSuccessMetricName)((0,q.getMetricName)(q.RendererOperation.COVER_SHOWN,e)),1)},y=function(e){var t=(0,ge.getClientIdFromUrl)().toUpperCase()||_e.DEFAULT_CLIENT_ID;if(null!==e){var n=(0,W.getClientIdMetricName)((0,q.getMetricName)(q.RendererOperation.BOOK_OPEN,e),t);(0,W.recordCountMetric)(n,1)}},w=function(){return document.getElementsByClassName("kw-litb-error-modal").length>0};(0,S.useEffect)((function(){h(!1)}),[e.asin,e.productAsin]);var b,_=function(t){s(!1),(0,W.recordTimeMetricFromCustomStartTime)((0,W.getLatencyMetricName)((0,q.getMetricName)(q.RendererOperation.COVER_SHOWN,t)),e.initTime||0)};return(0,S.useEffect)((function(){if(!w()&&(e.litbBook&&e.isBookOfferLoaded&&("desktop"===e.appType||e.bookCardInitialized)||e.bookOpen)&&e.renderType&&o){if(e.renderType===ce.LITB_RENDER_TYPE.Stucco&&(0,le.disableContentForAccessibleUsers)(),e.bookOpen){n=e.renderType,-1===(r=(0,W.computeTimeMetricFromCustomStartTime)(e.initTime||0))||pe.MIN_COVER_APPEAR-r<=0?_(n):setTimeout((function(){(0,W.recordCountMetric)((0,W.getSuccessMetricName)((0,q.getMetricName)(q.RendererOperation.BOOK_OPEN_LESS_THAN_COVER,n)),1),_(n)}),pe.MIN_COVER_APPEAR-r),i(!0);var t=(0,W.computeTimeMetricFromCustomStartTime)(e.initTime||0);l||(0,W.recordTimeMetric)((0,W.getLatencyMetricName)((0,q.getMetricName)(q.RendererOperation.BOOK_OPEN,e.renderType)),t)}"mobile"===e.appType&&(0,W.recordTimeMetricFromNavigationStart)((0,W.getLatencyMetricName)((0,q.getMetricName)(q.RendererOperation.BOOK_CARD_OPEN,e.renderType)))}var n,r}),[e.litbBook,e.initTime,e.isBookOfferLoaded,e.bookCardInitialized,e.bookOpen,e.asin,e.productAsin,o]),(0,S.useEffect)((function(){var e=function(){w()?(0,W.recordTimeMetricFromNavigationStart)(ue.default.LITB_UNLOAD_READER_ERROR_SHOWN):n?(0,W.recordTimeMetricFromNavigationStart)(ue.default.LITB_UNLOAD_READER_BOOK_LOADED):(0,W.recordTimeMetricFromNavigationStart)(ue.default.LITB_UNLOAD_READER_BOOK_NOT_LOADED)};return window.addEventListener("unload",e),function(){window.removeEventListener("unload",e)}}),[n]),(0,S.useEffect)((function(){var e=function(){v.closeBook()};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[]),S.createElement(Te.AnnotationsProvider,null,S.createElement(Ce,null,function(){var t,n=e.asin||e.initAsin;if(n){var i=x.getWindowHeight(),r=(t=n,"https://m.media-amazon.com/images/P/%s.01._SCLZZZZZZZ_SX500_.jpg".replace("%s",t)).replace(/_SY(\d+)_/,"_SY"+i+"_");return S.createElement(N.CSSTransition,{in:o,timeout:300,classNames:"cover-image-container"},S.createElement("div",{id:"coverImageContainer","aria-hidden":"true",className:"cover-image-container"},S.createElement("div",{id:"coverImageContent"},S.createElement("img",{id:"coverImage",src:r,alt:"",key:r}))))}return null}(),e.asin&&e.renderType&&((b=e.renderType)===ce.LITB_RENDER_TYPE.Stucco||b===ce.LITB_RENDER_TYPE.YJHTML||b===ce.LITB_RENDER_TYPE.FixedFormatImage||b===ce.LITB_RENDER_TYPE.YJ)?"desktop"===e.appType?S.createElement(S.Suspense,{fallback:S.createElement("div",null)},S.createElement(Oe,{showingCoverImage:o,initAsin:e.initAsin})):S.createElement(S.Suspense,{fallback:S.createElement("div",null)},S.createElement(Ae,{showingCoverImage:o,initAsin:e.initAsin})):null))})),je=__webpack_require__(72215),De=function(e,t){!e&&t?(0,V.setSampleDepth)(t+1):e&&!t?(0,V.setSampleDepth)(1):e&&t&&(e<t?(0,V.setSampleDepth)(t-1):e>t&&(0,V.setSampleDepth)(t+1))},Ne=__webpack_require__(36114),Fe=(0,C.connect)((function(e){return{asin:e.appState.asin,renderType:e.appState.renderType,revisionId:e.appState.revisionId}}),(function(e){return{setAsin:function(t){return e((0,Le.setAsin)(t))},setRenderType:function(t){return e((0,Le.setRenderType)(t))},setRevisionId:function(t){return e((0,Le.setRevisionId)(t))},reinitializeLitb:function(t){return e((0,Ne.reinitialize)(t))},setBookInformation:function(t){return e((0,he.setBookInformation)(t))}}}))((function(e){(0,S.useEffect)((function(){return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}}),[e.asin,e.revisionId,e.renderType]);var t=(0,S.useCallback)((function(t,n,i){e.setRevisionId(i),e.setRenderType(n),e.setAsin(t),(0,je.bookInformationFactory)(t,n,i).then((function(t){e.setBookInformation(t)})).catch(ke.handleErrors)}),[]);(0,S.useEffect)((function(){e.initAsin&&e.initRenderType&&(e.initAsin===e.asin&&e.initRenderType===e.renderType&&e.initRevisionId===e.revisionId||e.reinitializeLitb(),t(e.initAsin,e.initRenderType,e.initRevisionId||""))}),[e.initAsin,e.initRenderType,e.initRevisionId,e.reopenCounter]);var n=function(n){if("string"==typeof n.data&&(0,V.isValidJson)(n.data)){var i=JSON.parse(n.data);if(i.command===V.MessageCommands.UPDATE_LITB){var r=i.search?i.search:"",o=new URLSearchParams(r),s=o.get("asin");if(s){var a=parseInt(o.get("format")||"2",10),c=o.get("revisionId")||"",u=parseInt(o.get("depth")||"0");e.asin!==s||e.revisionId!==c||e.renderType!==a?(e.reinitializeLitb(Date.now()),t(s,a,c),De(u,(0,V.getSampleDepth)())):(0,V.getSampleDepth)()||De(u,(0,V.getSampleDepth)())}else(0,V.clearSampleDepth)(),window.parent.postMessage((0,V.createMessage)(V.MessageCommands.CLOSE_LITB),(0,V.getTargetOrigin)())}}};return S.createElement(S.Fragment,null,e.children)})),Be=__webpack_require__(49868),Ue=(0,C.connect)((function(e){return{asin:e.appState.asin}}))(fe.AsinWeblabProvider),ze=function(e){var t,n,i,r,o=(r=I.getAsinFromUrl(),new URL("https://"+(0,R.getMarketplace)().storeLink+r)),s=(0,S.useState)(null),a=s[0],c=s[1];t=$.default.ErrorEvent.Error,n=function(e){c(e.detail)},void 0===i&&(i=[]),(0,S.useEffect)((function(){return A.EventManager.registerEventListener(t,n),function(){A.EventManager.deregisterEventListener(t,n)}}),i),(0,S.useEffect)((function(){var t=document.querySelector("body");null!==t&&"desktop"===e.appType&&t.classList.add("desktop-litb")}),[]);var u=O.getLocaleFromUrlOrCookie();return"he_IL"===u&&"desktop"===e.appType&&(u="en_US"),(0,S.useEffect)((function(){document.documentElement.lang=O.getLangFromLocale()}),[]),S.createElement(Ue,{initAsin:e.asin},S.createElement(Fe,{reopenCounter:e.reopenCounter,initAsin:e.asin,initRenderType:e.renderType,initRevisionId:e.revisionId},S.createElement(L.LitbTranslationProvider,{locale:u},S.createElement(Be.LastPositionReadProvider,null,S.createElement(Me,{appType:e.appType,interactionManager:e.interactionManager,reopenCounter:e.reopenCounter,initAsin:e.asin,initTime:e.clickTime,locale:u})),S.createElement(ae,{error:a,kindleStoreLink:o.toString()}))))},He=__webpack_require__(37602),Ve=__webpack_require__(96486),Ge=function(){return Ge=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ge.apply(this,arguments)},We=document.getElementsByTagName("body")[0],qe=function(e){var t=450,n=(0,S.useState)(window.innerWidth<t),i=n[0],r=n[1],o=(0,S.useState)(window.innerWidth),s=o[0],a=o[1],c=(0,Ve.throttle)((function(){var e,n,i=window.innerWidth,o=i<t;(s>t&&i<=t||s<=t&&i>t)&&(r(o),e=o,n=We.classList,e?(n.add("mobile-litb","resized-desktop-litb"),n.remove("desktop-litb")):(n.add("desktop-litb"),n.remove("mobile-litb","resized-desktop-litb"))),a(i)}),300);return(0,S.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[c]),S.createElement(ze,Ge({appType:i?"mobile":"desktop",reopenCounter:e.reopenCounter||1},e.initializationData))},Ye=function(){return Ye=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ye.apply(this,arguments)};Q=document.getElementById("assetsCfUrl"),__webpack_require__.p=Q?Q.getAttribute("data-assets-cf-url")+"/":"/";var Ke=Promise.resolve().then(__webpack_require__.bind(__webpack_require__,72215)),Xe=Promise.resolve().then(__webpack_require__.bind(__webpack_require__,80142)),Ze=function(e,t,n){return Ke.then((function(i){return(0,i.bookInformationFactory)(e,t,n)})).catch(ke.handleErrors)},Je=0,Qe=!1;window.addEventListener("DOMContentLoaded",(function(){var e=(0,ge.getInitialLitbData)(),t=e.asin,n=e.revisionId,i=e.format;(0,V.getSampleDepth)()||Ze(t,i,n)})),window.addEventListener("message",(function(e){var t=e.data,n=window.location!==window.parent.location?document.referrer:document.location.href;if("string"==typeof t&&(0,V.isValidJson)(t)&&0===n.indexOf(e.origin)){var i=JSON.parse(t);if(i.command===V.MessageCommands.INITIALIZE_LITB){i.newSession&&(0,V.clearSampleDepth)(),window.sessionStorage&&window.sessionStorage.setItem("targetOrigin",document.referrer),Je++;var r=Ye(Ye({},(0,ge.getInitialLitbData)()),{clickTime:i.time||0});window.LitbInitializer.initReader(r),new URLSearchParams(i.search).get("asin")||((0,V.updateHash)(r.asin,r.revisionId,r.format),(0,V.setSampleDepth)(1))}else i.command===V.MessageCommands.READY_LITB&&(Qe=!0)}}),!1),(0,oe.isInIframe)()||window.addEventListener("popstate",V.handlePopState,!1);var et=0,tt=function(){var e,t;if(et++,Qe)return window.parent.postMessage((0,V.createMessage)(V.MessageCommands.READY_LITB),(0,V.getTargetOrigin)()),void(0,W.recordTimeMetric)(ue.default.LITB_DPX_HANDSHAKE_TIME,null===(t=null===(e=window.performance)||void 0===e?void 0:e.now)||void 0===t?void 0:t.call(e));et>20?(0,W.recordCountMetric)(ue.default.IFRAME_HANDSHAKE_FAILED,1):setTimeout(tt,100)};tt(),window.LitbInitializer={initReader:function(e){var t,n;(e||(0,ge.isDebug)()||(0,ge.openApp)())&&((0,He.triggerWeblab)(He.Weblabs.BOOKS_LITB_ASSETS_LATENCY_745921),(0,G.setLitbOpenTimestamp)(),(0,G.buildRumConfiguration)(),(0,W.recordCountMetric)(ue.default.LITB_DESKTOP_INTIALIZED,1),(n=(null!==(t=null==e?void 0:e.renderType)&&void 0!==t?t:ce.LITB_RENDER_TYPE.Stucco)!==ce.LITB_RENDER_TYPE.Stucco,void 0===n&&(n=!1),Y(void 0,void 0,void 0,(function(){return K(this,(function(e){return[2,ie(n).then((function(){return(0,W.recordCountMetric)(q.RendererOperation.STUCCO_SCRIPT_INITIALIZATION+te(),1)}))]}))}))).finally((function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,95840)).then((function(t){var n,i=t.store;(0,ke.registerGlobalErrorHandlers)(),(n=document.getElementById("kwrpInitialLoadingSpinner"))&&(n.style.display="none"),x.adjustHeight();var r,o=(0,ge.getInitialLitbData)(null==e?void 0:e.asin,null==e?void 0:e.revisionId,null==e?void 0:e.renderType),s=o.asin,a=o.revisionId,c=o.format;r={asin:s,revisionId:a,format:c,depth:1},(0,oe.isInIframe)()||((0,V.getSampleDepth)()?(0,V.handlePopState)():((0,V.replaceHistoryHash)(r),(0,V.setSampleDepth)(1))),Ze(s,c,a).then((function(e){return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){return function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return Xe.then((function(t){var n=t.setBookInformation;Promise.resolve().then(__webpack_require__.bind(__webpack_require__,95840)).then((function(t){t.store.dispatch(n(e))}))})),[2]}))}))}));var u=Ye(Ye({},e),{asin:s,revisionId:a,renderType:c});(0,T.render)(S.createElement(C.Provider,{store:i},S.createElement(qe,{appType:"desktop",reopenCounter:Je,initializationData:u})),document.getElementById("reader"))}))})))}},(0,W.recordTimeMetric)(ue.default.LITB_ASSETS_LOAD_TIME,null===(J=null===(Z=window.performance)||void 0===Z?void 0:Z.now)||void 0===J?void 0:J.call(Z))}()})();